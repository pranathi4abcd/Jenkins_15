(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{rKr6:function(e,t,i){"use strict";i.r(t),i.d(t,"DownloadReportsModule",function(){return H});var s=i("ofXK"),o=i("tyNb"),n=i("CwUn"),r=i("Nach"),l=i("fXoL"),a=i("dcBc"),c=i("ReGW"),d=i("NLkC"),p=i("PtJb"),h=i("rEr+"),m=i("7zfz"),b=i("AAHA"),g=i("arFO"),u=i("3Pt+"),y=i("eO1q"),S=i("V5BG"),f=i("7kUa"),C=i("jIHw");const I=["dt"],D=["filtr"],R=["calendar"];function v(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",7),l.Yb(1,"div",17),l.Yb(2,"app-center-dropdown",18),l.ic("onselectedClinic",function(t){return l.Lc(e),l.mc().onselectedClinic(t)}),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(2),l.tc("ClinicIdSelected",e.ClinicIdSelected)("isCenterAll",e.isCenterAll)("mode","get")}}const M=function(){return{width:"100%"}},P=function(){return{standalone:!0}};function Y(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",19),l.Yb(1,"div",17),l.Yb(2,"label",20),l.Uc(3,"Select Year "),l.Xb(),l.Yb(4,"p-dropdown",21),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().year=t}),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(4),l.Pc(l.yc(5,M)),l.tc("options",e.stlstYear)("ngModel",e.year)("ngModelOptions",l.yc(6,P))}}function w(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",19),l.Yb(1,"div",17),l.Yb(2,"label",20),l.Uc(3,"Select Category "),l.Xb(),l.Yb(4,"p-dropdown",22),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().selectedItemCatg=t}),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(4),l.Pc(l.yc(5,M)),l.tc("options",e.lstCategoryMaster)("ngModel",e.selectedItemCatg)("ngModelOptions",l.yc(6,P))}}function x(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",19),l.Yb(1,"div",23),l.Yb(2,"label",20),l.Uc(3,"Booking Type "),l.Yb(4,"span",24),l.Uc(5,"*"),l.Xb(),l.Xb(),l.Yb(6,"p-dropdown",21),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().bookingtype=t}),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(6),l.Pc(l.yc(5,M)),l.tc("options",e.stlstbookingtype)("ngModel",e.bookingtype)("ngModelOptions",l.yc(6,P))}}function X(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",19),l.Yb(1,"div",23),l.Yb(2,"label",20),l.Uc(3,"Booking Status"),l.Yb(4,"span",24),l.Uc(5,"*"),l.Xb(),l.Xb(),l.Yb(6,"p-dropdown",21),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().SerachStatusbooking=t}),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(6),l.Pc(l.yc(5,M)),l.tc("options",e.stlstbookingstatus)("ngModel",e.SerachStatusbooking)("ngModelOptions",l.yc(6,P))}}function T(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",19),l.Yb(1,"div",23),l.Yb(2,"label",20),l.Uc(3,"Patient Condition"),l.Yb(4,"span",24),l.Uc(5,"*"),l.Xb(),l.Xb(),l.Yb(6,"p-dropdown",25),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().SelectedPatientCondition=t}),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(6),l.Pc(l.yc(5,M)),l.tc("options",e.stlstpatientcondition)("ngModel",e.SelectedPatientCondition)("ngModelOptions",l.yc(6,P))}}function N(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",7),l.Yb(1,"div",17),l.Yb(2,"label",26),l.Uc(3,"Select Date"),l.Yb(4,"span",24),l.Uc(5,"*"),l.Xb(),l.Xb(),l.Yb(6,"div"),l.Yb(7,"p-calendar",27,28),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().selectToday=t}),l.Xb(),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(7),l.wc("yearRange","",e.customDateFormat.MinYear,":",e.maxYear,""),l.tc("monthNavigator",!0)("yearNavigator",!0)("maxDate",e.today)("ngModel",e.selectToday)("ngModelOptions",l.yc(10,P))("showIcon",!0)("dateFormat",e.customDateFormat.CalendarFormat)("readonlyInput",!1)}}function F(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",19),l.Yb(1,"div",23),l.Yb(2,"label",20),l.Uc(3,"Departament "),l.Xb(),l.Yb(4,"p-dropdown",29),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().DepartmentSelected=t}),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(4),l.Pc(l.yc(5,M)),l.tc("options",e.lstDeptItem)("ngModel",e.DepartmentSelected)("filter",!0)}}function U(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",19),l.Yb(1,"div",23),l.Yb(2,"label",20),l.Uc(3,"Doctor "),l.Xb(),l.Yb(4,"p-dropdown",30),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().DoctorId=t}),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(4),l.Pc(l.yc(5,M)),l.tc("options",e.lstDoctorMster)("ngModel",e.DoctorId)("filter",!0)}}function k(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",17),l.Yb(1,"label",20),l.Uc(2,"From / To"),l.Yb(3,"span",24),l.Uc(4,"*"),l.Xb(),l.Xb(),l.Yb(5,"div"),l.Yb(6,"p-calendar",31,28),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().rangeDates=t})("onSelect",function(){return l.Lc(e),l.mc().dateRangeChange()}),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(6),l.wc("yearRange","",e.customDateFormat.MinYear,":",e.maxYear,""),l.tc("monthNavigator",!0)("yearNavigator",!0)("maxDate",e.today)("ngModel",e.rangeDates)("ngModelOptions",l.yc(10,P))("showIcon",!0)("dateFormat",e.customDateFormat.CalendarFormat)("readonlyInput",!0)}}function E(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",1),l.Yb(1,"div",17),l.Yb(2,"label",20),l.Uc(3,"Select Disease"),l.Yb(4,"span",24),l.Uc(5,"*"),l.Xb(),l.Xb(),l.Yb(6,"div"),l.Yb(7,"p-autoComplete",32),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().selectedDisease=t})("completeMethod",function(t){return l.Lc(e),l.mc().SearchDiseaseMaster(t)}),l.Xb(),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(7),l.tc("ngModel",e.selectedDisease)("suggestions",e.results)("minLength",3)("forceSelection",!0)("multiple",!0)}}function L(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",33),l.Yb(1,"span",34),l.Uc(2),l.Xb(),l.Yb(3,"span",35),l.Yb(4,"span",36),l.Tb(5,"i",37),l.Yb(6,"input",38,39),l.ic("input",function(t){return l.Lc(e),l.mc(),l.Ic(20).filterGlobal(t.target.value,"contains")}),l.Xb(),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(2),l.Wc(" ",(null==e.reportList?null:e.reportList.length)>0?"Total Records: "+e.filteredValuesLength:""," ")}}function A(e,t){if(1&e&&(l.Yb(0,"tr"),l.Yb(1,"td"),l.Uc(2," No records found "),l.Xb(),l.Xb()),2&e){const e=t.$implicit;l.Fb(1),l.Gb("colspan",null==e?null:e.length)}}function _(e,t){1&e&&(l.Yb(0,"tr"),l.Yb(1,"th"),l.Uc(2,"S.No"),l.Xb(),l.Yb(3,"th"),l.Uc(4,"Report Name"),l.Xb(),l.Yb(5,"th"),l.Uc(6,"Action"),l.Xb(),l.Xb())}function W(e,t){if(1&e){const e=l.Zb();l.Yb(0,"button",42),l.ic("click",function(t){l.Lc(e);const i=l.mc().$implicit,s=l.mc();return t.stopPropagation(),s.DownloadReport(i.filename)}),l.Xb()}}function O(e,t){if(1&e){const e=l.Zb();l.Yb(0,"tr",40),l.ic("click",function(){l.Lc(e);const i=t.$implicit,s=t.rowIndex;return l.mc().onRowSelect(i,s)}),l.Yb(1,"td"),l.Uc(2),l.Xb(),l.Yb(3,"td"),l.Uc(4),l.Xb(),l.Yb(5,"td"),l.Sc(6,W,1,0,"button",41),l.Xb(),l.Xb()}if(2&e){const e=t.$implicit,i=t.rowIndex;l.Fb(1),l.Hb(e.isSelected?"SelectedRowClass":""),l.Fb(1),l.Vc(i+1),l.Fb(1),l.Hb(e.isSelected?"SelectedRowClass":""),l.Fb(1),l.Vc(e.displayfilename),l.Fb(1),l.Hb(e.isSelected?"SelectedRowClass":""),l.Fb(1),l.tc("ngIf",e.isSelected)}}const B=function(){return["displayfilename"]},V=[{path:"",component:(()=>{class e extends n.a{constructor(e,t,i,s,o,n,l){super(),this._MasterServices=e,this._DoctorServices=t,this.cdRef=i,this._ConstantServices=s,this._UtilityService=o,this._ReportService=n,this.datepipe=l,this.UserTypeCurre=localStorage.getItem("userTypeId"),this.userTypes=r.s,this.clinicType=null,this.ClinicIdSelected=null,this.today=new Date,this.rangeDates=[],this.maxYear=(new Date).getFullYear(),this.customDateFormat=r.h,this.filteredValuesLength=0,this.reportList=[],this.selectedReport=[],this.stlstYear=[],this.selectedReportName=null,this.selectedItemCatg="Treatment",this.lstCategoryMaster=[],this.Isdisabled=!1,this.bookingtype=null,this.bookingStatus=r.d,this.SerachStatusbooking=6,this.SelectedPatientCondition="CP",this.stlstpatientcondition=[],this.results=[],this.lstDoctorMster=[],this.DoctorId="",this.isCenterAll=!1,this.domainName=null,this.lstDeptItem=[],this.DepartmentSelected=null,this._ConstantServices.ActiveMenuName="Download Reports",this.stlstbookingtype=JSON.parse(localStorage.getItem("IsChikitsalaya"))?[{name:"OPD",code:"OPD"}]:[{name:"IPD",code:"IPD"},{name:"OPD",code:"OPD"}],this.stlstbookingstatus=[{name:this.bookingStatus[this.bookingStatus.Admitted],code:this.bookingStatus.Admitted},{name:this.bookingStatus[this.bookingStatus.Discharged],code:this.bookingStatus.Discharged}],this.stlstpatientcondition=[{PatientCondition:"All",PatientConditionCode:"All"},{PatientCondition:"Critical Patient",PatientConditionCode:"CP"},{PatientCondition:"Wheel Chair Patient",PatientConditionCode:"WCP"},{PatientCondition:"Need Assistance",PatientConditionCode:"NA"},{PatientCondition:"Detoxification",PatientConditionCode:"DETOX"}];for(var a=2022,c=(new Date).getFullYear()+2;c>=a;)this.stlstYear.push({name:a,code:a}),a+=1;this.year=(new Date).getFullYear(),this.maxYear=this.today.getFullYear()}ngOnInit(){r.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId")),this.GetItemCatgMaster(),this.selectToday=new Date,this.rangeDates=[new Date,new Date],this.GetDownloadReportMaster(),this.LoadAllDepartmentItem()}dateRangeChange(){this.rangeDates[0]&&this.rangeDates[1]&&void 0!==this.calendar&&(this.calendar.overlayVisible=!1)}onselectedClinic(e){this.ClinicIdSelected=e.ClinicId,this.domainName=e.DomainName,"DoctorConsultationPatientDetailsReport"===this.selectedReportName&&null!=this.ClinicIdSelected&&null!=this.ClinicIdSelected&&""!=this.ClinicIdSelected&&this.LoadAllDoctorListByClinic()}GetItemCatgMaster(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetItemCatgMaster().subscribe(e=>{if(this._UtilityService.hideSpinner(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.lstCategoryMaster=t=t||[],this.cdRef.detectChanges()}else this.lstCategoryMaster=[],this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}GetDownloadReportMaster(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._ReportService.GetDownloadReportMaster(!0,localStorage.getItem("userId")).subscribe(e=>{var t;if(this._UtilityService.hideSpinner(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);this.reportList=i=i||[],void 0!==this.filtr&&(this.filtr.nativeElement.value="",this.dataTable.reset(),this.filteredValuesLength=null===(t=this.reportList)||void 0===t?void 0:t.length),this.cdRef.detectChanges()}else this.reportList=[],this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}DownloadReport(e){var t;if(this.selectedReport=this.reportList.filter(t=>t.filename==e),this.selectedReportName=this.selectedReport[0].reportname,"BookingAgainstRegistration"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.bookingType="IPD",e.year=this.year,this.exportToItemExcel(e)}else if("ExportDomainWiseItemPrice"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.DomainName=""===this.ClinicIdSelected?"0":this.domainName,e.Category=this.selectedItemCatg,e.year=this.year,this.exportToItemExcel(e)}else if("ExportPatientPrescriptionReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");if(!this.dateRangeValidation(this.rangeDates[0],this.rangeDates[1],30))return void this._UtilityService.showWarningAlert("Date range should be maximum 30 days");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),e.bookingType="IPD",this.exportToItemExcel(e)}else if("ExportPatientDietMedicineReportByDate"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.dFrom=this.datepipe.transform(this.selectToday,"yyyy-MM-dd"),e.Category=this.SelectedPatientCondition,e.bookingType="IPD",this.exportToItemExcel(e)}else if("ExportPatientPathologyReportByDate"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),e.bookingType=this.bookingtype,this.exportToItemExcel(e)}else if("ExportTreatmentListByType"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.bookingType=this.bookingtype,this.exportToItemExcel(e)}else if("ExportMembershipReportByDate"==this.selectedReport[0].reportname){let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),this.exportToItemExcel(e)}else if("ExportPatientConditionReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected||"0"==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),e.bookingStatus=this.SerachStatusbooking,e.Category=this.SelectedPatientCondition,this.exportToItemExcel(e)}else if("ExportMyReferredPatients"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.userTypeId=this.UserTypeCurre,e.clinicId=this.ClinicIdSelected,e.doctorId=1==JSON.parse(localStorage.getItem("IsChikitsalaya"))?localStorage.getItem("userId"):null,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),this.exportToItemExcel(e)}else if("ExportDiseaseWiseReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");if(0==this.selectedDisease.length)return void this._UtilityService.showWarningAlert("Please Select Disease");for(var i=[],s=0;s<(null===(t=this.selectedDisease)||void 0===t?void 0:t.length);s++)i.push({id:this.selectedDisease[s].DiseaseId});let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.bookingType=this.bookingtype,e.bookingStatus=this.SerachStatusbooking,e.lstCommonId=i,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),this.exportToItemExcel(e)}else if("DoctorConsultationPatientDetailsReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected||"0"==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");r.s.Doctor===localStorage.getItem("userTypeId")&&(this.DoctorId=localStorage.getItem("userId"));let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.doctorId=this.DoctorId,e.dFrom=new Date(this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd")),e.dTo=new Date(this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd")),this._MasterServices.downloadReport(e)}else if("ExportReferToDentistReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected||"0"==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),this.exportToItemExcel(e)}else if("DepartmentWiseItemReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected||"0"==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.Category=this.DepartmentSelected,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),this.exportToItemExcel(e)}}onRowSelect(e,t){this.today=new Date,this.selectToday=new Date,this.rangeDates=[new Date,new Date],this.isCenterAll=!1,this.reportList.map(e=>{e.isSelected=!1}),this.reportList[t].isSelected=!0,this.selectedReportName=e.reportname,this.selectedDisease=[],"ExportPatientPrescriptionReport"!=this.selectedReportName&&"ExportPatientDietMedicineReportByDate"!=this.selectedReportName||(this.today=new Date,this.today.setMonth(this.today.getMonth()+1)),this.stlstbookingstatus="ExportDiseaseWiseReport"===this.selectedReportName?[{name:"All",code:0},{name:this.bookingStatus[this.bookingStatus.Admitted],code:this.bookingStatus.Admitted},{name:this.bookingStatus[this.bookingStatus.Discharged],code:this.bookingStatus.Discharged}]:[{name:this.bookingStatus[this.bookingStatus.Admitted],code:this.bookingStatus.Admitted},{name:this.bookingStatus[this.bookingStatus.Discharged],code:this.bookingStatus.Discharged}],"ExportDomainWiseItemPrice"===this.selectedReportName?(this.isCenterAll=!0,this.ClinicIdSelected=""):"ExportPatientPathologyReportByDate"===this.selectedReportName||"ExportTreatmentListByType"===this.selectedReportName||"ExportDiseaseWiseReport"===this.selectedReportName?this.bookingtype="IPD":"DoctorConsultationPatientDetailsReport"===this.selectedReportName?null!=this.ClinicIdSelected&&null!=this.ClinicIdSelected&&""!=this.ClinicIdSelected&&this.LoadAllDoctorListByClinic():this.ClinicIdSelected=r.s.SuperAdmin!==localStorage.getItem("userTypeId")?localStorage.getItem("ClinicId"):null,this.cdRef.detectChanges()}SearchDiseaseMaster(e){this.unsubscribe.add=this._MasterServices.SearchDiseaseMaster(e.query).subscribe(e=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.results=t=t||[],this.cdRef.detectChanges()}else this.results=[]})}LoadAllDoctorListByClinic(){this._UtilityService.showSpinner(),this._DoctorServices.GetDoctorListByClinicId(this.ClinicIdSelected).subscribe(e=>{if(this._UtilityService.hideSpinner(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.lstDoctorMster=t=t||[],this.lstDoctorMster.unshift({UserId:"",FullName:"All"}),this.DoctorId="",this.cdRef.detectChanges()}else this.lstDoctorMster=[],this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}LoadAllDepartmentItem(){this.lstDeptItem=[],this._UtilityService.showSpinner(),this._MasterServices.GetDepartmentMasterItem().subscribe(e=>{if(this._UtilityService.hideSpinner(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.lstDeptItem=t=t||[],this.cdRef.detectChanges()}else this.lstDeptItem=[],this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}onFilter(e,t){this.filteredValuesLength=e.filteredValue.length}exportToItemExcel(e={}){this._MasterServices.downloadReport(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(a.a),l.Sb(c.a),l.Sb(l.h),l.Sb(r.f),l.Sb(d.a),l.Sb(p.a),l.Sb(s.f))},e.\u0275cmp=l.Mb({type:e,selectors:[["app-download-reports"]],viewQuery:function(e,t){if(1&e&&(l.cd(I,1),l.cd(D,1),l.cd(R,1)),2&e){let e;l.Hc(e=l.jc())&&(t.dataTable=e.first),l.Hc(e=l.jc())&&(t.filtr=e.first),l.Hc(e=l.jc())&&(t.calendar=e.first)}},features:[l.Cb],decls:25,vars:16,consts:[[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2","m-0"],["class","col-md-3",4,"ngIf"],["class","col-md-2",4,"ngIf"],[1,"col-md-3"],["class","form-group",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"row"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","calc(100vh - 165px)",3,"value","rowHover","globalFilterFields","scrollable","onFilter"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],[1,"form-group"],[3,"ClinicIdSelected","isCenterAll","mode","onselectedClinic"],[1,"col-md-2"],["for",""],["optionLabel","name","optionValue","code",3,"options","ngModel","ngModelOptions","ngModelChange"],["optionLabel","CategoryName","optionValue","CategoryName",3,"options","ngModel","ngModelOptions","ngModelChange"],[1,"form-group","mb-0"],[1,"required"],["optionLabel","PatientCondition","optionValue","PatientConditionCode",3,"options","ngModel","ngModelOptions","ngModelChange"],[1,"mr-2"],["inputId","icon",3,"monthNavigator","yearNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["calendar",""],["name","ddllstDeptItem","appendTo","body","optionLabel","Department","optionValue","Department","placeholder","Select Depertment",3,"options","ngModel","filter","ngModelChange"],["name","ddlDoctorList","appendTo","body","optionLabel","FullName","optionValue","UserId","placeholder","Select Doctor",3,"options","ngModel","filter","ngModelChange"],["selectionMode","range","inputId","icon","name","rangeDates",3,"monthNavigator","yearNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onSelect"],["appendTo","body","field","DiseaseName",3,"ngModel","suggestions","minLength","forceSelection","multiple","ngModelChange","completeMethod"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["filtr",""],[3,"click"],["pButton","","matTooltip","Export Report","label"," ","class"," mr-2","icon","pi pi-download",3,"click",4,"ngIf"],["pButton","","matTooltip","Export Report","label"," ","icon","pi pi-download",1,"mr-2",3,"click"]],template:function(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",0),l.Yb(1,"div",1),l.Yb(2,"div",2),l.Yb(3,"div",3),l.Yb(4,"div",4),l.Sc(5,v,3,3,"div",5),l.Sc(6,Y,5,7,"div",6),l.Sc(7,w,5,7,"div",6),l.Sc(8,x,7,7,"div",6),l.Sc(9,X,7,7,"div",6),l.Sc(10,T,7,7,"div",6),l.Sc(11,N,9,11,"div",5),l.Sc(12,F,5,6,"div",6),l.Sc(13,U,5,6,"div",6),l.Yb(14,"div",7),l.Sc(15,k,8,11,"div",8),l.Xb(),l.Sc(16,E,8,5,"div",9),l.Xb(),l.Yb(17,"div",10),l.Yb(18,"div",1),l.Yb(19,"p-table",11,12),l.ic("onFilter",function(i){l.Lc(e);const s=l.Ic(20);return t.onFilter(i,s)}),l.Sc(21,L,8,1,"ng-template",13),l.Sc(22,A,3,1,"ng-template",14),l.Sc(23,_,7,0,"ng-template",15),l.Sc(24,O,7,12,"ng-template",16),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb()}2&e&&(l.Fb(5),l.tc("ngIf",t.UserTypeCurre===t.userTypes.SuperAdmin||"ExportDomainWiseItemPrice"===t.selectedReportName),l.Fb(1),l.tc("ngIf","BookingAgainstRegistration"===t.selectedReportName),l.Fb(1),l.tc("ngIf","ExportDomainWiseItemPrice"===t.selectedReportName),l.Fb(1),l.tc("ngIf","ExportPatientPathologyReportByDate"===t.selectedReportName||"ExportTreatmentListByType"===t.selectedReportName||"ExportDiseaseWiseReport"===t.selectedReportName),l.Fb(1),l.tc("ngIf",("ExportPatientConditionReport"===t.selectedReportName||"ExportDiseaseWiseReport"===t.selectedReportName)&&"IPD"==t.bookingtype),l.Fb(1),l.tc("ngIf","ExportPatientConditionReport"===t.selectedReportName||"ExportPatientDietMedicineReportByDate"===t.selectedReportName),l.Fb(1),l.tc("ngIf","ExportPatientDietMedicineReportByDate"===t.selectedReportName),l.Fb(1),l.tc("ngIf","DepartmentWiseItemReport"===t.selectedReportName),l.Fb(1),l.tc("ngIf",t.UserTypeCurre!=t.userTypes.Doctor&&"DoctorConsultationPatientDetailsReport"===t.selectedReportName),l.Fb(2),l.tc("ngIf","ExportPatientPrescriptionReport"===t.selectedReportName||"ExportPatientPathologyReportByDate"===t.selectedReportName||"ExportMembershipReportByDate"===t.selectedReportName||"ExportPatientConditionReport"===t.selectedReportName||"ExportMyReferredPatients"===t.selectedReportName||"ExportDiseaseWiseReport"===t.selectedReportName||"DoctorConsultationPatientDetailsReport"===t.selectedReportName||"ExportReferToDentistReport"===t.selectedReportName||"DepartmentWiseItemReport"===t.selectedReportName),l.Fb(1),l.tc("ngIf","ExportDiseaseWiseReport"===t.selectedReportName),l.Fb(3),l.tc("value",t.reportList)("rowHover",!0)("globalFilterFields",l.yc(15,B))("scrollable",!0))},directives:[s.p,h.c,m.i,b.a,g.a,u.o,u.r,y.a,S.a,f.a,C.b],styles:[".SelectedRowClass[_ngcontent-%COMP%]{background-color:#d3d3d3;color:#000;font-weight:700}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({imports:[[o.l.forChild(V)],o.l]}),e})();var G=i("T2Aj");let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({imports:[[s.c,Z,u.i,h.f,C.c,g.b,f.b,y.b,S.b,G.a]]}),e})()}}]);