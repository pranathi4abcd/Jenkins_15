(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{GFy8:function(e,t,i){"use strict";i.r(t),i.d(t,"RefferPatientAnotherCenterModule",function(){return N});var r=i("ofXK"),n=i("tyNb"),s=i("CwUn"),c=i("Nach"),a=i("fXoL"),l=i("dcBc"),o=i("ReGW"),d=i("NLkC"),b=i("eO1q"),h=i("3Pt+"),u=i("rEr+"),p=i("7zfz"),f=i("AAHA"),m=i("7kUa"),g=i("jIHw");const y=["calendar"],S=["dt"],v=["filtr"];function R(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",6),a.Yb(1,"app-center-dropdown",20),a.ic("onclinicSelect",function(t){return a.Lc(e),a.mc().onclinicSelect(t)}),a.Xb(),a.Xb()}2&e&&(a.Fb(1),a.tc("mode","get"))}function I(e,t){if(1&e){const e=a.Zb();a.Yb(0,"button",29),a.ic("click",function(){return a.Lc(e),a.mc(2).exportToItemExcel()}),a.Xb()}}function Y(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",21),a.Yb(1,"span",22),a.Uc(2),a.Xb(),a.Yb(3,"span",23),a.Sc(4,I,1,0,"button",24),a.Yb(5,"span",25),a.Tb(6,"i",26),a.Yb(7,"input",27,28),a.ic("input",function(t){return a.Lc(e),a.mc(),a.Ic(18).filterGlobal(t.target.value,"contains")}),a.Xb(),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(2),a.Wc(" ",(null==e.lstRefferedList?null:e.lstRefferedList.length)>0?"Total Records: "+e.filteredValuesLength:""," "),a.Fb(2),a.tc("ngIf",null==e.lstIAccessStr?null:e.lstIAccessStr.includes(e.ActionList.Download.toString()))}}function X(e,t){1&e&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2," No records found "),a.Xb(),a.Xb()),2&e&&(a.Fb(1),a.Gb("colspan",19))}function F(e,t){1&e&&(a.Yb(0,"colgroup"),a.Tb(1,"col",30),a.Tb(2,"col",31),a.Tb(3,"col",32),a.Tb(4,"col",32),a.Tb(5,"col",33),a.Tb(6,"col",34),a.Tb(7,"col",34),a.Tb(8,"col",35),a.Xb())}function w(e,t){1&e&&(a.Yb(0,"tr"),a.Yb(1,"th"),a.Uc(2,"Name"),a.Xb(),a.Yb(3,"th"),a.Uc(4,"MR No"),a.Xb(),a.Yb(5,"th"),a.Uc(6,"Contact Number"),a.Xb(),a.Yb(7,"th"),a.Uc(8,"Email Id"),a.Xb(),a.Yb(9,"th"),a.Uc(10,"Referred By"),a.Xb(),a.Yb(11,"th"),a.Uc(12,"Referred On"),a.Xb(),a.Yb(13,"th"),a.Uc(14,"Referred From "),a.Xb(),a.Yb(15,"th"),a.Uc(16,"Referred Reason"),a.Xb(),a.Xb())}function U(e,t){if(1&e&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2),a.Xb(),a.Yb(3,"td"),a.Uc(4),a.Xb(),a.Yb(5,"td"),a.Uc(6),a.Xb(),a.Yb(7,"td"),a.Uc(8),a.Xb(),a.Yb(9,"td"),a.Uc(10),a.Xb(),a.Yb(11,"td"),a.Uc(12),a.nc(13,"date"),a.nc(14,"date"),a.Xb(),a.Yb(15,"td"),a.Uc(16),a.Xb(),a.Yb(17,"td"),a.Uc(18),a.Xb(),a.Xb()),2&e){const e=t.$implicit,i=a.mc();a.Fb(2),a.Vc(e.PatientName),a.Fb(2),a.Vc(e.MRNo),a.Fb(2),a.Vc(e.ContactNumber),a.Fb(2),a.Vc(e.Email),a.Fb(2),a.Vc(e.ReferredBy),a.Fb(2),a.Vc("0001"==a.pc(13,8,e.ReferredOn,"yyyy")?"":a.pc(14,11,e.ReferredOn,i.customDateFormat.DEF_DATE)),a.Fb(4),a.Vc(e.ReferredFrom),a.Fb(2),a.Vc(e.ReferredReason)}}const D=function(){return{standalone:!0}},M=function(){return["PatientName","MRNo","ContactNumber","Email","RefferedBy","RefferedReason","RefferedFrom"]},L=[{path:"",component:(()=>{class e extends s.a{constructor(e,t,i,r,n,s,a){super(),this.cdRef=e,this.router=t,this._ConstantServices=i,this._MasterServices=r,this._doctorService=n,this._UtilityService=s,this.datepipe=a,this.customDateFormat=c.h,this.userTypes=c.s,this.UserTypeCurre=localStorage.getItem("userTypeId"),this.lstRefferedList=[],this.rangeDates=[],this.filteredValuesLength=0,this.MaxYear=(new Date).getFullYear()+2,this.ActionList=c.a,this.lstIAccess=[],this.lstIAccessStr=[],this.rangeDates=[new Date,new Date],this.getPageLevelAccess()}getPageLevelAccess(){var e,t,i=this.getUrlWithoutParams(),r=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==r?void 0:r.find(e=>e.MenuItemURL===i))&&(this.lstIAccess=null===(e=r.find(e=>e.MenuItemURL===i))||void 0===e?void 0:e.ActionIAccess,(null===(t=this.lstIAccess)||void 0===t?void 0:t.length)>0&&this.lstIAccess.map(e=>{this.lstIAccessStr.push(e.ActionId.toString())}))}getUrlWithoutParams(){let e=this.router.parseUrl(this.router.url);return e.queryParams={},e.fragment=null,e.toString()}ngOnInit(){this._ConstantServices.ActiveMenuName="Reffered Patient Report",this.cdRef.detectChanges(),c.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId"),this.LoadReferredReportList())}onclinicSelect(e){this.ClinicIdSelected=e,this.LoadReferredReportList()}dateRangeChange(){this.rangeDates[0]&&this.rangeDates[1]&&(void 0!==this.calendar&&(this.calendar.overlayVisible=!1),this.LoadReferredReportList())}LoadReferredReportList(){if(""==this.ClinicIdSelected||null==this.ClinicIdSelected||null==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");null!=this.rangeDates[0]&&null!=this.rangeDates[0]&&(this.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd")),null!=this.rangeDates[1]&&null!=this.rangeDates[1]&&(this.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"));let e={};e.clinicId=this.ClinicIdSelected,e.dFrom=new Date(this.datepipe.transform(this.dFrom,"yyyy-MM-dd")),e.dTo=new Date(this.datepipe.transform(this.dTo,"yyyy-MM-dd")),this._UtilityService.showSpinner(),this.unsubscribe.add=this._doctorService.GetReferredDetailsByClinic(e).subscribe(e=>{var t;if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);this.lstRefferedList=i=i||[],this.filtr.nativeElement.value="",this.dataTable.reset(),this.filteredValuesLength=null===(t=this.lstRefferedList)||void 0===t?void 0:t.length}else this.lstRefferedList=[],this.filteredValuesLength=0,this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}onFilter(e,t){this.filteredValuesLength=e.filteredValue.length}exportToItemExcel(){if(""==this.ClinicIdSelected||null==this.ClinicIdSelected||null==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");null!=this.rangeDates[0]&&null!=this.rangeDates[0]&&(this.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd")),null!=this.rangeDates[1]&&null!=this.rangeDates[1]&&(this.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"));let e={reportname:"ReferredPatientList",filename:"ReferredPatientList"};e.clinicId=this.ClinicIdSelected,e.dFrom=new Date(this.datepipe.transform(this.dFrom,"yyyy-MM-dd")),e.dTo=new Date(this.datepipe.transform(this.dTo,"yyyy-MM-dd")),this._MasterServices.downloadReport(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(a.h),a.Sb(n.i),a.Sb(c.f),a.Sb(l.a),a.Sb(o.a),a.Sb(d.a),a.Sb(r.f))},e.\u0275cmp=a.Mb({type:e,selectors:[["app-referr-patient-another-center"]],viewQuery:function(e,t){if(1&e&&(a.cd(y,1),a.cd(S,1),a.cd(v,1)),2&e){let e;a.Hc(e=a.jc())&&(t.calendar=e.first),a.Hc(e=a.jc())&&(t.dataTable=e.first),a.Hc(e=a.jc())&&(t.filtr=e.first)}},features:[a.Cb],decls:24,vars:16,consts:[[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],[1,"form-group"],["for",""],[1,"required"],["selectionMode","range","inputId","icon","name","rangeDates",3,"monthNavigator","yearNavigator","yearRange","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onSelect"],["calendar",""],[1,"row"],["scrollHeight","calc(100vh - 275px)","responsiveLayout","scroll",3,"value","rowHover","globalFilterFields","scrollable","onFilter"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],[3,"mode","onclinicSelect"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],["pButton","","title","Export Data","label"," ","class","p-button-outlined mr-2","icon","pi pi-download",3,"click",4,"ngIf"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["filtr",""],["pButton","","title","Export Data","label"," ","icon","pi pi-download",1,"p-button-outlined","mr-2",3,"click"],[2,"width","135px"],[2,"width","125px"],[2,"width","95px"],[2,"width","130px"],[2,"width","100px"],[2,"width","200px"]],template:function(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",0),a.Yb(1,"div",1),a.Yb(2,"div",2),a.Yb(3,"div",3),a.Yb(4,"div",4),a.Sc(5,R,2,1,"div",5),a.Yb(6,"div",6),a.Yb(7,"div",7),a.Yb(8,"label",8),a.Uc(9,"From / To"),a.Yb(10,"span",9),a.Uc(11,"*"),a.Xb(),a.Xb(),a.Yb(12,"div"),a.Yb(13,"p-calendar",10,11),a.ic("ngModelChange",function(e){return t.rangeDates=e})("onSelect",function(){return t.dateRangeChange()}),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(15,"div",12),a.Yb(16,"div",1),a.Yb(17,"p-table",13,14),a.ic("onFilter",function(i){a.Lc(e);const r=a.Ic(18);return t.onFilter(i,r)}),a.Sc(19,Y,9,2,"ng-template",15),a.Sc(20,X,3,1,"ng-template",16),a.Sc(21,F,9,0,"ng-template",17),a.Sc(22,w,17,0,"ng-template",18),a.Sc(23,U,19,14,"ng-template",19),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb()}2&e&&(a.Fb(5),a.tc("ngIf",t.UserTypeCurre===t.userTypes.SuperAdmin),a.Fb(8),a.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),a.tc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.rangeDates)("ngModelOptions",a.yc(14,D))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!0),a.Fb(4),a.tc("value",t.lstRefferedList)("rowHover",!0)("globalFilterFields",a.yc(15,M))("scrollable",!0))},directives:[r.p,b.a,h.o,h.r,u.c,p.i,f.a,m.a,g.b],pipes:[r.f],styles:[""]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({imports:[[n.l.forChild(L)],n.l]}),e})();var C=i("arFO"),A=i("T2Aj");let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({imports:[[r.c,T,h.i,u.f,g.c,C.b,m.b,b.b,A.a]]}),e})()}}]);