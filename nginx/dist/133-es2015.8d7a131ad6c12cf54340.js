(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{VCvj:function(t,e,o){"use strict";o.r(e),o.d(e,"RegistrationReportModule",function(){return A});var n=o("ofXK"),c=o("tyNb"),i=o("CwUn"),l=o("Nach"),s=o("fXoL"),r=o("dcBc"),b=o("PtJb"),a=o("NLkC"),h=o("arFO"),u=o("3Pt+"),d=o("rEr+"),p=o("7zfz"),M=o("AAHA"),m=o("jIHw");function Y(t,e){if(1&t){const t=s.Zb();s.Yb(0,"div",6),s.Yb(1,"app-center-dropdown",20),s.ic("onclinicSelect",function(e){return s.Lc(t),s.mc().onclinicSelect(e)}),s.Xb(),s.Xb()}2&t&&(s.Fb(1),s.tc("mode","get"))}function f(t,e){if(1&t){const t=s.Zb();s.Yb(0,"button",25),s.ic("click",function(){return s.Lc(t),s.mc(2).exportToItemExcel()}),s.Xb()}}function g(t,e){if(1&t&&(s.Yb(0,"div",21),s.Yb(1,"span",22),s.Uc(2),s.Xb(),s.Yb(3,"span",23),s.Sc(4,f,1,0,"button",24),s.Xb(),s.Xb()),2&t){const t=s.mc();s.Fb(2),s.Wc(" ",(null==t.lstReport?null:t.lstReport.length)>0?"Total Records: "+t.filteredValuesLength:""," "),s.Fb(2),s.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.Download.toString()))&&(null==t.lstReport?null:t.lstReport.length)>0)}}function X(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2," No records found "),s.Xb(),s.Xb()),2&t){const t=e.$implicit;s.Fb(1),s.Gb("colspan",null==t?null:t.length)}}function U(t,e){1&t&&(s.Yb(0,"colgroup"),s.Tb(1,"col",26),s.Tb(2,"col",27),s.Tb(3,"col",27),s.Tb(4,"col",27),s.Tb(5,"col",27),s.Tb(6,"col",27),s.Tb(7,"col",27),s.Tb(8,"col",27),s.Tb(9,"col",27),s.Tb(10,"col",27),s.Tb(11,"col",27),s.Tb(12,"col",27),s.Tb(13,"col",27),s.Xb())}function S(t,e){1&t&&(s.Yb(0,"tr"),s.Yb(1,"th"),s.Uc(2,"Date"),s.Xb(),s.Yb(3,"th"),s.Uc(4,"Jan"),s.Xb(),s.Yb(5,"th"),s.Uc(6,"Feb"),s.Xb(),s.Yb(7,"th"),s.Uc(8,"March"),s.Xb(),s.Yb(9,"th"),s.Uc(10,"April"),s.Xb(),s.Yb(11,"th"),s.Uc(12,"May"),s.Xb(),s.Yb(13,"th"),s.Uc(14,"June"),s.Xb(),s.Yb(15,"th"),s.Uc(16,"July"),s.Xb(),s.Yb(17,"th"),s.Uc(18,"Aug"),s.Xb(),s.Yb(19,"th"),s.Uc(20,"Sep"),s.Xb(),s.Yb(21,"th"),s.Uc(22,"Oct"),s.Xb(),s.Yb(23,"th"),s.Uc(24,"Nov"),s.Xb(),s.Yb(25,"th"),s.Uc(26,"Dec"),s.Xb(),s.Xb())}function R(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Uc(4),s.Xb(),s.Yb(5,"td"),s.Uc(6),s.Xb(),s.Yb(7,"td"),s.Uc(8),s.Xb(),s.Yb(9,"td"),s.Uc(10),s.Xb(),s.Yb(11,"td"),s.Uc(12),s.Xb(),s.Yb(13,"td"),s.Uc(14),s.Xb(),s.Yb(15,"td"),s.Uc(16),s.Xb(),s.Yb(17,"td"),s.Uc(18),s.Xb(),s.Yb(19,"td"),s.Uc(20),s.Xb(),s.Yb(21,"td"),s.Uc(22),s.Xb(),s.Yb(23,"td"),s.Uc(24),s.Xb(),s.Yb(25,"td"),s.Uc(26),s.Xb(),s.Xb()),2&t){const t=e.$implicit;s.Fb(2),s.Vc(t.DateVal),s.Fb(2),s.Vc(t.Month1),s.Fb(2),s.Vc(t.Month2),s.Fb(2),s.Vc(t.Month3),s.Fb(2),s.Vc(t.Month4),s.Fb(2),s.Vc(t.Month5),s.Fb(2),s.Vc(t.Month6),s.Fb(2),s.Vc(t.Month7),s.Fb(2),s.Vc(t.Month8),s.Fb(2),s.Vc(t.Month9),s.Fb(2),s.Vc(t.Month10),s.Fb(2),s.Vc(t.Month11),s.Fb(2),s.Vc(t.Month12)}}function v(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Uc(4),s.Xb(),s.Yb(5,"td"),s.Uc(6),s.Xb(),s.Yb(7,"td"),s.Uc(8),s.Xb(),s.Yb(9,"td"),s.Uc(10),s.Xb(),s.Yb(11,"td"),s.Uc(12),s.Xb(),s.Yb(13,"td"),s.Uc(14),s.Xb(),s.Yb(15,"td"),s.Uc(16),s.Xb(),s.Yb(17,"td"),s.Uc(18),s.Xb(),s.Yb(19,"td"),s.Uc(20),s.Xb(),s.Yb(21,"td"),s.Uc(22),s.Xb(),s.Yb(23,"td"),s.Uc(24),s.Xb(),s.Yb(25,"td"),s.Uc(26),s.Xb(),s.Xb()),2&t){const t=s.mc();s.Fb(2),s.Wc("Total \xa0 ",(null==t.lstReport?null:t.lstReport.length)>0?"("+t.totalYearCount+")":"",""),s.Fb(2),s.Vc(t.totalMonth1),s.Fb(2),s.Vc(t.totalMonth2),s.Fb(2),s.Vc(t.totalMonth3),s.Fb(2),s.Vc(t.totalMonth4),s.Fb(2),s.Vc(t.totalMonth5),s.Fb(2),s.Vc(t.totalMonth6),s.Fb(2),s.Vc(t.totalMonth7),s.Fb(2),s.Vc(t.totalMonth8),s.Fb(2),s.Vc(t.totalMonth9),s.Fb(2),s.Vc(t.totalMonth10),s.Fb(2),s.Vc(t.totalMonth11),s.Fb(2),s.Vc(t.totalMonth12)}}const F=function(){return{width:"100%"}},I=function(){return{standalone:!0}},T=[{path:"",component:(()=>{class t extends i.a{constructor(t,e,o,n,c,i){super(),this.cdRef=t,this.router=e,this._ConstantServices=o,this._MasterServices=n,this._ReportServices=c,this._UtilityService=i,this.stlstYear=[],this.UserTypeCurre=localStorage.getItem("userTypeId"),this.ClinicIdSelected=null,this.userTypes=l.s,this.filteredValuesLength=0,this.totalYearCount=0,this.ActionList=l.a,this.lstIAccess=[],this.lstIAccessStr=[],this._ConstantServices.ActiveMenuName="Registration Report";for(var s=2022,r=(new Date).getFullYear();r>=s;)this.stlstYear.push({name:s,code:s}),s+=1;this.year=(new Date).getFullYear(),this.getPageLevelAccess()}getPageLevelAccess(){var t,e,o=this.getUrlWithoutParams(),n=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==n?void 0:n.find(t=>t.MenuItemURL===o))&&(this.lstIAccess=null===(t=n.find(t=>t.MenuItemURL===o))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(t=>{this.lstIAccessStr.push(t.ActionId.toString())}))}getUrlWithoutParams(){let t=this.router.parseUrl(this.router.url);return t.queryParams={},t.fragment=null,t.toString()}ngOnInit(){l.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId"),this.LoadRegistrationReport())}onclinicSelect(t){this.ClinicIdSelected=t,this.LoadRegistrationReport()}LoadRegistrationReport(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._ReportServices.GetRegistrationReport(this.ClinicIdSelected,this.year).subscribe(t=>{var e;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var o=JSON.parse(t.actionResult.result);this.lstReport=o=o||[],this.totalMonth1=this.lstReport.map(t=>t.Month1).reduce(function(t,e){return t+e}),this.totalMonth2=this.lstReport.map(t=>t.Month2).reduce(function(t,e){return t+e}),this.totalMonth3=this.lstReport.map(t=>t.Month3).reduce(function(t,e){return t+e}),this.totalMonth4=this.lstReport.map(t=>t.Month4).reduce(function(t,e){return t+e}),this.totalMonth5=this.lstReport.map(t=>t.Month5).reduce(function(t,e){return t+e}),this.totalMonth6=this.lstReport.map(t=>t.Month6).reduce(function(t,e){return t+e}),this.totalMonth7=this.lstReport.map(t=>t.Month7).reduce(function(t,e){return t+e}),this.totalMonth8=this.lstReport.map(t=>t.Month8).reduce(function(t,e){return t+e}),this.totalMonth9=this.lstReport.map(t=>t.Month9).reduce(function(t,e){return t+e}),this.totalMonth10=this.lstReport.map(t=>t.Month10).reduce(function(t,e){return t+e}),this.totalMonth11=this.lstReport.map(t=>t.Month11).reduce(function(t,e){return t+e}),this.totalMonth12=this.lstReport.map(t=>t.Month12).reduce(function(t,e){return t+e}),this.totalYearCount=this.lstReport.map(t=>t.TotalMonth).reduce(function(t,e){return t+e}),this.filteredValuesLength=null===(e=this.lstReport)||void 0===e?void 0:e.length,this.cdRef.detectChanges()}else this.lstReport=[],this.totalMonth1=0,this.totalMonth2=0,this.totalMonth3=0,this.totalMonth4=0,this.totalMonth5=0,this.totalMonth6=0,this.totalMonth7=0,this.totalMonth8=0,this.totalMonth9=0,this.totalMonth10=0,this.totalMonth11=0,this.totalMonth12=0,this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}exportToItemExcel(){let t={reportname:"RegistrationReport",filename:"RegistrationReport"};t.clinicId=this.ClinicIdSelected,t.bookingStatus=this.year,this._MasterServices.downloadReport(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(s.h),s.Sb(c.i),s.Sb(l.f),s.Sb(r.a),s.Sb(b.a),s.Sb(a.a))},t.\u0275cmp=s.Mb({type:t,selectors:[["app-registration-report"]],features:[s.Cb],decls:23,vars:11,consts:[[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],[1,"form-group"],["for",""],[1,"required"],["optionLabel","name","optionValue","code",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],[1,"row"],["scrollHeight","calc(100vh - 250px)","responsiveLayout","scroll",3,"value","rowHover","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"mode","onclinicSelect"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],["pButton","","title","Export Data","label"," ","class","p-button-outlined mr-2","icon","pi pi-download",3,"click",4,"ngIf"],["pButton","","title","Export Data","label"," ","icon","pi pi-download",1,"p-button-outlined","mr-2",3,"click"],[2,"width","140px"],[2,"width","100px"]],template:function(t,e){1&t&&(s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"div",2),s.Yb(3,"div",3),s.Yb(4,"div",4),s.Sc(5,Y,2,1,"div",5),s.Yb(6,"div",6),s.Yb(7,"div",7),s.Yb(8,"label",8),s.Uc(9,"Select Year "),s.Yb(10,"span",9),s.Uc(11,"*"),s.Xb(),s.Xb(),s.Yb(12,"p-dropdown",10),s.ic("ngModelChange",function(t){return e.year=t})("onChange",function(){return e.LoadRegistrationReport()}),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(13,"div",11),s.Yb(14,"div",1),s.Yb(15,"p-table",12,13),s.Sc(17,g,5,2,"ng-template",14),s.Sc(18,X,3,1,"ng-template",15),s.Sc(19,U,14,0,"ng-template",16),s.Sc(20,S,27,0,"ng-template",17),s.Sc(21,R,27,13,"ng-template",18),s.Sc(22,v,27,13,"ng-template",19),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t&&(s.Fb(5),s.tc("ngIf",e.UserTypeCurre===e.userTypes.SuperAdmin),s.Fb(7),s.Pc(s.yc(9,F)),s.tc("options",e.stlstYear)("ngModel",e.year)("ngModelOptions",s.yc(10,I)),s.Fb(3),s.tc("value",e.lstReport)("rowHover",!0)("scrollable",!0))},directives:[n.p,h.a,u.o,u.r,d.c,p.i,M.a,m.b],styles:[""]}),t})()}];let V=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Qb({type:t}),t.\u0275inj=s.Pb({imports:[[c.l.forChild(T)],c.l]}),t})();var y=o("7kUa"),w=o("T2Aj");let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Qb({type:t}),t.\u0275inj=s.Pb({imports:[[n.c,V,u.i,d.f,m.c,h.b,y.b,w.a]]}),t})()}}]);