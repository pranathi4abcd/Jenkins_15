!function(){function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=c(e);if(t){var o=c(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return l(this,i)}}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"4Tty":function(e,t,i){"use strict";i.d(t,"a",function(){return g});var n,o,a=i("ofXK"),s=i("tyNb"),r=i("xjJ3"),l=i("fXoL"),c=[{path:"",component:r.a}],u=((n=function e(){d(this,e)}).\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.Qb({type:n}),n.\u0275inj=l.Pb({imports:[[s.l.forChild(c)],s.l]}),n),h=i("rEr+"),b=i("jIHw"),m=i("7kUa"),g=((o=function e(){d(this,e)}).\u0275fac=function(e){return new(e||o)},o.\u0275mod=l.Qb({type:o}),o.\u0275inj=l.Pb({imports:[[a.c,u,h.f,b.c,m.b]]}),o)},"5QKP":function(e,t,i){"use strict";i.d(t,"a",function(){return V});var n=i("mrSG"),s=i("fXoL"),l=i("Nach"),c=i("CwUn"),u=i("ofXK"),h=i("dcBc"),b=i("7zAq"),m=i("NLkC"),g=i("ReGW"),p=i("3Pt+"),f=i("eO1q"),S=i("Ks7X"),y=i("arFO"),v=i("rEr+"),I=i("7zfz"),M=i("7kUa"),k=i("Ji6n"),C=function(){return{width:"100%"}},P=function(){return{standalone:!0}};function D(e,t){if(1&e){var i=s.Zb();s.Yb(0,"div",2),s.Yb(1,"div",3),s.Yb(2,"label",4),s.Uc(3,"Permitted By "),s.Yb(4,"span",5),s.Uc(5,"*"),s.Xb(),s.Uc(6,":"),s.Xb(),s.Yb(7,"p-dropdown",13),s.ic("ngModelChange",function(e){return s.Lc(i),s.mc().permittedBy=e})("onChange",function(e){return s.Lc(i),s.mc().emitPermittedBy(e)}),s.Xb(),s.Xb(),s.Xb()}if(2&e){var n=s.mc();s.Fb(7),s.Pc(s.yc(10,C)),s.tc("options",n.lstDoctorMster)("ngModel",n.permittedBy)("ngModelOptions",s.yc(11,P))("showClear",!0)("filter",!0)("filterBy","FullName")("filterMatchMode","contains")("placeholder","Please Select Doctor")}}function R(e,t){if(1&e){var i=s.Zb();s.Yb(0,"div",22),s.Yb(1,"span",23),s.Tb(2,"i",24),s.Yb(3,"input",25),s.ic("input",function(e){return s.Lc(i),s.mc(),s.Ic(3).filterGlobal(e.target.value,"contains")}),s.Xb(),s.Xb(),s.Xb()}}function T(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2," No records found "),s.Xb(),s.Xb()),2&e){var i=t.$implicit;s.Fb(1),s.Gb("colspan",null==i?null:i.length)}}function A(e,t){1&e&&(s.Yb(0,"th"),s.Uc(1,"Extra Bed"),s.Xb())}function B(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"th"),s.Uc(2,"Room Type"),s.Xb(),s.Yb(3,"th"),s.Uc(4,"Price Per Night"),s.Xb(),s.Yb(5,"th"),s.Uc(6,"Available Rooms"),s.Xb(),s.Yb(7,"th"),s.Uc(8,"Required Rooms"),s.Xb(),s.Sc(9,A,2,0,"th",26),s.Xb()),2&e){var i=s.mc(2);s.Fb(9),s.tc("ngIf",i.ClinicMaster.IsExtraBedApplicable)}}function U(e,t){if(1&e&&(s.Yb(0,"option",30),s.Uc(1),s.Xb()),2&e){var i=t.$implicit;s.uc("value",i.requiredRooms),s.Fb(1),s.Wc(" ",i.requiredRooms," Room")}}function N(e,t){if(1&e&&(s.Yb(0,"option",30),s.Uc(1),s.Xb()),2&e){var i=t.$implicit;s.uc("value",i.requiredExbed),s.Fb(1),s.Wc(" ",i.requiredExbed," Extra Bed")}}function w(e,t){if(1&e){var i=s.Zb();s.Yb(0,"select",27),s.ic("change",function(e){s.Lc(i);var t=s.mc(),n=t.$implicit,o=t.rowIndex;return s.mc(2).bookRoom(e,n,o)})("ngModelChange",function(e){return s.Lc(i),s.mc().$implicit.RequiredExtraBed=e}),s.Sc(1,N,2,2,"option",28),s.Xb()}if(2&e){var n=s.mc(),o=n.$implicit;s.vc("name","ddlRequiredExtraBed_",n.rowIndex,""),s.tc("ngModel",o.RequiredExtraBed),s.Fb(1),s.tc("ngForOf",o.lstRequiredExtraBed)}}function F(e,t){if(1&e){var i=s.Zb();s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Uc(4),s.Xb(),s.Yb(5,"td"),s.Uc(6),s.Xb(),s.Yb(7,"td"),s.Yb(8,"select",27),s.ic("change",function(e){s.Lc(i);var n=t.$implicit,o=t.rowIndex,a=s.mc(2);return a.LoadReqExtraBed(n,o),a.bookRoom(e,n,o)})("ngModelChange",function(e){return t.$implicit.RequiredRooms=e}),s.Sc(9,U,2,2,"option",28),s.Xb(),s.Xb(),s.Yb(10,"td"),s.Sc(11,w,2,3,"select",29),s.Xb(),s.Xb()}if(2&e){var n=t.$implicit,o=t.rowIndex;s.Fb(2),s.Vc(n.RoomTypeName),s.Fb(2),s.Vc(n.RoomPrice),s.Fb(2),s.Vc(n.NumberOfRooms),s.Fb(2),s.vc("name","ddlRequiredRooms_",o,""),s.tc("ngModel",n.RequiredRooms),s.Fb(1),s.tc("ngForOf",n.lstRequiredRooms),s.Fb(2),s.tc("ngIf",1==n.IsExtraBedApplicable)}}var Y=function(){return["RoomTypeName"]};function X(e,t){if(1&e&&(s.Yb(0,"div",14),s.Yb(1,"div",15),s.Yb(2,"p-table",16,17),s.Sc(4,R,4,0,"ng-template",18),s.Sc(5,T,3,1,"ng-template",19),s.Sc(6,B,10,1,"ng-template",20),s.Sc(7,F,12,7,"ng-template",21),s.Xb(),s.Xb(),s.Xb()),2&e){var i=s.mc();s.Fb(2),s.tc("value",i.lstRoomMaster)("rowHover",!0)("globalFilterFields",s.yc(4,Y))("scrollable",!0)}}function L(e,t){if(1&e&&(s.Yb(0,"li"),s.Uc(1),s.Xb()),2&e){var i=t.$implicit;s.Fb(1),s.Vc(i.Description)}}function O(e,t){1&e&&(s.Yb(0,"div",46),s.Yb(1,"label",47),s.Yb(2,"h3"),s.Uc(3,"No. of Package"),s.Xb(),s.Xb(),s.Xb())}function x(e,t){if(1&e){var i=s.Zb();s.Yb(0,"div",50),s.Yb(1,"p-inputNumber",51),s.ic("ngModelChange",function(e){return s.Lc(i),s.mc().$implicit.pckg.Qty=e}),s.Xb(),s.Xb()}if(2&e){var n=s.mc().$implicit,o=s.mc(2);s.Fb(1),s.tc("ngModel",n.pckg.Qty)("min",1)("max",o.GroupCount)}}function _(e,t){if(1&e){var i=s.Zb();s.Yb(0,"div"),s.Yb(1,"div",38),s.Yb(2,"div",39),s.Yb(3,"h2"),s.Uc(4),s.Xb(),s.Tb(5,"br"),s.Yb(6,"h5"),s.Uc(7),s.Xb(),s.Yb(8,"ul"),s.Sc(9,L,2,1,"li",40),s.Xb(),s.Xb(),s.Yb(10,"div",41),s.Yb(11,"div",42),s.Yb(12,"div",15),s.Yb(13,"h2",43),s.Uc(14),s.Yb(15,"span"),s.Uc(16),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(17,"div",42),s.Yb(18,"div",44),s.Yb(19,"p-checkbox",45),s.ic("ngModelChange",function(e){return t.$implicit.IsSelected=e})("onChange",function(e){return s.Lc(i),s.mc(2).EmitPackage(e)}),s.Xb(),s.Xb(),s.Yb(20,"div",46),s.Yb(21,"label",47),s.Yb(22,"h3"),s.Uc(23,"Include Package"),s.Xb(),s.Xb(),s.Xb(),s.Sc(24,O,4,0,"div",48),s.Sc(25,x,2,3,"div",49),s.Xb(),s.Xb(),s.Xb(),s.Xb()}if(2&e){var n=t.$implicit,o=t.index,a=s.mc(2);s.Hb(0==o?"carousel-item active":"carousel-item"),s.Fb(4),s.Vc(n.pckg.PackageName),s.Fb(3),s.Wc("This Package Includes ",n.pckg.ServiceInludes,""),s.Fb(2),s.tc("ngForOf",n.pckgDet),s.Fb(5),s.Wc("Actual Cost - ",n.pckg.ActualPrice*n.pckg.Qty,"/-"),s.Fb(2),s.Wc("Offer Price - ",n.pckg.SellingPrice*n.pckg.Qty,"/- "),s.Fb(3),s.tc("ngModel",n.IsSelected),s.Fb(5),s.tc("ngIf",n.IsSelected&&a.IsGrouped),s.Fb(1),s.tc("ngIf",n.IsSelected&&a.IsGrouped)}}function E(e,t){1&e&&(s.Yb(0,"button",52),s.Tb(1,"span",53),s.Yb(2,"span",54),s.Uc(3,"Previous"),s.Xb(),s.Xb())}function G(e,t){1&e&&(s.Yb(0,"button",55),s.Tb(1,"span",56),s.Yb(2,"span",54),s.Uc(3,"Next"),s.Xb(),s.Xb())}function W(e,t){if(1&e&&(s.Yb(0,"div",31),s.Yb(1,"div",32),s.Yb(2,"div",33),s.Yb(3,"div",34),s.Sc(4,_,26,11,"div",35),s.Xb(),s.Sc(5,E,4,0,"button",36),s.Sc(6,G,4,0,"button",37),s.Xb(),s.Xb(),s.Xb()),2&e){var i=s.mc();s.Fb(4),s.tc("ngForOf",i.lstPackageMasterDetails),s.Fb(1),s.tc("ngIf",(null==i.lstPackageMasterDetails?null:i.lstPackageMasterDetails.length)>1),s.Fb(1),s.tc("ngIf",(null==i.lstPackageMasterDetails?null:i.lstPackageMasterDetails.length)>1)}}var V=function(){var e=function(e){a(i,e);var t=r(i);function i(e,n,o,a,r,c,u,h){var b;return d(this,i),(b=t.call(this)).cdRef=e,b.datePipe=n,b._masterService=o,b._roomServices=a,b._UtilityService=r,b._ConstantService=c,b._MasterServices=u,b._DoctorServices=h,b.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,b.BookingSource="Patient",b.IsExtended=!1,b.roomBookClick=new s.o,b.EmitSelectedPackage=new s.o,b.EmitPermittedBy=new s.o,b.IsGrouped=!1,b.customDateFormat=l.h,b.statusnew=0,b.RoomMasterModel={},b.roomBookingMasterModel={},b.lstRequiredRooms=[],b.lstRequiredExtraBed=[],b.ExtraBedCharges={},b.OtherCharges=[],b.startdate=b._UtilityService.CUR_SERVER_TIME,b.today=b._UtilityService.CUR_SERVER_TIME,b.maxUpto=b._UtilityService.CUR_SERVER_TIME,b.MinYear=b._UtilityService.CUR_SERVER_TIME.getFullYear(),b.MaxYear=b._UtilityService.CUR_SERVER_TIME.getFullYear()+1,b.permittedBy=null,b.checkMaxUpto=!1,b.ClinicMaster={},b.MaxAllowedGroupMembers=1,b.lstPackageMaster=[],b.ShowOfferModel=!1,b.selectedMCODE=null,b.selectedPackage=null,b.lstPackageMasterDetails=[],b.lstDoctorMster=[],b}return o(i,[{key:"ngOnInit",value:function(){return Object(n.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._UtilityService.GetCurrentServerTime();case 2:this._UtilityService.CUR_SERVER_TIME=e.sent,this.LoadClinicDetails(),this.LoadPackageMasterByClinic(),this.LoadAllDoctorListByClinic(),null!=localStorage.getItem("BookRoomPeriodFrom")&&(this.dFrom=new Date(localStorage.getItem("BookRoomPeriodFrom")),this.IsExtended&&((t=new Date(this.dFrom)).setDate(t.getDate()+1),this.maxUpto=t>this.maxUpto?t:this.maxUpto,this.MaxYear=this.maxUpto.getFullYear()+1),this.IsExtended||((t=new Date(this.dFrom)).setDate(t.getDate()+("Frontdesk"==this.BookingSource?1:7)),this.maxUpto=t,this.MaxYear=this.maxUpto.getFullYear()+1),null!=localStorage.getItem("BookRoomPeriodUpto")&&(this.dTo=new Date(localStorage.getItem("BookRoomPeriodUpto")),this.calculateDiff(!1),this.LoadRoomList(this.dFrom,this.dTo)));case 7:case"end":return e.stop()}},e,this)}))}},{key:"LoadClinicDetails",value:function(){var e=this;this.unsubscribe.add=this._masterService.GetClinicMasterById(this.ClinicId).subscribe(function(t){var i;if(1==t.actionResult.success){var n=JSON.parse(t.actionResult.result);if(e.ClinicMaster=n=n||[],e.MaxAllowedGroupMembers=null==(null===(i=e.ClinicMaster)||void 0===i?void 0:i.MaxGroupMemberAllowed)?1:e.ClinicMaster.MaxGroupMemberAllowed,"Patient"===e.BookingSource&&null!=e.ClinicMaster.BookingStartDate&&null!=e.ClinicMaster.BookingStartDate&&""!=e.ClinicMaster.BookingStartDate){var o=new Date(e.today)>new Date(e.ClinicMaster.BookingStartDate)?new Date(e.today):new Date(e.ClinicMaster.BookingStartDate);e.today=o,e.MinYear=e.today.getFullYear(),e.checkMaxUpto||(e.maxUpto=e.today),e.MaxYear=e.maxUpto.getFullYear()+1,e.checkMaxUpto=!1}}e.cdRef.detectChanges()})}},{key:"LoadAllDoctorListByClinic",value:function(){var e=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.GetDoctorListByClinicId(this.ClinicId).subscribe(function(t){if(e._UtilityService.hideSpinner(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstDoctorMster=i=i||[],e.cdRef.detectChanges()}else e._UtilityService.showWarningAlert(t.actionResult.errMsg),e.lstDoctorMster=[],e.cdRef.detectChanges()},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"GetRequiredRooms",value:function(e){this.lstRequiredRooms=[];for(var t=0;e>=t;)this.lstRequiredRooms.push({requiredRooms:t}),t+=1}},{key:"LoadRoomList",value:function(e,t){var i=this;this.LoadClinicDetails(),this._UtilityService.showSpinner(),this.unsubscribe.add=this._roomServices.GetRoomMaster(this.datePipe.transform(e,"MM-dd-yyyy"),this.datePipe.transform(t,"MM-dd-yyyy"),this.ClinicId,this.SlotId,this.IsExtended).subscribe(function(e){var t,n;if(i._UtilityService.hideSpinner(),i.cdRef.detectChanges(),1==e.actionResult.success){var o=JSON.parse(e.actionResult.result);i.lstRoomMaster=o=o||[];var a=JSON.parse(e.actionResult.result2);i.ExtraBedCharges=a=a||[];var s=JSON.parse(e.actionResult.result3);if(i.OtherCharges=s=s||[],(null===(t=i.lstRoomMaster)||void 0===t?void 0:t.length)>0&&"Patient"==i.BookingSource){var r=i.lstRoomMaster.filter(function(e){return 1==e.IsVisibletoCustomer});i.lstRoomMaster=(null==r?void 0:r.length)>0?r:[]}var c=["116100","116101"];(null===(n=i.lstRoomMaster)||void 0===n?void 0:n.length)>0&&i.lstRoomMaster.forEach(function(e){var t="61e10868cd3935b441059215"==i.ClinicId&&l.s.Patient==localStorage.getItem("userTypeId")?1:e.NumberOfRooms>i.MaxAllowedGroupMembers?i.MaxAllowedGroupMembers:e.NumberOfRooms;i.GetRequiredRooms(t),e.RequiredRooms=0,e.lstRequiredRooms=i.lstRequiredRooms,"61e10868cd3935b441059215"==i.ClinicId&&l.s.Patient==localStorage.getItem("userTypeId")&&c.indexOf(e.MCODE)<0&&(e.IsExtraBedApplicable=0)}),i.cdRef.detectChanges()}else i._UtilityService.showWarningAlert(e.actionResult.errMsg),i.lstRoomMaster=null,i.cdRef.detectChanges()}),this.roomBookClick.emit(null)}},{key:"ShowAvailableRooms",value:function(){""!==this.ClinicId&&null!=this.ClinicId?this.noofdays<7&&"Frontdesk"!=this.BookingSource?this._UtilityService.showWarningAlert("IPD Should be minimum 7 Days"):this.LoadRoomList(this.dFrom,this.dTo):this._UtilityService.showWarningAlert("Please select center")}},{key:"calculateDiff",value:function(e){var t=this.dFrom;e&&null!=this.dFrom&&null!=this.dFrom&&(this.dTo=new Date(this.dFrom),this.dTo.setDate(this.dTo.getDate()+7),this.checkMaxUpto=!0);var i=this.dTo;if(null!=t&&null!=t){var n=new Date(new Date(this.dFrom));n.setDate(n.getDate()+("Frontdesk"==this.BookingSource?1:7)),this.maxUpto=n,this.MaxYear=this.maxUpto.getFullYear()+1}if(null!=t&&null!=t&&null!=i&&null!=i){t>i&&(t=i,this.dFrom=i);var o=new Date(this.datePipe.transform(this.dFrom,"yyyy-MM-dd")),a=new Date(this.datePipe.transform(this.dTo,"yyyy-MM-dd")),s=Math.floor((a-o)/864e5);this.noofdays=s,this.cdRef.detectChanges(),this.ShowAvailableRooms()}}},{key:"LoadReqExtraBed",value:function(e,t){if(this.lstRequiredExtraBed=[],e.RequiredRooms>0){for(var i=0;e.RequiredRooms>=i;)this.lstRequiredExtraBed.push({requiredExbed:i}),i+=1;this.lstRequiredExtraBed.length>0?(this.lstRoomMaster[t].lstRequiredExtraBed=this.lstRequiredExtraBed,this.lstRoomMaster[t].RequiredExtraBed=0):(this.lstRoomMaster[t].lstRequiredExtraBed=[],this.lstRoomMaster[t].RequiredExtraBed=0)}else this.lstRoomMaster[t].lstRequiredExtraBed=[],this.lstRoomMaster[t].RequiredExtraBed=0}},{key:"bookRoom",value:function(e,t,i){var n,o,a={RoomBookFromDate:new Date(Date.parse(this.datePipe.transform(this.dFrom,"yyyy-MM-dd"))),RoomBookToDate:new Date(Date.parse(this.datePipe.transform(this.dTo,"yyyy-MM-dd"))),Index:i,RoomTypeId:t.RoomTypeId,RoomPrice:t.RoomPrice,NumberOfRooms:t.NumberOfRooms,RequiredRooms:Number(t.RequiredRooms>t.NumberOfRooms?t.NumberOfRooms:t.RequiredRooms),RequiredExtraBed:null==t.RequiredExtraBed||null==t.RequiredExtraBed?0:Number(t.RequiredExtraBed),Status:1,DaysCount:this.noofdays,PermittedBy:this.IsExtended?this.permittedBy:null,GST:t.GST,PriceWithGST:t.PriceWithGST,DiscountAmount:t.DiscountAmount,MCODE:t.MCODE,RoomTypeName:t.RoomTypeName,ExbedMCODE:this.ExtraBedCharges.MCODE,ExbedPriceWithGST:null==t.ExtraBedMRP||null==t.ExtraBedMRP||0==t.ExtraBedMRP?this.ExtraBedCharges.PriceWithGST:t.ExtraBedMRP,RoomOtherCharges:t.RoomOtherCharges,RoomOtherChargesExb:null==t.ExtraBedOtherCharges||null==t.ExtraBedOtherCharges||0==t.ExtraBedOtherCharges?this.ExtraBedCharges.RoomOtherCharges:t.ExtraBedOtherCharges,DefaultBed:null==t.NumberOfBeds||null==t.NumberOfBeds?0:Number(t.NumberOfBeds),IPDRegMCODE:null===(n=this.OtherCharges.find(function(e){return e.MCODE==l.i.IPDRegistrationCharge}))||void 0===n?void 0:n.MCODE,IPDRegPriceWithGST:null===(o=this.OtherCharges.find(function(e){return e.MCODE==l.i.IPDRegistrationCharge}))||void 0===o?void 0:o.PriceWithGST};this.roomBookClick.emit(a)}},{key:"OnInputDaysChange",value:function(){var e;this._ConstantService.nullToZeroConverter(this.noofdays)<=0?(this.dFrom=this.dFrom=new Date,(e=new Date(this.dFrom)).setDate(e.getDate()+1),this.dTo=e,this.calculateDiff(!1)):(null!=this.dFrom&&null!=this.dFrom||(this.dFrom=new Date),(e=new Date(this.dFrom)).setDate(e.getDate()+this._ConstantService.nullToZeroConverter(this.noofdays)),this.dTo=e,this.calculateDiff(!1))}},{key:"LoadPackageMasterByClinic",value:function(){var e=this;this.selectedMCODE=null,this.selectedPackage=null,this.lstPackageMaster=[],this.lstPackageMasterDetails=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetPackageMaster(this.ClinicId,!0,!0).subscribe(function(t){if(e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstPackageMaster=i=i||[];var n=JSON.parse(t.actionResult.result2);e.lstPackageMasterDetails=n=n||[],e.lstPackageMasterDetails.forEach(function(e){return e.pckg.Qty=1}),e.cdRef.detectChanges()}},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"emitPermittedBy",value:function(e){this.EmitPermittedBy.emit(e.value)}},{key:"EmitPackage",value:function(e){this._UtilityService.showSuccessAlert(1==e.checked?"Package Included.":"Package Discluded.");var t={};t.Package=this.lstPackageMasterDetails.filter(function(e){return 1==e.IsSelected}),this.lstPackageMasterDetails.filter(function(e){return 0==e.IsSelected}).forEach(function(e){return e.pckg.Qty=1}),this.EmitSelectedPackage.emit(t)}}]),i}(c.a);return e.\u0275fac=function(t){return new(t||e)(s.Sb(s.h),s.Sb(u.f),s.Sb(h.a),s.Sb(b.a),s.Sb(m.a),s.Sb(l.f),s.Sb(h.a),s.Sb(g.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-room-book-public"]],inputs:{ClinicId:"ClinicId",SlotId:"SlotId",BookingSource:"BookingSource",IsExtended:"IsExtended",GroupCount:"GroupCount",IsGrouped:"IsGrouped"},outputs:{roomBookClick:"roomBookClick",EmitSelectedPackage:"EmitSelectedPackage",EmitPermittedBy:"EmitPermittedBy"},features:[s.Cb],decls:25,vars:38,consts:[["action",""],[1,"row","m-0"],[1,"col","col-md-3","col-12"],[1,"form-group"],["for",""],[1,"required"],["appendTo","body","inputId","icon","name","dFrom",3,"yearNavigator","monthNavigator","yearRange","minDate","ngModel","ngModelOptions","showIcon","disabled","dateFormat","readonlyInput","ngModelChange","onClose"],["calendar",""],["appendTo","body","inputId","icon","name","dTo",3,"yearNavigator","monthNavigator","yearRange","minDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onClose"],["mode","decimal",1,"w-100",3,"disabled","ngModel","min","useGrouping","ngModelOptions","ngModelChange","onBlur"],["class","col col-md-3 col-12",4,"ngIf"],["class","row m-0 mb-3",4,"ngIf"],["class","row m-0","style","height:auto;",4,"ngIf"],["appendTo","body","optionLabel","FullName","optionValue","UserId",3,"options","ngModel","ngModelOptions","showClear","filter","filterBy","filterMatchMode","placeholder","ngModelChange","onChange"],[1,"row","m-0","mb-3"],[1,"col-md-12"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],[1,"p-input-icon-left","p-ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[4,"ngIf"],[1,"form-control",3,"name","ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","form-control",3,"name","ngModel","change","ngModelChange",4,"ngIf"],[3,"value"],[1,"row","m-0",2,"height","auto"],[1,"col-md-8"],["id","carouselExampleControls","data-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[3,"class",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button","data-target","#carouselExampleControls","data-slide","prev",4,"ngIf"],["class","carousel-control-next","type","button","data-target","#carouselExampleControls","data-slide","next",4,"ngIf"],[1,"offer-box"],[1,"offer-text"],[4,"ngFor","ngForOf"],[1,"offer-price"],[1,"row"],[1,"mb-2"],[1,"col-md-1","text-left","mt-2"],["binary","true","inputId","binary",1,"chkbox",3,"ngModel","ngModelChange","onChange"],[1,"col-md-3","text-left"],["for","ny",1,"text-left","bold"],["class","col-md-3 text-left",4,"ngIf"],["class","col-md-1 text-left",4,"ngIf"],[1,"col-md-1","text-left"],["inputId","minmax","mode","decimal",1,"InpNumSize",3,"ngModel","min","max","ngModelChange"],["type","button","data-target","#carouselExampleControls","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["type","button","data-target","#carouselExampleControls","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(e,t){1&e&&(s.Yb(0,"div"),s.Yb(1,"form",0),s.Yb(2,"div",1),s.Yb(3,"div",2),s.Yb(4,"div",3),s.Yb(5,"label",4),s.Uc(6,"Admission Date: "),s.Yb(7,"span",5),s.Uc(8,"*"),s.Xb(),s.Xb(),s.Yb(9,"p-calendar",6,7),s.ic("ngModelChange",function(e){return t.dFrom=e})("onClose",function(){return t.calculateDiff(!0)}),s.Xb(),s.Xb(),s.Xb(),s.Yb(11,"div",2),s.Yb(12,"div",3),s.Yb(13,"label",4),s.Uc(14,"Discharge Date:"),s.Xb(),s.Yb(15,"p-calendar",8,7),s.ic("ngModelChange",function(e){return t.dTo=e})("onClose",function(){return t.calculateDiff(!1)}),s.Xb(),s.Xb(),s.Xb(),s.Yb(17,"div",2),s.Yb(18,"div",3),s.Yb(19,"label",4),s.Uc(20,"No of Nights:"),s.Xb(),s.Yb(21,"p-inputNumber",9),s.ic("ngModelChange",function(e){return t.noofdays=e})("onBlur",function(){return t.OnInputDaysChange()}),s.Xb(),s.Xb(),s.Xb(),s.Sc(22,D,8,12,"div",10),s.Xb(),s.Xb(),s.Xb(),s.Sc(23,X,8,5,"div",11),s.Sc(24,W,7,3,"div",12)),2&e&&(s.Fb(9),s.Pc(s.yc(33,C)),s.wc("yearRange","",t.MinYear,":",t.MaxYear,""),s.tc("yearNavigator",!0)("monthNavigator",!0)("minDate",t.today)("ngModel",t.dFrom)("ngModelOptions",s.yc(34,P))("showIcon",!0)("disabled",t.IsExtended)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!1),s.Fb(6),s.Pc(s.yc(35,C)),s.wc("yearRange","",t.MinYear,":",t.MaxYear,""),s.tc("yearNavigator",!0)("monthNavigator",!0)("minDate",t.maxUpto)("ngModel",t.dTo)("ngModelOptions",s.yc(36,P))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!1),s.Fb(6),s.tc("disabled","Patient"==t.BookingSource)("ngModel",t.noofdays)("min",1)("useGrouping",!1)("ngModelOptions",s.yc(37,P)),s.Fb(1),s.tc("ngIf",t.IsExtended),s.Fb(1),s.tc("ngIf",(null==t.lstRoomMaster?null:t.lstRoomMaster.length)>0),s.Fb(1),s.tc("ngIf",(null==t.lstPackageMasterDetails?null:t.lstPackageMasterDetails.length)>0&&0==t.IsExtended))},directives:[p.z,p.p,p.q,f.a,p.o,p.r,S.a,u.p,y.a,v.c,I.i,M.a,p.x,u.o,p.s,p.A,k.a],styles:[""]}),e}()},JpZ1:function(e,t,i){"use strict";i.d(t,"a",function(){return I});var n,o,a=i("ofXK"),s=i("tyNb"),r=i("5QKP"),l=i("fXoL"),c=[{path:"",component:r.a}],u=((n=function e(){d(this,e)}).\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.Qb({type:n}),n.\u0275inj=l.Pb({imports:[[s.l.forChild(c)],s.l]}),n),h=i("3Pt+"),b=i("rEr+"),m=i("jIHw"),g=i("eO1q"),p=i("7kUa"),f=i("Ks7X"),S=i("/RsI"),y=i("Ji6n"),v=i("arFO"),I=((o=function e(){d(this,e)}).\u0275fac=function(e){return new(e||o)},o.\u0275mod=l.Qb({type:o}),o.\u0275inj=l.Pb({imports:[[a.c,u,h.i,b.f,m.c,g.b,p.b,f.b,S.b,y.b,v.b]]}),o)},"OUA+":function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n,o,a=i("ofXK"),s=i("tyNb"),r=i("yd5W"),l=i("fXoL"),c=[{path:"",component:r.a}],u=((n=function e(){d(this,e)}).\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.Qb({type:n}),n.\u0275inj=l.Pb({imports:[[s.l.forChild(c)],s.l]}),n),h=i("rEr+"),b=i("jIHw"),m=i("3Pt+"),g=i("arFO"),p=i("lVkt"),f=((o=function e(){d(this,e)}).\u0275fac=function(e){return new(e||o)},o.\u0275mod=l.Qb({type:o}),o.\u0275inj=l.Pb({imports:[[a.c,u,m.i,h.f,b.c,g.b,p.b]]}),o)},c5et:function(t,i,n){"use strict";n.r(i),n.d(i,"HealthSeekeerRegistrationModule",function(){return oa});var s=n("ofXK"),l=n("tyNb"),c=n("mrSG"),u=n("Nach"),h=n("aeiD"),b=n("dLU1"),m=n("CwUn"),g=n("fXoL"),p=n("dcBc"),f=n("eRWq"),S=n("ReGW"),y=n("7zAq"),v=n("G+wY"),I=n("3Pt+"),M=n("NLkC"),k=n("7zfz"),C=n("fHQ/"),P=n("/RsI"),D=n("arFO"),R=n("7kUa"),T=n("rEr+"),A=n("AAHA"),B=n("jIHw"),U=n("LuMj"),N=n("eO1q"),w=n("B16f"),F=n("58k3"),Y=n("lVkt"),X=n("Ji6n"),L=n("Ks7X"),O=n("5QKP"),x=n("yd5W"),_=n("Rtg/"),E=n("MHjV"),G=n("mcUO"),W=n("xjJ3"),V=n("btFH"),j=n("9oqr"),H=n("Ty8P"),q=n("Bj//"),Z=["myForm"],z=["dt"],Q=["filtr"];function J(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",20),g.ic("click",function(){return g.Lc(i),g.mc(3).AddNewAttendantDetails()}),g.Xb()}}function K(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",12),g.Sc(1,J,1,0,"button",13),g.Yb(2,"span",14),g.Uc(3),g.Xb(),g.Yb(4,"span",15),g.Uc(5),g.nc(6,"date"),g.nc(7,"date"),g.nc(8,"date"),g.nc(9,"date"),g.Yb(10,"span",16),g.Tb(11,"i",17),g.Yb(12,"input",18,19),g.ic("input",function(e){return g.Lc(i),g.mc(),g.Ic(5).filterGlobal(e.target.value,"contains")}),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(1),g.tc("ngIf",(null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.ReadWrite.toString()))&&n.slotStatus==n.bookingStatus[n.bookingStatus.Admitted]),g.Fb(2),g.Wc(" ",(null==n.lstAttendantDetails?null:n.lstAttendantDetails.length)>0?"Total Records: "+n.filteredValuesLength:""," "),g.Fb(2),g.Xc(" ","0001"==g.pc(6,4,n.slotperiodFrom,"yyyy")?"":g.pc(7,7,n.slotperiodFrom,n.customDateFormat.DEF_DATE)," to ","0001"==g.pc(8,10,n.slotperiodUpto,"yyyy")?"":g.pc(9,13,n.slotperiodUpto,n.customDateFormat.DEF_DATE)," ")}}function ee(e,t){if(1&e&&(g.Yb(0,"tr"),g.Yb(1,"td"),g.Uc(2," No records found "),g.Xb(),g.Xb()),2&e){var i=t.$implicit;g.Fb(1),g.Gb("colspan",null==i?null:i.length)}}function te(e,t){1&e&&(g.Yb(0,"colgroup"),g.Tb(1,"col",21),g.Tb(2,"col",22),g.Tb(3,"col",23),g.Tb(4,"col",21),g.Tb(5,"col",24),g.Tb(6,"col",24),g.Tb(7,"col",24),g.Tb(8,"col",24),g.Tb(9,"col",23),g.Xb())}function ie(e,t){1&e&&(g.Yb(0,"tr"),g.Yb(1,"th"),g.Uc(2,"Name"),g.Xb(),g.Yb(3,"th"),g.Uc(4,"Attendant No"),g.Xb(),g.Yb(5,"th"),g.Uc(6,"Age/Gender"),g.Xb(),g.Yb(7,"th"),g.Uc(8,"Relationship"),g.Xb(),g.Yb(9,"th"),g.Uc(10,"Contact No"),g.Xb(),g.Yb(11,"th"),g.Uc(12,"Check-In"),g.Xb(),g.Yb(13,"th"),g.Uc(14,"Check-Out"),g.Xb(),g.Yb(15,"th"),g.Uc(16,"Status"),g.Xb(),g.Yb(17,"th"),g.Uc(18,"Action"),g.Xb(),g.Xb())}function ne(e,t){if(1&e){var i=g.Zb();g.Yb(0,"i",28),g.ic("click",function(){g.Lc(i);var e=g.mc().$implicit;return g.mc(2).PrintGatePass(e.PatientAttendantDetailsId)}),g.Xb()}}function oe(e,t){if(1&e){var i=g.Zb();g.Yb(0,"i",29),g.ic("click",function(){g.Lc(i);var e=g.mc().$implicit;return g.mc(2).PrintAttIdCard(e.PatientAttendantDetailsId)}),g.Xb()}}function ae(e,t){if(1&e){var i=g.Zb();g.Yb(0,"tr"),g.Yb(1,"td"),g.Uc(2),g.Xb(),g.Yb(3,"td"),g.Uc(4),g.Xb(),g.Yb(5,"td"),g.Uc(6),g.Xb(),g.Yb(7,"td"),g.Uc(8),g.Xb(),g.Yb(9,"td"),g.Uc(10),g.Xb(),g.Yb(11,"td"),g.Uc(12),g.nc(13,"date"),g.nc(14,"date"),g.Xb(),g.Yb(15,"td"),g.Uc(16),g.nc(17,"date"),g.nc(18,"date"),g.Xb(),g.Yb(19,"td"),g.Uc(20),g.Xb(),g.Yb(21,"td"),g.Yb(22,"i",25),g.ic("click",function(){g.Lc(i);var e=t.$implicit;return g.mc(2).GetAttendantDetailsById(e.PatientAttendantDetailsId)}),g.Xb(),g.Sc(23,ne,1,0,"i",26),g.Sc(24,oe,1,0,"i",27),g.Xb(),g.Xb()}if(2&e){var n=t.$implicit,o=g.mc(2);g.Fb(2),g.Vc(n.AttendantName),g.Fb(2),g.Vc(n.AttendantNumber),g.Fb(2),g.Xc("",n.Age,"/",n.Gender,""),g.Fb(2),g.Vc(n.AttendantRelationship),g.Fb(2),g.Vc(n.AttendantContactNo),g.Fb(2),g.Wc(" ","0001"==g.pc(13,11,n.CheckedInDate,"yyyy")?"":g.pc(14,14,n.CheckedInDate,o.customDateFormat.DEF_DATE_TIME),""),g.Fb(4),g.Wc(" ","0001"==g.pc(17,17,n.CheckedOutDate,"yyyy")?"":g.pc(18,20,n.CheckedOutDate,o.customDateFormat.DEF_DATE_TIME),""),g.Fb(4),g.Vc(o.bookingStatus[n.Status]),g.Fb(3),g.tc("ngIf",null==o.lstIAccessStr?null:o.lstIAccessStr.includes(o.ActionList.Print.toString())),g.Fb(1),g.tc("ngIf",null==o.lstIAccessStr?null:o.lstIAccessStr.includes(o.ActionList.Print.toString()))}}var se=function(){return["ClinicName","ContactDetails","OrderNo","Status"]};function re(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",1),g.Yb(1,"div",2),g.Yb(2,"div",3),g.Yb(3,"div",4),g.Yb(4,"p-table",5,6),g.ic("onFilter",function(e){g.Lc(i);var t=g.Ic(5);return g.mc().onFilter(e,t)}),g.Sc(6,K,14,16,"ng-template",7),g.Sc(7,ee,3,1,"ng-template",8),g.Sc(8,te,10,0,"ng-template",9),g.Sc(9,ie,19,0,"ng-template",10),g.Sc(10,ae,25,23,"ng-template",11),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(4),g.tc("value",n.lstAttendantDetails)("rowHover",!0)("globalFilterFields",g.yc(4,se))("scrollable",!0)}}function le(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",33),g.Yb(1,"div",34),g.Yb(2,"label",35),g.Uc(3,"ID Proof Details "),g.Yb(4,"span",36),g.Uc(5,"*"),g.Xb(),g.Xb(),g.Yb(6,"input",54,55),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).AttendantDetails.AttendantIdProofNo=e})("keypress",function(e){return g.Lc(i),g.mc(2).validateTextNumeric(e)}),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(6),g.tc("ngModel",n.AttendantDetails.AttendantIdProofNo)}}function ce(e,t){1&e&&(g.Yb(0,"div"),g.Uc(1,"Please Enter 10 digit Mobile Number."),g.Xb())}function de(e,t){if(1&e&&(g.Yb(0,"div",56),g.Sc(1,ce,2,0,"div",57),g.Xb()),2&e){g.mc();var i=g.Ic(46);g.Fb(1),g.tc("ngIf",i.errors.pattern)}}function ue(e,t){1&e&&(g.Yb(0,"div"),g.Uc(1,"Please Enter Valid Email Id."),g.Xb())}function he(e,t){if(1&e&&(g.Yb(0,"div",56),g.Sc(1,ue,2,0,"div",57),g.Xb()),2&e){g.mc();var i=g.Ic(53);g.Fb(1),g.tc("ngIf",i.errors.pattern)}}var be=function(){return{standalone:!0}};function me(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",33),g.Yb(1,"div",34),g.Yb(2,"label",48),g.Uc(3,"Check-Out Time"),g.Xb(),g.Yb(4,"p-calendar",58),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).AttendantDetails.CheckedOutDate=e}),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(4),g.tc("ngModel",n.AttendantDetails.CheckedOutDate)("minDate",n.AttendantDetails.CheckedInDate)("maxDate",null==n.maxUpto&&null==n.maxUpto?null:n.maxUpto)("ngModelOptions",g.yc(8,be))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!0)("showTime",!0)}}function ge(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",59),g.ic("click",function(){return g.Lc(i),g.mc(2).SaveAttendantDetails()}),g.Uc(1,"Submit"),g.Xb()}if(2&e){g.mc();var n=g.Ic(5);g.tc("disabled",!n.form.valid)}}var pe=function(){return{width:"100%"}};function fe(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",1),g.Yb(1,"div",30),g.Yb(2,"div",3),g.Yb(3,"div",4),g.Yb(4,"form",null,31),g.Yb(6,"div",32),g.Yb(7,"div",33),g.Yb(8,"div",34),g.Yb(9,"label",35),g.Uc(10,"Attendant Name "),g.Yb(11,"span",36),g.Uc(12,"*"),g.Xb(),g.Xb(),g.Yb(13,"input",37),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().AttendantDetails.AttendantName=e})("keypress",function(e){return g.Lc(i),g.mc().validateText(e)}),g.Xb(),g.Xb(),g.Xb(),g.Yb(14,"div",33),g.Yb(15,"div",34),g.Yb(16,"label",35),g.Uc(17,"Age (in Year) "),g.Yb(18,"span",36),g.Uc(19,"*"),g.Xb(),g.Xb(),g.Yb(20,"p-inputNumber",38),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().AttendantDetails.Age=e}),g.Xb(),g.Xb(),g.Xb(),g.Yb(21,"div",33),g.Yb(22,"div",34),g.Yb(23,"label",35),g.Uc(24,"Gender "),g.Yb(25,"span",36),g.Uc(26,"*"),g.Xb(),g.Xb(),g.Yb(27,"p-dropdown",39),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().AttendantDetails.Gender=e}),g.Xb(),g.Xb(),g.Xb(),g.Yb(28,"div",33),g.Yb(29,"div",34),g.Yb(30,"label",35),g.Uc(31,"ID Proof "),g.Yb(32,"span",36),g.Uc(33,"*"),g.Xb(),g.Xb(),g.Yb(34,"p-dropdown",40),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().AttendantDetails.AttendantIdProof=e}),g.Xb(),g.Xb(),g.Xb(),g.Sc(35,le,8,1,"div",41),g.Yb(36,"div",33),g.Yb(37,"div",34),g.Yb(38,"label",35),g.Uc(39,"Relationship "),g.Xb(),g.Yb(40,"input",42),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().AttendantDetails.AttendantRelationship=e})("keypress",function(e){return g.Lc(i),g.mc().validateText(e)}),g.Xb(),g.Xb(),g.Xb(),g.Yb(41,"div",33),g.Yb(42,"div",34),g.Yb(43,"label",35),g.Uc(44,"Mobile No"),g.Xb(),g.Yb(45,"input",43,44),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().AttendantDetails.AttendantContactNo=e})("keypress",function(e){return g.Lc(i),g.mc().validateNumber(e)}),g.Xb(),g.Sc(47,de,2,1,"div",45),g.Xb(),g.Xb(),g.Yb(48,"div",33),g.Yb(49,"div",34),g.Yb(50,"label",35),g.Uc(51,"Email"),g.Xb(),g.Yb(52,"input",46,47),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().AttendantDetails.AttendantEmail=e}),g.Xb(),g.Sc(54,he,2,1,"div",45),g.Xb(),g.Xb(),g.Yb(55,"div",33),g.Yb(56,"div",34),g.Yb(57,"label",48),g.Uc(58,"Check-In Time "),g.Yb(59,"span",36),g.Uc(60,"*"),g.Xb(),g.Xb(),g.Yb(61,"p-calendar",49),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().AttendantDetails.CheckedInDate=e}),g.Xb(),g.Xb(),g.Xb(),g.Sc(62,me,5,9,"div",41),g.Yb(63,"div",33),g.Yb(64,"div",34),g.Yb(65,"label",35),g.Uc(66,"Status"),g.Yb(67,"span",36),g.Uc(68,"*"),g.Xb(),g.Xb(),g.Yb(69,"p-dropdown",50),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().AttendantDetails.Status=e}),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Yb(70,"div",51),g.Sc(71,ge,2,1,"button",52),g.Yb(72,"button",53),g.ic("click",function(){return g.Lc(i),g.mc().CloseModal()}),g.Uc(73,"Close"),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.Ic(46),o=g.Ic(53),a=g.mc();g.Fb(13),g.tc("ngModel",a.AttendantDetails.AttendantName),g.Fb(7),g.Pc(g.yc(43,pe)),g.tc("required",!0)("ngModel",a.AttendantDetails.Age)("min",0)("maxlength",2),g.Fb(7),g.Pc(g.yc(44,pe)),g.tc("required",!0)("options",a.stlstgender)("ngModel",a.AttendantDetails.Gender)("filter",!0),g.Fb(7),g.Pc(g.yc(45,pe)),g.tc("required",!0)("options",a.LstIdProofList)("ngModel",a.AttendantDetails.AttendantIdProof)("filter",!0),g.Fb(1),g.tc("ngIf",""!=a.AttendantDetails.AttendantIdProof),g.Fb(5),g.tc("ngModel",a.AttendantDetails.AttendantRelationship),g.Fb(5),g.tc("ngModel",a.AttendantDetails.AttendantContactNo),g.Fb(2),g.tc("ngIf",n.errors&&(n.touched||n.dirty)),g.Fb(5),g.tc("ngModel",a.AttendantDetails.AttendantEmail),g.Fb(2),g.tc("ngIf",o.errors&&(o.touched||o.dirty)),g.Fb(7),g.tc("required",!0)("ngModel",a.AttendantDetails.CheckedInDate)("minDate",null==a.minUpto&&null==a.minUpto?null:a.minUpto)("maxDate",null==a.maxUpto&&null==a.maxUpto?null:a.maxUpto)("ngModelOptions",g.yc(46,be))("showIcon",!0)("dateFormat",a.customDateFormat.CalendarFormat)("readonlyInput",!0)("showTime",!0)("disabled","Edit"==a.Mode),g.Fb(1),g.tc("ngIf","Edit"==a.Mode),g.Fb(7),g.Pc(g.yc(47,pe)),g.tc("required",!0)("options",a.stlstbookingstatus)("ngModel",a.AttendantDetails.Status)("filter",!0),g.Fb(2),g.tc("ngIf",(null==a.lstIAccessStr?null:a.lstIAccessStr.includes(a.ActionList.ReadWrite.toString()))&&a.slotStatus==a.bookingStatus[a.bookingStatus.Admitted])}}var Se,ye=((Se=function(e){a(i,e);var t=r(i);function i(e,n,o,a,s,r,l){var c;return d(this,i),(c=t.call(this)).cdRef=e,c.router=n,c.datepipe=o,c._MasterServices=a,c._ConstantServices=s,c._UtilityService=r,c._PatientServices=l,c.clinicId=null,c.slotBookingId=null,c.patientId=null,c.slotStatus=null,c.slotperiodFrom=null,c.slotperiodUpto=null,c.minUpto=null,c.maxUpto=null,c.filteredValuesLength=0,c.Mode=null,c.AttendantDetails={},c.LstIdProofList=[],c.stlstgender=[],c.stlstbookingstatus=[],c.bookingStatus=u.d,c.ClinicIdSelected=localStorage.getItem("ClinicId"),c.UserTypeCurre=localStorage.getItem("userTypeId"),c.userTypes=u.s,c.customDateFormat=u.h,c.ActionList=u.a,c.lstIAccess=[],c.lstIAccessStr=[],c.stlstgender=[{name:"Male",code:"Male"},{name:"Female",code:"Female"},{name:"Other",code:"Other"}],c.stlstbookingstatus=[{name:c.bookingStatus[c.bookingStatus.Admitted],code:c.bookingStatus.Admitted},{name:c.bookingStatus[c.bookingStatus.Discharged],code:c.bookingStatus.Discharged}],c.getPageLevelAccess(),c}return o(i,[{key:"getPageLevelAccess",value:function(){var e,t,i=this,n=this.getUrlWithoutParams(),o=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==o?void 0:o.find(function(e){return e.MenuItemURL===n}))&&(this.lstIAccess=null===(e=o.find(function(e){return e.MenuItemURL===n}))||void 0===e?void 0:e.ActionIAccess,(null===(t=this.lstIAccess)||void 0===t?void 0:t.length)>0&&this.lstIAccess.map(function(e){i.lstIAccessStr.push(e.ActionId.toString())}))}},{key:"getUrlWithoutParams",value:function(){var e=this.router.parseUrl(this.router.url);return e.queryParams={},e.fragment=null,e.toString()}},{key:"ngOnInit",value:function(){this.LoadIdProofList()}},{key:"ngOnChanges",value:function(e){this.clinicId=this.ClinicIdSelected,null!=this.slotperiodFrom&&null!=this.slotperiodFrom&&(this.minUpto=new Date(new Date(this.slotperiodFrom).getFullYear(),new Date(this.slotperiodFrom).getMonth(),new Date(this.slotperiodFrom).getDate(),0,0,0)),null!=this.slotperiodUpto&&null!=this.slotperiodUpto&&(this.maxUpto=new Date(new Date(this.slotperiodUpto).getFullYear(),new Date(this.slotperiodUpto).getMonth(),new Date(this.slotperiodUpto).getDate(),23,59,59)),this.GetAttendantDetails()}},{key:"LoadIdProofList",value:function(){var e=this;this.unsubscribe.add=this._MasterServices.GetIdProofMaster().subscribe(function(t){if(1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.LstIdProofList=i=i||[]}})}},{key:"GetAttendantDetails",value:function(){var e=this;null!=this.slotBookingId&&null!=this.slotBookingId&&""!=this.slotBookingId&&(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetAttendantDetails(this.slotBookingId).subscribe(function(t){var i;if(e._UtilityService.hideSpinner(),1==t.actionResult.success){var n=JSON.parse(t.actionResult.result);e.lstAttendantDetails=n=n||[],void 0!==e.filtr&&(e.filtr.nativeElement.value="",e.dataTable.reset(),e.filteredValuesLength=null===(i=e.lstAttendantDetails)||void 0===i?void 0:i.length),e.cdRef.detectChanges()}else e.lstAttendantDetails=[];e.cdRef.detectChanges()},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)}))}},{key:"GetAttendantDetailsById",value:function(e){var t=this;this.AttendantDetails={},this.Mode="Edit",this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetAttendantDetailsById(e).subscribe(function(e){var i,n;if(t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success){var o=JSON.parse(e.actionResult.result);t.AttendantDetails=o=o||[],null!=t.AttendantDetails.CheckedInDate&&null!=t.AttendantDetails.CheckedInDate&&(t.AttendantDetails.CheckedInDate=new Date(null===(i=t.AttendantDetails)||void 0===i?void 0:i.CheckedInDate)),null!=t.AttendantDetails.CheckedOutDate&&null!=t.AttendantDetails.CheckedOutDate&&(t.AttendantDetails.CheckedOutDate=new Date(null===(n=t.AttendantDetails)||void 0===n?void 0:n.CheckedOutDate)),t.cdRef.detectChanges()}},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"SaveAttendantDetails",value:function(){var e=this;if(this.AttendantDetails.ClinicId=this.clinicId,null!=this.AttendantDetails.ClinicId&&null!=this.AttendantDetails.ClinicId&&""!=this.AttendantDetails.ClinicId){var t=this.AttendantDetails.CheckedInDate,i=this.AttendantDetails.CheckedOutDate;if("Add"!=this.Mode||this.AttendantDetails.Status!=this.bookingStatus.Discharged){if("Edit"==this.Mode&&null==i||null==i){if(this.AttendantDetails.Status==this.bookingStatus.Discharged)return void this._UtilityService.showWarningAlert("Please select Check-Out Time")}else if("Edit"==this.Mode&&null!=i&&this.AttendantDetails.Status==this.bookingStatus.Admitted)return void this._UtilityService.showWarningAlert("Status should be Check-Out");this.AttendantDetails.CheckedInDate=new Date(Date.parse(this.datepipe.transform(t,"yyyy-MM-dd HH:mm:ss"))),this.AttendantDetails.CheckedOutDate=null==i||null==i?null:new Date(Date.parse(this.datepipe.transform(i,"yyyy-MM-dd HH:mm:ss"))),this.AttendantDetails.CreatedBy=localStorage.getItem("userId"),this.AttendantDetails.ModifiedBy=localStorage.getItem("userId"),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.AddUpdateAttendantDetails(this.AttendantDetails).subscribe(function(t){e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success?(e._UtilityService.showSuccessAlert(t.actionResult.errMsg),e.GetAttendantDetails(),e.Mode=null):e._UtilityService.showWarningAlert(t.actionResult.errMsg)},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}else this._UtilityService.showWarningAlert("Status should be Check-In")}else this._UtilityService.showWarningAlert("Please select center")}},{key:"AddNewAttendantDetails",value:function(){this.ResetModel(),this.Mode="Add",this.cdRef.detectChanges(),this.myForm.resetForm()}},{key:"ResetModel",value:function(){this.AttendantDetails={},this.AttendantDetails.SlotBookingId=this.slotBookingId,this.AttendantDetails.PatientId=this.patientId,this.AttendantDetails.CheckedInDate=new Date,this.AttendantDetails.Status=this.bookingStatus.Admitted}},{key:"CloseModal",value:function(){this.Mode=null}},{key:"PrintGatePass",value:function(e){window.open("#/print/gate-pass?UserId="+this.patientId+"&SlotBookingId="+this.slotBookingId+"&attendantId="+e)}},{key:"PrintAttIdCard",value:function(e){window.open("#/print/attendent-id-card?UserId="+this.patientId+"&SlotBookingId="+this.slotBookingId+"&attendantId="+e)}},{key:"onFilter",value:function(e,t){this.filteredValuesLength=e.filteredValue.length}}]),i}(m.a)).\u0275fac=function(e){return new(e||Se)(g.Sb(g.h),g.Sb(l.i),g.Sb(s.f),g.Sb(p.a),g.Sb(u.f),g.Sb(M.a),g.Sb(v.a))},Se.\u0275cmp=g.Mb({type:Se,selectors:[["app-attendant-details"]],viewQuery:function(e,t){var i;1&e&&(g.cd(Z,1),g.cd(z,1),g.cd(Q,1)),2&e&&(g.Hc(i=g.jc())&&(t.myForm=i.first),g.Hc(i=g.jc())&&(t.dataTable=i.first),g.Hc(i=g.jc())&&(t.filtr=i.first))},inputs:{clinicId:"clinicId",slotBookingId:"slotBookingId",patientId:"patientId",slotStatus:"slotStatus",slotperiodFrom:"slotperiodFrom",slotperiodUpto:"slotperiodUpto"},features:[g.Cb,g.Db],decls:2,vars:2,consts:[["class","row mt25",4,"ngIf"],[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","calc(100vh - 165px)",3,"value","rowHover","globalFilterFields","scrollable","onFilter"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["pButton","","title","New","label","Add New","class","p-button-outlined","icon","pi pi-plus",3,"click",4,"ngIf"],[1,"pl-1","pt-3","mr-2","p-ml-left"],[1,"p-ml-auto"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["filtr",""],["pButton","","title","New","label","Add New","icon","pi pi-plus",1,"p-button-outlined",3,"click"],[2,"width","100px"],[2,"width","120px"],[2,"width","90px"],[2,"width","140px"],["title","View/Edit",1,"fas","fa-fw","fa-pencil-alt","mr-2",3,"click"],["title","Print","class","fa fa-print mr-2",3,"click",4,"ngIf"],["title","Print ID Card","class","fa fa-print mr-2",3,"click",4,"ngIf"],["title","Print",1,"fa","fa-print","mr-2",3,"click"],["title","Print ID Card",1,"fa","fa-print","mr-2",3,"click"],[1,"col"],["myForm","ngForm"],[1,"row"],[1,"col","col-md-3","col-12"],[1,"form-group"],["for",""],[1,"required"],["required","","type","text","placeholder","Attendant Name","name","txtAttendantName",1,"form-control",3,"ngModel","ngModelChange","keypress"],["name","txtAge","mode","decimal",3,"required","ngModel","min","maxlength","ngModelChange"],["name","ddlGender","optionLabel","name","optionValue","code","placeholder","Please Select Gender",3,"required","options","ngModel","filter","ngModelChange"],["name","ddlIdProofName","appendTo","body","optionLabel","IdProofName","optionValue","IdProofId","placeholder","Please Select Id Proof",3,"required","options","ngModel","filter","ngModelChange"],["class","col col-md-3 col-12",4,"ngIf"],["type","text","placeholder","Relationship","name","txtRelship",1,"form-control",3,"ngModel","ngModelChange","keypress"],["type","text","maxlength","10","minlength","10","placeholder","Mobile Number","name","txtAttendantMobNo","pattern","[0-9]{10}$",1,"form-control",3,"ngModel","ngModelChange","keypress"],["attmobileref","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","email","placeholder","Email","name","txtEmailAdd","pattern","[A-za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,3}$",1,"form-control",3,"ngModel","ngModelChange"],["emailAttref","ngModel"],["for","",1,"form-label","bold"],["appendTo","body","inputId","icon","hourFormat","12",1,"iconcal",3,"required","ngModel","minDate","maxDate","ngModelOptions","showIcon","dateFormat","readonlyInput","showTime","disabled","ngModelChange"],["name","ddlbookingstatus","appendTo","body","optionLabel","name","optionValue","code","placeholder","Please Select Status",3,"required","options","ngModel","filter","ngModelChange"],[1,"row","justify-content-center"],["type","button","class","btn btn-new-primary mr-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn-new-secondary",3,"click"],["required","","type","text","placeholder","ID number","name","txtFIdproof","maxlength","20",1,"form-control",3,"ngModel","ngModelChange","keypress"],["aadhaarAttref","ngModel"],[1,"alert","alert-danger"],[4,"ngIf"],["appendTo","body","inputId","icon","hourFormat","12",1,"iconcal",3,"ngModel","minDate","maxDate","ngModelOptions","showIcon","dateFormat","readonlyInput","showTime","ngModelChange"],["type","button",1,"btn","btn-new-primary","mr-2",3,"disabled","click"]],template:function(e,t){1&e&&(g.Sc(0,re,11,5,"div",0),g.Sc(1,fe,74,48,"div",0)),2&e&&(g.tc("ngIf",null==t.Mode),g.Fb(1),g.tc("ngIf",null!=t.Mode))},directives:[s.p,T.c,k.i,R.a,B.b,I.z,I.p,I.q,I.b,I.w,I.o,I.r,L.a,I.j,D.a,I.k,I.u,N.a],pipes:[s.f],styles:[""]}),Se);function ve(e,t){if(1&e&&(g.Yb(0,"label"),g.Uc(1),g.Xb()),2&e){var i=g.mc(2);g.Fb(1),g.Wc("(",i.BalanceType,")")}}function Ie(e,t){if(1&e&&(g.Yb(0,"div",2),g.Yb(1,"h5",3),g.Yb(2,"span",7),g.Uc(3," \u20b9 "),g.Xb(),g.Uc(4),g.nc(5,"number"),g.Xb(),g.Xb()),2&e){var i=g.mc(2);g.Fb(4),g.Wc("Remaining Amount: ",g.pc(5,1,i.RemainingAmount,"1.1-2")," ")}}function Me(e,t){if(1&e&&(g.Yb(0,"div",1),g.Yb(1,"div",2),g.Yb(2,"h5",3),g.Yb(3,"span",4),g.Uc(4," account_balance_wallet "),g.Xb(),g.Uc(5),g.nc(6,"number"),g.Sc(7,ve,2,1,"label",5),g.Xb(),g.Xb(),g.Yb(8,"div",2),g.Yb(9,"h5",3),g.Yb(10,"span",4),g.Uc(11," account_balance_wallet "),g.Xb(),g.Uc(12),g.nc(13,"number"),g.Xb(),g.Xb(),g.Sc(14,Ie,6,4,"div",6),g.Xb()),2&e){var i=g.mc();g.Fb(5),g.Wc("Account Balance : ",g.pc(6,4,i.CreditNoteBalanceAmount,"1.1-2")," "),g.Fb(2),g.tc("ngIf",i.BalanceType),g.Fb(5),g.Wc(" Credit Balance : ",g.pc(13,7,i.CreditNoteBalance,"1.1-2"),""),g.Fb(2),g.tc("ngIf",i.RemainingAmount>0||i.RemainingAmount<0)}}var ke,Ce=((ke=function(e){a(i,e);var t=r(i);function i(e,n,o){var a;return d(this,i),(a=t.call(this)).cdRef=e,a._PatientServices=n,a._UtilityService=o,a.userSelected="",a.CreditNoteBalanceAmount=0,a.CreditLimit=0,a.CustomerInfoDetails={},a.MaxCreditLimit=0,a.MaxRefundAmount=0,a.todayDate=new Date,a.TotalDiscountAmount=0,a.BalanceType=null,a.RemainingAmount=0,a.CreditNoteBalance=0,a}return o(i,[{key:"ngOnInit",value:function(){this.LoadCrediNoteBalance()}},{key:"LoadCrediNoteBalance",value:function(){var e=this;this.RemainingAmount=0,this.BalanceType="",this.CreditNoteBalance=0,null!=this.userSelected&&""!=this.userSelected?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetCreditNoteBalAmount(this.userSelected).subscribe(function(t){if(e._UtilityService.hideSpinner(),1==t.actionResult.success){if(e.CreditNoteBalance=parseFloat(t.actionResult.stringVal2),e.CreditNoteBalanceAmount=+t.actionResult.stringVal,e.RemainingAmount=t.actionResult.totalAmount,t.actionResult.stringVal.includes("-")?(e.BalanceType="Advance",e.MaxCreditLimit=+t.actionResult.stringVal,e.MaxRefundAmount=Math.abs(+t.actionResult.stringVal)):(e.MaxCreditLimit=+("-"+t.actionResult.stringVal),e.MaxRefundAmount=0,e.CreditNoteBalanceAmount>0&&(e.BalanceType="Dues")),t.actionResult.result.length>0){var i=JSON.parse(t.actionResult.result);e.CustomerInfoDetails=i=i||[],e.MaxCreditLimit=e.MaxCreditLimit+ +e.CustomerInfoDetails.CRLIMIT}e.MaxCreditLimit=Math.abs(e.MaxCreditLimit),e.cdRef.detectChanges()}else e.CreditNoteBalanceAmount=0,e.cdRef.detectChanges()},function(t){e._UtilityService.hideSpinner()})):(this.CreditNoteBalanceAmount=0,this.cdRef.detectChanges())}}]),i}(m.a)).\u0275fac=function(e){return new(e||ke)(g.Sb(g.h),g.Sb(v.a),g.Sb(M.a))},ke.\u0275cmp=g.Mb({type:ke,selectors:[["app-credit-note-balance"]],inputs:{userSelected:"userSelected"},features:[g.Cb],decls:1,vars:1,consts:[["class","row mt-4 balance",4,"ngIf"],[1,"row","mt-4","balance"],[1,"col-auto"],[1,"pt-1"],[1,"material-icons"],[4,"ngIf"],["class","col-auto",4,"ngIf"],[1,"material-icons",2,"top","2px"]],template:function(e,t){1&e&&g.Sc(0,Me,15,10,"div",0),2&e&&g.tc("ngIf",null!=t.userSelected&&""!=t.userSelected)},directives:[s.p],pipes:[s.g],styles:[""]}),ke),Pe=["dt1"],De=["filtr"],Re=["AttBankslip1"],Te=["AttRefAppslip1"],Ae=["fileInput"];function Be(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",46),g.Yb(1,"div",51),g.Yb(2,"label",52),g.Uc(3,"Center "),g.Xb(),g.Yb(4,"span",53),g.Uc(5,"*"),g.Xb(),g.Xb(),g.Yb(6,"div",54),g.Yb(7,"app-center-dropdown",55),g.ic("onselectedClinic",function(e){return g.Lc(i),g.mc(2).onselectedClinic(e)}),g.Xb(),g.Xb(),g.Xb()}2&e&&(g.Fb(7),g.tc("isCenterLabel",!1)("mode","get"))}function Ue(e,t){1&e&&(g.Yb(0,"div",63),g.Yb(1,"label",52),g.Uc(2,"Booking Type "),g.Yb(3,"span",53),g.Uc(4,"*"),g.Xb(),g.Xb(),g.Xb())}var Ne=function(){return{width:"100%"}},we=function(){return{standalone:!0}};function Fe(e,t){if(1&e){var i=g.Zb();g.Yb(0,"p-dropdown",67),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(4).bookingtype=e})("onChange",function(){return g.Lc(i),g.mc(4).OnChangeBookingType()}),g.Xb()}if(2&e){var n=g.mc(4);g.Pc(g.yc(5,Ne)),g.tc("options",n.stlstbookingtype)("ngModel",n.bookingtype)("ngModelOptions",g.yc(6,we))}}function Ye(e,t){if(1&e&&(g.Yb(0,"div",64),g.Yb(1,"div",65),g.Sc(2,Fe,1,7,"p-dropdown",66),g.Xb(),g.Xb()),2&e){var i=g.mc(3);g.Fb(2),g.tc("ngIf","BOTH"==(null==i.clinicType?null:i.clinicType.toUpperCase()))}}function Xe(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",69),g.Yb(1,"p-radioButton",70),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(4).IsAllGrouped=e})("onClick",function(){return g.Lc(i),g.mc(4).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Yb(2,"label",71),g.Uc(3,"Individual"),g.Xb(),g.Yb(4,"p-radioButton",70),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(4).IsAllGrouped=e})("onClick",function(){return g.Lc(i),g.mc(4).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Yb(5,"label",71),g.Uc(6,"Grouping"),g.Xb(),g.Yb(7,"p-radioButton",70),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(4).IsAllGrouped=e})("onClick",function(){return g.Lc(i),g.mc(4).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Yb(8,"label",72),g.Uc(9,"All"),g.Xb(),g.Xb()}if(2&e){var n=g.mc(4);g.Fb(1),g.tc("value",1)("ngModel",n.IsAllGrouped),g.Fb(3),g.tc("value",2)("ngModel",n.IsAllGrouped),g.Fb(3),g.tc("value",0)("ngModel",n.IsAllGrouped)}}function Le(e,t){if(1&e&&(g.Yb(0,"div",64),g.Sc(1,Xe,10,6,"div",68),g.Xb()),2&e){var i=g.mc(3);g.Fb(1),g.tc("ngIf","IPD"==i.bookingtype)}}function Oe(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",73),g.ic("click",function(){return g.Lc(i),g.mc(3).exportToItemExcel()}),g.Xb()}}function xe(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",56),g.Yb(1,"span",57),g.Uc(2),g.Xb(),g.Sc(3,Ue,5,0,"div",58),g.Sc(4,Ye,3,1,"div",59),g.Sc(5,Le,2,1,"div",59),g.Yb(6,"span",60),g.Sc(7,Oe,1,0,"button",61),g.Yb(8,"button",62),g.ic("click",function(){return g.Lc(i),g.mc(2).ngOnChanges()}),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(2),g.Wc(" ",(null==n.LstRegistrationMainModelList?null:n.LstRegistrationMainModelList.length)>0?"Total Records: "+n.TotalRecords:""," "),g.Fb(1),g.tc("ngIf","BOTH"==(null==n.clinicType?null:n.clinicType.toUpperCase())),g.Fb(1),g.tc("ngIf","BOTH"==(null==n.clinicType?null:n.clinicType.toUpperCase())),g.Fb(1),g.tc("ngIf","BOTH"==(null==n.clinicType?null:n.clinicType.toUpperCase())||"IPD"==n.bookingtype),g.Fb(2),g.tc("ngIf",(null==n.LstRegistrationMainModelList?null:n.LstRegistrationMainModelList.length)>0&&(null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.Download.toString())))}}function _e(e,t){1&e&&(g.Yb(0,"tr"),g.Yb(1,"td"),g.Uc(2," No records found "),g.Xb(),g.Xb()),2&e&&(g.Fb(1),g.Gb("colspan",3))}function Ee(e,t){1&e&&g.Tb(0,"col",79)}function Ge(e,t){1&e&&g.Tb(0,"col",89)}function We(e,t){1&e&&g.Tb(0,"col",89)}function Ve(e,t){1&e&&g.Tb(0,"col",89)}function je(e,t){1&e&&g.Tb(0,"col",77)}function He(e,t){1&e&&g.Tb(0,"col",77)}function qe(e,t){1&e&&g.Tb(0,"col",83)}function Ze(e,t){1&e&&g.Tb(0,"col",83)}function $e(e,t){1&e&&g.Tb(0,"col",83)}function ze(e,t){1&e&&g.Tb(0,"col",85)}function Qe(e,t){1&e&&g.Tb(0,"col",90)}function Je(e,t){1&e&&g.Tb(0,"col",90)}function Ke(e,t){1&e&&g.Tb(0,"col",90)}function et(e,t){1&e&&g.Tb(0,"col",85)}function tt(e,t){if(1&e&&(g.Yb(0,"colgroup"),g.Tb(1,"col",74),g.Tb(2,"col",75),g.Tb(3,"col",76),g.Tb(4,"col",77),g.Tb(5,"col",78),g.Tb(6,"col",79),g.Sc(7,Ee,1,0,"col",80),g.Tb(8,"col",76),g.Sc(9,Ge,1,0,"col",81),g.Tb(10,"col",79),g.Sc(11,We,1,0,"col",81),g.Sc(12,Ve,1,0,"col",81),g.Sc(13,je,1,0,"col",82),g.Sc(14,He,1,0,"col",82),g.Tb(15,"col",83),g.Sc(16,qe,1,0,"col",84),g.Sc(17,Ze,1,0,"col",84),g.Sc(18,$e,1,0,"col",84),g.Tb(19,"col",85),g.Sc(20,ze,1,0,"col",86),g.Sc(21,Qe,1,0,"col",87),g.Sc(22,Je,1,0,"col",87),g.Sc(23,Ke,1,0,"col",87),g.Sc(24,et,1,0,"col",86),g.Tb(25,"col",88),g.Xb()),2&e){var i=g.mc(2);g.Fb(7),g.tc("ngIf","IPD"===i.bookingtype),g.Fb(2),g.tc("ngIf","IPD"===i.bookingtype&&i.IsGuestBooking),g.Fb(2),g.tc("ngIf","IPD"===i.bookingtype),g.Fb(1),g.tc("ngIf","IPD"===i.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==i.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==i.bookingtype),g.Fb(2),g.tc("ngIf","IPD"==i.bookingtype&&i.clinicDetails.IsNABHPatientRegNumber),g.Fb(1),g.tc("ngIf","IPD"==i.bookingtype&&i.clinicDetails.IsNABHPatientRegNumber),g.Fb(1),g.tc("ngIf","IPD"==i.bookingtype&&i.clinicDetails.IsNABHPatientRegNumber),g.Fb(2),g.tc("ngIf",i.lsobjClinicMaster.IsPhysioPanel),g.Fb(1),g.tc("ngIf","IPD"==i.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==i.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==i.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==i.bookingtype)}}function it(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Dis. Date"),g.Xb())}function nt(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Type"),g.Xb())}function ot(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Room Type"),g.Xb())}function at(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Room No."),g.Xb())}function st(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Actual Adm. On"),g.Xb())}function rt(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Actual Dis. On"),g.Xb())}function lt(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"IP No"),g.Xb())}function ct(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"OP No"),g.Xb())}function dt(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Annual No"),g.Xb())}function ut(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Refer to Physio"),g.Xb())}function ht(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Suspended"),g.Xb())}function bt(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Companion"),g.Xb())}function mt(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Insurance"),g.Xb())}function gt(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Insurance Code"),g.Xb())}function pt(e,t){if(1&e){var i=g.Zb();g.Yb(0,"th"),g.Yb(1,"div",97),g.Yb(2,"p-calendar",103,99),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).SerachPeriodToDate=e})("onClose",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)})("onSelect",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(2),g.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("ngModel",n.SerachPeriodToDate)("disabled",0==n.SerachStatusbooking)("ngModelOptions",g.yc(10,we))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!0)}}function ft(e,t){if(1&e&&(g.Yb(0,"option",104),g.Uc(1),g.Xb()),2&e){var i=t.$implicit;g.tc("ngValue",i.code),g.Fb(1),g.Wc("",i.name," ")}}function St(e,t){if(1&e&&(g.Yb(0,"option",104),g.Uc(1),g.Xb()),2&e){var i=t.$implicit;g.tc("ngValue",i.code),g.Fb(1),g.Wc("",i.name," ")}}function yt(e,t){if(1&e){var i=g.Zb();g.Yb(0,"th"),g.Yb(1,"select",105),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).SerachPatientType=e})("change",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Sc(2,St,2,2,"option",101),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.tc("ngModel",n.SerachPatientType),g.Fb(1),g.tc("ngForOf",n.stlstpatienttype)}}function vt(e,t){1&e&&g.Tb(0,"th")}function It(e,t){1&e&&g.Tb(0,"th")}function Mt(e,t){if(1&e){var i=g.Zb();g.Yb(0,"th"),g.Yb(1,"div",97),g.Yb(2,"p-calendar",106,99),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).SearchCheckedInDate=e})("onClose",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(2),g.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("ngModel",n.SearchCheckedInDate)("ngModelOptions",g.yc(9,we))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!0)}}function kt(e,t){if(1&e){var i=g.Zb();g.Yb(0,"th"),g.Yb(1,"div",97),g.Yb(2,"p-calendar",107,99),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).SearchCheckedOutDate=e})("onClose",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(2),g.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("ngModel",n.SearchCheckedOutDate)("ngModelOptions",g.yc(9,we))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!0)}}function Ct(e,t){if(1&e){var i=g.Zb();g.Yb(0,"th"),g.Yb(1,"input",108),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).SearchIPNumber=e})("change",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Yb(2,"span",93),g.ic("click",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Uc(3," filter_alt "),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.tc("ngModel",n.SearchIPNumber),g.Fb(1),g.Hb(null==n.SearchIPNumber||null==n.SearchIPNumber||""==n.SearchIPNumber?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult")}}function Pt(e,t){if(1&e){var i=g.Zb();g.Yb(0,"th"),g.Yb(1,"input",109),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).SearchOPNumber=e})("change",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Yb(2,"span",93),g.ic("click",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Uc(3," filter_alt "),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.tc("ngModel",n.SearchOPNumber),g.Fb(1),g.Hb(null==n.SearchOPNumber||null==n.SearchOPNumber||""==n.SearchOPNumber?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult")}}function Dt(e,t){if(1&e){var i=g.Zb();g.Yb(0,"th"),g.Yb(1,"input",109),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).SearchANLNumber=e})("change",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Yb(2,"span",93),g.ic("click",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Uc(3," filter_alt "),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.tc("ngModel",n.SearchANLNumber),g.Fb(1),g.Hb(null==n.SearchANLNumber||null==n.SearchANLNumber||""==n.SearchANLNumber?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult")}}function Rt(e,t){1&e&&g.Tb(0,"th")}function Tt(e,t){if(1&e&&(g.Yb(0,"option",104),g.Uc(1),g.Xb()),2&e){var i=t.$implicit;g.tc("ngValue",i.code),g.Fb(1),g.Wc("",i.name," ")}}function At(e,t){if(1&e){var i=g.Zb();g.Yb(0,"th"),g.Yb(1,"select",110),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).SerachSuspended=e})("change",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Sc(2,Tt,2,2,"option",101),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.tc("ngModel",n.SerachSuspended),g.Fb(1),g.tc("ngForOf",n.stlstsuspended)}}function Bt(e,t){if(1&e&&(g.Yb(0,"option",104),g.Uc(1),g.Xb()),2&e){var i=t.$implicit;g.tc("ngValue",i.code),g.Fb(1),g.Wc("",i.name," ")}}function Ut(e,t){if(1&e){var i=g.Zb();g.Yb(0,"th"),g.Yb(1,"select",111),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).SerachCompanion=e})("change",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Sc(2,Bt,2,2,"option",101),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.tc("ngModel",n.SerachCompanion),g.Fb(1),g.tc("ngForOf",n.stlstsuspended)}}function Nt(e,t){if(1&e&&(g.Yb(0,"option",104),g.Uc(1),g.Xb()),2&e){var i=t.$implicit;g.tc("ngValue",i.InsuranceMasterId),g.Fb(1),g.Wc("",i.InsuranceCompanyName," ")}}function wt(e,t){if(1&e){var i=g.Zb();g.Yb(0,"th"),g.Yb(1,"select",112),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).SerachCGHS=e})("change",function(){return g.Lc(i),g.mc(3).LoadOnlineRegistrationListByFilter(0,10)}),g.Sc(2,Nt,2,2,"option",101),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.tc("ngModel",n.SerachCGHS),g.Fb(1),g.tc("ngForOf",n.lstInsuranceMaster)}}function Ft(e,t){if(1&e){var i=g.Zb();g.Yb(0,"tr"),g.Yb(1,"th"),g.Uc(2,"Action"),g.Xb(),g.Yb(3,"th"),g.Uc(4,"Booking No"),g.Xb(),g.Yb(5,"th"),g.Uc(6,"Name"),g.Xb(),g.Yb(7,"th"),g.Uc(8,"MR No"),g.Xb(),g.Yb(9,"th"),g.Uc(10,"Contact No"),g.Xb(),g.Yb(11,"th"),g.Uc(12),g.Xb(),g.Sc(13,it,2,0,"th",5),g.Yb(14,"th"),g.Uc(15,"Status"),g.Xb(),g.Sc(16,nt,2,0,"th",5),g.Sc(17,ot,2,0,"th",5),g.Sc(18,at,2,0,"th",5),g.Yb(19,"th"),g.Uc(20,"Booked On"),g.Xb(),g.Sc(21,st,2,0,"th",5),g.Sc(22,rt,2,0,"th",5),g.Yb(23,"th"),g.Uc(24,"Dr Name"),g.Xb(),g.Sc(25,lt,2,0,"th",5),g.Sc(26,ct,2,0,"th",5),g.Sc(27,dt,2,0,"th",5),g.Yb(28,"th"),g.Uc(29,"Refer to Dentist"),g.Xb(),g.Sc(30,ut,2,0,"th",5),g.Sc(31,ht,2,0,"th",5),g.Sc(32,bt,2,0,"th",5),g.Sc(33,mt,2,0,"th",5),g.Sc(34,gt,2,0,"th",5),g.Yb(35,"th"),g.Uc(36,"Token"),g.Xb(),g.Xb(),g.Yb(37,"tr"),g.Yb(38,"th"),g.Yb(39,"button",91),g.ic("click",function(){return g.Lc(i),g.mc(2).ClearFilter()}),g.Xb(),g.Xb(),g.Yb(40,"th"),g.Yb(41,"input",92),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).SearchBookingNumber=e})("change",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Yb(42,"span",93),g.ic("click",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Uc(43," filter_alt "),g.Xb(),g.Xb(),g.Yb(44,"th"),g.Yb(45,"input",94),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).SearchName=e})("change",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Yb(46,"span",93),g.ic("click",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Uc(47," filter_alt "),g.Xb(),g.Xb(),g.Yb(48,"th"),g.Yb(49,"input",95),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).SearchMRNo=e})("change",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Yb(50,"span",93),g.ic("click",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Uc(51," filter_alt "),g.Xb(),g.Xb(),g.Yb(52,"th"),g.Yb(53,"input",96),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).SearchContactNumber=e})("change",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Yb(54,"span",93),g.ic("click",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Uc(55," filter_alt "),g.Xb(),g.Xb(),g.Yb(56,"th"),g.Yb(57,"div",97),g.Yb(58,"p-calendar",98,99),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).SerachPeriodFromDate=e})("onClose",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)})("onSelect",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Xb(),g.Xb(),g.Sc(60,pt,4,11,"th",5),g.Yb(61,"th"),g.Yb(62,"select",100),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).SerachStatusbooking=e})("change",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Sc(63,ft,2,2,"option",101),g.Xb(),g.Xb(),g.Sc(64,yt,3,2,"th",5),g.Sc(65,vt,1,0,"th",5),g.Sc(66,It,1,0,"th",5),g.Tb(67,"th"),g.Sc(68,Mt,4,10,"th",5),g.Sc(69,kt,4,10,"th",5),g.Tb(70,"th"),g.Sc(71,Ct,4,4,"th",5),g.Sc(72,Pt,4,4,"th",5),g.Sc(73,Dt,4,4,"th",5),g.Tb(74,"th"),g.Sc(75,Rt,1,0,"th",5),g.Sc(76,At,3,2,"th",5),g.Sc(77,Ut,3,2,"th",5),g.Sc(78,wt,3,2,"th",5),g.Yb(79,"th"),g.Yb(80,"input",102),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).SearchInsuranceNo=e})("change",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Xb(),g.Yb(81,"span",93),g.ic("click",function(){return g.Lc(i),g.mc(2).LoadOnlineRegistrationListByFilter(0,10)}),g.Uc(82," filter_alt "),g.Xb(),g.Xb(),g.Tb(83,"th"),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(12),g.Vc("IPD"===n.bookingtype?"Adm. Date":"Booking For"),g.Fb(1),g.tc("ngIf","IPD"===n.bookingtype),g.Fb(3),g.tc("ngIf","IPD"===n.bookingtype&&n.IsGuestBooking),g.Fb(1),g.tc("ngIf","IPD"===n.bookingtype),g.Fb(1),g.tc("ngIf","IPD"===n.bookingtype),g.Fb(3),g.tc("ngIf","IPD"===n.bookingtype),g.Fb(1),g.tc("ngIf","IPD"===n.bookingtype),g.Fb(3),g.tc("ngIf","IPD"===n.bookingtype&&n.clinicDetails.IsNABHPatientRegNumber),g.Fb(1),g.tc("ngIf","IPD"===n.bookingtype&&n.clinicDetails.IsNABHPatientRegNumber),g.Fb(1),g.tc("ngIf","IPD"===n.bookingtype&&n.clinicDetails.IsNABHPatientRegNumber),g.Fb(3),g.tc("ngIf",n.lsobjClinicMaster.IsPhysioPanel),g.Fb(1),g.tc("ngIf","IPD"==n.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==n.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==n.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==n.bookingtype),g.Fb(7),g.tc("ngModel",n.SearchBookingNumber),g.Fb(1),g.Hb(null==n.SearchBookingNumber||null==n.SearchBookingNumber||""==n.SearchBookingNumber?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),g.Fb(3),g.tc("ngModel",n.SearchName),g.Fb(1),g.Hb(null==n.SearchName||null==n.SearchName||""==n.SearchName?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),g.Fb(3),g.tc("ngModel",n.SearchMRNo),g.Fb(1),g.Hb(null==n.SearchMRNo||null==n.SearchMRNo||""==n.SearchMRNo?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),g.Fb(3),g.tc("ngModel",n.SearchContactNumber),g.Fb(1),g.Hb(null==n.SearchContactNumber||null==n.SearchContactNumber||""==n.SearchContactNumber?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),g.Fb(4),g.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("ngModel",n.SerachPeriodFromDate)("disabled",0==n.SerachStatusbooking)("ngModelOptions",g.yc(60,we))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!0),g.Fb(2),g.tc("ngIf","IPD"===n.bookingtype),g.Fb(2),g.tc("ngModel",n.SerachStatusbooking),g.Fb(1),g.tc("ngForOf",n.stlstbookingstatus),g.Fb(1),g.tc("ngIf","IPD"===n.bookingtype&&n.IsGuestBooking),g.Fb(1),g.tc("ngIf","IPD"===n.bookingtype),g.Fb(1),g.tc("ngIf","IPD"===n.bookingtype),g.Fb(2),g.tc("ngIf","IPD"==n.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==n.bookingtype),g.Fb(2),g.tc("ngIf","IPD"==n.bookingtype&&n.clinicDetails.IsNABHPatientRegNumber),g.Fb(1),g.tc("ngIf","IPD"==n.bookingtype&&n.clinicDetails.IsNABHPatientRegNumber),g.Fb(1),g.tc("ngIf","IPD"==n.bookingtype&&n.clinicDetails.IsNABHPatientRegNumber),g.Fb(2),g.tc("ngIf",n.lsobjClinicMaster.IsPhysioPanel),g.Fb(1),g.tc("ngIf","IPD"==n.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==n.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==n.bookingtype),g.Fb(2),g.tc("ngModel",n.SearchInsuranceNo),g.Fb(1),g.Hb(null==n.SearchInsuranceNo||null==n.SearchInsuranceNo||""==n.SearchInsuranceNo?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult")}}function Yt(e,t){if(1&e&&(g.Yb(0,"tr"),g.Yb(1,"td",121),g.Yb(2,"span"),g.Uc(3),g.Xb(),g.Xb(),g.Xb()),2&e){var i=g.mc().$implicit,n=g.mc(2);g.Fb(1),g.tc("colSpan",1==n.clinicDetails.IsNABHPatientRegNumber?25:22),g.Fb(2),g.Vc(i.GroupNumber)}}function Xt(e,t){if(1&e){var i=g.Zb();g.Yb(0,"a",122),g.ic("click",function(e){g.Lc(i);var t=g.mc().$implicit,n=g.Ic(5);return g.mc(2).toggleTieredMenu(n,e,t.SlotBookingId)}),g.Tb(1,"i",123),g.Xb()}}function Lt(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.nc(2,"date"),g.nc(3,"date"),g.Xb()),2&e){var i=g.mc().$implicit,n=g.mc(2);g.Fb(1),g.Vc("0001"==g.pc(2,1,i.PeriodUpto,"yyyy")?"":g.pc(3,4,i.PeriodUpto,n.customDateFormat.DEF_DATE))}}function Ot(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(i.PatientType)}}function xt(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(i.RoomTypeName)}}function _t(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(i.RoomNumber)}}function Et(e,t){if(1&e&&(g.Yb(0,"td",118),g.nc(1,"date"),g.nc(2,"date"),g.Uc(3),g.nc(4,"date"),g.nc(5,"date"),g.Xb()),2&e){var i=g.mc().$implicit,n=g.mc(2);g.uc("title","0001"==g.pc(1,2,i.CheckedInDate,"yyyy")?"":g.pc(2,5,i.CheckedInDate,n.customDateFormat.DEF_DATE_TIME)),g.Fb(3),g.Wc(" ","0001"==g.pc(4,8,i.CheckedInDate,"yyyy")?"":g.pc(5,11,i.CheckedInDate,n.customDateFormat.DEF_DATE),"")}}function Gt(e,t){if(1&e&&(g.Yb(0,"td",118),g.nc(1,"date"),g.nc(2,"date"),g.Uc(3),g.nc(4,"date"),g.nc(5,"date"),g.Xb()),2&e){var i=g.mc().$implicit,n=g.mc(2);g.uc("title","0001"==g.pc(1,2,i.CheckedOutDate,"yyyy")?"":g.pc(2,5,i.CheckedOutDate,n.customDateFormat.DEF_DATE_TIME)),g.Fb(3),g.Wc(" ","0001"==g.pc(4,8,i.CheckedOutDate,"yyyy")?"":g.pc(5,11,i.CheckedOutDate,n.customDateFormat.DEF_DATE),"")}}function Wt(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(i.ReviewerDoctor)}}function Vt(e,t){if(1&e&&(g.Yb(0,"td",118),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.vc("title","Reviewer Dr.: ",i.ReviewerDoctor,""),g.Fb(1),g.Vc(i.DoctorName)}}function jt(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(i.IPNumber)}}function Ht(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(i.OPNumber)}}function qt(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(i.ANNumber)}}function Zt(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(1==i.IsPhysioTreatment?"Yes":"")}}function $t(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(1==i.IsSuspended?"Yes":"")}}function zt(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(1==i.IsCompanion?"Yes":"")}}function Qt(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(i.InsuranceCompanyName)}}function Jt(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(1),g.Vc(i.InsuranceNo)}}var Kt=function(e,t){return{color:e,"font-weight":t}},ei=function(e){return{"font-weight":e}};function ti(e,t){if(1&e&&(g.Sc(0,Yt,4,2,"tr",5),g.Yb(1,"tr",113),g.Yb(2,"td"),g.Sc(3,Xt,2,0,"a",114),g.Tb(4,"p-tieredMenu",115,116),g.Xb(),g.Yb(6,"td"),g.Yb(7,"span",117),g.Uc(8),g.Xb(),g.Xb(),g.Yb(9,"td"),g.Yb(10,"span",117),g.Uc(11),g.Xb(),g.Xb(),g.Yb(12,"td"),g.Uc(13),g.Xb(),g.Yb(14,"td"),g.Uc(15),g.Xb(),g.Yb(16,"td"),g.Uc(17),g.nc(18,"date"),g.nc(19,"date"),g.Xb(),g.Sc(20,Lt,4,7,"td",5),g.Yb(21,"td"),g.Yb(22,"span"),g.Uc(23),g.Xb(),g.Xb(),g.Sc(24,Ot,2,1,"td",5),g.Sc(25,xt,2,1,"td",5),g.Sc(26,_t,2,1,"td",5),g.Yb(27,"td",118),g.nc(28,"date"),g.Uc(29),g.nc(30,"date"),g.Xb(),g.Sc(31,Et,6,14,"td",119),g.Sc(32,Gt,6,14,"td",119),g.Sc(33,Wt,2,1,"td",5),g.Sc(34,Vt,2,2,"td",119),g.Sc(35,jt,2,1,"td",5),g.Sc(36,Ht,2,1,"td",5),g.Sc(37,qt,2,1,"td",5),g.Yb(38,"td"),g.Uc(39),g.Xb(),g.Sc(40,Zt,2,1,"td",5),g.Sc(41,$t,2,1,"td",5),g.Sc(42,zt,2,1,"td",5),g.Sc(43,Qt,2,1,"td",5),g.Sc(44,Jt,2,1,"td",5),g.Yb(45,"td",120),g.Uc(46),g.Xb(),g.Xb()),2&e){var i=t.$implicit,n=t.rowIndex,o=g.mc(2);g.tc("ngIf","IPD"===o.bookingtype&&(0==o.IsAllGrouped||2==o.IsAllGrouped)&&o.rowGroupMetadata[i.GroupNumber].index==n),g.Fb(3),g.tc("ngIf",!(!i.IsValidDate&&"OPD"==i.BookingType&&i.BookingStatus==o.bookingStatus[o.bookingStatus.Booked])),g.Fb(1),g.tc("model",o.items)("popup",!0),g.Fb(3),g.tc("ngStyle",g.Ac(47,Kt,i.IsCGHS?"green":"#495057",i.IsCGHS?"bold":"normal")),g.Fb(1),g.Vc(i.BookingNumber),g.Fb(2),g.tc("ngStyle",g.zc(50,ei,i.IsGrouphead?"bold":"normal")),g.Fb(1),g.Vc(i.PaitentName),g.Fb(2),g.Vc(i.MRNo),g.Fb(2),g.Vc(i.ContactNumber),g.Fb(2),g.Vc("0001"==g.pc(18,35,i.PeriodFrom,"yyyy")?"":g.pc(19,38,i.PeriodFrom,o.customDateFormat.DEF_DATE)),g.Fb(3),g.tc("ngIf","IPD"===o.bookingtype),g.Fb(2),g.Hb(i.BookingStatus),g.Fb(1),g.Vc(i.BookingStatus),g.Fb(1),g.tc("ngIf","IPD"===o.bookingtype&&o.IsGuestBooking),g.Fb(1),g.tc("ngIf","IPD"===o.bookingtype),g.Fb(1),g.tc("ngIf","IPD"===o.bookingtype),g.Fb(1),g.uc("title",g.pc(28,41,i.SlotBookedOn,o.customDateFormat.DEF_DATE_TIME)),g.Fb(2),g.Wc(" ",g.pc(30,44,i.SlotBookedOn,o.customDateFormat.DEF_DATE),""),g.Fb(2),g.tc("ngIf","IPD"===o.bookingtype),g.Fb(1),g.tc("ngIf","IPD"===o.bookingtype),g.Fb(1),g.tc("ngIf",o.statusbooking==o.bookingStatus.ReferToDr),g.Fb(1),g.tc("ngIf",o.statusbooking!=o.bookingStatus.ReferToDr),g.Fb(1),g.tc("ngIf","IPD"===o.bookingtype&&o.clinicDetails.IsNABHPatientRegNumber),g.Fb(1),g.tc("ngIf","IPD"===o.bookingtype&&o.clinicDetails.IsNABHPatientRegNumber),g.Fb(1),g.tc("ngIf","IPD"===o.bookingtype&&o.clinicDetails.IsNABHPatientRegNumber),g.Fb(2),g.Vc(1==i.IsDentalTreatment?"Yes":""),g.Fb(1),g.tc("ngIf",o.lsobjClinicMaster.IsPhysioPanel),g.Fb(1),g.tc("ngIf","IPD"==o.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==o.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==o.bookingtype),g.Fb(1),g.tc("ngIf","IPD"==o.bookingtype),g.Fb(2),g.Vc(i.TokenNumber)}}var ii=function(){return["GroupNumber","BookingNumber","MRNo","PaitentName","ReviewerDoctor","DoctorName","BookingStatus","ContactNumber","RoomNumber"]};function ni(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",44),g.Yb(1,"div",45),g.Sc(2,Be,8,2,"div",3),g.Yb(3,"div",46),g.Yb(4,"div",34),g.Yb(5,"div",47),g.Yb(6,"p-table",48,49),g.ic("onLazyLoad",function(e){return g.Lc(i),g.mc().loadPatientList(e)})("firstChange",function(e){return g.Lc(i),g.mc().first=e}),g.Sc(8,xe,9,5,"ng-template",37),g.Sc(9,_e,3,1,"ng-template",50),g.Sc(10,tt,26,14,"ng-template",38),g.Sc(11,Ft,84,61,"ng-template",25),g.Sc(12,ti,47,52,"ng-template",39),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(2),g.tc("ngIf",n.UserTypeCurre===n.userTypes.SuperAdmin),g.Fb(4),g.tc("value",n.LstRegistrationMainModelList)("lazy",!0)("rowHover",!0)("lazyLoadOnInit",!1)("globalFilterFields",g.yc(11,ii))("scrollable",!0)("paginator",!0)("rows",10)("totalRecords",n.TotalRecords)("first",n.first)}}function oi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"a",124),g.ic("click",function(){return g.Lc(i),g.mc().CloseModal()}),g.Tb(1,"i",125),g.Xb()}}function ai(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",46),g.Yb(1,"app-registration",126),g.ic("OnUpdateRegDetails",function(e){return g.Lc(i),g.mc().OnUpdateRegDetails(e)}),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(1),g.tc("RegistrationMainModel",n.RegistrationMainModel)("InputType",n.InputType)("IsValidDate",n.isValidDate)}}function si(e,t){1&e&&g.Uc(0),2&e&&g.Wc(" ",t.$implicit.ReasonName," ")}function ri(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",127),g.Yb(1,"div",128),g.Uc(2,"Room "),g.Yb(3,"span",53),g.Uc(4,"*"),g.Xb(),g.Xb(),g.Yb(5,"div",136),g.Yb(6,"p-multiSelect",137),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).lstSelectedRoom=e}),g.Xb(),g.Xb(),g.Yb(7,"div",138),g.Uc(8),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(6),g.Pc(g.yc(5,Ne)),g.tc("options",n.lstRoomMster)("ngModel",n.lstSelectedRoom),g.Fb(2),g.Wc("Room Count: ",n.bookedRoomCount,"")}}function li(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",127),g.Tb(1,"td",128),g.Yb(2,"td",139),g.Yb(3,"p-checkbox",140),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).LstPaitentMessageReplyLog.IsAllMemberSelect=e}),g.Xb(),g.Yb(4,"label",141),g.Uc(5,"Select All Members"),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(3),g.tc("ngModel",n.LstPaitentMessageReplyLog.IsAllMemberSelect)("binary",!0)}}function ci(e,t){1&e&&(g.Yb(0,"div",128),g.Uc(1,"Cancel Charge in %"),g.Xb())}function di(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",138),g.Yb(1,"p-inputNumber",146),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).CancelCharge=e}),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.Pc(g.yc(6,Ne)),g.tc("ngModel",n.CancelCharge)("min",0)("max",100)("maxlength",3)}}function ui(e,t){1&e&&(g.Yb(0,"div",128),g.Uc(1,"\xa0"),g.Xb())}function hi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",147),g.Yb(1,"p-checkbox",148),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).AutogenerateVoucher=e}),g.Xb(),g.Yb(2,"label",149),g.Uc(3,"Auto Generate Voucher"),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.tc("ngModel",n.AutogenerateVoucher)("binary",!0)}}function bi(e,t){if(1&e&&(g.Yb(0,"div",142),g.Sc(1,ci,2,0,"div",143),g.Sc(2,di,2,7,"div",144),g.Sc(3,ui,2,0,"div",143),g.Sc(4,hi,4,2,"div",145),g.Xb()),2&e){var i=g.mc(2);g.Fb(1),g.tc("ngIf",i.IsCancelCharge),g.Fb(1),g.tc("ngIf",i.IsCancelCharge),g.Fb(1),g.tc("ngIf","6131ff3d7008ed3c20eb80d2"===i.LstPaitentMessageReplyLog.ReasonId&&0==i.IsCancelCharge),g.Fb(1),g.tc("ngIf",100!=i.CancelCharge&&"6131ff3d7008ed3c20eb80d2"===i.LstPaitentMessageReplyLog.ReasonId)}}function mi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",142),g.Yb(1,"div",128),g.Uc(2,"Discharged Date "),g.Yb(3,"span",53),g.Uc(4,"*"),g.Xb(),g.Xb(),g.Yb(5,"div",129),g.Yb(6,"p-calendar",150),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).CheckOutDate=e}),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(6),g.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("minDate",n.PeriodFrom)("maxDate",n.maxDate)("ngModel",n.CheckOutDate)("ngModelOptions",g.yc(12,we))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!1)("showTime",!0)}}function gi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",129),g.Yb(1,"p-dropdown",152),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).LstPaitentMessageReplyLog.DoctorId=e}),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.Pc(g.yc(5,Ne)),g.tc("options",n.LstDoctorMster)("ngModel",n.LstPaitentMessageReplyLog.DoctorId)("filter",!0)}}function pi(e,t){if(1&e&&(g.Yb(0,"div",127),g.Yb(1,"div",128),g.Uc(2,"Select doctor "),g.Yb(3,"span",53),g.Uc(4,"*"),g.Xb(),g.Xb(),g.Sc(5,gi,2,6,"div",151),g.Xb()),2&e){var i=g.mc(2);g.Fb(5),g.tc("ngIf",(null==i.LstDoctorMster?null:i.LstDoctorMster.length)>0)}}function fi(e,t){1&e&&(g.Yb(0,"span",53),g.Uc(1,"*"),g.Xb())}function Si(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"div",127),g.Yb(2,"div",128),g.Uc(3,"Action "),g.Yb(4,"span",53),g.Uc(5,"*"),g.Xb(),g.Xb(),g.Yb(6,"div",129),g.Yb(7,"p-dropdown",130),g.ic("onChange",function(){return g.Lc(i),g.mc().ddlReplyReasonChange()})("ngModelChange",function(e){return g.Lc(i),g.mc().LstPaitentMessageReplyLog.ReasonId=e}),g.Sc(8,si,1,1,"ng-template",131),g.Xb(),g.Xb(),g.Xb(),g.Sc(9,ri,9,6,"div",132),g.Sc(10,li,6,2,"div",132),g.Sc(11,bi,5,4,"div",133),g.Sc(12,mi,7,13,"div",133),g.Sc(13,pi,6,1,"div",132),g.Yb(14,"div",46),g.Yb(15,"div",128),g.Uc(16,"Remarks "),g.Sc(17,fi,2,0,"span",134),g.Xb(),g.Yb(18,"div",129),g.Yb(19,"textarea",135),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().LstPaitentMessageReplyLog.Remarks=e}),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(7),g.Pc(g.yc(12,Ne)),g.tc("options",n.LstReplyReason)("ngModel",n.LstPaitentMessageReplyLog.ReasonId)("filter",!0),g.Fb(2),g.tc("ngIf",n.status===n.bookingStatus[n.bookingStatus.Confirmed]&&"6131eabe7008ed3c20eb80cf"===n.LstPaitentMessageReplyLog.ReasonId),g.Fb(1),g.tc("ngIf",n.status===n.bookingStatus[n.bookingStatus.UnderReview]&&!0===n.IsGrouphead&&"60f94501513904c09133bc30"===n.LstPaitentMessageReplyLog.ReasonId),g.Fb(1),g.tc("ngIf",n.status===n.bookingStatus[n.bookingStatus.Confirmed]),g.Fb(1),g.tc("ngIf","IPD"===n.BookingType&&"6131eabe7008ed3c20eb80d0"===n.LstPaitentMessageReplyLog.ReasonId),g.Fb(1),g.tc("ngIf",n.IsSelectDoctor),g.Fb(4),g.tc("ngIf","608a60556ef8bc2976a92078"==n.LstPaitentMessageReplyLog.ReasonId),g.Fb(2),g.tc("ngModel",n.LstPaitentMessageReplyLog.Remarks)}}function yi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",153),g.ic("click",function(){return g.Lc(i),g.mc().BeforSubmitReply()}),g.Uc(1,"Submit"),g.Xb()}}function vi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"div",46),g.Yb(2,"div",128),g.Uc(3,"Remarks "),g.Yb(4,"span",53),g.Uc(5,"*"),g.Xb(),g.Xb(),g.Yb(6,"div",129),g.Yb(7,"textarea",135),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().LstPaitentMessageReplyLog.Remarks=e}),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(7),g.tc("ngModel",n.LstPaitentMessageReplyLog.Remarks)}}function Ii(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",154),g.ic("click",function(){return g.Lc(i),g.mc().AddAdditionalRemarks()}),g.Uc(1,"Submit"),g.Xb()}}function Mi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"app-room-book-public",155),g.ic("roomBookClick",function(e){return g.Lc(i),g.mc().roomBookClick(e)})("EmitSelectedPackage",function(e){return g.Lc(i),g.mc().EmitSelectedPackage(e)})("EmitPermittedBy",function(e){return g.Lc(i),g.mc().EmitPermittedBy(e)}),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(1),g.tc("ClinicId",n.ClinicIdSelected)("SlotId",n.SlotBookingIdSelectedId)("BookingSource",n.BookingSource)("IsExtended",n.IsExtended)("GroupCount",n.GroupCount)("IsGrouped",n.IsGrouped)}}function ki(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",153),g.ic("click",function(){return g.Lc(i),g.mc().awaitBookRoomm()}),g.Uc(1,"Book Room"),g.Xb()}}function Ci(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"app-package-group-mapping",156),g.ic("PackgeMappingEmit",function(e){return g.Lc(i),g.mc().EmitSelectedMapping(e)}),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(1),g.tc("Packages",n.Package)("SlotBookingId",n.SlotBookingIdSelectedId)}}function Pi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"div",46),g.Yb(2,"div",34),g.Yb(3,"app-razorpay",157),g.ic("GetPaymentStatusEmit",function(e){return g.Lc(i),g.mc().GetPaymentStatusEmit(e)}),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(3),g.tc("OrderRes",n.OrderRes)("ItemPriceRes",n.ItemPriceRes)("PackageMapping",n.PackageMapping)("SlotBookingIdSelected",n.SlotBookingIdSelectedId)("IsSelectedItem",n.IsSelectedItem)("UserRes",n.UserRes)("BillWiseDiscountPer",n.BillWiseDiscountPer)("ReferredBy",n.ReferredBy)("RequestedBy",n.RequestedBy)("PayRequestFrom",n.PayRequestFrom)("ActualNetPayble",n.ActualNetPayble)("IsPartialPayment",n.IsPartialPayment)("CreditNoteNumber",n.CreditNoteNumber)("CreditNoteAmount",n.CreditNoteTranAmount)}}function Di(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",159),g.ic("click",function(){g.Lc(i);var e=g.mc(2);return e.ChangeRoom(e.SlotBookingIdSelectedId)}),g.Uc(1,"Change Room"),g.Xb()}}function Ri(e,t){if(1&e&&g.Sc(0,Di,2,0,"button",158),2&e){var i=g.mc();g.tc("ngIf",i.IsIPD)}}function Ti(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"div",46),g.Yb(2,"div",34),g.Yb(3,"app-worldline",160),g.ic("GetPaymentStatusEmit",function(e){return g.Lc(i),g.mc().GetWLPaymentStatusEmit(e)}),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(3),g.tc("WLOrderRes",n.OrderRes)("ItemPriceRes",n.ItemPriceRes)("PackageMapping",n.PackageMapping)("SlotBookingIdSelected",n.SlotBookingIdSelectedId)("IsSelectedItem",n.IsSelectedItem)("UserRes",n.UserRes)("BillWiseDiscountPer",n.BillWiseDiscountPer)("ReferredBy",n.ReferredBy)("RequestedBy",n.RequestedBy)("PayRequestFrom",n.PayRequestFrom)("ActualNetPayble",n.ActualNetPayble)("IsPartialPayment",n.IsPartialPayment)("CreditNoteNumber",n.CreditNoteNumber)("CreditNoteAmount",n.CreditNoteTranAmount)}}function Ai(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",159),g.ic("click",function(){g.Lc(i);var e=g.mc(2);return e.ChangeRoom(e.SlotBookingIdSelectedId)}),g.Uc(1,"Change Room"),g.Xb()}}function Bi(e,t){if(1&e&&g.Sc(0,Ai,2,0,"button",158),2&e){var i=g.mc();g.tc("ngIf",i.IsIPD)}}function Ui(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",172),g.Yb(1,"h3"),g.Uc(2),g.nc(3,"number"),g.Xb(),g.Yb(4,"div",127),g.Yb(5,"div",31),g.Uc(6,"Amount "),g.Yb(7,"span",173),g.Uc(8,"*"),g.Xb(),g.Xb(),g.Yb(9,"div",174),g.Yb(10,"p-inputNumber",175),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.CREDITAMT=e}),g.Xb(),g.Xb(),g.Xb(),g.Tb(11,"hr"),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(2),g.Wc("Credit Details (Credit Balance:",g.pc(3,7,n.CreditNoteBalanceAmount,"1.1-2"),")"),g.Fb(8),g.Pc(g.yc(10,Ne)),g.tc("ngModel",n.TenderObj.CREDITAMT)("min",0)("max",n.CreditNoteBalanceAmount)("maxlength",5)}}function Ni(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",176),g.Yb(1,"h3"),g.Uc(2,"Cash Details"),g.Xb(),g.Yb(3,"div",127),g.Yb(4,"div",31),g.Uc(5,"Amount "),g.Yb(6,"span",173),g.Uc(7,"*"),g.Xb(),g.Xb(),g.Yb(8,"div",174),g.Yb(9,"p-inputNumber",177),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.CASH=e}),g.Xb(),g.Xb(),g.Xb(),g.Yb(10,"div",127),g.Yb(11,"div",31),g.Uc(12,"Received Date "),g.Yb(13,"span",173),g.Uc(14,"*"),g.Xb(),g.Xb(),g.Yb(15,"div",174),g.Yb(16,"p-calendar",178,179),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.CashRecdDate=e}),g.Xb(),g.Xb(),g.Xb(),g.Tb(18,"hr"),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(9),g.Pc(g.yc(15,Ne)),g.tc("ngModel",n.TenderObj.CASH)("min",0)("maxlength",10),g.Fb(7),g.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",n.todayDate)("ngModel",n.TenderObj.CashRecdDate)("ngModelOptions",g.yc(16,we))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!1)}}function wi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"a",187),g.ic("click",function(){return g.Lc(i),g.mc(4).AddCardPaymentDetails()}),g.Tb(1,"i",188),g.Xb()}}function Fi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"a",187),g.ic("click",function(){g.Lc(i);var e=g.mc().index,t=g.mc(3);return t.RemoveCardPaymentDetails(t.lstCardPaymentTransactionDetails[e].Sequence)}),g.Tb(1,"i",189),g.Xb()}}function Yi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"tr"),g.Yb(1,"td"),g.Uc(2),g.Xb(),g.Yb(3,"td"),g.Yb(4,"input",183),g.ic("ngModelChange",function(e){return t.$implicit.CardNumber=e}),g.Xb(),g.Xb(),g.Yb(5,"td"),g.Yb(6,"input",183),g.ic("ngModelChange",function(e){return t.$implicit.CardHolderName=e}),g.Xb(),g.Xb(),g.Yb(7,"td"),g.Yb(8,"input",183),g.ic("ngModelChange",function(e){return t.$implicit.TransactionId=e}),g.Xb(),g.Xb(),g.Yb(9,"td"),g.Yb(10,"p-calendar",178,184),g.ic("ngModelChange",function(e){return t.$implicit.RecdDate=e}),g.Xb(),g.Xb(),g.Yb(12,"td"),g.Yb(13,"p-inputNumber",185),g.ic("onInput",function(e){g.Lc(i);var n=t.$implicit;return g.mc(3).CalculateTotalCardPayment(e,n.Sequence)})("onBlur",function(){return g.Lc(i),g.mc(3).CalculateTotalCardPaymentrev()})("ngModelChange",function(e){return t.$implicit.Amount=e}),g.Xb(),g.Xb(),g.Yb(14,"td"),g.Sc(15,wi,2,0,"a",186),g.Sc(16,Fi,2,0,"a",186),g.Xb(),g.Xb()}if(2&e){var n=t.$implicit,o=t.index,a=g.mc(3);g.Fb(2),g.Vc(o+1),g.Fb(2),g.Pc(g.yc(31,Ne)),g.vc("name","txtTransactionCardNumber_",o,""),g.tc("ngModel",n.CardNumber),g.Fb(2),g.Pc(g.yc(32,Ne)),g.vc("name","txtTransactionCardHolderName_",o,""),g.tc("ngModel",n.CardHolderName),g.Fb(2),g.Pc(g.yc(33,Ne)),g.vc("name","txtTransactionIdCardPayment_",o,""),g.tc("ngModel",n.TransactionId),g.Fb(2),g.wc("yearRange","",a.customDateFormat.MinYear,":",a.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",a.todayDate)("ngModel",n.RecdDate)("ngModelOptions",g.yc(34,we))("showIcon",!0)("dateFormat",a.customDateFormat.CalendarFormat)("readonlyInput",!1),g.Fb(3),g.Pc(g.yc(35,Ne)),g.vc("name","txtBankTFAmountTran_",o,""),g.tc("ngModel",n.Amount)("min",0)("max",a.NetPaybleTotal),g.Fb(2),g.tc("ngIf",(null==a.lstCardPaymentTransactionDetails?null:a.lstCardPaymentTransactionDetails.length)<10),g.Fb(1),g.tc("ngIf",1!==a.lstCardPaymentTransactionDetails[o].Sequence)}}function Xi(e,t){if(1&e&&(g.Yb(0,"div",180),g.Yb(1,"h3"),g.Uc(2,"Card Details"),g.Xb(),g.Yb(3,"div",127),g.Yb(4,"table",181),g.Yb(5,"thead"),g.Yb(6,"tr"),g.Yb(7,"th"),g.Uc(8,"S.No"),g.Xb(),g.Yb(9,"th"),g.Uc(10,"Card Number"),g.Xb(),g.Yb(11,"th"),g.Uc(12,"Card Holder Name"),g.Xb(),g.Yb(13,"th"),g.Uc(14,"Transaction Id "),g.Yb(15,"span",173),g.Uc(16,"*"),g.Xb(),g.Xb(),g.Yb(17,"th"),g.Uc(18,"Payment Rec. Date "),g.Yb(19,"span",173),g.Uc(20,"*"),g.Xb(),g.Xb(),g.Yb(21,"th"),g.Uc(22,"Amount "),g.Yb(23,"span",173),g.Uc(24,"*"),g.Xb(),g.Xb(),g.Yb(25,"th"),g.Uc(26,"Action"),g.Xb(),g.Xb(),g.Xb(),g.Yb(27,"tbody"),g.Sc(28,Yi,17,36,"tr",182),g.Xb(),g.Xb(),g.Xb(),g.Tb(29,"hr"),g.Xb()),2&e){var i=g.mc(2);g.Fb(28),g.tc("ngForOf",i.lstCardPaymentTransactionDetails)}}function Li(e,t){if(1&e){var i=g.Zb();g.Yb(0,"a",187),g.ic("click",function(){return g.Lc(i),g.mc(4).AddBankTransactionDetails()}),g.Tb(1,"i",188),g.Xb()}}function Oi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"a",187),g.ic("click",function(){g.Lc(i);var e=g.mc().index,t=g.mc(3);return t.RemoveBankTransactionDetails(t.lstBankDepositTransactionDetails[e].Sequence)}),g.Tb(1,"i",189),g.Xb()}}function xi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"tr"),g.Yb(1,"td"),g.Uc(2),g.Xb(),g.Yb(3,"td"),g.Yb(4,"input",183),g.ic("ngModelChange",function(e){return t.$implicit.BankName=e}),g.Xb(),g.Xb(),g.Yb(5,"td"),g.Yb(6,"input",183),g.ic("ngModelChange",function(e){return t.$implicit.TransactionId=e}),g.Xb(),g.Xb(),g.Yb(7,"td"),g.Yb(8,"p-calendar",178,184),g.ic("ngModelChange",function(e){return t.$implicit.RecdDate=e}),g.Xb(),g.Xb(),g.Yb(10,"td"),g.Yb(11,"p-inputNumber",185),g.ic("onInput",function(e){g.Lc(i);var n=t.$implicit;return g.mc(3).CalculateTotalBankTransaction(e,n.Sequence)})("onBlur",function(){return g.Lc(i),g.mc(3).CalculateTotalBankTransactionrev()})("ngModelChange",function(e){return t.$implicit.Amount=e}),g.Xb(),g.Xb(),g.Yb(12,"td"),g.Sc(13,Li,2,0,"a",186),g.Sc(14,Oi,2,0,"a",186),g.Xb(),g.Xb()}if(2&e){var n=t.$implicit,o=t.index,a=g.mc(3);g.Fb(2),g.Vc(o+1),g.Fb(2),g.Pc(g.yc(27,Ne)),g.vc("name","txtTransactionBankDepoName_",o,""),g.tc("ngModel",n.BankName),g.Fb(2),g.Pc(g.yc(28,Ne)),g.vc("name","txtTransactionIdBankDepo_",o,""),g.tc("ngModel",n.TransactionId),g.Fb(2),g.wc("yearRange","",a.customDateFormat.MinYear,":",a.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",a.todayDate)("ngModel",n.RecdDate)("ngModelOptions",g.yc(29,we))("showIcon",!0)("dateFormat",a.customDateFormat.CalendarFormat)("readonlyInput",!1),g.Fb(3),g.Pc(g.yc(30,Ne)),g.vc("name","txtBankTFAmountTran_",o,""),g.tc("ngModel",n.Amount)("min",0)("max",a.NetPaybleTotal),g.Fb(2),g.tc("ngIf",(null==a.lstBankDepositTransactionDetails?null:a.lstBankDepositTransactionDetails.length)<10),g.Fb(1),g.tc("ngIf",1!==a.lstBankDepositTransactionDetails[o].Sequence)}}function _i(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",190),g.Yb(1,"h3"),g.Uc(2,"Bank Deposit Details"),g.Xb(),g.Tb(3,"hr"),g.Yb(4,"div",127),g.Yb(5,"table",181),g.Yb(6,"thead"),g.Yb(7,"tr"),g.Yb(8,"th"),g.Uc(9,"S.No"),g.Xb(),g.Yb(10,"th"),g.Uc(11,"Bank Name "),g.Yb(12,"span",173),g.Uc(13,"*"),g.Xb(),g.Xb(),g.Yb(14,"th"),g.Uc(15,"Transaction Id "),g.Yb(16,"span",173),g.Uc(17,"*"),g.Xb(),g.Xb(),g.Yb(18,"th"),g.Uc(19,"Payment Rec. Date "),g.Yb(20,"span",173),g.Uc(21,"*"),g.Xb(),g.Xb(),g.Yb(22,"th"),g.Uc(23,"Amount "),g.Yb(24,"span",173),g.Uc(25,"*"),g.Xb(),g.Xb(),g.Yb(26,"th"),g.Uc(27,"Action"),g.Xb(),g.Xb(),g.Xb(),g.Yb(28,"tbody"),g.Sc(29,xi,15,31,"tr",182),g.Xb(),g.Xb(),g.Xb(),g.Tb(30,"hr"),g.Yb(31,"div",191),g.Yb(32,"div",31),g.Uc(33,"Amount "),g.Yb(34,"span",173),g.Uc(35,"*"),g.Xb(),g.Xb(),g.Yb(36,"div",174),g.Yb(37,"p-inputNumber",192),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.BANKTFAMOUNT=e}),g.Xb(),g.Xb(),g.Xb(),g.Tb(38,"hr"),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(29),g.tc("ngForOf",n.lstBankDepositTransactionDetails),g.Fb(8),g.Pc(g.yc(6,Ne)),g.tc("ngModel",n.TenderObj.BANKTFAMOUNT)("min",0)("maxlength",10)}}function Ei(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",193),g.Yb(1,"h3"),g.Uc(2,"Cheque Details"),g.Xb(),g.Yb(3,"div",127),g.Yb(4,"div",31),g.Uc(5,"Cheque Number "),g.Yb(6,"span",173),g.Uc(7,"*"),g.Xb(),g.Xb(),g.Yb(8,"div",31),g.Yb(9,"input",194),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.CHEQUENO=e}),g.Xb(),g.Xb(),g.Yb(10,"div",31),g.Uc(11,"Bank Name "),g.Yb(12,"span",173),g.Uc(13,"*"),g.Xb(),g.Xb(),g.Yb(14,"div",31),g.Yb(15,"input",195),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.BANK=e}),g.Xb(),g.Xb(),g.Xb(),g.Yb(16,"div",127),g.Yb(17,"div",31),g.Uc(18,"Received Date"),g.Yb(19,"span",173),g.Uc(20,"*"),g.Xb(),g.Xb(),g.Yb(21,"div",174),g.Yb(22,"p-calendar",196),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.ChequeRecdDate=e}),g.Xb(),g.Xb(),g.Xb(),g.Yb(23,"div",127),g.Yb(24,"div",31),g.Uc(25,"Cheque Date"),g.Yb(26,"span",173),g.Uc(27,"*"),g.Xb(),g.Xb(),g.Yb(28,"div",174),g.Yb(29,"p-calendar",196),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.ChequeIssueDate=e}),g.Xb(),g.Xb(),g.Xb(),g.Yb(30,"div",127),g.Yb(31,"div",31),g.Uc(32,"Amount "),g.Yb(33,"span",173),g.Uc(34,"*"),g.Xb(),g.Xb(),g.Yb(35,"div",31),g.Yb(36,"p-inputNumber",197),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.CHEQUEAMT=e}),g.Xb(),g.Xb(),g.Yb(37,"div",31),g.Uc(38,"Holder Name"),g.Xb(),g.Yb(39,"div",31),g.Yb(40,"input",198),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.ChequeHolderName=e}),g.Xb(),g.Xb(),g.Xb(),g.Tb(41,"hr"),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(9),g.Pc(g.yc(34,Ne)),g.tc("ngModel",n.TenderObj.CHEQUENO),g.Fb(6),g.Pc(g.yc(35,Ne)),g.tc("ngModel",n.TenderObj.BANK),g.Fb(7),g.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",n.todayDate)("ngModel",n.TenderObj.ChequeRecdDate)("ngModelOptions",g.yc(36,we))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!0),g.Fb(7),g.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",n.todayDate)("ngModel",n.TenderObj.ChequeIssueDate)("ngModelOptions",g.yc(37,we))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!0),g.Fb(7),g.Pc(g.yc(38,Ne)),g.tc("ngModel",n.TenderObj.CHEQUEAMT)("min",0)("max",n.NetPaybleTotal),g.Fb(4),g.Pc(g.yc(39,Ne)),g.tc("ngModel",n.TenderObj.ChequeHolderName)}}function Gi(e,t){if(1&e&&(g.Yb(0,"label"),g.Uc(1),g.Xb()),2&e){var i=g.mc(3);g.Fb(1),g.Vc(i.fileInputLabelAttBankslip1)}}function Wi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",199),g.Yb(1,"div",200),g.Uc(2,"Attach Supported Doc (max size - 5MB) (PDF, JPG, PNG)"),g.Xb(),g.Yb(3,"div",174),g.Yb(4,"input",201,202),g.ic("change",function(e){return g.Lc(i),g.mc(2).onFileSelectBankDepositSlip(e,"AttBankslip1")}),g.Xb(),g.Tb(6,"br"),g.Sc(7,Gi,2,1,"label",5),g.Xb(),g.Tb(8,"hr"),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(7),g.tc("ngIf",n.fileInputLabelAttBankslip1)}}function Vi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",28),g.Yb(1,"div",31),g.Uc(2,"Remarks"),g.Xb(),g.Yb(3,"div",174),g.Yb(4,"input",203),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.REMARKS=e}),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(4),g.Pc(g.yc(3,Ne)),g.tc("ngModel",n.TenderObj.REMARKS)}}function ji(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",204),g.Yb(1,"div",28),g.Yb(2,"div",29),g.Yb(3,"label"),g.Uc(4,"Select Trust"),g.Xb(),g.Yb(5,"p-dropdown",205),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.TrustId=e}),g.Xb(),g.Xb(),g.Yb(6,"div",31),g.Yb(7,"label"),g.Uc(8,"Select Member Type"),g.Xb(),g.Yb(9,"p-dropdown",206),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.TMemberTypeId=e}),g.Xb(),g.Xb(),g.Yb(10,"div",31),g.Yb(11,"label"),g.Uc(12,"Membership Number"),g.Xb(),g.Yb(13,"input",207),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).TenderObj.MemberShipNumber=e}),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(5),g.Pc(g.yc(15,Ne)),g.tc("options",n.lstTrustMaster)("ngModel",n.TenderObj.TrustId)("filter",!0)("showClear",!0),g.Fb(4),g.Pc(g.yc(16,Ne)),g.tc("options",n.lstTrustMemberTypeMaster)("ngModel",n.TenderObj.TMemberTypeId)("filter",!0)("showClear",!0),g.Fb(4),g.Pc(g.yc(17,Ne)),g.tc("ngModel",n.TenderObj.MemberShipNumber)}}function Hi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"div",46),g.Yb(2,"div",34),g.Yb(3,"p-multiSelect",161),g.ic("onChange",function(){return g.Lc(i),g.mc().ShowSelectedItem()})("ngModelChange",function(e){return g.Lc(i),g.mc().selectedPaymodeCodes=e}),g.Xb(),g.Xb(),g.Xb(),g.Yb(4,"div",46),g.Yb(5,"div",34),g.Yb(6,"div",28),g.Yb(7,"div",162),g.Uc(8),g.nc(9,"number"),g.Xb(),g.Xb(),g.Sc(10,Ui,12,11,"div",163),g.Sc(11,Ni,19,17,"div",164),g.Sc(12,Xi,30,1,"div",165),g.Sc(13,_i,39,7,"div",166),g.Sc(14,Ei,42,40,"div",167),g.Sc(15,Wi,9,1,"div",168),g.Yb(16,"div",169),g.Sc(17,Vi,5,4,"div",170),g.Xb(),g.Sc(18,ji,14,18,"div",171),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(3),g.Pc(g.yc(16,Ne)),g.tc("options",n.lstPayMode)("ngModel",n.selectedPaymodeCodes),g.Fb(5),g.Wc(" Total Amount: ",g.pc(9,13,n.NetPaybleTotal,"1.0-0")," "),g.Fb(2),g.tc("ngIf",n.SelectPaymodeArray.includes("LB1199")),g.Fb(1),g.tc("ngIf",n.SelectPaymodeArray.includes("AT01002")),g.Fb(1),g.tc("ngIf",n.SelectPaymodeArray.includes("AT999999")),g.Fb(1),g.tc("ngIf",n.SelectPaymodeArray.includes("BT01001")),g.Fb(1),g.tc("ngIf",n.SelectPaymodeArray.includes("DI01001")),g.Fb(1),g.tc("ngIf",n.SelectPaymodeArray.includes("AT01002")||n.SelectPaymodeArray.includes("AT999999")||n.SelectPaymodeArray.includes("BT01001")||n.SelectPaymodeArray.includes("DI01001")),g.Fb(2),g.tc("ngIf",(null==n.SelectPaymodeArray?null:n.SelectPaymodeArray.length)>0&&!n.SelectPaymodeArray.includes("ATONLN")&&!n.SelectPaymodeArray.includes("ATWLONLN")),g.Fb(1),g.tc("ngIf",!n.SelectPaymodeArray.includes("ATONLN")&&!n.SelectPaymodeArray.includes("ATWLONLN"))}}function qi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",208),g.ic("click",function(){return g.Lc(i),g.mc().ClosePaymentMethod()}),g.Uc(1,"Close"),g.Xb(),g.Yb(2,"button",154),g.ic("click",function(){return g.Lc(i),g.mc().FireforPayment()}),g.Uc(3,"Submit"),g.Xb()}}function Zi(e,t){if(1&e){var i=g.Zb();g.Yb(0,"tr"),g.Yb(1,"td"),g.Uc(2),g.Xb(),g.Yb(3,"td"),g.Uc(4),g.Xb(),g.Yb(5,"td"),g.Uc(6),g.Xb(),g.Yb(7,"td"),g.Uc(8),g.Xb(),g.Yb(9,"td"),g.Uc(10),g.Xb(),g.Yb(11,"td"),g.Yb(12,"p-inputNumber",228),g.ic("ngModelChange",function(e){return t.$implicit.DiscountPer=e})("onInput",function(e){g.Lc(i);var n=t.index;return g.mc(2).CalculateDiscount(e,n)})("onBlur",function(){g.Lc(i);var e=t.index;return g.mc(2).CalculateDiscountNew(e)}),g.Xb(),g.Xb(),g.Yb(13,"td"),g.Yb(14,"p-inputNumber",229),g.ic("ngModelChange",function(e){return t.$implicit.DiscountAmount=e})("onInput",function(e){g.Lc(i);var n=t.index;return g.mc(2).CalculateDiscountRev(e,n)})("onBlur",function(){g.Lc(i);var e=t.index;return g.mc(2).CalculateDiscountBlur(e)}),g.Xb(),g.Xb(),g.Yb(15,"td"),g.Uc(16),g.Xb(),g.Xb()}if(2&e){var n=t.$implicit;g.Fb(2),g.Vc(n.MCODE),g.Fb(2),g.Vc(null==n.Description?null:n.Description.split("~")[0]),g.Fb(2),g.Vc(n.MRP),g.Fb(2),g.Vc(n.Qty),g.Fb(2),g.Vc(n.GST),g.Fb(2),g.Pc(g.yc(18,Ne)),g.tc("ngModel",n.DiscountPer)("min",0)("max",100)("maxlength",3),g.Fb(2),g.Pc(g.yc(19,Ne)),g.tc("ngModel",n.DiscountAmount)("min",0)("max",n.Qty*n.MRP)("maxlength",5),g.Fb(2),g.Vc(n.PriceWithGST)}}function $i(e,t){if(1&e){var i=g.Zb();g.Yb(0,"td",217),g.Yb(1,"button",154),g.ic("click",function(){return g.Lc(i),g.mc(2).CheckCreditNote()}),g.Uc(2,"Check Balance"),g.Xb(),g.Xb()}}function zi(e,t){if(1&e&&(g.Yb(0,"td"),g.Yb(1,"label",218),g.Uc(2,"Balance"),g.Xb(),g.Uc(3),g.Xb()),2&e){var i=g.mc(2);g.Fb(3),g.Wc(" ",i.MaxCreditNoteAmount," ")}}function Qi(e,t){1&e&&(g.Yb(0,"td"),g.Yb(1,"label",218),g.Uc(2,"Credit Note Amount"),g.Xb(),g.Xb())}function Ji(e,t){if(1&e){var i=g.Zb();g.Yb(0,"td",215),g.Yb(1,"p-inputNumber",230),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).CreditNoteTranAmount=e})("onBlur",function(){return g.Lc(i),g.mc(2).CalculateNetPaybleAfterDiscount()}),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(1),g.Pc(g.yc(5,Ne)),g.tc("ngModel",n.CreditNoteTranAmount)("min",0)("max",n.MaxCreditNoteAmount)}}function Ki(e,t){1&e&&(g.Yb(0,"p"),g.Yb(1,"b"),g.Uc(2,"Requested By"),g.Xb(),g.Xb())}function en(e,t){if(1&e){var i=g.Zb();g.Yb(0,"input",231),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).RequestedBy=e}),g.Xb()}if(2&e){var n=g.mc(2);g.tc("ngModel",n.RequestedBy)}}function tn(e,t){1&e&&(g.Yb(0,"p"),g.Yb(1,"b"),g.Uc(2,"Authorized By"),g.Xb(),g.Xb())}function nn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"p-dropdown",232),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).ReferredBy=e}),g.Xb()}if(2&e){var n=g.mc(2);g.Pc(g.yc(6,Ne)),g.tc("options",n.lstAuthorizedMaster)("ngModel",n.ReferredBy)("showClear",!0)("filter",!0)}}function on(e,t){1&e&&(g.Yb(0,"td",210),g.Uc(1,"Receive %"),g.Xb())}function an(e,t){if(1&e){var i=g.Zb();g.Yb(0,"td",211),g.Yb(1,"p-inputNumber",238),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).AmountRecPer=e})("onBlur",function(){return g.Lc(i),g.mc(3).CalculateReceiveAmount()})("onInput",function(e){return g.Lc(i),g.mc(3).CalculateReceiveAmountNew(e)}),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.Pc(g.yc(8,Ne)),g.tc("disabled",n.IsCashless||0==n.NetPaybleTotal)("ngModel",n.AmountRecPer)("min",0)("max",100)("minFractionDigits",1)("maxFractionDigits",5)}}function sn(e,t){1&e&&(g.Yb(0,"td",222),g.Yb(1,"b"),g.Uc(2,"Receive Amount"),g.Xb(),g.Xb())}function rn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"td",211),g.Yb(1,"p-inputNumber",239),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(3).ReceiveAmount=e})("onBlur",function(){return g.Lc(i),g.mc(3).CalculateReceivePer()})("onInput",function(e){return g.Lc(i),g.mc(3).CalculateReceivePerNew(e)}),g.Xb(),g.Xb()}if(2&e){var n=g.mc(3);g.Fb(1),g.tc("disabled",n.IsCashless||0==n.NetPaybleTotal)("ngModel",n.ReceiveAmount)("min",0)("max",n.NetPaybleTotal)("minFractionDigits",1)("maxFractionDigits",5)}}function ln(e,t){if(1&e){var i=g.Zb();g.Yb(0,"tr"),g.Yb(1,"td",222),g.Yb(2,"label",233),g.Uc(3,"Partial Payment"),g.Xb(),g.Yb(4,"p-checkbox",234),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).IsPartialPayment=e}),g.Xb(),g.Xb(),g.Sc(5,on,2,0,"td",235),g.Sc(6,an,2,9,"td",236),g.Sc(7,sn,3,0,"td",237),g.Sc(8,rn,2,6,"td",236),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(4),g.tc("ngModel",n.IsPartialPayment),g.Fb(1),g.tc("ngIf",n.IsPartialPayment),g.Fb(1),g.tc("ngIf",n.IsPartialPayment),g.Fb(1),g.tc("ngIf",n.IsPartialPayment),g.Fb(1),g.tc("ngIf",n.IsPartialPayment)}}function cn(e,t){1&e&&(g.Yb(0,"tr"),g.Yb(1,"td"),g.Uc(2," No records found "),g.Xb(),g.Xb()),2&e&&(g.Fb(1),g.Gb("colspan",3))}function dn(e,t){1&e&&(g.Yb(0,"colgroup"),g.Tb(1,"col",88),g.Tb(2,"col",90),g.Tb(3,"col",245),g.Tb(4,"col",76),g.Tb(5,"col",90),g.Tb(6,"col",90),g.Tb(7,"col",90),g.Tb(8,"col",246),g.Tb(9,"col",246),g.Tb(10,"col",246),g.Xb())}function un(e,t){1&e&&(g.Yb(0,"tr"),g.Yb(1,"th"),g.Uc(2,"S.No"),g.Xb(),g.Yb(3,"th"),g.Uc(4,"Center"),g.Xb(),g.Yb(5,"th"),g.Uc(6,"Trust"),g.Xb(),g.Yb(7,"th"),g.Uc(8,"Member Type Name"),g.Xb(),g.Yb(9,"th"),g.Uc(10,"MemberShip No."),g.Xb(),g.Yb(11,"th"),g.Uc(12,"Health Seeker"),g.Xb(),g.Yb(13,"th"),g.Uc(14,"MR No"),g.Xb(),g.Yb(15,"th"),g.Uc(16,"Adm. Date"),g.Xb(),g.Yb(17,"th"),g.Uc(18,"Dis. Date"),g.Xb(),g.Yb(19,"th"),g.Uc(20,"Rec Date"),g.Xb(),g.Xb())}function hn(e,t){if(1&e&&(g.Yb(0,"tr"),g.Yb(1,"td"),g.Uc(2),g.Xb(),g.Yb(3,"td"),g.Uc(4),g.Xb(),g.Yb(5,"td"),g.Uc(6),g.Xb(),g.Yb(7,"td"),g.Uc(8),g.Xb(),g.Yb(9,"td"),g.Uc(10),g.Xb(),g.Yb(11,"td"),g.Uc(12),g.Xb(),g.Yb(13,"td"),g.Uc(14),g.Xb(),g.Yb(15,"td"),g.Uc(16),g.nc(17,"date"),g.Xb(),g.Yb(18,"td"),g.Uc(19),g.nc(20,"date"),g.Xb(),g.Yb(21,"td"),g.Uc(22),g.nc(23,"date"),g.Xb(),g.Xb()),2&e){var i=t.$implicit,n=t.rowIndex,o=g.mc(3);g.Fb(2),g.Vc(n+1),g.Fb(2),g.Vc(i.ClinicName),g.Fb(2),g.Vc(i.TrustName),g.Fb(2),g.Vc(i.MemberTypeName),g.Fb(2),g.Vc(i.MemberShipNumber),g.Fb(2),g.Vc(i.FullName),g.Fb(2),g.Vc(i.MRNo),g.Fb(2),g.Vc(g.pc(17,10,i.PeriodFrom,o.customDateFormat.DEF_DATE)),g.Fb(3),g.Vc(g.pc(20,13,i.PeriodUpto,o.customDateFormat.DEF_DATE)),g.Fb(3),g.Vc(g.pc(23,16,i.ReceivedDate,o.customDateFormat.DEF_DATE))}}function bn(e,t){if(1&e&&(g.Yb(0,"div"),g.Tb(1,"hr",240),g.Yb(2,"h4"),g.Yb(3,"strong"),g.Uc(4,"Trust Details History"),g.Xb(),g.Xb(),g.Yb(5,"div",241),g.Yb(6,"div",242),g.Yb(7,"p-table",243,244),g.Sc(9,cn,3,1,"ng-template",50),g.Sc(10,dn,11,0,"ng-template",38),g.Sc(11,un,21,0,"ng-template",25),g.Sc(12,hn,24,19,"ng-template",39),g.Xb(),g.Xb(),g.Xb(),g.Tb(13,"hr"),g.Xb()),2&e){var i=g.mc(2);g.Fb(7),g.tc("value",i.lstTrustHistory)("rowHover",!0)("scrollable",!0)}}function mn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"div",46),g.Yb(2,"div",34),g.Yb(3,"table",209),g.Yb(4,"thead"),g.Yb(5,"tr"),g.Yb(6,"th"),g.Uc(7,"MCODE"),g.Xb(),g.Yb(8,"th"),g.Uc(9,"Item Details"),g.Xb(),g.Yb(10,"th"),g.Uc(11,"Rate"),g.Xb(),g.Yb(12,"th"),g.Uc(13,"Qty"),g.Xb(),g.Yb(14,"th"),g.Uc(15,"GST"),g.Xb(),g.Yb(16,"th"),g.Uc(17,"Discount %"),g.Xb(),g.Yb(18,"th"),g.Uc(19,"Discount Amount"),g.Xb(),g.Yb(20,"th"),g.Uc(21,"Net Amount"),g.Xb(),g.Xb(),g.Xb(),g.Yb(22,"tbody"),g.Sc(23,Zi,17,20,"tr",182),g.Yb(24,"tr"),g.Yb(25,"td"),g.Uc(26,"Total"),g.Xb(),g.Yb(27,"td"),g.Uc(28,"\xa0"),g.Xb(),g.Yb(29,"td"),g.Uc(30,"\xa0"),g.Xb(),g.Yb(31,"td"),g.Uc(32,"\xa0"),g.Xb(),g.Yb(33,"td"),g.Uc(34,"\xa0"),g.Xb(),g.Yb(35,"td"),g.Uc(36,"\xa0"),g.Xb(),g.Yb(37,"td"),g.Uc(38,"\xa0"),g.Xb(),g.Yb(39,"td"),g.Uc(40),g.Xb(),g.Xb(),g.Yb(41,"tr"),g.Yb(42,"td",210),g.Uc(43,"Bill wise Discount %"),g.Xb(),g.Yb(44,"td",211),g.Yb(45,"p-inputNumber",212),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().BillWiseDiscountPer=e})("onBlur",function(){return g.Lc(i),g.mc().CalculateNetPaybleAfterDiscount()})("onInput",function(e){return g.Lc(i),g.mc().CalculateNetPaybleAfterDiscountNew(e)}),g.Xb(),g.Xb(),g.Yb(46,"td",210),g.Uc(47," Discount Amount "),g.Xb(),g.Yb(48,"td",211),g.Yb(49,"p-inputNumber",213),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().BillWiseDiscountAmount=e})("onBlur",function(){return g.Lc(i),g.mc().CalculateNetPaybleAfterDiscountReverse()})("onInput",function(e){return g.Lc(i),g.mc().CalculateNetPaybleAfterDiscountReverseNew(e)}),g.Xb(),g.Xb(),g.Yb(50,"td",214),g.Uc(51," Net Payable "),g.Xb(),g.Yb(52,"td",215),g.Uc(53),g.nc(54,"number"),g.Xb(),g.Xb(),g.Yb(55,"tr",216),g.Yb(56,"td",217),g.Yb(57,"label",218),g.Uc(58,"Credit Note Number"),g.Xb(),g.Xb(),g.Yb(59,"td"),g.Yb(60,"input",219),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().CreditNoteNumber=e}),g.Xb(),g.Xb(),g.Sc(61,$i,3,0,"td",220),g.Sc(62,zi,4,1,"td",5),g.Sc(63,Qi,3,0,"td",5),g.Sc(64,Ji,2,6,"td",221),g.Xb(),g.Yb(65,"tr"),g.Yb(66,"td",222),g.Sc(67,Ki,3,0,"p",5),g.Xb(),g.Yb(68,"td",211),g.Sc(69,en,1,1,"input",223),g.Xb(),g.Yb(70,"td",222),g.Sc(71,tn,3,0,"p",5),g.Xb(),g.Yb(72,"td",211),g.Sc(73,nn,1,7,"p-dropdown",224),g.Xb(),g.Tb(74,"td",225),g.Xb(),g.Sc(75,ln,9,5,"tr",5),g.Yb(76,"tr"),g.Yb(77,"td",210),g.Uc(78,"Membership No."),g.Xb(),g.Yb(79,"td",226),g.Yb(80,"input",207),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().TenderObj.MemberShipNumber=e}),g.Xb(),g.Xb(),g.Yb(81,"td",227),g.Yb(82,"button",154),g.ic("click",function(){return g.Lc(i),g.mc().GetTrustDetailsHistory()}),g.Uc(83,"Check Trust History"),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Sc(84,bn,14,3,"div",5),g.Xb()}if(2&e){var n=g.mc();g.Fb(23),g.tc("ngForOf",n.ItemPriceRes),g.Fb(17),g.Vc(n.TotalPaybleAmount),g.Fb(5),g.Pc(g.yc(37,Ne)),g.tc("disabled",0==n.TotalPaybleAmount)("ngModel",n.BillWiseDiscountPer)("min",0)("max",100)("minFractionDigits",0)("maxFractionDigits",5),g.Fb(4),g.tc("disabled",0==n.TotalPaybleAmount)("ngModel",n.BillWiseDiscountAmount)("min",0)("max",n.TotalPaybleAmount)("minFractionDigits",0)("maxFractionDigits",5),g.Fb(4),g.Wc(" ",g.pc(54,34,n.NetPaybleTotal,"1.0-0")," "),g.Fb(7),g.Pc(g.yc(38,Ne)),g.tc("disabled",n.MaxCreditNoteAmount>0)("ngModel",n.CreditNoteNumber),g.Fb(1),g.tc("ngIf",0==n.MaxCreditNoteAmount),g.Fb(1),g.tc("ngIf",n.MaxCreditNoteAmount>0),g.Fb(1),g.tc("ngIf",n.MaxCreditNoteAmount>0),g.Fb(1),g.tc("ngIf",n.MaxCreditNoteAmount>0),g.Fb(3),g.tc("ngIf",n.ItemTotalDiscount+n.BillWiseDiscountAmount>0),g.Fb(2),g.tc("ngIf",n.ItemTotalDiscount+n.BillWiseDiscountAmount>0),g.Fb(2),g.tc("ngIf",n.ItemTotalDiscount+n.BillWiseDiscountAmount>0),g.Fb(2),g.tc("ngIf",n.ItemTotalDiscount+n.BillWiseDiscountAmount>0),g.Fb(2),g.tc("ngIf",n.NetPaybleTotal>0),g.Fb(5),g.Pc(g.yc(39,Ne)),g.tc("ngModel",n.TenderObj.MemberShipNumber),g.Fb(4),g.tc("ngIf",n.lstTrustHistory.length>0)}}function gn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",159),g.ic("click",function(){g.Lc(i);var e=g.mc(2);return e.ChangeRoom(e.SlotBookingIdSelectedId)}),g.Uc(1,"Change Room"),g.Xb()}}function pn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",247),g.ic("click",function(){return g.Lc(i),g.mc().SlotBookingPayByCash()}),g.Uc(1,"Pay"),g.Xb(),g.Sc(2,gn,2,0,"button",158)}if(2&e){var n=g.mc();g.Fb(2),g.tc("ngIf",n.IsIPD)}}function fn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"div",248),g.Yb(2,"div",136),g.Yb(3,"h5"),g.Uc(4,"Credit Note Amount"),g.Xb(),g.Yb(5,"p-inputNumber",249),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().CreditNoteAmount=e}),g.Xb(),g.Xb(),g.Tb(6,"div",136),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(5),g.tc("ngModel",n.CreditNoteAmount)("minFractionDigits",2)("maxFractionDigits",5)}}function Sn(e,t){}function yn(e,t){1&e&&(g.Yb(0,"tr"),g.Yb(1,"td"),g.Uc(2," No records found "),g.Xb(),g.Xb()),2&e&&(g.Fb(1),g.Gb("colspan",8))}function vn(e,t){1&e&&g.Tb(0,"col",79)}function In(e,t){if(1&e&&(g.Yb(0,"colgroup"),g.Tb(1,"col",76),g.Tb(2,"col",83),g.Tb(3,"col",77),g.Tb(4,"col",79),g.Sc(5,vn,1,0,"col",80),g.Tb(6,"col",76),g.Tb(7,"col",252),g.Tb(8,"col",253),g.Xb()),2&e){var i=g.mc(2);g.Fb(5),g.tc("ngIf","IPD"===i.bookingtype)}}function Mn(e,t){1&e&&(g.Yb(0,"th"),g.Uc(1,"Dis. Date"),g.Xb())}function kn(e,t){if(1&e&&(g.Yb(0,"tr"),g.Yb(1,"th"),g.Uc(2,"Booking No"),g.Xb(),g.Yb(3,"th"),g.Uc(4,"Name"),g.Xb(),g.Yb(5,"th"),g.Uc(6,"MR No"),g.Xb(),g.Yb(7,"th"),g.Uc(8),g.Xb(),g.Sc(9,Mn,2,0,"th",5),g.Yb(10,"th"),g.Uc(11,"Status"),g.Xb(),g.Yb(12,"th"),g.Uc(13,"MR Number"),g.Xb(),g.Yb(14,"th"),g.Uc(15,"Action"),g.Xb(),g.Xb()),2&e){var i=g.mc(2);g.Fb(8),g.Vc("IPD"===i.bookingtype?"Adm. Date":"Booking For"),g.Fb(1),g.tc("ngIf","IPD"===i.bookingtype)}}function Cn(e,t){if(1&e&&(g.Yb(0,"tr"),g.Yb(1,"td",258),g.Yb(2,"span"),g.Uc(3),g.Xb(),g.Xb(),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(3),g.Vc(i.GroupNumber)}}function Pn(e,t){if(1&e&&(g.Yb(0,"td"),g.Uc(1),g.nc(2,"date"),g.nc(3,"date"),g.Xb()),2&e){var i=g.mc().$implicit,n=g.mc(2);g.Fb(1),g.Vc("0001"==g.pc(2,1,i.PeriodUpto,"yyyy")?"":g.pc(3,4,i.PeriodUpto,n.customDateFormat.DEF_DATE))}}function Dn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"input",259),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().$implicit.NewMRNumber=e}),g.Xb()}if(2&e){var n=g.mc().$implicit;g.vc("name","txtMrNumber_",n.BookingNumber,""),g.tc("maxlength",20)("ngModel",n.NewMRNumber)}}function Rn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",260),g.ic("click",function(){g.Lc(i);var e=g.mc().$implicit;return g.mc(2).ValidateMRNO(e.SlotBookingId,e.NewMRNumber)}),g.Xb()}}function Tn(e,t){1&e&&(g.Yb(0,"label",261),g.Uc(1,"Verified"),g.Xb())}function An(e,t){1&e&&(g.Yb(0,"label",261),g.Uc(1,"Updated"),g.Xb())}function Bn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",262),g.ic("click",function(){g.Lc(i);var e=g.mc().$implicit;return g.mc(2).UpdateGroupMember(e.SlotBookingId,e.NewMRNumber)}),g.Xb()}}function Un(e,t){if(1&e&&(g.Sc(0,Cn,4,1,"tr",5),g.Yb(1,"tr"),g.Yb(2,"td"),g.Uc(3),g.Xb(),g.Yb(4,"td"),g.Yb(5,"span",117),g.Uc(6),g.Xb(),g.Xb(),g.Yb(7,"td"),g.Uc(8),g.Xb(),g.Yb(9,"td"),g.Uc(10),g.nc(11,"date"),g.nc(12,"date"),g.Xb(),g.Sc(13,Pn,4,7,"td",5),g.Yb(14,"td"),g.Yb(15,"span"),g.Uc(16),g.Xb(),g.Xb(),g.Yb(17,"td"),g.Sc(18,Dn,1,3,"input",254),g.Xb(),g.Yb(19,"td"),g.Sc(20,Rn,1,0,"button",255),g.Sc(21,Tn,2,0,"label",256),g.Sc(22,An,2,0,"label",256),g.Sc(23,Bn,1,0,"button",257),g.Xb(),g.Xb()),2&e){var i=t.$implicit,n=t.rowIndex,o=g.mc(2);g.tc("ngIf","IPD"===o.bookingtype&&(0==o.IsAllGrouped||2==o.IsAllGrouped)&&0==n),g.Fb(3),g.Vc(i.BookingNumber),g.Fb(2),g.tc("ngStyle",g.zc(22,ei,i.IsGrouphead?"bold":"normal")),g.Fb(1),g.Vc(i.PaitentName),g.Fb(2),g.Vc(i.MRNo),g.Fb(2),g.Vc("0001"==g.pc(11,16,i.PeriodFrom,"yyyy")?"":g.pc(12,19,i.PeriodFrom,o.customDateFormat.DEF_DATE)),g.Fb(3),g.tc("ngIf","IPD"===o.bookingtype),g.Fb(2),g.Hb(i.BookingStatus),g.Fb(1),g.Vc(i.BookingStatus),g.Fb(2),g.tc("ngIf",0==i.IsGrouphead&&0==i.IsUpdated&&(i.BookingStatus===o.bookingStatus[o.bookingStatus.Approved]||i.BookingStatus===o.bookingStatus[o.bookingStatus.Confirmed])),g.Fb(2),g.tc("ngIf",0==i.Isverfied&&0==i.IsGrouphead&&(i.BookingStatus===o.bookingStatus[o.bookingStatus.Approved]||i.BookingStatus===o.bookingStatus[o.bookingStatus.Confirmed])),g.Fb(1),g.tc("ngIf",i.Isverfied&&0==i.IsUpdated),g.Fb(1),g.tc("ngIf",i.IsUpdated&&i.Isverfied),g.Fb(1),g.tc("ngIf",1==i.Isverfied&&0==i.IsGrouphead&&0==i.IsUpdated&&(i.BookingStatus===o.bookingStatus[o.bookingStatus.Approved]||i.BookingStatus===o.bookingStatus[o.bookingStatus.Confirmed]))}}function Nn(e,t){if(1&e&&(g.Yb(0,"div"),g.Yb(1,"p-table",250,251),g.Sc(3,yn,3,1,"ng-template",50),g.Sc(4,In,9,1,"ng-template",38),g.Sc(5,kn,16,2,"ng-template",25),g.Sc(6,Un,24,24,"ng-template",39),g.Xb(),g.Xb()),2&e){var i=g.mc();g.Fb(1),g.tc("value",i.filterGroup)("rowHover",!0)("scrollable",!0)}}function wn(e,t){1&e&&(g.Yb(0,"tr"),g.Yb(1,"td"),g.Uc(2," No records found "),g.Xb(),g.Xb()),2&e&&(g.Fb(1),g.Gb("colspan",7))}function Fn(e,t){1&e&&(g.Yb(0,"colgroup"),g.Tb(1,"col",76),g.Tb(2,"col",83),g.Tb(3,"col",77),g.Tb(4,"col",79),g.Tb(5,"col",79),g.Tb(6,"col",76),g.Tb(7,"col",90),g.Xb())}function Yn(e,t){if(1&e&&(g.Yb(0,"tr"),g.Yb(1,"th"),g.Uc(2,"Booking No"),g.Xb(),g.Yb(3,"th"),g.Uc(4,"Name"),g.Xb(),g.Yb(5,"th"),g.Uc(6,"MR No"),g.Xb(),g.Yb(7,"th"),g.Uc(8),g.Xb(),g.Yb(9,"th"),g.Uc(10,"Dis. Date"),g.Xb(),g.Yb(11,"th"),g.Uc(12,"Status"),g.Xb(),g.Yb(13,"th"),g.Uc(14,"Action"),g.Xb(),g.Xb()),2&e){var i=g.mc(2);g.Fb(8),g.Vc("IPD"===i.bookingtype?"Adm. Date":"Booking For")}}function Xn(e,t){if(1&e&&(g.Yb(0,"tr"),g.Yb(1,"td",263),g.Yb(2,"span"),g.Uc(3),g.Xb(),g.Xb(),g.Xb()),2&e){var i=g.mc().$implicit;g.Fb(3),g.Vc(i.GroupNumber)}}function Ln(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",262),g.ic("click",function(){g.Lc(i);var e=g.mc().$implicit;return g.mc(2).UpdateGroupHead(e.SlotBookingId)}),g.Xb()}}function On(e,t){if(1&e&&(g.Sc(0,Xn,4,1,"tr",5),g.Yb(1,"tr"),g.Yb(2,"td"),g.Uc(3),g.Xb(),g.Yb(4,"td"),g.Yb(5,"span",117),g.Uc(6),g.Xb(),g.Xb(),g.Yb(7,"td"),g.Uc(8),g.Xb(),g.Yb(9,"td"),g.Uc(10),g.nc(11,"date"),g.nc(12,"date"),g.Xb(),g.Yb(13,"td"),g.Uc(14),g.nc(15,"date"),g.nc(16,"date"),g.Xb(),g.Yb(17,"td"),g.Yb(18,"span"),g.Uc(19),g.Xb(),g.Xb(),g.Yb(20,"td"),g.Sc(21,Ln,1,0,"button",257),g.Xb(),g.Xb()),2&e){var i=t.$implicit,n=t.rowIndex,o=g.mc(2);g.tc("ngIf","IPD"===o.bookingtype&&(0==o.IsAllGrouped||2==o.IsAllGrouped)&&0==n),g.Fb(3),g.Vc(i.BookingNumber),g.Fb(2),g.tc("ngStyle",g.zc(24,ei,i.IsGrouphead?"bold":"normal")),g.Fb(1),g.Vc(i.PaitentName),g.Fb(2),g.Vc(i.MRNo),g.Fb(2),g.Vc("0001"==g.pc(11,12,i.PeriodFrom,"yyyy")?"":g.pc(12,15,i.PeriodFrom,o.customDateFormat.DEF_DATE)),g.Fb(4),g.Vc("0001"==g.pc(15,18,i.PeriodUpto,"yyyy")?"":g.pc(16,21,i.PeriodUpto,o.customDateFormat.DEF_DATE)),g.Fb(4),g.Hb(i.BookingStatus),g.Fb(1),g.Vc(i.BookingStatus),g.Fb(2),g.tc("ngIf",1==i.IsGrouped&&0==i.IsGrouphead&&(i.BookingStatus===o.bookingStatus[o.bookingStatus.Confirmed]||i.BookingStatus===o.bookingStatus[o.bookingStatus.Admitted]))}}function xn(e,t){if(1&e&&(g.Yb(0,"div"),g.Yb(1,"p-table",250,251),g.Sc(3,wn,3,1,"ng-template",50),g.Sc(4,Fn,8,0,"ng-template",38),g.Sc(5,Yn,15,1,"ng-template",25),g.Sc(6,On,22,26,"ng-template",39),g.Xb(),g.Xb()),2&e){var i=g.mc();g.Fb(1),g.tc("value",i.filterGroup)("rowHover",!0)("scrollable",!0)}}function _n(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",271),g.Yb(1,"div",200),g.Uc(2),g.Xb(),g.Yb(3,"div",174),g.Yb(4,"p-inputNumber",273),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).prepostCharge=e})("ngModelChange",function(){return g.Lc(i),g.mc(2).GetPerponePostponeChargeDetails()}),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(2),g.Vc(n.IsPostpone?"Postpone Charge %":"Prepone Charge %"),g.Fb(2),g.Pc(g.yc(6,Ne)),g.tc("ngModel",n.prepostCharge)("min",0)("maxlength",2)}}function En(e,t){if(1&e&&(g.Yb(0,"div",31),g.Yb(1,"label",274),g.Uc(2),g.Xb(),g.Xb()),2&e){var i=g.mc(3);g.Fb(2),g.Wc("Net Payble: ",i.NetPaybleTotal,"")}}function Gn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",271),g.Yb(1,"div",31),g.Yb(2,"label",274),g.Uc(3,"Partial Payment"),g.Xb(),g.Uc(4,"\xa0"),g.Yb(5,"p-checkbox",275),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).IsPartialPayment=e})("onChange",function(){return g.Lc(i),g.mc(2).GetPerponePostponeChargeDetails()}),g.Xb(),g.Xb(),g.Sc(6,En,3,1,"div",276),g.Tb(7,"div",136),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(5),g.tc("ngModel",n.IsPartialPayment),g.Fb(1),g.tc("ngIf",n.IsPartialPayment)}}function Wn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",271),g.Yb(1,"div",277),g.Uc(2,"Receive %"),g.Xb(),g.Yb(3,"div",31),g.Yb(4,"p-inputNumber",238),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).AmountRecPer=e})("onBlur",function(){return g.Lc(i),g.mc(2).CalculateReceiveAmount()})("onInput",function(e){return g.Lc(i),g.mc(2).CalculateReceiveAmountNew(e)}),g.Xb(),g.Xb(),g.Yb(5,"div",277),g.Uc(6,"Receive Amount"),g.Xb(),g.Yb(7,"div",31),g.Yb(8,"p-inputNumber",239),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc(2).ReceiveAmount=e})("onBlur",function(){return g.Lc(i),g.mc(2).CalculateReceivePer()})("onInput",function(e){return g.Lc(i),g.mc(2).CalculateReceivePerNew(e)}),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc(2);g.Fb(4),g.Pc(g.yc(14,Ne)),g.tc("disabled",0==n.NetPaybleTotal)("ngModel",n.AmountRecPer)("min",0)("max",100)("minFractionDigits",1)("maxFractionDigits",5),g.Fb(4),g.tc("disabled",0==n.NetPaybleTotal)("ngModel",n.ReceiveAmount)("min",0)("max",n.NetPaybleTotal)("minFractionDigits",1)("maxFractionDigits",5)}}function Vn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"div",46),g.Yb(2,"div",200),g.Uc(3,"Change Start Date "),g.Yb(4,"span",173),g.Uc(5,"*"),g.Xb(),g.Xb(),g.Yb(6,"div",31),g.Yb(7,"p-calendar",264,265),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().changeDate=e})("onClose",function(){return g.Lc(i),g.mc().ChangePeriodDate()}),g.Xb(),g.Xb(),g.Yb(9,"div",266),g.Uc(10,"Change Period Count: "),g.Yb(11,"b"),g.Uc(12),g.Xb(),g.Xb(),g.Yb(13,"div",267),g.Yb(14,"a",268),g.ic("click",function(){g.Lc(i);var e=g.mc();return e.ShowInvoiceList(e.SlotBookingIdSelectedId,!1)}),g.Tb(15,"i",269),g.Xb(),g.Xb(),g.Xb(),g.Sc(16,_n,5,7,"div",270),g.Sc(17,Gn,8,2,"div",270),g.Sc(18,Wn,9,15,"div",270),g.Yb(19,"div",271),g.Yb(20,"div",200),g.Uc(21,"Remarks "),g.Yb(22,"span",173),g.Uc(23,"*"),g.Xb(),g.Xb(),g.Yb(24,"div",174),g.Yb(25,"textarea",272),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().remarks=e}),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(7),g.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("minDate",n.todayDate)("ngModel",n.changeDate)("ngModelOptions",g.yc(15,we))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!1),g.Fb(5),g.Vc(n.changedCount),g.Fb(4),g.tc("ngIf",n.IsPrepone||n.IsPostpone),g.Fb(1),g.tc("ngIf",(n.IsPrepone||n.IsPostpone)&&n.prepostCharge>0),g.Fb(1),g.tc("ngIf",(n.IsPrepone||n.IsPostpone)&&n.prepostCharge>0&&n.IsPartialPayment),g.Fb(7),g.tc("ngModel",n.remarks)}}function jn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",153),g.ic("click",function(){return g.Lc(i),g.mc(2).ChangePeriod()}),g.Uc(1,"Submit"),g.Xb()}}function Hn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",153),g.ic("click",function(){return g.Lc(i),g.mc(2).ChangePeriodWithPayment()}),g.Uc(1,"Pay"),g.Xb()}}function qn(e,t){if(1&e&&(g.Sc(0,jn,2,0,"button",278),g.Sc(1,Hn,2,0,"button",278)),2&e){var i=g.mc();g.tc("ngIf",0===i.prepostCharge),g.Fb(1),g.tc("ngIf",0!==i.prepostCharge)}}function Zn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"div",46),g.Yb(2,"div",31),g.Uc(3,"Add Member "),g.Yb(4,"span",173),g.Uc(5,"*"),g.Xb(),g.Xb(),g.Yb(6,"div",136),g.Yb(7,"p-dropdown",279),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().newslotBookingId=e}),g.Xb(),g.Xb(),g.Xb(),g.Yb(8,"div",280),g.Yb(9,"div",31),g.Uc(10,"Remarks "),g.Yb(11,"span",53),g.Uc(12,"*"),g.Xb(),g.Xb(),g.Yb(13,"div",136),g.Yb(14,"textarea",135),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().remarks=e}),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(7),g.Pc(g.yc(7,Ne)),g.tc("options",n.approvedUserList)("ngModel",n.newslotBookingId)("filter",!0)("showClear",!0),g.Fb(7),g.tc("ngModel",n.remarks)}}function $n(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",153),g.ic("click",function(e){return g.Lc(i),g.mc().confirm(e)}),g.Uc(1,"Submit"),g.Xb()}}function zn(e,t){if(1&e&&(g.Yb(0,"h6",283),g.Uc(1),g.Xb()),2&e){var i=g.mc(2);g.Fb(1),g.Wc("Assigned Token for today Consultant is : ",i.CurrentAssignedToken,"")}}function Qn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Sc(1,zn,2,1,"h6",281),g.Yb(2,"p-dropdown",282),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().SelectedDoctorIdToken=e}),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(1),g.tc("ngIf",n.CurrentAssignedToken),g.Fb(1),g.Pc(g.yc(7,Ne)),g.tc("showClear",!0)("options",n.lstDoctorWithCountAllot)("ngModel",n.SelectedDoctorIdToken)("filter",!0)}}function Jn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",153),g.ic("click",function(){return g.Lc(i),g.mc(2).GenerateManualToken()}),g.Uc(1,"Generate Manual"),g.Xb()}}function Kn(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",153),g.ic("click",function(){return g.Lc(i),g.mc(2).GenerateAutoToken()}),g.Uc(1,"Generate Automatic"),g.Xb()}}function eo(e,t){if(1&e&&(g.Sc(0,Jn,2,0,"button",278),g.Sc(1,Kn,2,0,"button",278)),2&e){var i=g.mc();g.tc("ngIf",i.SelectedDoctorIdToken),g.Fb(1),g.tc("ngIf",!i.SelectedDoctorIdToken)}}function to(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"div",127),g.Yb(2,"div",31),g.Uc(3,"Amount "),g.Yb(4,"span",173),g.Uc(5,"*"),g.Xb(),g.Xb(),g.Yb(6,"div",174),g.Yb(7,"p-inputNumber",284),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().TenderObj.CREDITAMT=e}),g.Xb(),g.Xb(),g.Xb(),g.Yb(8,"div",280),g.Yb(9,"div",31),g.Uc(10,"Purpose "),g.Yb(11,"span",53),g.Uc(12,"*"),g.Xb(),g.Xb(),g.Yb(13,"div",174),g.Yb(14,"textarea",285),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().remarks=e}),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(7),g.Pc(g.yc(6,Ne)),g.tc("ngModel",n.TenderObj.CREDITAMT)("min",0)("maxlength",5),g.Fb(7),g.tc("ngModel",n.remarks)}}function io(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",153),g.ic("click",function(){return g.Lc(i),g.mc().GenerateCreditNote()}),g.Uc(1,"Generate"),g.Xb()}}function no(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"app-allot-doctor",286),g.ic("AllotSuccess",function(e){return g.Lc(i),g.mc().AllotSuccess(e)}),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(1),g.tc("slotBookingId",n.SlotBookingIdSelectedId)("clinicId",n.ClinicIdSelected)}}function oo(e,t){if(1&e&&(g.Yb(0,"div"),g.Tb(1,"app-individual-change-status-remarks",287),g.Xb()),2&e){var i=g.mc();g.Fb(1),g.tc("slotBookingId",i.SlotBookingIdSelectedId)}}function ao(e,t){if(1&e&&(g.Yb(0,"div"),g.Tb(1,"app-individual-invoice-list",288),g.Xb()),2&e){var i=g.mc();g.Fb(1),g.tc("slotBookingId",i.SlotBookingIdSelectedId)("IsGrouped",i.IsGroupedSelected)("BookingType",i.bookingtype)}}function so(e,t){if(1&e&&(g.Yb(0,"h3"),g.Uc(1),g.Xb()),2&e){var i=g.mc();g.Fb(1),g.Vc(i.HeaderName)}}function ro(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"app-file-upload",289),g.ic("FileSuccess",function(e){return g.Lc(i),g.mc().FileSuccessUpload(e)}),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(1),g.tc("FormType",n.FormType)("SlotBookingId",n.SlotBookingIdSelectedId)}}function lo(e,t){if(1&e&&(g.Yb(0,"h3"),g.Uc(1),g.Xb()),2&e){var i=g.mc();g.Fb(1),g.Vc(i.HeaderName)}}function co(e,t){if(1&e&&(g.Yb(0,"div"),g.Tb(1,"app-file-download",290),g.Xb()),2&e){var i=g.mc();g.Fb(1),g.tc("FormType",i.FormType)("SlotBookingId",i.SlotBookingIdSelectedId)}}function uo(e,t){1&e&&(g.Yb(0,"h5"),g.Uc(1,"Memebership Details"),g.Xb())}function ho(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",293),g.ic("click",function(){return g.Lc(i),g.mc(2).UpdateMemberShipDetailsBySlotId()}),g.Xb()}if(2&e){var n=g.mc(2);g.tc("label",!0===n.UserMemberShipDetails.update?"Update":"Add")("disabled",n.UserMemberShipDetails.bookingStatus)}}function bo(e,t){if(1&e){var i=g.Zb();g.Sc(0,ho,1,2,"button",291),g.Yb(1,"button",292),g.ic("click",function(){return g.Lc(i),g.mc().CloseMemberShipModel()}),g.Xb()}if(2&e){var n=g.mc();g.tc("ngIf",null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.ReadWrite.toString()))}}function mo(e,t){1&e&&(g.Yb(0,"h5"),g.Uc(1,"Tariff Details"),g.Xb())}function go(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div",294),g.Yb(1,"span",295),g.Tb(2,"i",296),g.Yb(3,"input",297),g.ic("input",function(e){return g.Lc(i),g.mc(),g.Ic(81).filterGlobal(e.target.value,"contains")}),g.Xb(),g.Xb(),g.Xb()}}function po(e,t){1&e&&(g.Yb(0,"tr",215),g.Yb(1,"th"),g.Uc(2,"S.No"),g.Xb(),g.Yb(3,"th"),g.Uc(4,"MCODE"),g.Xb(),g.Yb(5,"th"),g.Uc(6,"Description"),g.Xb(),g.Yb(7,"th"),g.Uc(8,"MRP"),g.Xb(),g.Yb(9,"th"),g.Uc(10,"Selling Price"),g.Xb(),g.Yb(11,"th"),g.Uc(12,"Other Charges"),g.Xb(),g.Yb(13,"th"),g.Uc(14,"Extra Bed Charges"),g.Xb(),g.Yb(15,"th"),g.Uc(16,"Extra Bed Other Charges"),g.Xb(),g.Yb(17,"th"),g.Uc(18,"Start Date"),g.Xb(),g.Yb(19,"th"),g.Uc(20,"End Date"),g.Xb(),g.Xb())}function fo(e,t){1&e&&(g.Yb(0,"colgroup"),g.Tb(1,"col",245),g.Tb(2,"col",246),g.Tb(3,"col",253),g.Tb(4,"col",78),g.Tb(5,"col",78),g.Tb(6,"col",78),g.Tb(7,"col",78),g.Tb(8,"col",78),g.Tb(9,"col",298),g.Tb(10,"col",298),g.Xb())}function So(e,t){if(1&e&&(g.Yb(0,"td",301),g.Uc(1),g.Xb()),2&e){var i=g.mc().$implicit;g.tc("rowSpan",i.rowspan),g.Fb(1),g.Vc(i.MCODE)}}function yo(e,t){if(1&e&&(g.Yb(0,"tr",215),g.Yb(1,"td"),g.Uc(2),g.Xb(),g.Sc(3,So,2,2,"td",299),g.Yb(4,"td",300),g.Uc(5),g.Xb(),g.Yb(6,"td"),g.Uc(7),g.Xb(),g.Yb(8,"td"),g.Uc(9),g.Xb(),g.Yb(10,"td"),g.Uc(11),g.Xb(),g.Yb(12,"td"),g.Uc(13),g.Xb(),g.Yb(14,"td"),g.Uc(15),g.Xb(),g.Yb(16,"td"),g.Uc(17),g.nc(18,"date"),g.nc(19,"date"),g.Xb(),g.Yb(20,"td"),g.Uc(21),g.nc(22,"date"),g.nc(23,"date"),g.Xb(),g.Xb()),2&e){var i=t.$implicit,n=t.rowIndex,o=g.mc();g.Fb(2),g.Vc(n+1),g.Fb(1),g.tc("ngIf",i.rowgroup),g.Fb(2),g.Vc(i.DESCA),g.Fb(2),g.Vc(i.MRP),g.Fb(2),g.Vc(i.RATE_A),g.Fb(2),g.Vc(i.RoomOtherCharges),g.Fb(2),g.Vc(i.ExtraBedMRP),g.Fb(2),g.Vc(i.ExtraBedOtherCharges),g.Fb(2),g.Vc("1900"==g.pc(18,10,i.StartDate,"yyyy")?"":g.pc(19,13,i.StartDate,o.customDateFormat.DEF_DATE)),g.Fb(4),g.Wc("","1900"==g.pc(22,16,i.EndDate,"yyyy")?"":g.pc(23,19,i.EndDate,o.customDateFormat.DEF_DATE)," ")}}function vo(e,t){if(1&e&&(g.Yb(0,"div"),g.Tb(1,"app-prescription-save-details",287),g.Xb()),2&e){var i=g.mc();g.Fb(1),g.tc("slotBookingId",i.SlotBookingIdSelectedId)}}function Io(e,t){if(1&e&&(g.Yb(0,"div"),g.Tb(1,"app-attendant-details",302),g.Xb()),2&e){var i=g.mc();g.Fb(1),g.tc("clinicId",i.ClinicIdSelected)("slotBookingId",i.SlotBookingIdSelectedId)("patientId",i.UserIdSelectedId)("slotStatus",i.slotStatus)("slotperiodFrom",i.slotperiodFrom)("slotperiodUpto",i.slotperiodUpto)}}function Mo(e,t){if(1&e&&(g.Yb(0,"div"),g.Tb(1,"app-credit-note-balance",303),g.Xb()),2&e){var i=g.mc();g.Fb(1),g.tc("userSelected",i.SlotBookingIdSelectedId)}}function ko(e,t){if(1&e){var i=g.Zb();g.Yb(0,"div"),g.Yb(1,"div",46),g.Yb(2,"div",304),g.Yb(3,"div",305),g.Yb(4,"label",52),g.Uc(5,"Admission Date: "),g.Yb(6,"span",53),g.Uc(7,"*"),g.Xb(),g.Xb(),g.Yb(8,"p-calendar",306,307),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().dFromReduceP=e})("onClose",function(){return g.Lc(i),g.mc().calculateDiff(!0)}),g.Xb(),g.Xb(),g.Xb(),g.Yb(10,"div",304),g.Yb(11,"div",305),g.Yb(12,"label",52),g.Uc(13,"Discharge Date:"),g.Xb(),g.Yb(14,"p-calendar",308,307),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().dToReduceP=e})("onClose",function(){return g.Lc(i),g.mc().calculateDiff(!1)}),g.Xb(),g.Xb(),g.Xb(),g.Yb(16,"div",304),g.Yb(17,"div",305),g.Yb(18,"label",52),g.Uc(19,"No of Nights:"),g.Xb(),g.Yb(20,"p-inputNumber",309),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().noofdays=e})("onBlur",function(){return g.Lc(i),g.mc().OnInputDaysChange()}),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Yb(21,"div",271),g.Yb(22,"div",310),g.Yb(23,"label",52),g.Uc(24,"Remarks: "),g.Yb(25,"span",173),g.Uc(26,"*"),g.Xb(),g.Xb(),g.Yb(27,"textarea",272),g.ic("ngModelChange",function(e){return g.Lc(i),g.mc().remarksReduce=e}),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&e){var n=g.mc();g.Fb(8),g.Pc(g.yc(33,Ne)),g.wc("yearRange","",n.MinYear,":",n.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("minDate",n.today)("ngModel",n.dFromReduceP)("ngModelOptions",g.yc(34,we))("disabled",!0)("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!1),g.Fb(6),g.Pc(g.yc(35,Ne)),g.wc("yearRange","",n.MinYear,":",n.MaxYear,""),g.tc("yearNavigator",!0)("monthNavigator",!0)("minDate",n.today)("maxDate",n.maxUptoReduce)("ngModel",n.dToReduceP)("ngModelOptions",g.yc(36,we))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!1),g.Fb(6),g.tc("disabled","Patient"==n.BookingSource)("ngModel",n.noofdays)("min",1)("max",n.MaxNights)("useGrouping",!1)("ngModelOptions",g.yc(37,we)),g.Fb(7),g.tc("ngModel",n.remarksReduce)}}function Co(e,t){if(1&e){var i=g.Zb();g.Yb(0,"button",153),g.ic("click",function(){return g.Lc(i),g.mc(2).ReducePeriod()}),g.Uc(1,"Submit"),g.Xb()}}function Po(e,t){if(1&e&&g.Sc(0,Co,2,0,"button",278),2&e){var i=g.mc();g.tc("ngIf",0===i.prepostCharge)}}var Do,Ro,To,Ao,Bo,Uo,No,wo=function(){return{width:"90vw"}},Fo=function(){return{width:"70vw"}},Yo=function(){return{width:"50vw"}},Xo=function(){return["MCODE","DESCA"]},Lo=[{path:"",component:(Do=function(t){a(n,t);var i=r(n);function n(e,t,o,a,s,r,l,c,h,m,g,p,f,S){var y,v,I;return d(this,n),(y=i.call(this)).cdRef=e,y.router=t,y._ConstantServices=o,y._MasterServices=a,y._RegistrationServices=s,y._DoctorServices=r,y._RoomServices=l,y._PatientServices=c,y.datepipe=h,y.formBuilder=m,y._UtilityService=g,y.confirmationService=p,y.route=f,y.encryptDecryptService=S,y.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,y.OtherAction=localStorage.getItem("UserAuthorizationOtherAction"),y.UserTypeCurre=localStorage.getItem("userTypeId"),y.clinicType=null,y.stlstpatienttype=[],y.stlstsuspended=[],y.statusbooking=0,y.searchtxt=null,y.IsAllGrouped=0,y.today=new Date,y.dFrom=null,y.dTo=null,y.Isdisabled=!1,y.rangeDates=[],y.IsIPD=!1,y.IsSelectDoctor=!1,y.SlotBookingIdSelectedId=null,y.ClinicIdSelected=null,y.UserIdSelectedId=null,y.GroupCount=1,y.IsGrouped=!1,y.roomBookIngMaster=[],y.slotBookingMaster={},y.bookingMainModel={},y.PayRequestFrom="Frontdesk",y.lstAuthorizedMaster=[],y.InputType=3,y.isValidDate=!0,y.TotalPaybleAmount=0,y.UserType=null,y.SlotIdCatched=null,y.RegMode=null,y.RegistrationMainModel={},y.LstPaitentMessageReplyLog={},y.LstDoctorMster=[],y.bookingtype=null,y.loginUserId=null,y.PaymentMethodSelected=null,y.OrderRes={},y.UserRes={},y.ItemPriceRes=[],y.otherActionList=u.n,y.patienttype=u.p,y.bookingStatus=u.d,y.userTypes=u.s,y.customDateFormat=u.h,y.defaultItemMCODE=u.i,y.lstPayMode=[],y.SelectPaymodeArray=[],y.lstTenderModel=[],y.TenderObj={},y.NewItemDetails=[],y.TenderModel={},y.ItemCheckedTotal=0,y.BillWiseDiscountPer=0,y.BillWiseDiscountAmount=0,y.NetPaybleTotal=0,y.ReferredBy="",y.RequestedBy="",y.IsSelectedItem=!1,y.BookingSource="Frontdesk",y.ItemTotalDiscount=0,y.CreditNoteAmount=0,y.CreditNoteBalanceAmount=0,y.RemainingAmount=0,y.BankDepositSlip1Att=null,y.lstGroupMember=[],y.lstBankDepositTransactionDetails=[],y.BankDepTrnCounter=1,y.CardTrnCounter=1,y.PaymentTransactionDetails=[],y.todayDate=new Date,y.IsExtended=!1,y.IsCashless=!1,y.AmountRecPer=0,y.ReceiveAmount=0,y.IsPartialPayment=!1,y.ActualNetPayble=0,y.filteredValuesLength=0,y.changedCount=0,y.approvedUserList=[],y.SelectedInvType=null,y.SearchBookingNumber=null,y.SearchName=null,y.first=0,y.SearchMRNo=null,y.SearchContactNumber=null,y.SearchANLNumber=null,y.SearchOPNumber=null,y.SearchIPNumber=null,y.MaxYear=(new Date).getFullYear()+2,y.SerachStatusbooking=0,y.SerachPatientType=u.p.Patient,y.SerachSuspended=0,y.SerachCompanion=0,y.SerachCGHS="0",y.SearchInsuranceNo=null,y.lstDoctorWithCountAllot=[],y.SelectedDoctorIdToken=null,y.CurrentAssignedToken=null,y.SelectedBookingType=null,y.AttRefundSlip1Att=null,y.lstAlotedToken=[],y.SelectedTokenDoctor=null,y.lstSignedConsentForm=[],y.RegistrationFormDetails={},y.lstCardPaymentTransactionDetails=[],y.lstTrustMaster=[],y.lstTrustMemberTypeMaster=[],y.lstInsuranceMaster=[],y.lstTrustHistory=[],y.CheckOutDate=new Date,y.PeriodFrom=new Date,y.PeriodUpto=new Date,y.BookingType=null,y.showMembershipDetails=!1,y.lstUserMemberShipDetails=[],y.UserMemberShipDetails={},y.showTeriffMRPDetails=!1,y.lstTeriffDeyails=[],y.ShowAttachedFormModel=!1,y.ShowDownloadFormModel=!1,y.FormType=0,y.HeaderName=null,y.MaxCreditNoteAmount=0,y.CreditNoteTranAmount=0,y.CreditNoteNumber=null,y.ShowRoomBookingModel=!1,y.ShowAllotDoctorModel=!1,y.ShowRemarksModel=!1,y.ShowInvoiceListModel=!1,y.ShowPrescriptionSaveModel=!1,y.ShowAttendantDetailsModel=!1,y.slotStatus=null,y.slotperiodFrom=null,y.slotperiodUpto=null,y.ShowCreditNoteBalance=!1,y.ShowPackageModel=!1,y.PackageMapping=[],y.ShowAdditionalRemarksModel=!1,y.ShowItemPriceModel=!1,y.ShowPaymentMethodModel=!1,y.ShowRazorPayModel=!1,y.ShowWLPayModel=!1,y.ShowGroupModel=!1,y.ShowPeriodChangeModel=!1,y.IsPrepone=!1,y.IsPostpone=!1,y.IsCancelCharge=!1,y.prepostCharge=0,y.ShowMemberAddModel=!1,y.ShowHeadGroupModel=!1,y.ShowNewDoctorAllModel=!1,y.ShowGenerateCreditModel=!1,y.ShowCreditNoteModel=!1,y.ShowReplyModel=!1,y.ActionList=u.a,y.lstIAccess=[],y.lstIAccessStr=[],y.AutogenerateVoucher=!1,y.CancelCharge=0,y.ShowReduceBookingModel=!1,y.checkMaxUpto=!1,y.maxUpto=y._UtilityService.CUR_SERVER_TIME,y.MinYear=y._UtilityService.CUR_SERVER_TIME.getFullYear(),y.MaxNights=0,y.remarksReduce=null,y.Package={},y.IsGroupedSelected=!1,y.IsGuestBooking=!1,y.clinicDetails={},y.lstRoomMster=[],y.bookedRoomCount=0,y.lstSelectedRoom=[],y.lstOnlinePayModAccess=[],y.permittedBy=null,y._ConstantServices.ActiveMenuName="Patient Booking Details",y.IsGuestBooking=1==(null===(v=y.lsobjClinicMaster)||void 0===v?void 0:v.IsGuestBooking),y.lstOnlinePayModAccess=(null===(I=y.lsobjClinicMaster)||void 0===I?void 0:I.lstOnlinePaymentModes)||[],y.stlstbookingtype=[{name:"IPD",code:"IPD"},{name:"OPD",code:"OPD"}],y.stlstpatienttype=[{name:"All",code:0},{name:"Patient",code:u.p.Patient},{name:"Guest",code:u.p.Guest}],y.stlstsuspended=[{name:"All",code:0},{name:"Yes",code:1},{name:"No",code:2}],y.dFrom=y.datepipe.transform(new Date,"yyyy-MM-dd"),y.dTo=y.datepipe.transform(Object(b.a)(new Date,1),"yyyy-MM-dd"),y.SerachPeriodFromDate=new Date(y.dFrom),y.SerachPeriodToDate=new Date(y.dTo),y}return o(n,[{key:"ngOnInit",value:function(){var e,t=this;this.loadTrusMaster(),this.loadTrusMemberTypeMaster(),this.LoadInsuranceMaster(),this.TenderList(),this.fileUploadAttBankslip1=this.formBuilder.group({AttBankslip1:[""]}),this.fileUploadAttRefslip1=this.formBuilder.group({AttRefAppslip1:[""]}),this.UserType=localStorage.getItem("userTypeId"),this.loginUserId=localStorage.getItem("userId"),u.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId"),this.LoadClinicMasterById(this.ClinicIdSelected),this.clinicType=null===(e=this.lsobjClinicMaster)||void 0===e?void 0:e.ClinicType,this.unsubscribe.add=this.route.queryParams.subscribe(function(e){var i;t.SearchBookingNumber=e.BookingNumber,null!=t.SearchBookingNumber?(t.SearchBookingNumber.includes("OPD")?t.bookingtype="OPD":(t.SerachPatientType=0,t.SerachSuspended=0,t.SerachCompanion=0,t.SerachCGHS="0",t.SerachStatusbooking=0,t.bookingtype="IPD"),t.BookingStatus()):(t.bookingtype="BOTH"==(null===(i=t.clinicType)||void 0===i?void 0:i.toUpperCase())?"IPD":t.clinicType,t.BookingStatus())}))}},{key:"ngOnChanges",value:function(){this.loadTrusMaster(),this.loadTrusMemberTypeMaster(),this.Isdisabled=!1,this.statusbooking=0,this.searchtxt="",this.LoadOnlineRegistrationListByFilter(0,10)}},{key:"ngAfterViewChecked",value:function(){var e;0==(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)&&this.getPageLevelAccess()}},{key:"getPageLevelAccess",value:function(){var e,t,i=this,n=this.getUrlWithoutParams();"/common-dashboard"==n&&(n="/patient/health-seekeer-registration");var o=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==o?void 0:o.find(function(e){return e.MenuItemURL===n}))&&(this.lstIAccess=null===(e=o.find(function(e){return e.MenuItemURL===n}))||void 0===e?void 0:e.ActionIAccess,(null===(t=this.lstIAccess)||void 0===t?void 0:t.length)>0&&this.lstIAccess.map(function(e){i.lstIAccessStr.push(e.ActionId.toString())}))}},{key:"getUrlWithoutParams",value:function(){var e=this.router.parseUrl(this.router.url);return e.queryParams={},e.fragment=null,e.toString()}},{key:"toggleTieredMenu",value:function(t,i,n){var o,a,s,r,l,c,d,h,b,m,g,p,f,S,y,v,I,M,k,C,P,D,R,T,A,B,U,N,w,F,Y=this;this.IsExtended=!1,this.IsCashless=!1,this.IsPrepone=!1,this.IsPostpone=!1,this.IsGrouped=!1,this.prepostCharge=0,this.TenderList(),this.items=[],this.filteritems=[],this.GroupCount=1,this.filteritems=this.LstRegistrationMainModelList.filter(function(e){return e.SlotBookingId==n}),this.filteritems[0].IsValidDate&&"IPD"===this.bookingtype&&(this.items=[].concat(e(this.items),[{label:"View/Edit",icon:"pi pi-eye",command:function(){Y.LoadPaitentDetails(n+"-"+Y.filteritems[0].UserId,Y.filteritems[0].IsValidDate)}}])),(null===(o=this.lstIAccessStr)||void 0===o?void 0:o.includes(this.ActionList.ReadWrite.toString()))&&!this.filteritems[0].IsSuspended&&this.filteritems[0].IsValidDate&&this.OtherAction.includes(this.otherActionList.IsSuspended)&&"IPD"===this.bookingtype&&(0==this.filteritems[0].IsGrouped||1==this.filteritems[0].IsGrouphead)&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]&&(this.items=[].concat(e(this.items),[{label:"Suspend Booking",icon:"pi pi-reply",command:function(){Y.SuspendBooking(Y.filteritems[0].SlotBookingId)}}])),(null===(a=this.lstIAccessStr)||void 0===a?void 0:a.includes(this.ActionList.ReadWrite.toString()))&&this.filteritems[0].IsValidDate&&"IPD"===this.bookingtype&&1==this.filteritems[0].IsGrouped&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]&&(this.items=[].concat(e(this.items),[{label:"Companion Booking",icon:"pi pi-reply",command:function(){var e=null==Y.filteritems[0].IsCompanion||!Y.filteritems[0].IsCompanion;e&&1==(null!=Y.filteritems[0].IsPrescription&&Y.filteritems[0].IsPrescription)&&0==(null!=Y.filteritems[0].IsDischargePresc&&Y.filteritems[0].IsDischargePresc)?Y._UtilityService.showWarningAlert("Please create discharge summary first"):Y.ReferToCompanion(Y.filteritems[0].SlotBookingId,e)}}])),(null===(s=this.lstIAccessStr)||void 0===s?void 0:s.includes(this.ActionList.ReadWrite.toString()))&&this.filteritems[0].IsValidDate&&"OPD"===this.bookingtype&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]&&0==this.filteritems[0].IsUnBillItem&&(this.items=[].concat(e(this.items),[{label:"Change Status",icon:"pi pi-reply",command:function(){Y.ReplyPaitent(Y.filteritems[0].UserId,Y.filteritems[0].SlotBookingId,Y.filteritems[0].BookingStatus,Y.filteritems[0].PeriodFrom,Y.filteritems[0].PeriodUpto,Y.filteritems[0].BookingType,Y.filteritems[0].IsGrouphead)}}])),!(null===(r=this.lstIAccessStr)||void 0===r?void 0:r.includes(this.ActionList.ReadWrite.toString()))||"IPD"!==this.bookingtype||this.filteritems[0].IsSuspended||0!=this.filteritems[0].IsGrouped&&1!=this.filteritems[0].Groupheadstatus&&1!=this.filteritems[0].IsGrouphead||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.UnderReview]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Approved]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.ReferToDr]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Pending]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].IsUnBillItem?[].concat(e(this.items),[{label:"Change Status (PP)",icon:"pi pi-reply",command:function(){Y._UtilityService.showWarningAlert("It is mandatory to balance the account before marking discharged.")}}]):[].concat(e(this.items),[{label:"Change Status",icon:"pi pi-reply",command:function(){Y.ReplyPaitent(Y.filteritems[0].UserId,Y.filteritems[0].SlotBookingId,Y.filteritems[0].BookingStatus,Y.filteritems[0].PeriodFrom,Y.filteritems[0].PeriodUpto,Y.filteritems[0].BookingType,Y.filteritems[0].IsGrouphead)}}])),(null===(l=this.lstIAccessStr)||void 0===l?void 0:l.includes(this.ActionList.ReadWrite.toString()))&&"IPD"===this.bookingtype&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]&&(this.items=[].concat(e(this.items),[{label:"Additional Remarks",icon:"pi pi-reply",command:function(){Y.AdditionalRemarks(Y.filteritems[0].UserId,Y.filteritems[0].SlotBookingId)}}])),(null===(c=this.lstIAccessStr)||void 0===c?void 0:c.includes(this.ActionList.ReadWrite.toString()))&&this.filteritems[0].IsValidDate&&("IPD"===this.bookingtype&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&(this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]||this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted])||"OPD"===this.bookingtype&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])&&(this.items=[].concat(e(this.items),[{label:"Allot Doctor",icon:"pi pi-user-edit",command:function(){Y.AllotDoctor(Y.filteritems[0].SlotBookingId)}}])),(null===(d=this.lstIAccessStr)||void 0===d?void 0:d.includes(this.ActionList.ReadWrite.toString()))&&!this.filteritems[0].IsDentalTreatment&&this.filteritems[0].IsValidDate&&("IPD"===this.bookingtype&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||"OPD"===this.bookingtype&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])&&(this.items=[].concat(e(this.items),[{label:"Refer to Dentist",icon:"pi pi-user-edit",command:function(){Y.ReferToDentist(Y.filteritems[0].SlotBookingId)}}])),this.lsobjClinicMaster.IsPhysioPanel&&(null===(h=this.lstIAccessStr)||void 0===h?void 0:h.includes(this.ActionList.ReadWrite.toString()))&&!this.filteritems[0].IsPhysioTreatment&&this.filteritems[0].IsValidDate&&("IPD"===this.bookingtype&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||"OPD"===this.bookingtype&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])&&(this.items=[].concat(e(this.items),[{label:"Refer to Physio",icon:"pi pi-user-edit",command:function(){Y.ReferToPhysio(Y.filteritems[0].SlotBookingId)}}])),this.items=[].concat(e(this.items),[{label:"Remarks",icon:"pi pi-comments",command:function(){Y.GetSlotRemarks(n)}}]),(null===(b=this.lstIAccessStr)||void 0===b?void 0:b.includes(this.ActionList.Download.toString()))&&this.filteritems[0].IsBillItem&&"IPD"===this.bookingtype&&(this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]||this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Discharged])&&(this.items=[].concat(e(this.items),[{label:"Download Booking Voucher",icon:"pi pi-file",command:function(){Y.DownloadVoucher(n)}}])),this.items=[].concat(e(this.items),[{label:"View Invoices",icon:"pi pi-file",command:function(){Y.ShowInvoiceList(n,Y.filteritems[0].IsGrouped)}}]),this.filteritems[0].IsBillItem&&(this.items=[].concat(e(this.items),[{label:"Complete Invoices",icon:"pi pi-file",command:function(){window.open("#/print/combined-invoice-print?SlotBookingId="+n+"&UserId="+Y.filteritems[0].UserId)}}])),!(null===(m=this.lstIAccessStr)||void 0===m?void 0:m.includes(this.ActionList.ReadWrite.toString()))||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Cancelled]||(this.items=[].concat(e(this.items),[{label:"Account Balance",icon:"pi pi-wallet",command:function(){Y.ShowCreditBalanceModel(Y.filteritems[0].SlotBookingId)}}])),!(null===(g=this.lstIAccessStr)||void 0===g?void 0:g.includes(this.ActionList.ReadWrite.toString()))||"IPD"!==this.bookingtype||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]||0!=this.filteritems[0].IsGrouped&&(1!=this.filteritems[0].IsGrouped||1!=this.filteritems[0].IsGrouphead||1!=this.filteritems[0].OtherGroupstatus)||(this.items=[].concat(e(this.items),[{label:"Extend Period",icon:"pi pi-calendar-plus",command:function(){Y.ShowBookingModel(Y.filteritems[0].SlotBookingId,Y.filteritems[0].UserId,Y.filteritems[0].ClinicId,"New",!0)}}])),!(null===(p=this.lstIAccessStr)||void 0===p?void 0:p.includes(this.ActionList.ReadWrite.toString()))||"IPD"!==this.bookingtype||this.filteritems[0].PatientType!==this.patienttype[this.patienttype.Patient]||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[].concat(e(this.items),[{label:"Add Attendant",icon:"pi pi-calendar-plus",command:function(){Y.ShowAttendantDeatils(Y.filteritems[0].SlotBookingId,Y.filteritems[0].UserId,Y.filteritems[0].ClinicId,Y.filteritems[0].BookingStatus,Y.filteritems[0].PeriodFrom,Y.filteritems[0].PeriodUpto)}}])),!(null===(f=this.lstIAccessStr)||void 0===f?void 0:f.includes(this.ActionList.ReadWrite.toString()))||"IPD"!==this.bookingtype||this.filteritems[0].PatientType!==this.patienttype[this.patienttype.Patient]||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[].concat(e(this.items),[{label:"Medical Certificate",icon:"pi pi-star",command:function(){window.open("#/print/print-medical-certificate?SlotBookingId="+n)}}])),(null===(S=this.lstIAccessStr)||void 0===S?void 0:S.includes(this.ActionList.ReadWrite.toString()))&&this.filteritems[0].IsValidDate&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Booked]&&(this.items=[].concat(e(this.items),[{label:"Pay",icon:"pi pi-credit-card",command:function(){Y.ShowPriceModelOPD(Y.filteritems[0].SlotBookingId,Y.filteritems[0].UserId)}}])),(null===(y=this.lstIAccessStr)||void 0===y?void 0:y.includes(this.ActionList.ReadWrite.toString()))&&this.filteritems[0].IsValidDate&&"IPD"===this.bookingtype&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&(this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Approved]||this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])&&1==this.filteritems[0].IsGrouped&&1==this.filteritems[0].IsGrouphead&&1==this.filteritems[0].OtherGroupstatus&&(this.items=[].concat(e(this.items),[{label:"Change Group Member",icon:"pi pi-user-edit",command:function(){Y.ShowGroupMemberModel(Y.filteritems[0].GroupNumber)}}])),!(null===(v=this.lstIAccessStr)||void 0===v?void 0:v.includes(this.ActionList.ReadWrite.toString()))||"IPD"!==this.bookingtype||this.filteritems[0].PatientType!==this.patienttype[this.patienttype.Patient]||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]||1!=this.filteritems[0].IsGrouped||1!=this.filteritems[0].IsGrouphead||(this.items=[].concat(e(this.items),[{label:"Change Group Head",icon:"pi pi-user-edit",command:function(){Y.ShowGroupHeadModel(Y.filteritems[0].SlotBookingId,Y.filteritems[0].GroupNumber)}}])),(null===(I=this.lstIAccessStr)||void 0===I?void 0:I.includes(this.ActionList.Download.toString()))&&("IPD"===this.bookingtype&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]||"OPD"===this.bookingtype&&"OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])&&(this.items=[].concat(e(this.items),[{label:"Download IPD Adm Form",icon:"pi pi-user-edit",command:function(){window.open("#/print/print-ipd-admission-form?SlotBookingId="+Y.filteritems[0].SlotBookingId)}}]));var X=[];(null===(M=this.lstIAccessStr)||void 0===M?void 0:M.includes(this.ActionList.ReadWrite.toString()))&&"IPD"===this.bookingtype&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Approved]&&(0==this.filteritems[0].IsGrouped||1==this.filteritems[0].IsGrouped&&1==this.filteritems[0].IsGrouphead&&1==this.filteritems[0].OtherGroupstatus)&&(X=[].concat(e(X),[{label:"Book Room",icon:"pi pi-calendar-plus",command:function(){Y.GroupCount=Y.filteritems[0].IsGrouped?Y.filteritems[0].GroupCount:Y.GroupCount,Y.IsGrouped=!!Y.filteritems[0].IsGrouped&&Y.filteritems[0].IsGrouped,Y.ShowBookingModel(Y.filteritems[0].SlotBookingId,Y.filteritems[0].UserId,Y.filteritems[0].ClinicId,"New")}}])),(null===(k=this.lstIAccessStr)||void 0===k?void 0:k.includes(this.ActionList.ReadWrite.toString()))&&"IPD"===this.bookingtype&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]&&(0==this.filteritems[0].IsGrouped||1==this.filteritems[0].IsGrouped&&1==this.filteritems[0].IsGrouphead&&1==this.filteritems[0].OtherGroupstatus)&&(X=[].concat(e(X),[{label:"Change Period",icon:"pi pi-calendar-plus",command:function(){Y.ShowChangePeriodModel(Y.filteritems[0].SlotBookingId,Y.filteritems[0].UserId,Y.filteritems[0].ClinicId,Y.filteritems[0].ChangedCount,"New")}}])),!(null===(C=this.lstIAccessStr)||void 0===C?void 0:C.includes(this.ActionList.ReadWrite.toString()))||"IPD"!==this.bookingtype||0!=this.filteritems[0].IsCGHS||this.filteritems[0].PatientType!==this.patienttype[this.patienttype.Patient]||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]||0!=this.filteritems[0].IsGrouped&&(1!=this.filteritems[0].IsGrouped||1!=this.filteritems[0].IsGrouphead)||(X=[].concat(e(X),[{label:"Add Member",icon:"pi pi-user-edit",command:function(){Y.ShowAddMemberModel(Y.filteritems[0].SlotBookingId,Y.filteritems[0].UserId,Y.filteritems[0].ClinicId,"New")}}])),"IPD"===this.bookingtype&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]&&(X=[].concat(e(X),[{label:"Tariff Details",icon:"pi pi-user-edit",command:function(){Y.ShowTeriff()}}])),"IPD"!==this.bookingtype||this.filteritems[0].PatientType!==this.patienttype[this.patienttype.Patient]||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||0!=this.filteritems[0].IsGrouped&&(1!=this.filteritems[0].IsGrouped||1!=this.filteritems[0].IsGrouphead||1!=this.filteritems[0].OtherGroupstatus)||(X=[].concat(e(X),[{label:"Membership Details",icon:"pi pi-user-edit",command:function(){Y.ViewMemberShipDetailsBySlotId(Y.filteritems[0].SlotBookingId)}}])),X.length>0&&(this.items=[].concat(e(this.items),[{label:"Booking",icon:"pi pi-file-o",items:X}]));var L=[];(null===(P=this.lstIAccessStr)||void 0===P?void 0:P.includes(this.ActionList.ReadWrite.toString()))&&this.filteritems[0].IsValidDate&&("IPD"===this.bookingtype&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||"OPD"===this.bookingtype&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])&&(L=[].concat(e(L),[{label:"Add Medical Details",icon:"pi pi-file-o",command:function(){Y.ShowPatientDetails(Y.filteritems[0].UserId,Y.filteritems[0].SlotBookingId,Y.bookingtype)}}])),!(null===(D=this.lstIAccessStr)||void 0===D?void 0:D.includes(this.ActionList.Print.toString()))||"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(L=[].concat(e(L),[{label:"View OPD Prescription",icon:"pi pi-print",command:function(){Y.PrintPrescription(Y.filteritems[0].UserId,Y.filteritems[0].SlotBookingId,"OPDIPD")}},{label:"View Prescription",icon:"pi pi-print",command:function(){Y.PrintPrescription(Y.filteritems[0].UserId,Y.filteritems[0].SlotBookingId,Y.filteritems[0].BookingType)}},{label:"View Discharge Summary",icon:"pi pi-print",command:function(){Y.PrintPrescription(Y.filteritems[0].UserId,Y.filteritems[0].SlotBookingId,"IDS")}}])),(null===(R=this.lstIAccessStr)||void 0===R?void 0:R.includes(this.ActionList.Print.toString()))&&"OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]&&(L=[].concat(e(L),[{label:"View Prescription",icon:"pi pi-print",command:function(){Y.PrintPrescription(Y.filteritems[0].UserId,Y.filteritems[0].SlotBookingId,Y.filteritems[0].BookingType)}}])),(null===(T=this.lstIAccessStr)||void 0===T?void 0:T.includes(this.ActionList.Print.toString()))&&1==this.filteritems[0].IsDentalTreatment&&(L=[].concat(e(L),[{label:"View Dental Prescription",icon:"pi pi-print",command:function(){window.open("#/print/print-dental-prescription?SlotBookingId="+n+"&tag="+Y.filteritems[0].BookingType)}}])),(null===(A=this.lstIAccessStr)||void 0===A?void 0:A.includes(this.ActionList.Print.toString()))&&1==this.filteritems[0].IsPhysioTreatment&&(L=[].concat(e(L),[{label:"View Physio Prescription",icon:"pi pi-print",command:function(){window.open("#/print/print-physiotherpy-prescription?SlotBookingId="+n+"&tag="+Y.filteritems[0].BookingType)}}])),("OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]||"IPD"==this.filteritems[0].BookingType&&(this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Discharged]))&&(L=[].concat(e(L),[{label:"View Doctor Logs",icon:"pi pi-comments",command:function(){Y.GetPrescriptionSaveDetails(n)}}])),L.length>0&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&(this.items=[].concat(e(this.items),[{label:"Prescription",icon:"pi pi-file-o",items:L}]));var O=[];"IPD"===this.bookingtype&&(O=[].concat(e(O),[{label:"Registration Form",icon:"pi pi-file-o",items:[{label:"Download Form",icon:"pi pi-user-edit",command:function(){window.open("#/print/patient-detail-form?UserId="+Y.filteritems[0].UserId+"&SlotBookingId="+Y.filteritems[0].SlotBookingId)}},{label:"Attached Signed Reg Form",icon:"pi pi-user-edit",command:function(){Y.AttachedSignedForm(Y.filteritems[0].SlotBookingId,u.k.PatientRegistrationForm,"Attached Registration Form")}},{label:"Download Signed Reg Form",icon:"pi pi-user-edit",command:function(){Y.LoadAttachedSignedForm(Y.filteritems[0].SlotBookingId,u.k.PatientRegistrationForm,"Patient Registration Form List")}}]}])),("OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]||"IPD"==this.filteritems[0].BookingType)&&(O=[].concat(e(O),[{label:"Consent Form",icon:"pi pi-file-o",items:[{label:"Download Consent Form",icon:"pi pi-user-edit",command:function(){window.open("#/print/consent-form?UserId="+Y.filteritems[0].UserId+"&SlotBookingId="+Y.filteritems[0].SlotBookingId)}},{label:"Attached Signed Consent Form",icon:"pi pi-user-edit",command:function(){Y.AttachedSignedForm(Y.filteritems[0].SlotBookingId,u.k.ConsentForm,"Upload Signed Consent Form")}},{label:"Download Signed Consent Form",icon:"pi pi-user-edit",command:function(){Y.LoadAttachedSignedForm(Y.filteritems[0].SlotBookingId,u.k.ConsentForm,"Download Signed Consent Form")}}]}])),"IPD"===this.bookingtype&&(O=[].concat(e(O),[{label:"Case Sheet",icon:"pi pi-file-o",items:[{label:"Print Case Sheet",icon:"pi pi-eye",command:function(){window.open("#/print/print-ipd-registration-form?UserId="+Y.filteritems[0].UserId+"&SlotBookingId="+Y.filteritems[0].SlotBookingId)}},{label:"Attached Signed Case Sheet",icon:"pi pi-user-edit",command:function(){Y.AttachedSignedForm(Y.filteritems[0].SlotBookingId,u.k.IPDForm,"Upload Signed Case Sheet")}},{label:"Download Signed Case Sheet",icon:"pi pi-user-edit",command:function(){Y.LoadAttachedSignedForm(Y.filteritems[0].SlotBookingId,u.k.IPDForm,"Download Signed Case Sheet")}}]},{label:"Pain Assessment",icon:"pi pi-file-o",items:[{label:"View Pain Ass ",icon:"pi pi-print",command:function(){window.open("#/print/print-pain-assessment?SlotBookingId="+Y.filteritems[0].SlotBookingId+"&tag="+Y.filteritems[0].BookingType)}},{label:"Attached Pain Ass Form",icon:"pi pi-user-edit",command:function(){Y.AttachedSignedForm(Y.filteritems[0].SlotBookingId,u.k.PainAssessmentForm,"Upload Signed Pain Assessment Form")}},{label:"Download Signed Pain Ass Form",icon:"pi pi-user-edit",command:function(){Y.LoadAttachedSignedForm(Y.filteritems[0].SlotBookingId,u.k.PainAssessmentForm,"Download Signed Pain Assessment Form")}}]}])),"IPD"===this.bookingtype&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&(O=[].concat(e(O),[{label:"Print Rogi Soochee",icon:"pi pi-file-o",command:function(){window.open("#/print/print-rogi-soochee-form?SlotBookingId="+Y.filteritems[0].SlotBookingId)}}])),(null===(B=this.lstIAccessStr)||void 0===B?void 0:B.includes(this.ActionList.Download.toString()))&&O.length>0&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&(this.items=[].concat(e(this.items),[{label:"Form",icon:"pi pi-file-o",items:O}])),(null===(U=this.lstIAccessStr)||void 0===U?void 0:U.includes(this.ActionList.ReadWrite.toString()))&&("IPD"==this.filteritems[0].BookingType&&this.filteritems[0].PatientType===this.patienttype[this.patienttype.Patient]&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||"OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])&&(this.items=[].concat(e(this.items),[{label:"Add to Waiting Room",icon:"pi pi-user-edit",command:function(){Y.ShowWaitingRoom(Y.filteritems[0].UserId,Y.filteritems[0].SlotBookingId)}}])),!(null===(N=this.lstIAccessStr)||void 0===N?void 0:N.includes(this.ActionList.Download.toString()))||"IPD"!==this.bookingtype||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[].concat(e(this.items),[{label:"Download Gate Pass",icon:"pi pi-file",command:function(){window.open("#/print/gate-pass?UserId="+Y.filteritems[0].UserId+"&SlotBookingId="+Y.filteritems[0].SlotBookingId)}}])),(null===(w=this.lstIAccessStr)||void 0===w?void 0:w.includes(this.ActionList.ReadWrite.toString()))&&("IPD"===this.bookingtype&&(this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])||"OPD"===this.bookingtype&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])&&(this.items=[].concat(e(this.items),[{label:"Go To Billing",icon:"pi pi-file",command:function(){window.open("#/payment/extra-item-entry?id="+Y.filteritems[0].SlotBookingId)}}])),!(null===(F=this.lstIAccessStr)||void 0===F?void 0:F.includes(this.ActionList.ReadWrite.toString()))||"IPD"!==this.bookingtype||(1!=this.filteritems[0].IsGrouped||1!=this.filteritems[0].IsGrouphead)&&0!=this.filteritems[0].IsGrouped||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]||(this.items=[].concat(e(this.items),[{label:"Reduce Booking",icon:"pi pi-file",command:function(){Y.ShowReduceBooking(Y.filteritems[0].SlotBookingId,Y.filteritems[0].PeriodFrom,Y.filteritems[0].PeriodUpto)}}])),"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[].concat(e(this.items),[{label:"Patient Record",icon:"pi pi-file-o",command:function(){window.open("#/print/patient-record?UserId="+Y.filteritems[0].UserId+"&SlotBookingId="+Y.filteritems[0].SlotBookingId+"&tag="+Y.filteritems[0].BookingType)}}])),"IPD"==this.filteritems[0].BookingType&&!0===this.filteritems[0].IsCGHS&&null!=this.filteritems[0].CGHSAttachment&&null!=this.filteritems[0].CGHSAttachment&&""!=this.filteritems[0].CGHSAttachment&&(this.items=[].concat(e(this.items),[{label:"View Insurance Attachment",icon:"pi pi-user-edit",command:function(){window.open(Y._ConstantServices.BaseURIFileServer+"MedicalTest/"+Y.filteritems[0].CGHSAttachment)}}])),t.toggle(i)}},{key:"loadTrusMaster",value:function(){var e=this;this.lstTrustMaster=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetTrustMasterActive().subscribe(function(t){if(e._UtilityService.hideSpinner(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstTrustMaster=i=i||[]}},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)}),this.cdRef.detectChanges()}},{key:"loadTrusMemberTypeMaster",value:function(){var e=this;this.lstTrustMemberTypeMaster=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetTrustMemberTypeMasterActive().subscribe(function(t){if(e._UtilityService.hideSpinner(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstTrustMemberTypeMaster=i=i||[]}},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)}),this.cdRef.detectChanges()}},{key:"LoadInsuranceMaster",value:function(){var e=this;this.lstInsuranceMaster=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetInsuranceList().subscribe(function(t){if(e._UtilityService.hideSpinner(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstInsuranceMaster=i=i||[],e.lstInsuranceMaster.unshift({InsuranceMasterId:"2",InsuranceCompanyName:"Without Insured",Status:1}),e.lstInsuranceMaster.unshift({InsuranceMasterId:"1",InsuranceCompanyName:"Only Insured",Status:1}),e.lstInsuranceMaster.unshift({InsuranceMasterId:"0",InsuranceCompanyName:"All",Status:1}),console.log("this.lstInsuranceMaster",e.lstInsuranceMaster),e.cdRef.detectChanges()}else e.lstInsuranceMaster=[],e.lstInsuranceMaster.unshift({InsuranceMasterId:"2",InsuranceCompanyName:"Without Insured",Status:1}),e.lstInsuranceMaster.unshift({InsuranceMasterId:"1",InsuranceCompanyName:"Only Insured",Status:1}),e.lstInsuranceMaster.unshift({InsuranceMasterId:"0",InsuranceCompanyName:"All",Status:1}),e.cdRef.detectChanges()})}},{key:"BookingStatus",value:function(){this.stlstbookingstatus=[],"IPD"==this.bookingtype?(this.stlstbookingstatus=[{name:"All",code:0},{name:this.bookingStatus[this.bookingStatus.UnderReview],code:this.bookingStatus.UnderReview},{name:this.bookingStatus[this.bookingStatus.ReferToDr],code:this.bookingStatus.ReferToDr},{name:this.bookingStatus[this.bookingStatus.Approved],code:this.bookingStatus.Approved},{name:this.bookingStatus[this.bookingStatus.Confirmed],code:this.bookingStatus.Confirmed},{name:this.bookingStatus[this.bookingStatus.Admitted],code:this.bookingStatus.Admitted},{name:this.bookingStatus[this.bookingStatus.Discharged],code:this.bookingStatus.Discharged},{name:this.bookingStatus[this.bookingStatus.Rejected],code:this.bookingStatus.Rejected},{name:this.bookingStatus[this.bookingStatus.Cancelled],code:this.bookingStatus.Cancelled},{name:this.bookingStatus[this.bookingStatus.Pending],code:this.bookingStatus.Pending}],this.IsAllGrouped=0,this.statusbooking=this.bookingStatus.Confirmed,null!=this.SearchBookingNumber&&null!=this.SearchBookingNumber&&""!=this.SearchBookingNumber||(this.SerachStatusbooking=this.bookingStatus.Confirmed)):this.stlstbookingstatus="OPD"==this.bookingtype?[{name:"All",code:0},{name:this.bookingStatus[this.bookingStatus.Booked],code:this.bookingStatus.Booked},{name:this.bookingStatus[this.bookingStatus.Confirmed],code:this.bookingStatus.Confirmed}]:[],this.LoadOnlineRegistrationListByFilter(0,10)}},{key:"onselectedClinic",value:function(e){var t;u.s.SuperAdmin===localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=e.ClinicId,this.clinicType=null==e?void 0:e.ClinicType,this.bookingtype="BOTH"==(null===(t=this.clinicType)||void 0===t?void 0:t.toUpperCase())?"IPD":this.clinicType,this.lstOnlinePayModAccess=(null==e?void 0:e.lstOnlinePaymentModes)||[],this.LoadClinicMasterById(this.ClinicIdSelected)),this.BookingStatus()}},{key:"OnChangeBookingType",value:function(){this.IsAllGrouped=0,this.Isdisabled=!1,this.statusbooking=0,this.SerachStatusbooking=0,this.BookingStatus(),this.cdRef.detectChanges()}},{key:"dateRangeChange",value:function(e,t){""!=e.value&&""!=t.value&&this.LoadOnlineRegistrationListByFilter(0,10)}},{key:"OnChangeStatus",value:function(){this.Isdisabled=!1,"IPD"==this.bookingtype&&this.statusbooking>0&&this.statusbooking<5&&(this.Isdisabled=!0)}},{key:"LoadCrediNoteBalance",value:function(){var e=this;this.RemainingAmount=0,null!=this.SlotBookingIdSelectedId&&""!=this.SlotBookingIdSelectedId?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetCreditNoteBalAmount(this.SlotBookingIdSelectedId).subscribe(function(t){e._UtilityService.hideSpinner(),1==t.actionResult.success?(e.CreditNoteBalanceAmount=Math.abs(+t.actionResult.stringVal),e.RemainingAmount=t.actionResult.totalAmount,e.cdRef.detectChanges()):(e.CreditNoteBalanceAmount=0,e.cdRef.detectChanges())},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})):(this.CreditNoteBalanceAmount=0,this.cdRef.detectChanges())}},{key:"CalculateDiscount",value:function(e,t){var i,n,o=this,a=this.ItemPriceRes[t];this.ItemPriceRes[t].DiscountAmount=n=(i=a.MRP*a.Qty)*e.value/100,this.ItemPriceRes[t].PriceWithGST=i-n,this.ItemTotalDiscount=0,this.ItemPriceRes.map(function(e){o.ItemTotalDiscount=o.ItemTotalDiscount+e.DiscountAmount}),this.CalculateTotalItemPrice(),this.CalculateNetPaybleAfterDiscount(),this.cdRef.detectChanges()}},{key:"CalculateDiscountNew",value:function(e){var t,i,n=this,o=this.ItemPriceRes[e];this.ItemPriceRes[e].DiscountAmount=i=(t=o.MRP*o.Qty)*o.DiscountPer/100,this.ItemPriceRes[e].PriceWithGST=t-i,this.ItemTotalDiscount=0,this.ItemPriceRes.map(function(e){n.ItemTotalDiscount=n.ItemTotalDiscount+e.DiscountAmount}),this.CalculateTotalItemPrice(),this.CalculateNetPaybleAfterDiscount(),this.cdRef.detectChanges()}},{key:"CalculateDiscountRev",value:function(e,t){var i,n,o,a=this,s=this.ItemPriceRes[t];n=(o=e.value)/(i=s.MRP*s.Qty)*100,this.ItemPriceRes[t].DiscountAmount=o,this.ItemPriceRes[t].DiscountPer=n,this.ItemPriceRes[t].DiscountPerUI=Math.round(n),this.ItemPriceRes[t].PriceWithGST=i-o,this.ItemTotalDiscount=0,this.ItemPriceRes.map(function(e){a.ItemTotalDiscount=a.ItemTotalDiscount+e.DiscountAmount}),this.CalculateTotalItemPrice(),this.CalculateNetPaybleAfterDiscount()}},{key:"CalculateDiscountBlur",value:function(e){var t,i,n,o=this,a=this.ItemPriceRes[e];i=(n=a.DiscountAmount)/(t=a.MRP*a.Qty)*100,this.ItemPriceRes[e].DiscountAmount=n,this.ItemPriceRes[e].DiscountPer=i,this.ItemPriceRes[e].DiscountPerUI=Math.round(i),this.ItemPriceRes[e].PriceWithGST=t-n,this.ItemTotalDiscount=0,this.ItemPriceRes.map(function(e){o.ItemTotalDiscount=o.ItemTotalDiscount+e.DiscountAmount}),this.CalculateTotalItemPrice(),this.CalculateNetPaybleAfterDiscount()}},{key:"CalculateTotalItemPrice",value:function(){if(null!=this.ItemPriceRes.filter(function(e){return 1==e.IsChecked})){var e=this.ItemPriceRes.filter(function(e){return 1==e.IsChecked}),t=0;e.length>0&&e.map(function(e){t+=e.PriceWithGST}),this.ItemCheckedTotal=t,this.TotalPaybleAmount=t,this.cdRef.detectChanges()}this.CalculateNetPaybleAfterDiscount()}},{key:"CalculateNetPaybleAfterDiscount",value:function(){if(this.ItemCheckedTotal>0)if(this.BillWiseDiscountPer>0&&0==this.IsPrepone&&0==this.IsPostpone){var e=this.ItemCheckedTotal*this.BillWiseDiscountPer/100;this.BillWiseDiscountAmount=e,this.NetPaybleTotal=this.ItemCheckedTotal-e,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0)}else this.BillWiseDiscountAmount=0,this.NetPaybleTotal=this.ItemCheckedTotal,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0);else this.NetPaybleTotal=0;this.CalculateReceivePer()}},{key:"CalculateNetPaybleAfterDiscountNew",value:function(e){if(this.ItemCheckedTotal>0)if(e.value>0){var t=this.ItemCheckedTotal*e.value/100;this.BillWiseDiscountAmount=t,this.NetPaybleTotal=this.ItemCheckedTotal-t,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0)}else this.BillWiseDiscountAmount=0,this.NetPaybleTotal=this.ItemCheckedTotal,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0);else this.NetPaybleTotal=0;this.CalculateReceivePer()}},{key:"CalculateNetPaybleAfterDiscountReverseNew",value:function(e){this.ItemCheckedTotal>0?e.value>0?(this.BillWiseDiscountPer=100*e.value/this.ItemCheckedTotal,this.NetPaybleTotal=this.ItemCheckedTotal-e.value,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0)):(this.BillWiseDiscountPer=0,this.NetPaybleTotal=this.ItemCheckedTotal,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0)):this.NetPaybleTotal=0,this.CalculateReceivePer()}},{key:"CalculateNetPaybleAfterDiscountReverse",value:function(){this.ItemCheckedTotal>0?this.BillWiseDiscountAmount>0?(this.BillWiseDiscountPer=100*this.BillWiseDiscountAmount/this.ItemCheckedTotal,this.NetPaybleTotal=this.ItemCheckedTotal-this.BillWiseDiscountAmount,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0)):(this.BillWiseDiscountPer=0,this.NetPaybleTotal=this.ItemCheckedTotal,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0)):this.NetPaybleTotal=0,this.CalculateReceivePer()}},{key:"CalculateTotalBankTransaction",value:function(e,t){if(e.value>0){null!=this.TenderObj.BANKTFAMOUNT&&null!=this.TenderObj.BANKTFAMOUNT||(this.TenderObj.BANKTFAMOUNT=0);var i=0;(null==(n=this.lstBankDepositTransactionDetails.filter(function(e){return e.Sequence!=t}))?void 0:n.length)>0&&n.map(function(e){i+=e.Amount}),this.TenderObj.BANKTFAMOUNT=i+e.value,this.cdRef.detectChanges()}else{var n;null!=this.TenderObj.BANKTFAMOUNT&&null!=this.TenderObj.BANKTFAMOUNT||(this.TenderObj.BANKTFAMOUNT=0),i=0,(null==(n=this.lstBankDepositTransactionDetails.filter(function(e){return e.Sequence!=t}))?void 0:n.length)>0&&n.map(function(e){i+=e.Amount}),this.TenderObj.BANKTFAMOUNT=i,this.cdRef.detectChanges()}}},{key:"CalculateTotalBankTransactionrev",value:function(){var e=0;this.lstBankDepositTransactionDetails.map(function(t){e+=t.Amount}),this.TenderObj.BANKTFAMOUNT=e,this.cdRef.detectChanges()}},{key:"LoadItemPriceTotal",value:function(){var e=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetItemPriceWithGST(this.SlotBookingIdSelectedId).subscribe(function(t){if(e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.ItemPriceRes=i=i||[];var n=JSON.parse(t.actionResult.result2);e.ItemCheckedTotal=n=n||[],e.CalculateTotalItemPrice(),e.CalculateNetPaybleAfterDiscount()}},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"UploadBankDepositSlip",value:function(e,t){var i=this,n=new FormData;this.fileUploadAttBankslip1.get("AttBankslip1").value&&(n.append(this.BankDepositSlip1Att,this.fileUploadAttBankslip1.get("AttBankslip1").value),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UploadBankDepositSlip(n,e,t).subscribe(function(e){i._UtilityService.hideSpinner(),1==e.actionResult.success&&i.cdRef.detectChanges()},function(e){i._UtilityService.hideSpinner(),i._UtilityService.showErrorAlert(e.message)}))}},{key:"TenderList",value:function(){var t,i,n=this;if(this.lstPayMode=h.a.filter(function(e){return"LB1199"!==e.ACID}),this.IsExtended||this.IsPrepone||this.IsPostpone||0==(null===(t=this.lstOnlinePayModAccess)||void 0===t?void 0:t.length))this.lstPayMode=this.lstPayMode.filter(function(e){return"ATONLN"!==e.ACID}),this.lstPayMode=this.lstPayMode.filter(function(e){return"ATWLONLN"!==e.ACID});else if((null===(i=this.lstOnlinePayModAccess)||void 0===i?void 0:i.length)>0){this.lstPayMode=h.a.filter(function(e){return"ATONLN"!==e.ACID&&"ATWLONLN"!==e.ACID&&"LB1199"!==e.ACID});var o=h.a.filter(function(e){return n.lstOnlinePayModAccess.includes(e.ACID)});this.lstPayMode=[].concat(e(o),e(this.lstPayMode))}}},{key:"ShowAttendantDeatils",value:function(e,t,i,n,o,a){this.SlotBookingIdSelectedId=e,this.UserIdSelectedId=t,this.ClinicIdSelected=i,this.slotStatus=n,this.slotperiodFrom=o,this.slotperiodUpto=a,this.ShowAttendantDetailsModel=!0}},{key:"ShowPriceModelOPD",value:function(e,t){this.SlotBookingIdSelectedId=e,this.UserIdSelectedId=t,this.LoadItemPriceTotal(),this.LoadAuthorizedMaster(),this.ShowItemPriceModel=!0}},{key:"ShowAddCreditNoteModel",value:function(e,t,i,n){this.SlotBookingIdSelectedId=e,this.UserIdSelectedId=t,this.CreditNoteAmount=0,this.ShowCreditNoteModel=!0}},{key:"clearPaymentMethod",value:function(){this.TenderObj={},this.TenderModel={},this.SelectPaymodeArray=[],this.selectedPaymodeCodes=null}},{key:"LoadOnlineRegistrationListByFilter",value:function(e,t){var i,n=this;if(this.first=parseInt(e),""!=this.ClinicIdSelected&&null!=this.ClinicIdSelected&&null!=this.ClinicIdSelected)if(""!=this.bookingtype&&null!=this.bookingtype&&null!=this.bookingtype){""!=(null===(i=this.searchtxt)||void 0===i?void 0:i.trim())&&null!=this.searchtxt&&null!=this.searchtxt||(this.searchtxt=""),null!=this.dFrom&&null!=this.dFrom&&(this.dFrom=this.datepipe.transform(this.dFrom,"yyyy-MM-dd")),null!=this.dTo&&null!=this.dTo&&(this.dTo=this.datepipe.transform(this.dTo,"yyyy-MM-dd"));var o={};o.clinicId=this.ClinicIdSelected,o.bookingtype=this.bookingtype,o.dFrom=new Date(this.datepipe.transform(this.dFrom,"yyyy-MM-dd")),o.dTo=new Date(this.datepipe.transform(this.dTo,"yyyy-MM-dd")),o.IsAllGrouped=this.IsAllGrouped,o.bookingStatus=this.statusbooking,o.searchtxt=this.searchtxt,o.first=e.toString(),o.rows=t.toString(),o.IsSkipPaging=!1;var a=[];null!=this.SearchBookingNumber&&null!=this.SearchBookingNumber&&""!=this.SearchBookingNumber&&a.push({SearchBy:"BookingNumber",SearchVal:this.SearchBookingNumber.trim()}),null!=this.SearchName&&null!=this.SearchName&&""!=this.SearchName&&a.push({SearchBy:"FullName",SearchVal:this.SearchName.trim()}),null!=this.SearchMRNo&&null!=this.SearchMRNo&&""!=this.SearchMRNo&&a.push({SearchBy:"MRNo",SearchVal:this.SearchMRNo.trim()}),null!=this.SearchContactNumber&&null!=this.SearchContactNumber&&""!=this.SearchContactNumber&&a.push({SearchBy:"ContactNumber",SearchVal:this.SearchContactNumber.trim()}),null!=this.SearchANLNumber&&null!=this.SearchANLNumber&&""!=this.SearchANLNumber&&a.push({SearchBy:"AnnualNumber",SearchVal:this.SearchANLNumber.trim()}),null!=this.SearchOPNumber&&null!=this.SearchOPNumber&&""!=this.SearchOPNumber&&a.push({SearchBy:"OPNumber",SearchVal:this.SearchOPNumber.trim()}),null!=this.SearchIPNumber&&null!=this.SearchIPNumber&&""!=this.SearchIPNumber&&a.push({SearchBy:"IPNumber",SearchVal:this.SearchIPNumber.trim()}),null!=this.SerachPeriodFromDate&&null!=this.SerachPeriodFromDate&&a.push({SearchBy:"PeriodFrom",SearchVal:this.datepipe.transform(this.SerachPeriodFromDate,"yyyy-MM-dd")}),null!=this.SerachPeriodToDate&&null!=this.SerachPeriodToDate&&"IPD"==this.bookingtype&&a.push({SearchBy:"PeriodUpto",SearchVal:this.datepipe.transform(this.SerachPeriodToDate,"yyyy-MM-dd")}),null!=this.SerachStatusbooking&&null!=this.SerachStatusbooking&&0!=this.SerachStatusbooking&&a.push({SearchBy:"BookingStatus",SearchVal:this.SerachStatusbooking.toString()}),null!=this.SerachPatientType&&null!=this.SerachPatientType&&0!=this.SerachPatientType&&a.push({SearchBy:"PatientType",SearchVal:this.SerachPatientType.toString()}),null!=this.SearchCheckedInDate&&null!=this.SearchCheckedInDate&&"IPD"==this.bookingtype&&a.push({SearchBy:"CheckedIn",SearchVal:this.datepipe.transform(this.SearchCheckedInDate,"yyyy-MM-dd")}),null!=this.SearchCheckedOutDate&&null!=this.SearchCheckedOutDate&&"IPD"==this.bookingtype&&a.push({SearchBy:"CheckedOut",SearchVal:this.datepipe.transform(this.SearchCheckedOutDate,"yyyy-MM-dd")}),null!=this.SerachSuspended&&null!=this.SerachSuspended&&0!=this.SerachSuspended&&a.push({SearchBy:"IsSuspended",SearchVal:this.SerachSuspended.toString()}),null!=this.SerachCompanion&&null!=this.SerachCompanion&&0!=this.SerachCompanion&&a.push({SearchBy:"IsCompanion",SearchVal:this.SerachCompanion.toString()}),null!=this.SerachCGHS&&null!=this.SerachCGHS&&"0"!=this.SerachCGHS&&a.push({SearchBy:"IsCGHS",SearchVal:this.SerachCGHS.toString()}),null!=this.SearchInsuranceNo&&null!=this.SearchInsuranceNo&&""!=this.SearchInsuranceNo&&a.push({SearchBy:"InsuranceNo",SearchVal:this.SearchInsuranceNo.trim()}),o.SearchList=a,this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.GetOnlineRegistrationListByFilter(o).subscribe(function(i){if(n._UtilityService.hideSpinner(),n.cdRef.detectChanges(),1==i.actionResult.success){var o=JSON.parse(i.actionResult.result);n.LstRegistrationMainModelList=o=o||[],n.TotalRecords=JSON.parse(i.actionResult.result2),n.updateRowGroupMetaData(e,t)}else n.TotalRecords=0,n.LstRegistrationMainModelList=[],n.rowGroupMetadata={},n.cdRef.detectChanges()},function(e){n._UtilityService.hideSpinner(),n._UtilityService.showErrorAlert(e.message)})}else this._UtilityService.showWarningAlert("Please select Booking Type");else this._UtilityService.showWarningAlert("Please select center")}},{key:"updateRowGroupMetaData",value:function(e,t){var i;if(this.rowGroupMetadata={},this.LstRegistrationMainModelList)for(var n=0;n<this.LstRegistrationMainModelList.length;n++){var o=this.LstRegistrationMainModelList[n].GroupNumber;0==n?this.rowGroupMetadata[o]={index:e,size:1}:o===this.LstRegistrationMainModelList[n-1].GroupNumber?this.rowGroupMetadata[o].size++:this.rowGroupMetadata[o]={index:Number(e)+n,size:1}}void 0!==this.filtr&&(this.filtr.nativeElement.value="",this.dataTable.reset(),this.filteredValuesLength=null===(i=this.LstRegistrationMainModelList)||void 0===i?void 0:i.length),this.cdRef.detectChanges()}},{key:"loadPatientList",value:function(e){this.LstRegistrationMainModelList&&this.LoadOnlineRegistrationListByFilter(e.first,e.rows)}},{key:"LoadPaitentDetails",value:function(e,t){var i=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.GetOnlineRegistrationDetailsById(e.split("-")[0],e.split("-")[1]).subscribe(function(n){var o,a,s;if(i._UtilityService.hideSpinner(),i.cdRef.detectChanges(),1==n.actionResult.success){i.isValidDate=t,i.InputType="OPD"==i.bookingtype?4:3;var r=JSON.parse(n.actionResult.result);i.RegistrationMainModel=r=r||[],null!=(null===(o=i.RegistrationMainModel)||void 0===o?void 0:o.DateOfBirth)&&null!=(null===(a=i.RegistrationMainModel)||void 0===a?void 0:a.DateOfBirth)&&(i.RegistrationMainModel.DateOfBirth=new Date(null===(s=i.RegistrationMainModel)||void 0===s?void 0:s.DateOfBirth)),i.RegistrationMainModel.SlotBookingId=e.split("-")[0],i.RegMode="update",i.cdRef.detectChanges()}},function(e){i._UtilityService.hideSpinner(),i._UtilityService.showErrorAlert(e.message)})}},{key:"CloseModal",value:function(){this.RegMode=null}},{key:"OnUpdateRegDetails",value:function(e){"Update"==e&&(this.RegMode=null,this.LoadOnlineRegistrationListByFilter(0,10))}},{key:"ReplyPaitent",value:function(e,t,i,n,o,a,s){if(this.maxDate=new Date(new Date(o).getFullYear(),new Date(o).getMonth(),new Date(o).getDate(),23,59,59),this.IsSelectDoctor=!1,this.status=i,this.LoadReplyReason(i),this.LstPaitentMessageReplyLog.UserId=e,this.LstPaitentMessageReplyLog.RepliedBy=this.loginUserId,this.LstPaitentMessageReplyLog.RepliedOn=new Date,this.LstPaitentMessageReplyLog.ReasonId="",this.LstPaitentMessageReplyLog.Remarks="",this.LstPaitentMessageReplyLog.SlotBookingId=t,this.LstPaitentMessageReplyLog.IsAllMemberSelect=!1,this.IsGrouphead=s,this.BookingType=a,"IPD"===this.BookingType)if(this.PeriodFrom=new Date(n),new Date(this.datepipe.transform(new Date(o),"yyyy-MM-dd"))>new Date(this.datepipe.transform(new Date,"yyyy-MM-dd")))this.PeriodUpto=new Date,this.CheckOutDate=new Date;else{this.PeriodUpto=new Date(o),this.CheckOutDate=new Date(o);var r=new Date;this.CheckOutDate.setHours(r.getHours()),this.CheckOutDate.setMinutes(r.getMinutes()),this.CheckOutDate.setSeconds(r.getSeconds()),this.CheckOutDate.setMilliseconds(r.getMilliseconds())}this.cdRef.detectChanges(),this.LoadDoctorListByClinic(t)}},{key:"LoadDoctorListByClinic",value:function(e){var t=this;this.CancelCharge=0,this.AutogenerateVoucher=!1,this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.GetAvailableDoctor(e,this.ClinicIdSelected,"other").subscribe(function(i){if(t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==i.actionResult.success){var n=JSON.parse(i.actionResult.result);t.LstDoctorMster=n=n||[],t.cdRef.detectChanges(),t.ShowReplyModel=!0,t.SlotBookingIdSelectedId=e,t.LoadCrediNoteBalance()}else t._UtilityService.showWarningAlert(i.actionResult.errMsg),t.LstDoctorMster=[],t.cdRef.detectChanges()},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"LoadRoomListBySlotId",value:function(e){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._RoomServices.GetRoomListBySlotId(e).subscribe(function(e){if(t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);t.lstRoomMster=i=i||[],null!=e.actionResult.stringVal&&null!=e.actionResult.stringVal&&(t.bookedRoomCount=e.actionResult.stringVal),t.cdRef.detectChanges()}else t._UtilityService.showWarningAlert(e.actionResult.errMsg),t.lstRoomMster=[],t.cdRef.detectChanges()},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"LoadReplyReason",value:function(e){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetReplyReasonMaster(e,this.bookingtype,this.ClinicIdSelected).subscribe(function(e){if(t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);i=i||[],1==t.filteritems[0].IsGrouped&&0==t.filteritems[0].IsGrouphead&&t.filteritems[0].BookingStatus===t.bookingStatus[t.bookingStatus.Confirmed]&&(i=i.filter(function(e){return e.BookingStatus!==t.bookingStatus.Admitted})),t.LstReplyReason=i,t.cdRef.detectChanges()}else t.LstReplyReason=[],t.cdRef.detectChanges()},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"ddlReplyReasonChange",value:function(){var e;this.lstSelectedRoom=[],this.bookedRoomCount=0,this.IsCancelCharge=!1,this.prepostCharge=0,this.IsSelectDoctor=(this.status!=this.bookingStatus[this.bookingStatus.UnderReview]||"60f94501513904c09133bc30"!=this.LstPaitentMessageReplyLog.ReasonId)&&this.status==this.bookingStatus[this.bookingStatus.UnderReview],"6131ff3d7008ed3c20eb80d2"==this.LstPaitentMessageReplyLog.ReasonId&&1==(null===(e=this.lsobjClinicMaster)||void 0===e?void 0:e.IsCancelCharge)&&(this.IsCancelCharge=!0),"6131eabe7008ed3c20eb80cf"==this.LstPaitentMessageReplyLog.ReasonId&&this.LoadRoomListBySlotId(this.LstPaitentMessageReplyLog.SlotBookingId)}},{key:"BeforSubmitReply",value:function(){var e=this;this.filteritems=[],this.filteritems=this.LstRegistrationMainModelList.filter(function(t){return t.SlotBookingId==e.LstPaitentMessageReplyLog.SlotBookingId});var t=new Date(this.datepipe.transform(this.filteritems[0].PeriodFrom,"yyyy-MM-dd")),i=new Date(this.datepipe.transform(this.filteritems[0].PeriodUpto,"yyyy-MM-dd"));(this.RemainingAmount>0||new Date(this.datepipe.transform(this.filteritems[0].TodayDate,"yyyy-MM-dd"))>new Date(t)&&new Date(this.datepipe.transform(this.filteritems[0].TodayDate,"yyyy-MM-dd"))<new Date(i))&&"6131eabe7008ed3c20eb80cf"==this.LstPaitentMessageReplyLog.ReasonId?this.confirmationService.confirm({header:"Confirmation",message:this.RemainingAmount>0&&new Date(this.datepipe.transform(this.filteritems[0].TodayDate,"yyyy-MM-dd"))>new Date(t)&&new Date(this.datepipe.transform(this.filteritems[0].TodayDate,"yyyy-MM-dd"))<new Date(i)?"Patient admission date is "+this.datepipe.transform(this.filteritems[0].PeriodFrom,"yyyy-MM-dd")+". & Payment not settled  - Are you sure you want to continue?":this.RemainingAmount>0?"Payment not settled  - Are you sure you want to continue?":"Patient admission date is "+this.datepipe.transform(this.filteritems[0].PeriodFrom,"yyyy-MM-dd")+". - Are you sure you want to continue?",icon:"pi pi-exclamation-triangle",accept:function(){e.SubmitReply()},reject:function(){new Date(e.datepipe.transform(e.filteritems[0].TodayDate,"yyyy-MM-dd"))>new Date(t)&&new Date(e.datepipe.transform(e.filteritems[0].TodayDate,"yyyy-MM-dd"))<new Date(i)&&"6131eabe7008ed3c20eb80cf"==e.LstPaitentMessageReplyLog.ReasonId&&e.ShowChangePeriodModel(e.filteritems[0].SlotBookingId,e.filteritems[0].UserId,e.filteritems[0].ClinicId,e.filteritems[0].ChangedCount,"New")}}):this.SubmitReply()}},{key:"SubmitReply",value:function(){var e,t,i=this;this.filteritems=[],this.filteritems=this.LstRegistrationMainModelList.filter(function(e){return e.SlotBookingId==i.LstPaitentMessageReplyLog.SlotBookingId});var n=new Date(this.datepipe.transform(this.filteritems[0].PeriodFrom,"yyyy-MM-dd")),o=new Date(this.datepipe.transform(this.filteritems[0].PeriodUpto,"yyyy-MM-dd"));if(o.setDate(o.getDate()+7),this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Discharged]&&"6131eabe7008ed3c20eb80cf"==this.LstPaitentMessageReplyLog.ReasonId){if(new Date(o)<new Date(this.datepipe.transform(this.filteritems[0].TodayDate,"yyyy-MM-dd")))return void this._UtilityService.showWarningAlert("Invalid Admitted date")}else if("6131eabe7008ed3c20eb80d0"==this.LstPaitentMessageReplyLog.ReasonId);else{if("6131ff3d7008ed3c20eb80d2"!=this.LstPaitentMessageReplyLog.ReasonId&&!this.filteritems[0].IsValidDate)return void this._UtilityService.showWarningAlert("Invalid date to take action");if(null==this.LstPaitentMessageReplyLog.ReasonId||""==this.LstPaitentMessageReplyLog.ReasonId)return void this._UtilityService.showWarningAlert("Please Select Action");if(this.status==this.bookingStatus[this.bookingStatus.UnderReview]&&"60f94501513904c09133bc30"!=this.LstPaitentMessageReplyLog.ReasonId&&(null==this.LstPaitentMessageReplyLog.DoctorId||""==this.LstPaitentMessageReplyLog.DoctorId))return void this._UtilityService.showWarningAlert("Please Select Doctor");if("6131eabe7008ed3c20eb80cf"==this.LstPaitentMessageReplyLog.ReasonId&&new Date(n)>new Date(this.datepipe.transform(this.filteritems[0].TodayDate,"yyyy-MM-dd")))return void this._UtilityService.showWarningAlert("Invalid Admitted date");if("6131eabe7008ed3c20eb80cf"==this.LstPaitentMessageReplyLog.ReasonId&&0==(null===(e=this.lstSelectedRoom)||void 0===e?void 0:e.length))return void this._UtilityService.showWarningAlert("Please select Room");if("6131eabe7008ed3c20eb80cf"==this.LstPaitentMessageReplyLog.ReasonId&&(null===(t=this.lstSelectedRoom)||void 0===t?void 0:t.length)!=this.bookedRoomCount)return void this._UtilityService.showWarningAlert("Please select only required Rooms");if("608a60556ef8bc2976a92078"==this.LstPaitentMessageReplyLog.ReasonId&&this.LstPaitentMessageReplyLog.Remarks.length<=0&&(this.userTypes.Doctor==this.UserType||this.userTypes.CallCenter==this.UserType))return void this._UtilityService.showWarningAlert("Please enter Remarks");if("6131eabe7008ed3c20eb80d0"==this.LstPaitentMessageReplyLog.ReasonId&&(null==this.CheckOutDate||null==this.CheckOutDate))return void this._UtilityService.showWarningAlert("Please Select Discharged Date");if(!0===this.filteritems[0].IsPrescription&&"OPD"===this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]&&"6131ff3d7008ed3c20eb80d2"==this.LstPaitentMessageReplyLog.ReasonId)return void this._UtilityService.showWarningAlert("Prescription already generated/saved for this booking. It can't be cancelled.")}if("6131eabe7008ed3c20eb80d0"==this.LstPaitentMessageReplyLog.ReasonId)this.confirmationService.confirm({header:"Confirmation",message:"Discharge Summary is mandatory before Discharged - Are you sure you want to Discharged?",icon:"pi pi-exclamation-triangle",accept:function(){i.LstPaitentMessageReplyLog.CheckOutDate=i.CheckOutDate;var e={};e.replyLog=i.LstPaitentMessageReplyLog,e.CancelCharge=i._ConstantServices.nullToZeroConverter(i.CancelCharge),e.AutogenerateVoucher=i.AutogenerateVoucher,i._UtilityService.showSpinner(),i.unsubscribe.add=i._RegistrationServices.PaitentReplyMessage(e).subscribe(function(e){i._UtilityService.hideSpinner(),i.cdRef.detectChanges(),1==e.actionResult.success?(i._UtilityService.showSuccessAlert(e.actionResult.errMsg),i.ShowReplyModel=!1,i.LoadOnlineRegistrationListByFilter(0,10)):i._UtilityService.showWarningAlert(e.actionResult.errMsg)},function(e){i._UtilityService.hideSpinner(),i._UtilityService.showErrorAlert(e.message)})}});else{var a={};a.replyLog=this.LstPaitentMessageReplyLog,a.CancelCharge=this._ConstantServices.nullToZeroConverter(this.CancelCharge),a.AutogenerateVoucher=this.AutogenerateVoucher,"6131eabe7008ed3c20eb80cf"==this.LstPaitentMessageReplyLog.ReasonId&&(a.lstRooms=this.lstSelectedRoom),this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.PaitentReplyMessage(a).subscribe(function(e){i._UtilityService.hideSpinner(),i.cdRef.detectChanges(),1==e.actionResult.success?(i._UtilityService.showSuccessAlert(e.actionResult.errMsg),i.ShowReplyModel=!1,i.LoadOnlineRegistrationListByFilter(0,10),"60f94501513904c09133bc30"==i.LstPaitentMessageReplyLog.ReasonId&&i.ConfirmBookRoom(i.LstPaitentMessageReplyLog.SlotBookingId)):i._UtilityService.showWarningAlert(e.actionResult.errMsg)},function(e){i._UtilityService.hideSpinner(),i._UtilityService.showErrorAlert(e.message)})}}},{key:"ConfirmBookRoom",value:function(e){var t=this;this.filteritems=[],this.filteritems=this.LstRegistrationMainModelList.filter(function(t){return t.SlotBookingId==e}),this.GroupCount=this.filteritems[0].IsGrouped?this.filteritems[0].GroupCount:this.GroupCount,this.IsGrouped=!!this.filteritems[0].IsGrouped&&this.filteritems[0].IsGrouped,(0==this.filteritems[0].IsGrouped||1==this.filteritems[0].IsGrouped&&1==this.filteritems[0].IsGrouphead&&1==this.LstPaitentMessageReplyLog.IsAllMemberSelect)&&this.confirmationService.confirm({message:"want to book room ?",accept:function(){t.ShowBookingModel(t.filteritems[0].SlotBookingId,t.filteritems[0].UserId,t.filteritems[0].ClinicId,"New")}})}},{key:"AdditionalRemarks",value:function(e,t){this.LstPaitentMessageReplyLog.UserId=e,this.LstPaitentMessageReplyLog.RepliedBy=this.loginUserId,this.LstPaitentMessageReplyLog.RepliedOn=new Date,this.LstPaitentMessageReplyLog.ReasonId="643648844564cfe3f5938715",this.LstPaitentMessageReplyLog.Remarks="",this.LstPaitentMessageReplyLog.SlotBookingId=t,this.LstPaitentMessageReplyLog.IsAllMemberSelect=!1,this.ShowAdditionalRemarksModel=!0}},{key:"AddAdditionalRemarks",value:function(){var e=this;this.LstPaitentMessageReplyLog.Remarks.length<=0?this._UtilityService.showWarningAlert("Please enter Remarks"):(this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.AddAdditionalRemarks(this.LstPaitentMessageReplyLog).subscribe(function(t){e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),e._UtilityService.showSuccessAlert(t.actionResult.errMsg),1==t.actionResult.success&&(e.ShowAdditionalRemarksModel=!1,e.LoadOnlineRegistrationListByFilter(0,10))},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)}))}},{key:"AllotDoctor",value:function(e){this.SlotBookingIdSelectedId=e,this.ShowAllotDoctorModel=!0}},{key:"AllotSuccess",value:function(e){this.ShowAllotDoctorModel=!1,this.SlotBookingIdSelectedId=null,this._UtilityService.showSuccessAlert(null==e?void 0:e.Message),this.LoadOnlineRegistrationListByFilter(0,10)}},{key:"ReferToDentist",value:function(e){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.ReferToDentist(!0,e,this.loginUserId).subscribe(function(e){t._UtilityService.hideSpinner(),1==e.actionResult.success?(t._UtilityService.showSuccessAlert(e.actionResult.errMsg),t.LoadOnlineRegistrationListByFilter(0,10)):t._UtilityService.showWarningAlert(e.actionResult.errMsg)},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"SuspendBooking",value:function(e){var t=this;this.confirmationService.confirm({header:"Confirmation",message:"Are you sure want to Suspend Booking?",icon:"pi pi-exclamation-triangle",accept:function(){t._UtilityService.showSpinner(),t.unsubscribe.add=t._PatientServices.SuspendBooking(!0,e,t.loginUserId).subscribe(function(e){t._UtilityService.hideSpinner(),1==e.actionResult.success?(t._UtilityService.showSuccessAlert(e.actionResult.errMsg),t.LoadOnlineRegistrationListByFilter(0,10)):t._UtilityService.showWarningAlert(e.actionResult.errMsg)},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}})}},{key:"ReferToCompanion",value:function(e,t){var i=this;this.confirmationService.confirm({header:"Confirmation",message:"Are you sure want to change booking into "+(1==t?"Companion":"non Companion"),icon:"pi pi-exclamation-triangle",accept:function(){i._UtilityService.showSpinner(),i.unsubscribe.add=i._PatientServices.ReferToCompanion(t,e,i.loginUserId).subscribe(function(e){i._UtilityService.hideSpinner(),1==e.actionResult.success?(i._UtilityService.showSuccessAlert(e.actionResult.errMsg),i.LoadOnlineRegistrationListByFilter(0,10)):i._UtilityService.showWarningAlert(e.actionResult.errMsg)},function(e){i._UtilityService.hideSpinner(),i._UtilityService.showErrorAlert(e.message)})}})}},{key:"GetSlotRemarks",value:function(e){this.SlotBookingIdSelectedId=e,this.ShowRemarksModel=!0}},{key:"DownloadVoucher",value:function(e){this._UtilityService.showSpinner(),this._PatientServices.DownloadBookingVoucher(e),this._UtilityService.hideSpinner()}},{key:"ShowInvoiceList",value:function(e,t){this.SlotBookingIdSelectedId=e,this.IsGroupedSelected=t,this.ShowInvoiceListModel=!0}},{key:"GetTrustDetailsHistory",value:function(){var e=this;if(null==this.TenderObj.MemberShipNumber||null==this.TenderObj.MemberShipNumber||""==this.TenderObj.MemberShipNumber)return this.lstTrustHistory=[],void this._UtilityService.showWarningAlert("Please enter membership number");this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetTrustDetailsHistory(this.TenderObj.MemberShipNumber).subscribe(function(t){if(e._UtilityService.hideSpinner(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstTrustHistory=i=i||[],e.cdRef.detectChanges()}else e._UtilityService.showWarningAlert(t.actionResult.errMsg),e.lstTrustHistory=[],e.cdRef.detectChanges()},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"ShowCreditBalanceModel",value:function(e){this.SlotBookingIdSelectedId=e,this.ShowCreditNoteBalance=!0}},{key:"ShowBookingModel",value:function(e,t,i,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.ClinicIdSelected=i,this.SlotBookingIdSelectedId=e,this.UserIdSelectedId=t,this.LoadCrediNoteBalance(),"New"===n&&(localStorage.removeItem("BookRoomPeriodFrom"),localStorage.removeItem("BookRoomPeriodUpto")),o){this.IsExtended=!0,this.TenderList(),localStorage.removeItem("BookRoomPeriodFrom");var a=this.datepipe.transform(this.filteritems[0].PeriodUpto,"yyyy-MM-dd");localStorage.setItem("BookRoomPeriodFrom",a)}-330===this._ConstantServices.timeZoneOffset?this.ShowRoomBookingModel=!0:this._UtilityService.showWarningAlert("Your System's Time zone is incorrect. This can cause data discrepancy. Please go to Windows Setting and set it to (UTC+5:30).")}},{key:"EmitPermittedBy",value:function(e){var t=this;this.permittedBy=e,null!=this.permittedBy&&null!=this.permittedBy&&""!=this.permittedBy||this._UtilityService.showWarningAlert("Permitted By is required"),null!=this.roomBookIngMaster&&null!=this.roomBookIngMaster&&this.roomBookIngMaster.length>0&&this.roomBookIngMaster.forEach(function(e){e.PermittedBy=t.permittedBy,t.cdRef.detectChanges()})}},{key:"roomBookClick",value:function(e){if(null==e)this.roomBookIngMaster=[];else if(0==e.Status||0==e.RequiredRooms||null==e.RequiredRooms)this.roomBookIngMaster=this.roomBookIngMaster.filter(function(t){return t.Index!==e.Index});else if(e.RequiredRooms>0&&(0==e.RequiredExtraBed||null==e.RequiredExtraBed)){this.upsert(this.roomBookIngMaster,e);var t=this.roomBookIngMaster.findIndex(function(t){return t.Index==e.Index});null!=t&&null!=t&&(this.roomBookIngMaster[t].RequiredExtraBed=0)}else e.RequiredRooms>0&&this.upsert(this.roomBookIngMaster,e)}},{key:"upsert",value:function(e,t){var i=e.findIndex(function(e){return e.Index===t.Index});i>-1?e[i]=t:e.push(t)}},{key:"LoadAuthorizedMaster",value:function(){var e=this,t="";this.UserTypeCurre!==u.s.SuperAdmin&&(t=this.ClinicIdSelected),this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetAuthorizedMaster(t,!0).subscribe(function(t){if(e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstAuthorizedMaster=i=i||[],e.cdRef.detectChanges()}else e.lstAuthorizedMaster=[]},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"awaitBookRoomm",value:function(){var e,t,i=this;this.PackageMapping=[],(null===(e=this.Package)||void 0===e?void 0:e.length)>0&&this.IsGrouped?this.ShowPackageModel=!0:(null===(t=this.Package)||void 0===t?void 0:t.length)>0&&!this.IsGrouped?(this.Package.forEach(function(e){var t={};t.MemberSlotId=i.SlotBookingIdSelectedId,t.MCODE=e.pckg.MCODE,i.PackageMapping.push(t)}),this.BookRoom()):this.BookRoom()}},{key:"EmitSelectedMapping",value:function(e){this._UtilityService.showSuccessAlert("Assigned Package Successfully."),this.PackageMapping=e,this.ShowPackageModel=!1,this.BookRoom()}},{key:"BookRoom",value:function(){var e,t,i,n;return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var a,s,r,l,c,d,h,b=this;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.IsPartialPayment=!1,this.IsCashless=!1,this.CreditNoteNumber=null,this.CreditNoteTranAmount=0,this.MaxCreditNoteAmount=0,this.BillWiseDiscountPer=0,this.BillWiseDiscountAmount=0,this.ReferredBy="",this.RequestedBy="",a=1,s=0,r=null,o.next=4,this._PatientServices.GetTotalGroupMemberBySlotId(this.SlotBookingIdSelectedId).toPromise();case 4:1==(l=o.sent).actionResult.success&&(a=l.actionResult.stringVal,null!=l.actionResult.result2&&null!=l.actionResult.result2&&(null===(e=l.actionResult.result2)||void 0===e?void 0:e.length)>0)&&(c=JSON.parse(l.actionResult.result2),r=c=c||[]),this.roomBookIngMaster.map(function(e){s=s+(e.RequiredRooms*e.DefaultBed||0)+(e.RequiredExtraBed||0)}),null!=this.roomBookIngMaster&&null!=this.roomBookIngMaster&&0!=(null===(t=this.roomBookIngMaster)||void 0===t?void 0:t.length)?(null===(i=this.roomBookIngMaster)||void 0===i?void 0:i.length)>1?this._UtilityService.showWarningAlert("Please select room only one category for booking"):this.IsExtended&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]&&null!=r&&null!=r&&(null==r?void 0:r.length)>0&&(1!=(null==r?void 0:r.length)||r[0].Count!=this.roomBookIngMaster[0].RequiredRooms||this.roomBookIngMaster[0].RoomTypeId!=r[0].RoomTypeId)?this._UtilityService.showWarningAlert("Room Category should be same for extend period in confirmed state."):this.roomBookIngMaster[0].DaysCount<1?this._UtilityService.showWarningAlert("IPD Should be minimum 1 Days"):!this.IsExtended||null!=this.roomBookIngMaster[0].PermittedBy&&null!=this.roomBookIngMaster[0].PermittedBy&&""!=this.roomBookIngMaster[0].PermittedBy?s<a?this._UtilityService.showWarningAlert("Selected bed ("+s+") count is less than applied occupancy ("+a+")."):(this.slotBookingMaster.SlotBookingId=this.SlotBookingIdSelectedId,this.slotBookingMaster.SlotBookedBy=localStorage.getItem("userId"),this.slotBookingMaster.PeriodFrom=new Date(Date.parse(this.datepipe.transform(this.roomBookIngMaster[0].RoomBookFromDate,"yyyy-MM-dd"))),this.slotBookingMaster.PeriodUpto=new Date(Date.parse(this.datepipe.transform(this.roomBookIngMaster[0].RoomBookToDate,"yyyy-MM-dd"))),localStorage.setItem("BookRoomPeriodFrom",this.datepipe.transform(this.roomBookIngMaster[0].RoomBookFromDate,"yyyy-MM-dd")),localStorage.setItem("BookRoomPeriodUpto",this.datepipe.transform(this.roomBookIngMaster[0].RoomBookToDate,"yyyy-MM-dd")),this.bookingMainModel.ClinicId=this.ClinicIdSelected,this.bookingMainModel.RoomBooking=this.roomBookIngMaster,(d=[]).push(this.slotBookingMaster),this.bookingMainModel.SlotBooking=d,this.ItemCheckedTotal=0,this.roomBookIngMaster.map(function(e){b.ItemCheckedTotal=b.ItemCheckedTotal+e.RoomPrice*e.DaysCount*e.RequiredRooms}),this.ItemPriceRes=[],"IPD"==this.bookingtype&&(h=0,this.roomBookIngMaster.map(function(e){b.IsExtended||0!=h||0==e.IPDRegPriceWithGST||null==e.IPDRegPriceWithGST||null==e.IPDRegPriceWithGST||b.ItemPriceRes.push({BillItemId:"",MCODE:u.i.IPDRegistrationCharge,Description:"Registration Charges",Qty:a,UNIT:"PCS",MRP:e.IPDRegPriceWithGST,GST:0,PriceWithGST:e.IPDRegPriceWithGST*a,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:e.IPDRegPriceWithGST*a}),b.ItemPriceRes.push({BillItemId:"",MCODE:e.MCODE,Description:e.RoomTypeName,Qty:e.DaysCount*e.RequiredRooms,UNIT:"PCS",MRP:e.RoomPrice-e.RoomOtherCharges,GST:e.GST,PriceWithGST:(e.PriceWithGST-e.RoomOtherCharges)*e.DaysCount*e.RequiredRooms,DiscountAmount:e.DiscountAmount,IsChecked:!0,DiscountPer:0,NETAMOUNT:(e.PriceWithGST-e.RoomOtherCharges)*e.DaysCount*e.RequiredRooms}),0!=e.RoomOtherCharges&&null!=e.RoomOtherCharges&&null!=e.RoomOtherCharges&&(h+=1,b.ItemPriceRes.push({BillItemId:"",MCODE:u.i.TreatmentOtherCharge,Description:"Treatment, Therapies & Medicated Food Charges~"+e.MCODE,Qty:e.DaysCount*e.RequiredRooms,UNIT:"PCS",MRP:e.RoomOtherCharges,GST:e.GST,PriceWithGST:e.RoomOtherCharges*e.DaysCount*e.RequiredRooms,DiscountAmount:e.DiscountAmount,IsChecked:!0,DiscountPer:0,NETAMOUNT:e.RoomOtherCharges*e.DaysCount*e.RequiredRooms})),0!=e.RequiredExtraBed&&null!=e.RequiredExtraBed&&null!=e.RequiredExtraBed&&(h+=1,b.ItemPriceRes.push({BillItemId:"",MCODE:b.roomBookIngMaster[0].ExbedMCODE,Description:"Extra Bed Charges~"+e.MCODE,Qty:e.DaysCount*e.RequiredExtraBed,UNIT:"PCS",MRP:e.ExbedPriceWithGST-e.RoomOtherChargesExb,GST:0,PriceWithGST:(e.ExbedPriceWithGST-e.RoomOtherChargesExb)*e.DaysCount*e.RequiredExtraBed,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:(e.ExbedPriceWithGST-e.RoomOtherChargesExb)*e.DaysCount*e.RequiredExtraBed}),0!=e.RoomOtherChargesExb&&null!=e.RoomOtherChargesExb&&null!=e.RoomOtherChargesExb&&(h+=1,b.ItemPriceRes.push({BillItemId:"",MCODE:u.i.TreatmentOtherCharge,Description:"Treatment, Therapies & Medicated Food Charges~"+e.MCODE+","+e.ExbedMCODE,Qty:e.DaysCount*e.RequiredExtraBed,UNIT:"PCS",MRP:e.RoomOtherChargesExb,GST:0,PriceWithGST:e.RoomOtherChargesExb*e.DaysCount*e.RequiredExtraBed,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:e.RoomOtherChargesExb*e.DaysCount*e.RequiredExtraBed}))),h+=1}),null!=this.Package&&(null===(n=this.Package)||void 0===n?void 0:n.length)>0&&this.Package.map(function(e){b.ItemPriceRes.push({BillItemId:"",MCODE:e.pckg.MCODE,Description:e.pckg.PackageName,Qty:e.pckg.Qty,UNIT:"PCS",MRP:e.pckg.SellingPrice,GST:0,PriceWithGST:e.pckg.Qty*e.pckg.SellingPrice,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:e.pckg.SellingPrice})}),1==this.filteritems[0].IsCGHS&&1==this.filteritems[0].IsCashless&&(this.IsCashless=!0,this.IsPartialPayment=!0)),this.CalculateTotalItemPrice(),this.CalculateNetPaybleAfterDiscount(),this.AmountRecPer=0,this.ReceiveAmount=0,this.cdRef.detectChanges(),this.TenderObj.MemberShipNumber=null,this.lstTrustHistory=[],this.LoadAuthorizedMaster(),this.ShowItemPriceModel=!0):this._UtilityService.showWarningAlert("Permitted By is required"):this._UtilityService.showWarningAlert("Please Select Any Room for Booking");case 7:case"end":return o.stop()}},o,this)}))}},{key:"ShowSelectedItem",value:function(){var e;if((null===(e=this.selectedPaymodeCodes)||void 0===e?void 0:e.length)>0){var t=this.selectedPaymodeCodes.indexOf("ATONLN"),i=this.selectedPaymodeCodes.indexOf("ATWLONLN");t>-1?this.selectedPaymodeCodes=this.selectedPaymodeCodes.filter(function(e){return"ATONLN"==e}):i>-1&&(this.selectedPaymodeCodes=this.selectedPaymodeCodes.filter(function(e){return"ATWLONLN"==e})),this.SelectPaymodeArray=this.selectedPaymodeCodes.toString().split(",")}else this.SelectPaymodeArray=[]}},{key:"PayPackageFirstStep",value:function(e,t){this.BankDepTrnCounter=1,this.CardTrnCounter=1,this.lstBankDepositTransactionDetails=[],this.lstCardPaymentTransactionDetails=[],this.SlotBookingIdSelectedId=e,this.UserIdSelectedId=t,this.LoadItemPriceTotal(),this.lstBankDepositTransactionDetails.push({Sequence:this.BankDepTrnCounter,BankName:"",TransactionId:"",RecdDate:null,Amount:0}),this.lstCardPaymentTransactionDetails.push({Sequence:this.CardTrnCounter,CardNumber:"",CardholderName:"",TransactionId:"",RecdDate:null,Amount:0}),this.TenderObj.TrustId=null,this.TenderObj.TMemberTypeId=null,this.TenderObj.MemberShipNumber=null,this.cdRef.detectChanges(),this.clearPaymentMethod(),this.ShowPaymentMethodModel=!0}},{key:"FireforPayment",value:function(){var e,t,i,n,o,a,s,r,l,c,d=this;if(this.PaymentTransactionDetails=[],this.lstTenderModel=[],0!=(null===(e=this.SelectPaymodeArray)||void 0===e?void 0:e.length)){var u=0;if(this.SelectPaymodeArray.includes("AT01002")){if((null==this.TenderObj.CASH||null==this.TenderObj.CASH||this.TenderObj.CASH<=0)&&this.NetPaybleTotal>0&&0==this.IsPartialPayment)return void this._UtilityService.showWarningAlert("Please enter Cash Tender Amount");if(null==this.TenderObj.CashRecdDate||null==this.TenderObj.CashRecdDate)return void this._UtilityService.showWarningAlert("Please enter Cash Tender Amount Received Date");(S={ACCOUNT:"AT01002"}).AMOUNT=this.TenderObj.CASH,S.APPROVALCODE="",S.TRNMODE="Cash",S.REMARKS=this.TenderObj.REMARKS,S.CreditNoteNumber=this.CreditNoteTranAmount>0?this.CreditNoteNumber:null,S.CreditNoteAmount=this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0,this.lstTenderModel.push(S),this.PaymentTransactionDetails.push({TrnMode:"Cash",Remarks:this.TenderObj.REMARKS,ReceivedDate:this.TenderObj.CashRecdDate,Amount:this.TenderObj.CASH,TrustId:this.TenderObj.TrustId,TMemberTypeId:this.TenderObj.TMemberTypeId,MemberShipNumber:this.TenderObj.MemberShipNumber}),u+=this.TenderObj.CASH}if(this.SelectPaymodeArray.includes("AT999999")){for(var h=!0,b=0;b<this.lstCardPaymentTransactionDetails.length;b++)(null==this.lstCardPaymentTransactionDetails[b].TransactionId||null==this.lstCardPaymentTransactionDetails[b].TransactionId||""==this.lstCardPaymentTransactionDetails[b].TransactionId||null==this.lstCardPaymentTransactionDetails[b].RecdDate||null==this.lstCardPaymentTransactionDetails[b].RecdDate||""==this.lstCardPaymentTransactionDetails[b].RecdDate||null==(null===(t=this.lstCardPaymentTransactionDetails[b])||void 0===t?void 0:t.Amount)||null==(null===(i=this.lstCardPaymentTransactionDetails[b])||void 0===i?void 0:i.Amount)||(null===(n=this.lstCardPaymentTransactionDetails[b])||void 0===n?void 0:n.Amount)<=0)&&1==h&&(h=!1);if(0==h)return void this._UtilityService.showWarningAlert("Please enter Transaction Details Properly");if(null==this.TenderObj.CARDAMT||null==this.TenderObj.CARDAMT||this.TenderObj.CARDAMT<=0)return void this._UtilityService.showWarningAlert("Please enter Card tender Amount");var m="",g="",p="";this.lstCardPaymentTransactionDetails.map(function(e){d.PaymentTransactionDetails.push({TrnMode:"Card",Remarks:d.TenderObj.REMARKS,CardNo:e.CardNumber,CardHolderName:e.CardHolderName,TransactionId:e.TransactionId,ReceivedDate:e.RecdDate,Amount:e.Amount,TrustId:d.TenderObj.TrustId,TMemberTypeId:d.TenderObj.TMemberTypeId,MemberShipNumber:d.TenderObj.MemberShipNumber}),m=m+e.TransactionId+",",p=p+e.CardHolderName+",",g=g+e.CardNumber+","}),(S={ACCOUNT:"AT999999"}).AMOUNT=this.TenderObj.CARDAMT,S.APPROVALCODE="",S.TRNMODE="Card",S.REMARKS=this.TenderObj.REMARKS,S.CARDNO=null==g?void 0:g.trimEnd(),S.CARDHOLDERNAME=null==p?void 0:p.trimEnd(),S.TRANSACTIONID=null==m?void 0:m.trimEnd(),S.CreditNoteNumber=this.CreditNoteTranAmount>0?this.CreditNoteNumber:null,S.CreditNoteAmount=this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0,this.lstTenderModel.push(S),u+=this.TenderObj.CARDAMT}if(this.SelectPaymodeArray.includes("LB1199")){if(null==this.TenderObj.CREDITAMT||null==this.TenderObj.CREDITAMT||this.TenderObj.CREDITAMT<=0)return void this._UtilityService.showWarningAlert("Please enter Credit Amount");(S={ACCOUNT:"LB1199"}).AMOUNT=this.TenderObj.CREDITAMT,S.APPROVALCODE="",S.TRNMODE="Credit",S.REMARKS=this.TenderObj.REMARKS,this.lstTenderModel.push(S),S.CreditNoteNumber=this.CreditNoteTranAmount>0?this.CreditNoteNumber:null,S.CreditNoteAmount=this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0,this.PaymentTransactionDetails.push({TrnMode:"Credit",Remarks:this.TenderObj.REMARKS,ReceivedDate:new Date,Amount:this.TenderObj.CREDITAMT,TrustId:this.TenderObj.TrustId,TMemberTypeId:this.TenderObj.TMemberTypeId,MemberShipNumber:this.TenderObj.MemberShipNumber}),u+=this.TenderObj.CREDITAMT}if(this.SelectPaymodeArray.includes("BT01001")){for(h=!0,b=0;b<this.lstBankDepositTransactionDetails.length;b++)(null==this.lstBankDepositTransactionDetails[b].BankName||null==this.lstBankDepositTransactionDetails[b].BankName||""==this.lstBankDepositTransactionDetails[b].BankName||null==this.lstBankDepositTransactionDetails[b].TransactionId||null==this.lstBankDepositTransactionDetails[b].TransactionId||""==this.lstBankDepositTransactionDetails[b].TransactionId||null==this.lstBankDepositTransactionDetails[b].RecdDate||null==this.lstBankDepositTransactionDetails[b].RecdDate||""==this.lstBankDepositTransactionDetails[b].RecdDate||null==this.lstBankDepositTransactionDetails[b].Amount||null==this.lstBankDepositTransactionDetails[b].Amount||(null===(o=this.lstBankDepositTransactionDetails[b])||void 0===o?void 0:o.Amount)<=0)&&1==h&&(h=!1);if(0==h)return void this._UtilityService.showWarningAlert("Please enter Transaction Details Properly");if(null==this.TenderObj.BANKTFAMOUNT||null==this.TenderObj.BANKTFAMOUNT||this.TenderObj.BANKTFAMOUNT<=0)return void this._UtilityService.showWarningAlert("Please enter Bank Deposit Amount");m="";var f="";this.lstBankDepositTransactionDetails.map(function(e){d.PaymentTransactionDetails.push({TrnMode:"Bank Transfer",Remarks:d.TenderObj.REMARKS,BankName:e.BankName,TransactionId:e.TransactionId,ReceivedDate:e.RecdDate,Amount:e.Amount,TrustId:d.TenderObj.TrustId,TMemberTypeId:d.TenderObj.TMemberTypeId,MemberShipNumber:d.TenderObj.MemberShipNumber}),m=m+e.TransactionId+",",f=f+e.BankName+","}),(S={ACCOUNT:"BT01001"}).AMOUNT=this.TenderObj.BANKTFAMOUNT,S.APPROVALCODE="",S.TRNMODE="BANK TRANSFER",S.REMARKS=this.TenderObj.REMARKS,S.TRANSACTIONID=m.trimEnd(),S.CARDHOLDERNAME=f.trimEnd(),S.CreditNoteNumber=this.CreditNoteTranAmount>0?this.CreditNoteNumber:null,S.CreditNoteAmount=this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0,this.lstTenderModel.push(S),u+=this.TenderObj.BANKTFAMOUNT}if(this.SelectPaymodeArray.includes("DI01001")){if(null==this.TenderObj.CHEQUEAMT||null==this.TenderObj.CHEQUEAMT||this.TenderObj.CHEQUEAMT<=0)return void this._UtilityService.showWarningAlert("Please enter Cheque tender Amount");if(null==this.TenderObj.CHEQUENO||null==this.TenderObj.CHEQUENO||(null===(a=this.TenderObj.CHEQUENO)||void 0===a?void 0:a.length)<=0)return void this._UtilityService.showWarningAlert("Please enter Cheque Number");if(null==this.TenderObj.BANK||null==this.TenderObj.BANK||(null===(s=this.TenderObj.BANK)||void 0===s?void 0:s.length)<=0)return void this._UtilityService.showWarningAlert("Please enter Cheque Issued Bank Name");if(null==this.TenderObj.ChequeRecdDate||null==this.TenderObj.ChequeRecdDate)return void this._UtilityService.showWarningAlert("Please enter Cheque Received Date");if(null==this.TenderObj.ChequeIssueDate||null==this.TenderObj.ChequeIssueDate)return void this._UtilityService.showWarningAlert("Please enter Cheque Issued Date");var S;this.PaymentTransactionDetails.push({TrnMode:"Cheque",Remarks:this.TenderObj.REMARKS,IssueDate:this.TenderObj.ChequeIssueDate,ReceivedDate:this.TenderObj.ChequeRecdDate,Amount:this.TenderObj.CHEQUEAMT,DepositedBy:this.TenderObj.DepositedBy,BankName:this.TenderObj.BANK,ChequeNumber:this.TenderObj.CHEQUENO,ChequeHolderName:this.TenderObj.ChequeHolderName}),(S={ACCOUNT:"DI01001"}).AMOUNT=this.TenderObj.CHEQUEAMT,S.APPROVALCODE="",S.TRNMODE="Cheque",S.REMARKS=this.TenderObj.REMARKS,S.CARDNO=null===(r=this.TenderObj.CHEQUENO)||void 0===r?void 0:r.trimEnd(),S.CARDHOLDERNAME=null===(l=this.TenderObj.BANK)||void 0===l?void 0:l.trimEnd(),this.lstTenderModel.push(S),u+=this.TenderObj.CHEQUEAMT}if((null===(c=this.lstTenderModel)||void 0===c?void 0:c.length)>0){if(Math.round(u)<Math.round(this.NetPaybleTotal)&&0==this.IsPartialPayment||Math.round(u)<Math.round(this.NetPaybleTotal)&&1==this.IsPartialPayment&&this.ReceiveAmount>0)return void this._UtilityService.showWarningAlert("Input Amount not match with Total Amount");if(Math.round(u)>Math.round(this.NetPaybleTotal)&&0==this.IsPartialPayment||Math.round(u)>Math.round(this.NetPaybleTotal)&&1==this.IsPartialPayment&&this.ReceiveAmount>0)return void this._UtilityService.showWarningAlert("Input Amount not match with Total Amount")}if(!this.SelectPaymodeArray.includes("ATONLN")&&!this.SelectPaymodeArray.includes("ATWLONLN")){if(null!=this.TenderObj.TrustId||null!=this.TenderObj.TrustId){if(null==this.TenderObj.TMemberTypeId||null==this.TenderObj.TMemberTypeId)return void this._UtilityService.showWarningAlert("Please select member type");if(null==this.TenderObj.MemberShipNumber||null==this.TenderObj.MemberShipNumber||""==this.TenderObj.MemberShipNumber)return void this._UtilityService.showWarningAlert("Please enter membership number")}if(null!=this.TenderObj.TMemberTypeId||null!=this.TenderObj.TMemberTypeId){if(null==this.TenderObj.TrustId||null==this.TenderObj.TrustId)return void this._UtilityService.showWarningAlert("Please select trust type");if(null==this.TenderObj.MemberShipNumber||null==this.TenderObj.MemberShipNumber||""==this.TenderObj.MemberShipNumber)return void this._UtilityService.showWarningAlert("Please enter membership number")}if(this.TenderObj.MemberShipNumber){if(null==this.TenderObj.TrustId||null==this.TenderObj.TrustId)return void this._UtilityService.showWarningAlert("Please select trust type");if(null==this.TenderObj.TMemberTypeId||null==this.TenderObj.TMemberTypeId)return void this._UtilityService.showWarningAlert("Please select member type")}}this.IsExtended?this.RoomExtend():this.IsPrepone||this.IsPostpone?this.ChangeBookingPeriodPayByCash():this.IsCancelCharge?this.SubmitReply():this.BookingPayment(),this.Package={}}else this._UtilityService.showWarningAlert("Please select payment mode")}},{key:"onFileSelectBankDepositSlip",value:function(e,t){var i;if((null===(i=e.target.files)||void 0===i?void 0:i.length)>0){var n=e.target.files[0];[".jpg",".png",".jpeg",".pdf"].includes("."+n.type.split("/")[1])?n.size>5242880?($("#"+t).val(""),"AttBankslip1"==t&&(this.fileInputLabelAttBankslip1="",this.BankDepositSlip1Att=""),this._UtilityService.showWarningAlert("Maximum 5 MB file can be Uploaded")):"AttBankslip1"==t&&(this.fileInputLabelAttBankslip1=n.name,this.fileUploadAttBankslip1.get("AttBankslip1").setValue(n)):($("#"+t).val(""),"AttBankslip1"==t&&(this.fileInputLabelAttBankslip1="",this.BankDepositSlip1Att=""),this._UtilityService.showWarningAlert("Only jpg, png and pdf Allowed!")),this.cdRef.detectChanges()}}},{key:"BookingPayment",value:function(){"IPD"==this.bookingtype?(this.IsIPD=!0,this.RoomBooking()):"OPD"==this.bookingtype&&(this.IsIPD=!1,this.OPDBookingPayment(this.SlotBookingIdSelectedId))}},{key:"RoomBooking",value:function(){var e=this;this.NewItemDetails=[],this.TotalPaybleAmount=0,this.bookingMainModel.PayMode=this.SelectPaymodeArray.includes("ATONLN")?"Online":this.SelectPaymodeArray.includes("ATWLONLN")?"WLOnline":"Other",this.bookingMainModel.PaybleAmount=Math.round(this.NetPaybleTotal),this.bookingMainModel.ActualNetPayble=this.ActualNetPayble,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.SaveRoomBookingDetails(this.bookingMainModel).subscribe(function(t){if(e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success){e.ShowRoomBookingModel=!1;var i=JSON.parse(t.actionResult.result);(i=i||[]).map(function(t){var i=e.ItemPriceRes.findIndex(function(e){return e.MCODE==t.MCODE});e.ItemPriceRes[i].BillItemId=t.BillItemId});var n=JSON.parse(t.actionResult.result2);e.OrderRes=n=n||[];var o=JSON.parse(t.actionResult.result3);e.UserRes=o=o||[],e.SelectPaymodeArray.includes("ATONLN")?e.HitforPayment():e.SelectPaymodeArray.includes("ATWLONLN")?e.HitforWLPayment():(e.ItemPriceRes.map(function(t){e.TotalPaybleAmount=e.TotalPaybleAmount+t.PriceWithGST}),e.ItemPriceRes.map(function(t){e.NewItemDetails.push({BillItemId:t.BillItemId,MCODE:t.MCODE,Description:t.Description,MRP:t.MRP,SELLINGPRICE:t.MRP,Qty:t.Qty,INDDISCOUNTRATE:e.nullToZeroConverter(t.DiscountPer),DCRATE:e.nullToZeroConverter(e.BillWiseDiscountPer),lstTenderModel:e.lstTenderModel})}),e.SlotBookingPayOtherMode())}else e._UtilityService.showWarningAlert(t.actionResult.errMsg)})}},{key:"ChangeRoom",value:function(e){this.ShowItemPriceModel=!1,this.ShowRazorPayModel=!1,this.ShowWLPayModel=!1,this.ShowBookingModel(e,localStorage.getItem("userId"),this.ClinicIdSelected,"Edit")}},{key:"OPDBookingPayment",value:function(e){var t=this;this.NewItemDetails=[],this.TotalPaybleAmount=0;var i="Other";this.SelectPaymodeArray.includes("ATONLN")?i="Online":this.SelectPaymodeArray.includes("ATWLONLN")&&(i="WLOnline"),this.SlotBookingIdSelectedId=e,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.OPDBookingPayment(e,i,Math.round(this.NetPaybleTotal)).subscribe(function(e){if(t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);(i=i||[]).map(function(e){var i=t.ItemPriceRes.findIndex(function(t){return t.MCODE==e.MCODE});t.ItemPriceRes[i].BillItemId=e.BillItemId});var n=JSON.parse(e.actionResult.result2);t.OrderRes=n=n||[];var o=JSON.parse(e.actionResult.result3);t.UserRes=o=o||[],t.SelectPaymodeArray.includes("ATONLN")?t.HitforPayment():t.SelectPaymodeArray.includes("ATWLONLN")?t.HitforWLPayment():(t.TotalPaybleAmount=t.NetPaybleTotal,t.ItemPriceRes.map(function(e){t.NewItemDetails.push({BillItemId:e.BillItemId,MCODE:e.MCODE,Description:e.Description,MRP:e.MRP,SELLINGPRICE:e.MRP,INDDISCOUNTRATE:t.nullToZeroConverter(e.DiscountPer),DCRATE:t.nullToZeroConverter(t.BillWiseDiscountPer),Qty:e.Qty,lstTenderModel:t.lstTenderModel})}),t.SlotBookingPayOtherMode())}else t._UtilityService.showWarningAlert(e.actionResult.errMsg)},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"HitforWLPayment",value:function(){this.ShowWLPayModel=!0}},{key:"GetWLPaymentStatusEmit",value:function(e){e.includes("~")&&"Success"===e.split("~")[0]&&(this.ShowWLPayModel=!1,this.ShowPaymentMethodModel=!1,this.ShowItemPriceModel=!1,this.LoadOnlineRegistrationListByFilter(0,10),this.LoadCrediNoteBalance())}},{key:"HitforPayment",value:function(){this.ShowRazorPayModel=!0}},{key:"GetPaymentStatusEmit",value:function(e){e.includes("~")&&"Success"===e.split("~")[0]&&(this.ShowRazorPayModel=!1,this.ShowPaymentMethodModel=!1,this.ShowItemPriceModel=!1,this.LoadOnlineRegistrationListByFilter(0,10),this.LoadCrediNoteBalance())}},{key:"SlotBookingPayByCash",value:function(){this.BankDepTrnCounter=1,this.lstBankDepositTransactionDetails=[],this.lstCardPaymentTransactionDetails=[],this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&(null==this.ReferredBy||""==this.ReferredBy||null==this.ReferredBy)||this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&this.ReferredBy.trim().length<=0?this._UtilityService.showWarningAlert("Please enter Authorized By"):this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&(null==this.RequestedBy||""==this.RequestedBy||null==this.RequestedBy)||this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&this.RequestedBy.trim().length<=0?this._UtilityService.showWarningAlert("Please enter Requested By"):this.IsPartialPayment&&this.ReceiveAmount<=0&&1!=this.clinicDetails.IsPartialBooking100?this._UtilityService.showWarningAlert("Receive Amount Should be Greater than Zero"):(this.lstBankDepositTransactionDetails.push({Sequence:this.BankDepTrnCounter,BankName:"",TransactionId:"",RecdDate:null,Amount:0}),this.lstCardPaymentTransactionDetails.push({Sequence:this.CardTrnCounter,CardNumber:"",CardholderName:"",TransactionId:"",RecdDate:null,Amount:0}),this.ActualNetPayble=this.NetPaybleTotal,this.NetPaybleTotal=this.IsPartialPayment&&this.ReceiveAmount>0?this.ReceiveAmount:this.IsPartialPayment&&this.ReceiveAmount<=0?0:this.NetPaybleTotal,this.TenderObj.TrustId=null,this.TenderObj.TMemberTypeId=null,this.TenderObj.MemberShipNumber=null,this.cdRef.detectChanges(),this.clearPaymentMethod(),this.NetPaybleTotal<=0?(this.selectedPaymodeCodes=["AT01002"],this.SelectPaymodeArray=this.selectedPaymodeCodes.toString().split(","),this.TenderObj.CASH=0,this.TenderObj.CashRecdDate=new Date,this.cdRef.detectChanges(),this.FireforPayment()):this.ShowPaymentMethodModel=!0)}},{key:"AddCardPaymentDetails",value:function(){this.CardTrnCounter++,this.lstCardPaymentTransactionDetails.push({Sequence:this.CardTrnCounter,CardNumber:"",CardHolderName:"",TransactionId:"",RecdDate:null,Amount:0}),this.cdRef.detectChanges()}},{key:"RemoveCardPaymentDetails",value:function(e){this.lstCardPaymentTransactionDetails=this.lstCardPaymentTransactionDetails.filter(function(t){return t.Sequence!==e}),this.CalculateTotalCardPaymentrev(),this.cdRef.detectChanges()}},{key:"CalculateTotalCardPayment",value:function(e,t){if(e.value>0){null!=this.TenderObj.CARDAMT&&null!=this.TenderObj.CARDAMT||(this.TenderObj.CARDAMT=0);var i=0;(null==(n=this.lstCardPaymentTransactionDetails.filter(function(e){return e.Sequence!=t}))?void 0:n.length)>0&&n.map(function(e){i+=e.Amount}),this.TenderObj.CARDAMT=i+e.value,this.cdRef.detectChanges()}else{var n;null!=this.TenderObj.CARDAMT&&null!=this.TenderObj.CARDAMT||(this.TenderObj.CARDAMT=0),i=0,(null==(n=this.lstCardPaymentTransactionDetails.filter(function(e){return e.Sequence!=t}))?void 0:n.length)>0&&n.map(function(e){i+=e.Amount}),this.TenderObj.CARDAMT=i,this.cdRef.detectChanges()}}},{key:"CalculateTotalCardPaymentrev",value:function(){var e=0;this.lstCardPaymentTransactionDetails.map(function(t){e+=t.Amount}),this.TenderObj.CARDAMT=e,this.cdRef.detectChanges()}},{key:"ShowGenerateCreditNote",value:function(e,t,i){this.remarks=null,this.TenderObj.CREDITAMT=0,this.SlotBookingIdSelectedId=t,this.SelectedBookingType=i,this.cdRef.detectChanges(),this.ShowGenerateCreditModel=!0}},{key:"GenerateCreditNote",value:function(){var e=this;if(null!=this.TenderObj.CREDITAMT&&null!=this.TenderObj.CREDITAMT&&0!=this.TenderObj.CREDITAMT)if(null!=this.remarks&&null!=this.remarks&&0!=this.remarks.trim().length){var t={};t.Amount=this.TenderObj.CREDITAMT,t.SlotBookingId=this.SlotBookingIdSelectedId,t.Purpose=this.remarks.trim(),t.CreatedBy=localStorage.getItem("userId"),t.ModifiedBy=localStorage.getItem("userId"),t.ClinicId=this.ClinicIdSelected,t.RequestType="Credit",this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.AddEditCreditRefundApproval(t).subscribe(function(t){e._UtilityService.hideSpinner(),e._UtilityService.showSuccessAlert(t.actionResult.errMsg),1==t.actionResult.success&&(e.ShowGenerateCreditModel=!1)},function(t){e._UtilityService.hideSpinner()})}else this._UtilityService.showWarningAlert("Please enter Purpose");else this._UtilityService.showWarningAlert("Please Enter Credit Amount")}},{key:"onFileSelectRefundAppSlip",value:function(e,t){var i;if((null===(i=e.target.files)||void 0===i?void 0:i.length)>0){var n=e.target.files[0];[".jpg",".png",".jpeg",".pdf"].includes("."+n.type.split("/")[1])?n.size>5242880?($("#"+t).val(""),"AttRefAppslip1"==t&&(this.fileInputLabelAttRefAppslip1="",this.AttRefundSlip1Att=""),this._UtilityService.showWarningAlert("Maximum 5 MB file can be Uploaded")):"AttRefAppslip1"==t&&(this.fileInputLabelAttRefAppslip1=n.name,this.fileUploadAttRefslip1.get("AttRefAppslip1").setValue(n)):($("#"+t).val(""),"AttRefAppslip1"==t&&(this.fileInputLabelAttRefAppslip1="",this.AttRefundSlip1Att=""),this._UtilityService.showWarningAlert("Only jpg, png and pdf Allowed!")),this.cdRef.detectChanges()}}},{key:"UploadRefundApprovalSlip",value:function(e,t){var i=this,n=new FormData;this.fileUploadAttRefslip1.get("AttRefAppslip1").value&&(n.append(this.AttRefundSlip1Att,this.fileUploadAttRefslip1.get("AttRefAppslip1").value),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UploadBankDepositSlip(n,e,t,"Refund").subscribe(function(e){i._UtilityService.hideSpinner(),1==e.actionResult.success&&i.cdRef.detectChanges()},function(e){i._UtilityService.hideSpinner(),i._UtilityService.showErrorAlert(e.message)}))}},{key:"CheckCreditNote",value:function(){var e=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetNetBalanceCreditNote(this.ClinicIdSelected,this.SlotBookingIdSelectedId,this.CreditNoteNumber).subscribe(function(t){e._UtilityService.hideSpinner(),1==t.actionResult.success?e.MaxCreditNoteAmount=t.actionResult.totalAmount:(e._UtilityService.showWarningAlert(t.actionResult.errMsg),e.MaxCreditNoteAmount=0)},function(t){e._UtilityService.hideSpinner(),e.MaxCreditNoteAmount=0}),this.cdRef.detectChanges()}},{key:"SlotBookingPayOtherMode",value:function(){var e=this,t={};t.ItemPriceRes=this.ItemPriceRes,t.NetPayble=this.NetPaybleTotal,t.SlotBookingId=this.SlotBookingIdSelectedId,t.TenderDetails=this.NewItemDetails,t.ReferredBy=this.ReferredBy,t.RequestedBy=this.RequestedBy,t.BillWiseDiscountPer=this.BillWiseDiscountPer,t.PaymentTransactionDetails=this.PaymentTransactionDetails,t.ActualNetPayble=this.ActualNetPayble,t.ModifiedBy=localStorage.getItem("userId"),t.userTypeId=localStorage.getItem("userTypeId"),t.PackageMapping=this.PackageMapping;var i=new FormData;this.fileUploadAttBankslip1.get("AttBankslip1").value&&i.append("BookingSlipAtt",this.fileUploadAttBankslip1.get("AttBankslip1").value),i.append("data",this.encryptDecryptService.encryptUsingAES256(JSON.stringify(t))),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.SlotBookingPayByCash(i).subscribe(function(t){e._UtilityService.hideSpinner(),1==t.actionResult.success?e._UtilityService.showSuccessAlert(t.actionResult.errMsg):e._UtilityService.showWarningAlert(t.actionResult.errMsg),e.ShowPaymentMethodModel=!1,e.ShowItemPriceModel=!1,e.LoadOnlineRegistrationListByFilter(0,10),e.LoadCrediNoteBalance()},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"UpdateTransactionDetails",value:function(e,t){var i,n=this;(null===(i=this.PaymentTransactionDetails)||void 0===i?void 0:i.length)>0&&(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UpdateTransactionDetails(this.PaymentTransactionDetails,t,e).subscribe(function(e){n._UtilityService.hideSpinner(),n._UtilityService.showSuccessAlert(e.actionResult.errMsg)},function(e){n._UtilityService.hideSpinner(),n._UtilityService.showErrorAlert(e.message)}))}},{key:"nullToZeroConverter",value:function(e){return null==e||null==e||""==e||"Infinity"==e||"NaN"==e||isNaN(parseFloat(e))?0:parseFloat(e)}},{key:"AddBankTransactionDetails",value:function(){this.BankDepTrnCounter++,this.lstBankDepositTransactionDetails.push({Sequence:this.BankDepTrnCounter,BankName:"",TransactionId:"",RecdDate:null,Amount:0}),this.cdRef.detectChanges()}},{key:"RemoveBankTransactionDetails",value:function(e){this.lstBankDepositTransactionDetails=this.lstBankDepositTransactionDetails.filter(function(t){return t.Sequence!==e}),this.CalculateTotalBankTransactionrev(),this.cdRef.detectChanges()}},{key:"RoomExtend",value:function(){var e=this;this.NewItemDetails=[],this.TotalPaybleAmount=0,this.bookingMainModel.PayMode=this.SelectPaymodeArray.includes("ATONLN")?"Online":this.SelectPaymodeArray.includes("ATWLONLN")?"WLOnline":"Other",this.bookingMainModel.PaybleAmount=Math.round(this.NetPaybleTotal),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.SaveExtendRoomBookingDetails(this.bookingMainModel).subscribe(function(t){if(e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success){e.ShowRoomBookingModel=!1;var i=JSON.parse(t.actionResult.result);(i=i||[]).map(function(t){var i=e.ItemPriceRes.findIndex(function(e){return e.MCODE==t.MCODE});e.ItemPriceRes[i].BillItemId=t.BillItemId});var n=JSON.parse(t.actionResult.result2);e.OrderRes=n=n||[];var o=JSON.parse(t.actionResult.result3);e.UserRes=o=o||[],e.SelectPaymodeArray.includes("ATONLN")?e.HitforPayment():e.SelectPaymodeArray.includes("ATWLONLN")?e.HitforWLPayment():(e.ItemPriceRes.map(function(t){e.TotalPaybleAmount=e.TotalPaybleAmount+t.PriceWithGST}),e.ItemPriceRes.map(function(t){e.NewItemDetails.push({BillItemId:t.BillItemId,MRP:t.MRP,SELLINGPRICE:t.MRP,Qty:t.Qty,MCODE:t.MCODE,Description:t.Description,INDDISCOUNTRATE:e.nullToZeroConverter(t.DiscountPer),DCRATE:e.nullToZeroConverter(e.BillWiseDiscountPer),lstTenderModel:e.lstTenderModel})}),e.SlotExtendBookingPayByCash())}else e._UtilityService.showWarningAlert(t.actionResult.errMsg)})}},{key:"SlotExtendBookingPayByCash",value:function(){var e=this,t={};t.ItemPriceRes=this.ItemPriceRes,t.NetPayble=this.NetPaybleTotal,t.SlotBookingId=this.SlotBookingIdSelectedId,t.TenderDetails=this.NewItemDetails,t.ReferredBy=this.ReferredBy,t.RequestedBy=this.RequestedBy,t.BillWiseDiscountPer=this.BillWiseDiscountPer,t.PaymentTransactionDetails=this.PaymentTransactionDetails,t.ActualNetPayble=this.ActualNetPayble,t.ModifiedBy=localStorage.getItem("userId"),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.SlotExtendBookingPayByCash(t).subscribe(function(t){e._UtilityService.hideSpinner(),1==t.actionResult.success?(e._UtilityService.showSuccessAlert(t.actionResult.errMsg),e.SelectPaymodeArray.includes("BT01001")&&e.UploadBankDepositSlip(t.actionResult.stringVal,e.SlotBookingIdSelectedId)):e._UtilityService.showWarningAlert(t.actionResult.errMsg),e.ShowPaymentMethodModel=!1,e.ShowItemPriceModel=!1,1==t.actionResult.success&&e.filteritems[0].BookingStatus===e.bookingStatus[e.bookingStatus.Admitted]?window.open("#/room-management/room-reserve-date-wise?bookingNo="+e.filteritems[0].BookingNumber,"_self"):(e.LoadOnlineRegistrationListByFilter(0,10),e.LoadCrediNoteBalance())},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"CalculateReceiveAmount",value:function(){this.ReceiveAmount=this.NetPaybleTotal>0&&this.AmountRecPer>0?this.NetPaybleTotal*this.AmountRecPer/100:0}},{key:"CalculateReceiveAmountNew",value:function(e){this.ReceiveAmount=this.NetPaybleTotal>0&&e.value>0?this.NetPaybleTotal*e.value/100:0}},{key:"CalculateReceivePer",value:function(){this.NetPaybleTotal>0?(this.ReceiveAmount>this.NetPaybleTotal&&(this.ReceiveAmount=this.NetPaybleTotal),this.AmountRecPer=this.ReceiveAmount>0?100*this.ReceiveAmount/this.NetPaybleTotal:0):this.AmountRecPer=0}},{key:"CalculateReceivePerNew",value:function(e){this.AmountRecPer=this.NetPaybleTotal>0&&e.value>0?100*e.value/this.NetPaybleTotal:0}},{key:"ClosePaymentMethod",value:function(){this.ShowPaymentMethodModel=!1,this.CalculateNetPaybleAfterDiscount(),this.IsPartialPayment&&this.CalculateReceivePer()}},{key:"ShowGroupMemberModel",value:function(e){this.filterGroup=[],this.filterGroup=this.LstRegistrationMainModelList.filter(function(t){return t.GroupNumber==e}),this.filterGroup.map(function(e){e.Isverfied=!1,e.IsUpdated=!1,e.NewMRNumber=null}),this.ShowGroupModel=!0}},{key:"ValidateMRNO",value:function(e,t){var i=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.ValidateMRNumberandBooking(e,t).subscribe(function(t){if(i._UtilityService.hideSpinner(),i.cdRef.detectChanges(),1==t.actionResult.success){var n=i.filterGroup.findIndex(function(t){return t.SlotBookingId===e});i.filterGroup[n].Isverfied=!0,i._UtilityService.showSuccessAlert(t.actionResult.errMsg)}else i._UtilityService.showWarningAlert(t.actionResult.errMsg),i.cdRef.detectChanges()},function(e){i._UtilityService.hideSpinner(),i._UtilityService.showErrorAlert(e.message)})}},{key:"UpdateGroupMember",value:function(e,t){var i=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UpdateNewGroupMember(e,t).subscribe(function(t){if(i._UtilityService.hideSpinner(),i.cdRef.detectChanges(),1==t.actionResult.success){var n=t.actionResult.result[0],o=i.filterGroup.findIndex(function(t){return t.SlotBookingId===e});i.filterGroup[o].IsUpdated=!0,i.filterGroup[o].PaitentName=n.fullName,i.filterGroup[o].MRNo=n.mrNo,i.filterGroup[o].ContactNumber=n.contactNumber,i.cdRef.detectChanges(),i.confirmationService.confirm({header:"Confirmation",message:t.actionResult.errMsg,icon:"pi pi-exclamation-triangle",accept:function(){i.ShowGroupModel=!1,i.SearchMRNo=n.mrNo,i.LoadOnlineRegistrationListByFilter(0,10)},reject:function(){i.ShowGroupModel=!1,i.LoadOnlineRegistrationListByFilter(0,10)}})}else i._UtilityService.showWarningAlert(t.actionResult.errMsg),i.cdRef.detectChanges()},function(e){i._UtilityService.hideSpinner(),i._UtilityService.showErrorAlert(e.message)})}},{key:"ShowGroupHeadModel",value:function(e,t){this.filterGroup=[],this.filterGroup=this.LstRegistrationMainModelList.filter(function(e){return e.GroupNumber==t}),this.SlotBookingIdSelectedId=e,this.ShowHeadGroupModel=!0}},{key:"UpdateGroupHead",value:function(e){var t=this;this.confirmationService.confirm({header:"Confirmation",message:"Are you sure want to Change Group Head?",icon:"pi pi-exclamation-triangle",accept:function(){t._UtilityService.showSpinner(),t.unsubscribe.add=t._PatientServices.UpdateNewGroupHead(t.SlotBookingIdSelectedId,e).subscribe(function(e){t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success?(t.ShowHeadGroupModel=!1,t._UtilityService.showSuccessAlert(e.actionResult.errMsg),t.LoadOnlineRegistrationListByFilter(0,10)):(t._UtilityService.showWarningAlert(e.actionResult.errMsg),t.cdRef.detectChanges())},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}})}},{key:"ShowChangePeriodModel",value:function(e,t,i,n,o){new Date(this.datepipe.transform(this.filteritems[0].PeriodUpto,"yyyy-MM-dd"))<new Date("2022-08-01")?this._UtilityService.showWarningAlert("you can not change period which booking had done befor 01-08-2022. Please cancel this booking and create new booking for same"):(this.CreditNoteNumber=null,this.CreditNoteTranAmount=0,this.MaxCreditNoteAmount=0,this.ItemTotalDiscount=0,this.BillWiseDiscountPer=0,this.BillWiseDiscountAmount=0,this.ReferredBy="",this.RequestedBy="",this.IsPrepone=!1,this.IsPostpone=!1,this.prepostCharge=0,this.ClinicIdSelected=i,this.SlotBookingIdSelectedId=e,this.UserIdSelectedId=t,this.changedCount=n,this.changeDate=null,this.remarks=null,this.IsPartialPayment=!1,this.ShowPeriodChangeModel=!0,this.cdRef.detectChanges())}},{key:"ChangePeriodDate",value:function(){var e,t;this.IsPrepone=!1,this.IsPostpone=!1,this.datepipe.transform(this.filteritems[0].PeriodFrom,"yyyy-MM-dd")!==this.datepipe.transform(this.changeDate,"yyyy-MM-dd")?(new Date(this.datepipe.transform(this.filteritems[0].PeriodFrom,"yyyy-MM-dd"))<new Date(this.datepipe.transform(this.changeDate,"yyyy-MM-dd"))?1==(null===(e=this.lsobjClinicMaster)||void 0===e?void 0:e.IsPostPoneCharge)&&(this.IsPostpone=!0):new Date(this.datepipe.transform(this.filteritems[0].PeriodFrom,"yyyy-MM-dd"))>new Date(this.datepipe.transform(this.changeDate,"yyyy-MM-dd"))&&(null===(t=this.lsobjClinicMaster)||void 0===t?void 0:t.IsPreponeCharge)&&(this.IsPrepone=!0),this.TenderList()):this._UtilityService.showWarningAlert("Please change existing date")}},{key:"ChangePeriod",value:function(){var e,t=this;if(""!=this.changeDate&&null!=this.changeDate&&null!=this.changeDate)if(""!=(null===(e=this.remarks)||void 0===e?void 0:e.trim())&&null!=this.remarks&&null!=this.remarks)if(null!=this.changeDate&&null!=this.changeDate&&(this.changeDate=this.datepipe.transform(this.changeDate,"yyyy-MM-dd")),this.datepipe.transform(this.filteritems[0].PeriodFrom,"yyyy-MM-dd")!==this.datepipe.transform(this.changeDate,"yyyy-MM-dd")){var i={};i.clinicId=this.ClinicIdSelected,i.slotBookingId=this.SlotBookingIdSelectedId,i.dFrom=new Date(this.datepipe.transform(this.changeDate,"yyyy-MM-dd")),i.createdBy=this.loginUserId,i.remarks=this.remarks,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.ChangeBookingPeriod(i).subscribe(function(e){t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success?(t.ShowPeriodChangeModel=!1,t._UtilityService.showSuccessAlert(e.actionResult.errMsg),t.LoadOnlineRegistrationListByFilter(0,10)):t._UtilityService.showWarningAlert(e.actionResult.errMsg)})}else this._UtilityService.showWarningAlert("Please change existing date");else this._UtilityService.showWarningAlert("Please enter remarks");else this._UtilityService.showWarningAlert("Please select change start date")}},{key:"ChangePeriodWithPayment",value:function(){var e,t=this;if(""!=(null===(e=this.remarks)||void 0===e?void 0:e.trim())&&null!=this.remarks&&null!=this.remarks)if(null!=this.changeDate&&null!=this.changeDate&&(this.changeDate=this.datepipe.transform(this.changeDate,"yyyy-MM-dd")),this.datepipe.transform(this.filteritems[0].PeriodFrom,"yyyy-MM-dd")!==this.datepipe.transform(this.changeDate,"yyyy-MM-dd"))if(0==this.IsPartialPayment){var i={};i.slotBookingId=this.SlotBookingIdSelectedId,i.percentage=this.prepostCharge,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.CalculateBookingChargesPercentage(i).subscribe(function(e){t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success?(t.ItemPriceRes=[],t.ItemPriceRes.push({BillItemId:"",MCODE:t.IsPostpone?u.i.PostPoneCharge:u.i.PreponeCharge,Description:t.IsPostpone?"Postpone Charges":"Prepone Charges",Qty:1,UNIT:"PCS",MRP:e.actionResult.stringVal,GST:0,PriceWithGST:e.actionResult.stringVal,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:e.actionResult.stringVal}),t.CalculateTotalItemPrice(),t.CalculateNetPaybleAfterDiscount(),t.IsPartialPayment=!1,t.AmountRecPer=0,t.ReceiveAmount=0,t.cdRef.detectChanges(),t.TenderObj.MemberShipNumber=null,t.lstTrustHistory=[],t.SlotBookingPayByCash()):t._UtilityService.showWarningAlert(e.actionResult.errMsg)},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}else this.ReceiveAmount>0?this.SlotBookingPayByCash():(this.ActualNetPayble=this._ConstantServices.nullToZeroConverter(this.NetPaybleTotal),this.NetPaybleTotal=this.IsPartialPayment&&this._ConstantServices.nullToZeroConverter(this.ReceiveAmount)<=0?this._ConstantServices.nullToZeroConverter(0):this._ConstantServices.nullToZeroConverter(this.NetPaybleTotal),this.selectedPaymodeCodes=["AT01002"],this.SelectPaymodeArray=this.selectedPaymodeCodes.toString().split(","),this.TenderObj.CASH=0,this.TenderObj.CashRecdDate=new Date,this.cdRef.detectChanges(),this.FireforPayment());else this._UtilityService.showWarningAlert("Please change existing date");else this._UtilityService.showWarningAlert("Please enter remarks")}},{key:"ChangeBookingPeriodPayByCash",value:function(){var e=this;this.NewItemDetails=[],this.ItemPriceRes.map(function(t){e.NewItemDetails.push({BillItemId:t.BillItemId,MRP:t.MRP,SELLINGPRICE:t.MRP,Qty:t.Qty,MCODE:t.MCODE,Description:t.Description,INDDISCOUNTRATE:e.nullToZeroConverter(t.DiscountPer),DCRATE:e.nullToZeroConverter(e.BillWiseDiscountPer),lstTenderModel:e.lstTenderModel})});var t={};t.ItemPriceRes=this.ItemPriceRes,t.NetPayble=this.NetPaybleTotal,t.SlotBookingId=this.SlotBookingIdSelectedId,t.TenderDetails=this.NewItemDetails,t.ReferredBy=this.ReferredBy,t.RequestedBy=this.RequestedBy,t.BillWiseDiscountPer=this.BillWiseDiscountPer,t.PaymentTransactionDetails=this.PaymentTransactionDetails,t.ActualNetPayble=this.ActualNetPayble,t.ModifiedBy=localStorage.getItem("userId"),t.dFrom=new Date(this.datepipe.transform(this.changeDate,"yyyy-MM-dd")),t.percentageCharge=this.prepostCharge,t.remarks=this.remarks,t.userTypeId=localStorage.getItem("userTypeId"),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.ChangeBookingPeriodPayByCash(t).subscribe(function(t){e._UtilityService.hideSpinner(),1==t.actionResult.success?(e._UtilityService.showSuccessAlert(t.actionResult.errMsg),e.SelectPaymodeArray.includes("BT01001")&&e.UploadBankDepositSlip(t.actionResult.stringVal,e.SlotBookingIdSelectedId)):e._UtilityService.showWarningAlert(t.actionResult.errMsg),e.ShowPaymentMethodModel=!1,e.ShowItemPriceModel=!1,e.ShowPeriodChangeModel=!1,e.LoadOnlineRegistrationListByFilter(0,10),e.LoadCrediNoteBalance()},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"ShowAddMemberModel",value:function(e,t,i,n){this.ClinicIdSelected=i,this.SlotBookingIdSelectedId=e,this.UserIdSelectedId=t,this.newslotBookingId=null,this.LoadIndividualApprovedListByFilter(),this.remarks=null,this.ShowMemberAddModel=!0}},{key:"LoadIndividualApprovedListByFilter",value:function(){var e=this,t={};t.clinicId=this.ClinicIdSelected,t.bookingtype="IPD",t.dFrom=new Date(this.datepipe.transform(this.dFrom,"yyyy-MM-dd")),t.dTo=new Date(this.datepipe.transform(this.dTo,"yyyy-MM-dd")),t.IsAllGrouped=1,t.bookingStatus=this.bookingStatus.Approved,t.first="0",t.rows="10",t.IsSkipPaging=!0;var i=[];null!=this.SerachPeriodFromDate&&null!=this.SerachPeriodFromDate&&i.push({SearchBy:"PeriodFrom",SearchVal:this.datepipe.transform(this.SerachPeriodFromDate,"yyyy-MM-dd")}),null!=this.SerachPeriodToDate&&null!=this.SerachPeriodToDate&&"IPD"==this.bookingtype&&i.push({SearchBy:"PeriodUpto",SearchVal:this.datepipe.transform(this.SerachPeriodToDate,"yyyy-MM-dd")}),i.push({SearchBy:"BookingStatus",SearchVal:this.bookingStatus.Approved.toString()}),i.push({SearchBy:"PatientType",SearchVal:"1"}),i.push({SearchBy:"IsCGHS",SearchVal:"2"}),t.SearchList=i,t.searchtxt="",this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.GetOnlineRegistrationListByFilter(t).subscribe(function(t){if(e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.approvedUserList=i=i||[],e.cdRef.detectChanges()}else e.approvedUserList=[],e.cdRef.detectChanges()},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"confirm",value:function(e){var t=this;(""!=this.newslotBookingId&&null!=this.newslotBookingId&&null!=this.newslotBookingId||""!=this.remarks)&&null!=this.remarks&&null!=this.remarks?(this.ShowMemberAddModel=!1,this.confirmationService.confirm({target:e.target,header:"Confirmation",message:"Do you want to navigate 'billing service' page for payment?",icon:"pi pi-exclamation-triangle",accept:function(){t.AddNewGroupMember(!0)},reject:function(){t.AddNewGroupMember(!1)}})):this._UtilityService.showWarningAlert("Please select new member and write remarks.")}},{key:"AddNewGroupMember",value:function(e){var t=this,i={};i.clinicId=this.ClinicIdSelected,i.slotBookingId=this.SlotBookingIdSelectedId,i.newslotBookingId=this.newslotBookingId,i.createdBy=this.loginUserId,i.remarks=this.remarks,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.AddNewGroupMember(i).subscribe(function(i){t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==i.actionResult.success?(t.ShowMemberAddModel=!1,e&&window.open("#/payment/extra-item-entry?id="+t.SlotBookingIdSelectedId),t._UtilityService.showSuccessAlert(i.actionResult.errMsg),t.LoadOnlineRegistrationListByFilter(0,10)):t._UtilityService.showWarningAlert(i.actionResult.errMsg)})}},{key:"ShowTeriff",value:function(){var e=this;this.lstTeriffDeyails=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetFutureRoomPriceDateWise(this.ClinicIdSelected).subscribe(function(t){if(e._UtilityService.hideSpinner(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstTeriffDeyails=i=i||[],e.showTeriffMRPDetails=!0}},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)}),this.cdRef.detectChanges()}},{key:"ViewMemberShipDetailsBySlotId",value:function(e){var t=this;this.showMembershipDetails=!0,this.SlotBookingIdSelectedId=e,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.ViewMemberShipDetailsBySlotId(e).subscribe(function(e){if(t._UtilityService.hideSpinner(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);t.UserMemberShipDetails=i=i||[],t.UserMemberShipDetails.update=!0,t.filteritems[0].BookingStatus===t.bookingStatus[t.bookingStatus.Discharged]&&(t.UserMemberShipDetails.bookingStatus=!0),t.cdRef.detectChanges()}else t._UtilityService.showWarningAlert(e.actionResult.errMsg),t.UserMemberShipDetails={},t.filteritems[0].BookingStatus===t.bookingStatus[t.bookingStatus.Discharged]&&(t.UserMemberShipDetails.bookingStatus=!0),t.cdRef.detectChanges()},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"UpdateMemberShipDetailsBySlotId",value:function(){var e=this;null!=this.UserMemberShipDetails.MemberShipNumber&&null!=this.UserMemberShipDetails.MemberShipNumber&&""!=this.UserMemberShipDetails.MemberShipNumber&&null!=this.UserMemberShipDetails.TrustId&&null!=this.UserMemberShipDetails.TrustId&&""!=this.UserMemberShipDetails.TrustId&&null!=this.UserMemberShipDetails.TMemberTypeId&&null!=this.UserMemberShipDetails.TMemberTypeId&&""!=this.UserMemberShipDetails.TMemberTypeId?(this.showMembershipDetails=!0,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UpdateMemberShipDetailsBySlotId(this.SlotBookingIdSelectedId,this.UserMemberShipDetails.TrustId,this.UserMemberShipDetails.TMemberTypeId,this.UserMemberShipDetails.MemberShipNumber).subscribe(function(t){e._UtilityService.hideSpinner(),1==t.actionResult.success?(e._UtilityService.showSuccessAlert(t.actionResult.errMsg),e.showMembershipDetails=!1,e.SlotBookingIdSelectedId=null,e.UserMemberShipDetails={},e.cdRef.detectChanges()):(e._UtilityService.showWarningAlert(t.actionResult.errMsg),e.UserMemberShipDetails={},e.SlotBookingIdSelectedId=null,e.cdRef.detectChanges())},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})):this._UtilityService.showWarningAlert("Please Fill All Membership Details")}},{key:"CloseMemberShipModel",value:function(){this.showMembershipDetails=!1,this.TenderObj.TrustId=null,this.TenderObj.TMemberTypeId=null,this.TenderObj.MemberShipNumber=null}},{key:"ShowPatientDetails",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"OPD"==i?window.open("#/doctor/opd-prescription?PatientId="+e+"&SlotBookingId="+t+"&tag="+i,"_self"):window.open("#/doctor/ipd-new-prescription?PatientId="+e+"&SlotBookingId="+t+"&tag="+i,"_self")}},{key:"PrintPrescription",value:function(e,t,i){"OPDIPD"==i?window.open("#/print/opd-ipd-print-prescription?SlotBookingId="+t):"IPD"==i?window.open("#/print/ipd-print-prescription?UserId="+e+"&SlotBookingId="+t+"&tag="+i):window.open("#/print/patient-print-prescription?UserId="+e+"&SlotBookingId="+t+"&tag="+i)}},{key:"GetPrescriptionSaveDetails",value:function(e){this.SlotBookingIdSelectedId=e,this.ShowPrescriptionSaveModel=!0}},{key:"AttachedSignedForm",value:function(e,t,i){this.FormType=t,this.HeaderName=i,this.SlotBookingIdSelectedId=e,this.ShowAttachedFormModel=!0}},{key:"FileSuccessUpload",value:function(e){this.ShowAttachedFormModel=!1,this.FormType=0,this.HeaderName=null,this.SlotBookingIdSelectedId=null,this._UtilityService.showSuccessAlert(e)}},{key:"LoadAttachedSignedForm",value:function(e,t,i){this.FormType=t,this.HeaderName=i,this.SlotBookingIdSelectedId=e,this.ShowDownloadFormModel=!0}},{key:"closeDialog",value:function(){this.FormType=0,this.HeaderName=null,this.SlotBookingIdSelectedId=null}},{key:"ShowWaitingRoom",value:function(e,t){var i=this;this.lstDoctorWithCountAllot=[],this.SlotBookingIdSelectedId=t,this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.GetDoctoListWaitingCount(this.datepipe.transform(new Date,"yyyy-MM-dd").toString(),t,this.ClinicIdSelected).subscribe(function(e){var t;if(i._UtilityService.hideSpinner(),1==e.actionResult.success){var n=JSON.parse(e.actionResult.result);if(i.lstDoctorWithCountAllot=n=n||[],null!=e.actionResult.result2&&null!=e.actionResult.result2&&(null===(t=e.actionResult.result2)||void 0===t?void 0:t.length)>0){var o=JSON.parse(e.actionResult.result2);i.SelectedDoctorIdToken=(o=o||[])[0].DoctorId,i.CurrentAssignedToken=o[0].RoomNumber}else i.CurrentAssignedToken=null,i.SelectedDoctorIdToken=null;i.ShowNewDoctorAllModel=!0}else i.lstDoctorWithCountAllot=[]},function(e){i._UtilityService.hideSpinner(),i._UtilityService.showErrorAlert(e.message)}),this.cdRef.detectChanges()}},{key:"GenerateManualToken",value:function(){var e=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.GenerateConsultToken(this.SlotBookingIdSelectedId,this.SelectedDoctorIdToken,this.datepipe.transform(new Date,"yyyy-MM-dd").toString(),localStorage.getItem("userId"),"true",this.ClinicIdSelected).subscribe(function(t){e._UtilityService.hideSpinner(),e._UtilityService.showSuccessAlert(t.actionResult.errMsg),1==t.actionResult.success&&(e.LoadOnlineRegistrationListByFilter(0,10),e.SelectedDoctorIdToken=null,e.ShowNewDoctorAllModel=!1)},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"GenerateAutoToken",value:function(){var e=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.GenerateConsultToken(this.SlotBookingIdSelectedId,this.SelectedDoctorIdToken,this.datepipe.transform(new Date,"yyyy-MM-dd").toString(),localStorage.getItem("userId"),"false",this.ClinicIdSelected).subscribe(function(t){e._UtilityService.hideSpinner(),e._UtilityService.showSuccessAlert(t.actionResult.errMsg),1==t.actionResult.success&&(e.LoadOnlineRegistrationListByFilter(0,10),e.SelectedDoctorIdToken=null,e.ShowNewDoctorAllModel=!1)},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"onFilter",value:function(e,t){this.filteredValuesLength=e.filteredValue.length}},{key:"ClearFilter",value:function(){this.SearchBookingNumber=null,this.SearchName=null,this.SearchMRNo=null,this.SearchContactNumber=null,this.SearchANLNumber=null,this.SearchOPNumber=null,this.SearchIPNumber=null,this.SerachPeriodFromDate=null,this.SerachPeriodToDate=null,this.SerachStatusbooking=0,this.SerachPatientType=0,this.SerachSuspended=0,this.SerachCompanion=0,this.SerachCGHS="0",this.SearchInsuranceNo=null,this.SearchCheckedInDate=null,this.SearchCheckedOutDate=null,this.LoadOnlineRegistrationListByFilter(0,10)}},{key:"exportToItemExcel",value:function(){var e={reportname:"HealthSeekerBooking",filename:"HealthSeekerBooking"};e.clinicId=this.ClinicIdSelected,e.bookingtype=this.bookingtype,e.dFrom=new Date(this.datepipe.transform(this.dFrom,"yyyy-MM-dd")),e.dTo=new Date(this.datepipe.transform(this.dTo,"yyyy-MM-dd")),e.IsAllGrouped=this.IsAllGrouped,e.bookingStatus=this.statusbooking,e.searchtxt=this.searchtxt,e.first="0",e.rows="10",e.IsSkipPaging=!0,e.isExcel=!0;var t=[];null!=this.SearchBookingNumber&&null!=this.SearchBookingNumber&&""!=this.SearchBookingNumber&&t.push({SearchBy:"BookingNumber",SearchVal:this.SearchBookingNumber.trim()}),null!=this.SearchName&&null!=this.SearchName&&""!=this.SearchName&&t.push({SearchBy:"FullName",SearchVal:this.SearchName.trim()}),null!=this.SearchMRNo&&null!=this.SearchMRNo&&""!=this.SearchMRNo&&t.push({SearchBy:"MRNo",SearchVal:this.SearchMRNo.trim()}),null!=this.SearchContactNumber&&null!=this.SearchContactNumber&&""!=this.SearchContactNumber&&t.push({SearchBy:"ContactNumber",SearchVal:this.SearchContactNumber.trim()}),null!=this.SearchANLNumber&&null!=this.SearchANLNumber&&""!=this.SearchANLNumber&&t.push({SearchBy:"AnnualNumber",SearchVal:this.SearchANLNumber.trim()}),null!=this.SearchOPNumber&&null!=this.SearchOPNumber&&""!=this.SearchOPNumber&&t.push({SearchBy:"OPNumber",SearchVal:this.SearchOPNumber.trim()}),null!=this.SearchIPNumber&&null!=this.SearchIPNumber&&""!=this.SearchIPNumber&&t.push({SearchBy:"IPNumber",SearchVal:this.SearchIPNumber.trim()}),null!=this.SerachPeriodFromDate&&null!=this.SerachPeriodFromDate&&t.push({SearchBy:"PeriodFrom",SearchVal:this.datepipe.transform(this.SerachPeriodFromDate,"yyyy-MM-dd")}),null!=this.SerachPeriodToDate&&null!=this.SerachPeriodToDate&&"IPD"==this.bookingtype&&t.push({SearchBy:"PeriodUpto",SearchVal:this.datepipe.transform(this.SerachPeriodToDate,"yyyy-MM-dd")}),null!=this.SerachStatusbooking&&null!=this.SerachStatusbooking&&0!=this.SerachStatusbooking&&t.push({SearchBy:"BookingStatus",SearchVal:this.SerachStatusbooking.toString()}),null!=this.SerachPatientType&&null!=this.SerachPatientType&&0!=this.SerachPatientType&&t.push({SearchBy:"PatientType",SearchVal:this.SerachPatientType.toString()}),null!=this.SearchCheckedInDate&&null!=this.SearchCheckedInDate&&"IPD"==this.bookingtype&&t.push({SearchBy:"CheckedIn",SearchVal:this.datepipe.transform(this.SearchCheckedInDate,"yyyy-MM-dd")}),null!=this.SearchCheckedOutDate&&null!=this.SearchCheckedOutDate&&"IPD"==this.bookingtype&&t.push({SearchBy:"CheckedOut",SearchVal:this.datepipe.transform(this.SearchCheckedOutDate,"yyyy-MM-dd")}),null!=this.SerachSuspended&&null!=this.SerachSuspended&&0!=this.SerachSuspended&&t.push({SearchBy:"IsSuspended",SearchVal:this.SerachSuspended.toString()}),null!=this.SerachCompanion&&null!=this.SerachCompanion&&0!=this.SerachCompanion&&t.push({SearchBy:"IsCompanion",SearchVal:this.SerachCompanion.toString()}),null!=this.SerachCGHS&&null!=this.SerachCGHS&&"0"!=this.SerachCGHS&&t.push({SearchBy:"IsCGHS",SearchVal:this.SerachCGHS.toString()}),null!=this.SearchInsuranceNo&&null!=this.SearchInsuranceNo&&""!=this.SearchInsuranceNo&&t.push({SearchBy:"InsuranceNo",SearchVal:this.SearchInsuranceNo.trim()}),e.SearchList=t,this._MasterServices.downloadReport(e)}},{key:"GetPerponePostponeChargeDetails",value:function(){var e=this;if(this.prepostCharge>0&&1==this.IsPartialPayment){var t={};t.slotBookingId=this.SlotBookingIdSelectedId,t.percentage=this.prepostCharge,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.CalculateBookingChargesPercentage(t).subscribe(function(t){e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success?(e.ItemPriceRes=[],e.ItemPriceRes.push({BillItemId:"",MCODE:e.IsPostpone?u.i.PostPoneCharge:u.i.PreponeCharge,Description:e.IsPostpone?"Postpone Charges":"Prepone Charges",Qty:1,UNIT:"PCS",MRP:t.actionResult.stringVal,GST:0,PriceWithGST:t.actionResult.stringVal,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:t.actionResult.stringVal}),e.CalculateTotalItemPrice(),e.CalculateNetPaybleAfterDiscount(),e.IsPartialPayment=!0,e.AmountRecPer=0,e.ReceiveAmount=0,e.cdRef.detectChanges(),e.TenderObj.MemberShipNumber=null,e.lstTrustHistory=[]):e._UtilityService.showWarningAlert(t.actionResult.errMsg)},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}else this.ItemPriceRes=[],this.CalculateTotalItemPrice(),this.CalculateNetPaybleAfterDiscount(),this.IsPartialPayment=!1,this.AmountRecPer=0,this.ReceiveAmount=0,this.cdRef.detectChanges(),this.TenderObj.MemberShipNumber=null,this.lstTrustHistory=[]}},{key:"ShowReduceBooking",value:function(e,t,i){this.SlotBookingIdSelectedId=e,this.dFromReduceP=new Date(t),this.dToReduceP=new Date(i),this.maxUptoReduce=new Date(i),this.remarksReduce=null,this.calculateDiff(!1),this.MaxNights=this.noofdays,this.cdRef.detectChanges(),this.ShowReduceBookingModel=!0}},{key:"ReducePeriod",value:function(){var e,t,i=this;if(null!=this.dFromReduceP&&null!=this.dFromReduceP)if(null!=this.dToReduceP&&null!=this.dToReduceP)if(""!=(null===(e=this.remarksReduce)||void 0===e?void 0:e.trim())&&null!=this.remarksReduce&&null!=this.remarksReduce)if(this.datepipe.transform(this.filteritems[0].PeriodUpto,"yyyy-MM-dd")!==this.datepipe.transform(this.dToReduceP,"yyyy-MM-dd")){var n={};n.slotBookingId=this.SlotBookingIdSelectedId,n.dFrom=new Date(this.datepipe.transform(this.dFromReduceP,"yyyy-MM-dd")),n.dTo=new Date(this.datepipe.transform(this.dToReduceP,"yyyy-MM-dd")),n.UpdatedBy=localStorage.getItem("userId"),n.remarks=null===(t=this.remarksReduce)||void 0===t?void 0:t.trim(),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.ReducePeriod(n).subscribe(function(e){i._UtilityService.hideSpinner(),i.cdRef.detectChanges(),1==e.actionResult.success?(i._UtilityService.showSuccessAlert(e.actionResult.errMsg),i.LoadOnlineRegistrationListByFilter(0,10),i.ShowReduceBookingModel=!1):(i._UtilityService.showErrorAlert(e.actionResult.errMsg),i.ShowReduceBookingModel=!0)})}else this._UtilityService.showWarningAlert("Please change existing date");else this._UtilityService.showWarningAlert("Please enter remarks");else this._UtilityService.showWarningAlert("Please select Discharge date");else this._UtilityService.showWarningAlert("Please select Admission date")}},{key:"calculateDiff",value:function(e){var t=this.dFromReduceP;e&&null!=this.dFromReduceP&&null!=this.dFromReduceP&&(this.dToReduceP=new Date(this.dFromReduceP),this.dToReduceP.setDate(this.dFromReduceP.getDate()+7),this.checkMaxUpto=!0);var i=this.dToReduceP;if(null!=t&&null!=t){var n=new Date(new Date(this.dFromReduceP));n.setDate(n.getDate()+("Frontdesk"==this.BookingSource?1:7)),this.maxUpto=n,this.MaxYear=this.maxUpto.getFullYear()+1}if(null!=t&&null!=t&&null!=i&&null!=i){t>i&&(t=i,this.dFromReduceP=i);var o=new Date(this.datepipe.transform(this.dFromReduceP,"yyyy-MM-dd")),a=new Date(this.datepipe.transform(this.dToReduceP,"yyyy-MM-dd")),s=Math.floor((a-o)/864e5);this.noofdays=s,this.cdRef.detectChanges()}}},{key:"OnInputDaysChange",value:function(){var e;this._ConstantServices.nullToZeroConverter(this.noofdays)<=0?(this.dFromReduceP=this.dFromReduceP=new Date,(e=new Date(this.dFromReduceP)).setDate(e.getDate()+1),this.dToReduceP=e,this.calculateDiff(!1)):(null!=this.dFromReduceP&&null!=this.dFromReduceP||(this.dFromReduceP=new Date),(e=new Date(this.dFromReduceP)).setDate(e.getDate()+this._ConstantServices.nullToZeroConverter(this.noofdays)),this.dToReduceP=e,this.calculateDiff(!1))}},{key:"EmitSelectedPackage",value:function(e){this.Package=e.Package,this.cdRef.detectChanges(),console.log("Package Details ",this.Package)}},{key:"LoadClinicMasterById",value:function(e){var t=this;this.clinicDetails={},this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetClinicMasterById(e).subscribe(function(e){if(t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);t.clinicDetails=i=i||[],t.cdRef.detectChanges()}else t.clinicDetails={},t.cdRef.detectChanges()})}},{key:"ReferToPhysio",value:function(e){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.ReferToPhysio(!0,e,this.loginUserId).subscribe(function(e){t._UtilityService.hideSpinner(),1==e.actionResult.success?(t._UtilityService.showSuccessAlert(e.actionResult.errMsg),t.LoadOnlineRegistrationListByFilter(0,10)):t._UtilityService.showWarningAlert(e.actionResult.errMsg)},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}}]),n}(m.a),Do.\u0275fac=function(e){return new(e||Do)(g.Sb(g.h),g.Sb(l.i),g.Sb(u.f),g.Sb(p.a),g.Sb(f.a),g.Sb(S.a),g.Sb(y.a),g.Sb(v.a),g.Sb(s.f),g.Sb(I.d),g.Sb(M.a),g.Sb(k.a),g.Sb(l.a),g.Sb(C.a))},Do.\u0275cmp=g.Mb({type:Do,selectors:[["app-health-seekeer-registration"]],viewQuery:function(e,t){var i;1&e&&(g.cd(Pe,1),g.cd(De,1),g.cd(Re,1),g.cd(Te,1),g.cd(Ae,1)),2&e&&(g.Hc(i=g.jc())&&(t.dataTable=i.first),g.Hc(i=g.jc())&&(t.filtr=i.first),g.Hc(i=g.jc())&&(t.AttBankslip1=i.first),g.Hc(i=g.jc())&&(t.AttRefAppslip1=i.first),g.Hc(i=g.jc())&&(t.fileInput=i.first))},features:[g.Cb,g.Db],decls:95,vars:208,consts:[["class","card mt25",4,"ngIf"],[1,"row","d-flex"],["class","ml-auto close",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["header","Reply to Patient",3,"modal","visible","visibleChange"],[4,"ngIf"],["pTemplate","footer"],["header","Additional Remarks",3,"modal","visible","maximizable","closeOnEscape","draggable","resizable","visibleChange"],["header","Room Booking",3,"modal","visible","visibleChange"],["header","Assign Package",3,"modal","visible","visibleChange"],["header","Initiate Payment RazorPay",3,"modal","visible","visibleChange"],["header","Initiate Payment WorldLine",3,"modal","visible","visibleChange"],["header","Select Payment Method",3,"modal","visible","visibleChange"],["header","Item Price Details",3,"modal","visible","visibleChange"],["header","Add Credit Note",3,"modal","visible","visibleChange"],["header","Change Group Member",3,"modal","visible","visibleChange"],["header","Change Group Head",3,"modal","visible","visibleChange"],["header","Change Period",3,"modal","visible","visibleChange"],["header","Add Member",3,"modal","visible","visibleChange"],["header","Generate Token for Consultant",3,"modal","visible","visibleChange"],["header","Generate Credit Note",3,"modal","visible","visibleChange"],["header","Allot Doctor",3,"modal","visible","visibleChange"],["header","Remarks",3,"modal","visible","visibleChange"],["header","Voucher List",3,"modal","visible","visibleChange"],["id","ShowAttachedFormModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","onHide","visibleChange"],["pTemplate","header"],["id","ShowDownloadFormModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","onHide","visibleChange"],[3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","visibleChange"],[1,"row","mt-3"],[1,"col-md-3","ml-3"],["appendTo","body","optionLabel","TrustName","optionValue","TrustMasterId","placeholder","Select Trust",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],[1,"col-md-3"],["appendTo","body","optionLabel","MemberTypeName","optionValue","TrustMemberTypeMasterId","placeholder","Select Trust Member Type",3,"options","ngModel","filter","showClear","disabled","ngModelChange"],["type","text","pInputText","","placeholder","MemberShip Number",3,"ngModel","disabled","ngModelChange"],[1,"col-md-12"],["responsiveLayout","scroll","scrollHeight","250px",3,"value","rowHover","scrollable","globalFilterFields"],["dt99",""],["pTemplate","caption"],["pTemplate","colgroup"],["pTemplate","body"],["header","Doctor Logs",3,"modal","visible","visibleChange"],["header","Attendant Details",3,"modal","visible","visibleChange"],["header","Account Balance",3,"modal","visible","visibleChange"],["header","Reduce Booking",3,"modal","visible","visibleChange"],[1,"card","mt25"],[1,"card-body"],[1,"row"],[1,"filter-box","mt-3"],["dataKey","GroupNumber","scrollHeight","calc(100vh - 300px)","responsiveLayout","scroll",1,"ColumnFilterTable",3,"value","lazy","rowHover","lazyLoadOnInit","globalFilterFields","scrollable","paginator","rows","totalRecords","first","onLazyLoad","firstChange"],["dt1",""],["pTemplate","emptymessage"],[1,"col","col-md-1","col-12","mt-2","mt0"],["for",""],[1,"required"],[1,"col","col-md-3","col-12"],[3,"isCenterLabel","mode","onselectedClinic"],[1,"p-d-flex"],[1,"p-ml-left","mt-2"],["class","col-auto mt-2",4,"ngIf"],["class","col-auto",4,"ngIf"],[1,"p-ml-auto"],["pButton","","matTooltip","Export Data","label"," ","class","p-button-outlined mr-2","icon","pi pi-download",3,"click",4,"ngIf"],["pButton","","matTooltip","Refresh","label"," ","icon","pi pi-refresh",1,"p-button-outlined","mr-2",3,"click"],[1,"col-auto","mt-2"],[1,"col-auto"],[1,"form-group","mb-0"],["optionLabel","name","optionValue","code",3,"options","ngModel","ngModelOptions","style","ngModelChange","onChange",4,"ngIf"],["optionLabel","name","optionValue","code",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["class","field-radiobutton mb10",4,"ngIf"],[1,"field-radiobutton","mb10"],["name","rbIsAllGrouped",3,"value","ngModel","ngModelChange","onClick"],[1,"pl-1","mr-2","radiolabel"],[1,"pl-1","radiolabel"],["pButton","","matTooltip","Export Data","label"," ","icon","pi pi-download",1,"p-button-outlined","mr-2",3,"click"],[2,"width","60px"],[2,"width","135px"],[2,"width","130px"],[2,"width","125px"],[2,"width","90px"],[2,"width","95px"],["style","width:95px",4,"ngIf"],["style","width:85px",4,"ngIf"],["style","width:125px",4,"ngIf"],[2,"width","150px"],["style","width:150px",4,"ngIf"],[2,"width","120px"],["style","width:120px",4,"ngIf"],["style","width:100px",4,"ngIf"],[2,"width","50px"],[2,"width","85px"],[2,"width","100px"],["pButton","","matTooltip","Clear","label","","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],["type","text","name","txtsearchBookingNumber",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["matTooltip","Filter",3,"click"],["type","text","name","txtsearchName",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["type","text","name","txtsearchMRNo",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["type","text","name","txtsearchContactNumber",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],[1,"input-group","date"],["appendTo","body","name","SerachPeriodFromDate","inputId","icon",3,"yearNavigator","monthNavigator","yearRange","ngModel","disabled","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onClose","onSelect"],["dobref","ngModel"],["name","ddlSearchStatus",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","name","txtsearchInsuranceNo",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["appendTo","body","name","SerachPeriodToDate","inputId","icon",3,"yearNavigator","monthNavigator","yearRange","ngModel","disabled","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onClose","onSelect"],[3,"ngValue"],["name","ddlPatienttype",1,"form-control",3,"ngModel","ngModelChange","change"],["appendTo","body","name","SearchCheckedInDate","inputId","icon",3,"yearNavigator","monthNavigator","yearRange","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onClose"],["appendTo","body","name","SearchCheckedOutDate","inputId","icon",3,"yearNavigator","monthNavigator","yearRange","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onClose"],["type","text","name","txtsearchIPNumber",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["type","text","name","txtsearchOPNumber",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["name","ddlSuspended",1,"form-control",3,"ngModel","ngModelChange","change"],["name","ddlCompanion",1,"form-control",3,"ngModel","ngModelChange","change"],["name","ddllstInsuranceMaster",1,"form-control",3,"ngModel","ngModelChange","change"],[2,"height","34px"],["matTooltip","Action",3,"click",4,"ngIf"],["appendTo","body",3,"model","popup"],["menu",""],[3,"ngStyle"],[3,"title"],[3,"title",4,"ngIf"],[2,"font-size","10px"],[2,"background-color","#ebedf3","font-weight","bold","height","34px",3,"colSpan"],["matTooltip","Action",3,"click"],[1,"fas","fa-ellipsis-h"],[1,"ml-auto","close",3,"click"],[1,"fas","fa-window-close"],[3,"RegistrationMainModel","InputType","IsValidDate","OnUpdateRegDetails"],[1,"row","mb-3"],[1,"col-md-2"],[1,"col-md-10"],["appendTo","body","name","ddlReplyReason","optionLabel","ReasonName","optionValue","ReasonId","placeholder","Select Action",3,"options","ngModel","filter","onChange","ngModelChange"],["pTemplate","item"],["class","row mb-3",4,"ngIf"],["class","row mb-2",4,"ngIf"],["class","required",4,"ngIf"],["name","txtRemarks","cols","5","rows","4",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6"],["appendTo","body","optionLabel","RoomNumber","optionValue","RoomMasterID",3,"options","ngModel","ngModelChange"],[1,"col-md-4"],[1,"col-md-10","pt-2","field-checkbox"],["inputId","binary",3,"ngModel","binary","ngModelChange"],["for","binary",1,"ml-2"],[1,"row","mb-2"],["class","col-md-2",4,"ngIf"],["class","col-md-4",4,"ngIf"],["class","col-md-6 field-checkbox",4,"ngIf"],["name","txtCancelCharge","mode","decimal",3,"ngModel","min","max","maxlength","ngModelChange"],[1,"col-md-6","field-checkbox"],["name","chk_AutoGenerateVoucher","inputId","binary",3,"ngModel","binary","ngModelChange"],[1,"ml-2"],["appendTo","body","inputId","icon","hourFormat","12",1,"iconcal",3,"yearNavigator","monthNavigator","yearRange","minDate","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","showTime","ngModelChange"],["class","col-md-10",4,"ngIf"],["appendTo","body","name","ddlDoctorList","optionLabel","DoctorName","optionValue","DoctorId","placeholder","Select doctor",3,"options","ngModel","filter","ngModelChange"],["type","button",1,"btn","btn-new-primary","mr-2",3,"click"],["type","button",1,"btn","btn-new-primary",3,"click"],[3,"ClinicId","SlotId","BookingSource","IsExtended","GroupCount","IsGrouped","roomBookClick","EmitSelectedPackage","EmitPermittedBy"],[3,"Packages","SlotBookingId","PackgeMappingEmit"],[3,"OrderRes","ItemPriceRes","PackageMapping","SlotBookingIdSelected","IsSelectedItem","UserRes","BillWiseDiscountPer","ReferredBy","RequestedBy","PayRequestFrom","ActualNetPayble","IsPartialPayment","CreditNoteNumber","CreditNoteAmount","GetPaymentStatusEmit"],["type","button","class","btn btn-new-secondary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-new-secondary",3,"click"],[3,"WLOrderRes","ItemPriceRes","PackageMapping","SlotBookingIdSelected","IsSelectedItem","UserRes","BillWiseDiscountPer","ReferredBy","RequestedBy","PayRequestFrom","ActualNetPayble","IsPartialPayment","CreditNoteNumber","CreditNoteAmount","GetPaymentStatusEmit"],["appendTo","body","optionLabel","TenderName","optionValue","ACID","placeholder","Please select payment option",3,"options","ngModel","onChange","ngModelChange"],[1,"col-md-12","text-right","bold"],["id","dvCreditTender",4,"ngIf"],["id","dvCashTender",4,"ngIf"],["id","dvCardTender",4,"ngIf"],["id","dvBankTfTender",4,"ngIf"],["id","dvChequeTender",4,"ngIf"],["class","row mb-3 m-2",4,"ngIf"],["id","dvRemarks"],["class","row mt-3",4,"ngIf"],["id","dvTrustDetails",4,"ngIf"],["id","dvCreditTender"],[1,"required",2,"color","red"],[1,"col-md-9"],["name","txtCreditAmount","mode","decimal",3,"ngModel","min","max","maxlength","ngModelChange"],["id","dvCashTender"],["name","txtCashAmount","mode","decimal",3,"ngModel","min","maxlength","ngModelChange"],["appendTo","body","inputId","icon",3,"yearNavigator","monthNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["CashRecdDate",""],["id","dvCardTender"],[1,"table","table-striped","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"],["type","text","pInputText","",3,"name","ngModel","ngModelChange"],["BankDepRecdDate",""],["mode","decimal",3,"name","ngModel","min","max","onInput","onBlur","ngModelChange"],["class","add-btn mr-2","href","javascript: void(0);",3,"click",4,"ngIf"],["href","javascript: void(0);",1,"add-btn","mr-2",3,"click"],[1,"fa","fa-plus"],[1,"fa","fa-minus"],["id","dvBankTfTender"],[1,"row","mb-3","mt-2"],["name","txtBankTFAmount","disabled","","mode","decimal",3,"ngModel","min","maxlength","ngModelChange"],["id","dvChequeTender"],["type","text","name","txtCardNumber","pInputText","",3,"ngModel","ngModelChange"],["type","text","name","txtChequeBankName","pInputText","",3,"ngModel","ngModelChange"],["appendTo","body","inputId","icon",1,"iconcal",3,"yearNavigator","monthNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["name","txtChequeAmount","mode","decimal",3,"ngModel","min","max","ngModelChange"],["type","text","name","txtChequeHolderName","pInputText","",3,"ngModel","ngModelChange"],[1,"row","mb-3","m-2"],[1,"col-md-3","bold"],["type","file","id","AttBankslip1","name","AttMedicalTest1","accept",".JPEG,.JPG,.PNG,.PDF",1,"custom-file-upload","mr-2",3,"change"],["AttMedicalTest1",""],["type","text","name","txtRemarks","pInputText","",3,"ngModel","ngModelChange"],["id","dvTrustDetails"],["appendTo","body","optionLabel","TrustName","optionValue","TrustMasterId","placeholder","Select Trust",3,"options","ngModel","filter","showClear","ngModelChange"],["appendTo","body","optionLabel","MemberTypeName","optionValue","TrustMemberTypeMasterId","placeholder","Select Trust Member Type",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","ngOn","","placeholder","MemberShip Number",3,"ngModel","ngModelChange"],["type","button","id","closePaymentMethod",1,"btn","btn-new-secondary",3,"click"],[1,"table","table-bordered"],["colspan","2",1,"text-right","bold"],[1,"widpinput"],["name","txtBillWiseDiscountPer","mode","decimal",3,"disabled","ngModel","min","max","minFractionDigits","maxFractionDigits","ngModelChange","onBlur","onInput"],["name","txtBillWiseDiscountAmount","mode","decimal",3,"disabled","ngModel","min","max","minFractionDigits","maxFractionDigits","ngModelChange","onBlur","onInput"],[1,"text-right","bold"],[1,"text-center"],[2,"display","none"],[1,"text-right"],[1,"bold"],["type","text","name","txtCreditNoteNumber","pInputText","",3,"disabled","ngModel","ngModelChange"],["class","text-right",4,"ngIf"],["class","text-center",4,"ngIf"],["colspan","2",1,"text-right"],["type","text","class","ref-input","pInputText","","name","txtRequestedBy","minlength","3","maxlength","150",3,"ngModel","ngModelChange",4,"ngIf"],["style","text-align:left;","required","true","name","txtAuthorizedBy","optionLabel","Name","optionValue","Name","placeholder","Select Authorized Name",3,"options","ngModel","showClear","filter","style","ngModelChange",4,"ngIf"],["colspan","2"],["colspan","2",1,"widpinput"],["colspan","4"],["name","txtItemWiseDiscountPer","mode","decimal",3,"ngModel","min","max","maxlength","ngModelChange","onInput","onBlur"],["name","txtItemWiseDiscountAmount","mode","decimal",3,"ngModel","min","max","maxlength","ngModelChange","onInput","onBlur"],["name","txtCreditNoteTranAmount","mode","decimal",3,"ngModel","min","max","ngModelChange","onBlur"],["type","text","pInputText","","name","txtRequestedBy","minlength","3","maxlength","150",1,"ref-input",3,"ngModel","ngModelChange"],["required","true","name","txtAuthorizedBy","optionLabel","Name","optionValue","Name","placeholder","Select Authorized Name",2,"text-align","left",3,"options","ngModel","showClear","filter","ngModelChange"],["for","ny",1,"text-right","pt-1","mr-2","bold"],["binary","true","inputId","binary",3,"ngModel","ngModelChange"],["colspan","2","class","text-right bold",4,"ngIf"],["class","widpinput",4,"ngIf"],["colspan","2","class","text-right",4,"ngIf"],["name","txtAmountRecPer","mode","decimal",3,"disabled","ngModel","min","max","minFractionDigits","maxFractionDigits","ngModelChange","onBlur","onInput"],["name","txtReceiveAmount","mode","decimal",3,"disabled","ngModel","min","max","minFractionDigits","maxFractionDigits","ngModelChange","onBlur","onInput"],[1,"mt-3","mb-2"],[1,"row","m-0","mt-3"],[1,"col-md-12","pl-0","pr-0"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","scrollable"],["dt",""],[2,"width","70px"],[2,"width","80px"],[1,"btn","btn-new-primary",3,"click"],[1,"row","m-0"],["name","txtCreditAmount","mode","decimal",3,"ngModel","minFractionDigits","maxFractionDigits","ngModelChange"],["dataKey","GroupNumber","scrollHeight","400px","responsiveLayout","scroll",3,"value","rowHover","scrollable"],["dt7",""],[2,"width","175px"],[2,"width","200px"],["type","text","pInputText","",3,"name","maxlength","ngModel","ngModelChange",4,"ngIf"],["class","mr-2","icon","pi pi-check","style","font-size: 1rem;background: #2DB163;height: 30px;width: 97px;","label","Validate","pButton","","class","btn","title","Validate MR No",3,"click",4,"ngIf"],["class","mr-2","style","color: green;font-weight: bold;",4,"ngIf"],["class","mr-2","icon","pi pi-check","style","font-size: 1rem;background: #2DB163;height: 30px;width: 97px;","label","Update","pButton","","class","btn","title","Update",3,"click",4,"ngIf"],["colspan","8",2,"background-color","#ebedf3","font-weight","bold"],["type","text","pInputText","",3,"name","maxlength","ngModel","ngModelChange"],["icon","pi pi-check","label","Validate","pButton","","title","Validate MR No",1,"btn",2,"font-size","1rem","background","#2DB163","height","30px","width","97px",3,"click"],[1,"mr-2",2,"color","green","font-weight","bold"],["icon","pi pi-check","label","Update","pButton","","title","Update",1,"btn",2,"font-size","1rem","background","#2DB163","height","30px","width","97px",3,"click"],["colspan","7",2,"background-color","#ebedf3","font-weight","bold"],["appendTo","body","inputId","icon",3,"yearNavigator","monthNavigator","yearRange","minDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onClose"],["PeriodFromDate",""],[1,"col-auto","bold"],[1,"col-md-1"],["matTooltip","View Invoice",3,"click"],[1,"fas","fa-file"],["class","row pt-3",4,"ngIf"],[1,"row","pt-3"],["name","txtChangePeriodRemarks","cols","5","rows","4",1,"form-control",3,"ngModel","ngModelChange"],["name","txtPrePostpone","mode","decimal",3,"ngModel","min","maxlength","ngModelChange"],["for","ny",1,"text-left","pt-1","mr-2","bold"],["binary","true","inputId","binary",3,"ngModel","ngModelChange","onChange"],["class","col-md-3",4,"ngIf"],[1,"col-md-3","text-left","bold"],["type","button","class","btn btn-new-primary mr-2",3,"click",4,"ngIf"],["appendTo","body","optionLabel","SearchName","optionValue","SlotBookingId","placeholder","Select Health Seeker",3,"options","ngModel","filter","showClear","ngModelChange"],[1,"row","mt-2"],["class","modal-title mb-2",4,"ngIf"],["appendTo","body","name","ddlDoctorListNewAllot","optionLabel","FullName","optionValue","UserId","placeholder","Select doctor",3,"showClear","options","ngModel","filter","ngModelChange"],[1,"modal-title","mb-2"],["name","txtCreditAmount","mode","decimal",3,"ngModel","min","maxlength","ngModelChange"],["name","txtRemarks","cols","10","rows","4",1,"form-control",3,"ngModel","ngModelChange"],[3,"slotBookingId","clinicId","AllotSuccess"],[3,"slotBookingId"],[3,"slotBookingId","IsGrouped","BookingType"],[3,"FormType","SlotBookingId","FileSuccess"],[3,"FormType","SlotBookingId"],["pButton","","type","button","class","btn btn-new-primary",3,"label","disabled","click",4,"ngIf"],["pButton","","type","button","label","Close",1,"btn","btn-new-secondary",3,"click"],["pButton","","type","button",1,"btn","btn-new-primary",3,"label","disabled","click"],[1,"table-header"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search",3,"input"],[2,"width","110px"],[3,"rowSpan",4,"ngIf"],[2,"word-wrap","break-word"],[3,"rowSpan"],[3,"clinicId","slotBookingId","patientId","slotStatus","slotperiodFrom","slotperiodUpto"],[3,"userSelected"],[1,"col","col-md-4","col-12"],[1,"form-group"],["appendTo","body","inputId","icon","name","dFrom",3,"yearNavigator","monthNavigator","yearRange","minDate","ngModel","ngModelOptions","disabled","showIcon","dateFormat","readonlyInput","ngModelChange","onClose"],["calendar",""],["appendTo","body","inputId","icon","name","dTo",3,"yearNavigator","monthNavigator","yearRange","minDate","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onClose"],["mode","decimal",1,"w-100",3,"disabled","ngModel","min","max","useGrouping","ngModelOptions","ngModelChange","onBlur"],[1,"col-md-12","bold"]],template:function(e,t){1&e&&(g.Sc(0,ni,13,12,"div",0),g.Yb(1,"div",1),g.Sc(2,oi,2,0,"a",2),g.Xb(),g.Sc(3,ai,2,3,"div",3),g.Yb(4,"p-dialog",4),g.ic("visibleChange",function(e){return t.ShowReplyModel=e}),g.Sc(5,Si,20,13,"div",5),g.Sc(6,yi,2,0,"ng-template",6),g.Xb(),g.Yb(7,"p-dialog",7),g.ic("visibleChange",function(e){return t.ShowAdditionalRemarksModel=e}),g.Sc(8,vi,8,1,"div",5),g.Sc(9,Ii,2,0,"ng-template",6),g.Xb(),g.Yb(10,"p-dialog",8),g.ic("visibleChange",function(e){return t.ShowRoomBookingModel=e}),g.Sc(11,Mi,2,6,"div",5),g.Sc(12,ki,2,0,"ng-template",6),g.Xb(),g.Yb(13,"p-dialog",9),g.ic("visibleChange",function(e){return t.ShowPackageModel=e}),g.Sc(14,Ci,2,2,"div",5),g.Xb(),g.Yb(15,"p-dialog",10),g.ic("visibleChange",function(e){return t.ShowRazorPayModel=e}),g.Sc(16,Pi,4,14,"div",5),g.Sc(17,Ri,1,1,"ng-template",6),g.Xb(),g.Yb(18,"p-dialog",11),g.ic("visibleChange",function(e){return t.ShowWLPayModel=e}),g.Sc(19,Ti,4,14,"div",5),g.Sc(20,Bi,1,1,"ng-template",6),g.Xb(),g.Yb(21,"p-dialog",12),g.ic("visibleChange",function(e){return t.ShowPaymentMethodModel=e}),g.Sc(22,Hi,19,17,"div",5),g.Sc(23,qi,4,0,"ng-template",6),g.Xb(),g.Yb(24,"p-dialog",13),g.ic("visibleChange",function(e){return t.ShowItemPriceModel=e}),g.Sc(25,mn,85,40,"div",5),g.Sc(26,pn,3,1,"ng-template",6),g.Xb(),g.Yb(27,"p-dialog",14),g.ic("visibleChange",function(e){return t.ShowCreditNoteModel=e}),g.Sc(28,fn,7,3,"div",5),g.Sc(29,Sn,0,0,"ng-template",6),g.Xb(),g.Yb(30,"p-dialog",15),g.ic("visibleChange",function(e){return t.ShowGroupModel=e}),g.Sc(31,Nn,7,3,"div",5),g.Xb(),g.Yb(32,"p-dialog",16),g.ic("visibleChange",function(e){return t.ShowHeadGroupModel=e}),g.Sc(33,xn,7,3,"div",5),g.Xb(),g.Yb(34,"p-dialog",17),g.ic("visibleChange",function(e){return t.ShowPeriodChangeModel=e}),g.Sc(35,Vn,26,16,"div",5),g.Sc(36,qn,2,2,"ng-template",6),g.Xb(),g.Yb(37,"p-dialog",18),g.ic("visibleChange",function(e){return t.ShowMemberAddModel=e}),g.Sc(38,Zn,15,8,"div",5),g.Sc(39,$n,2,0,"ng-template",6),g.Xb(),g.Yb(40,"p-dialog",19),g.ic("visibleChange",function(e){return t.ShowNewDoctorAllModel=e}),g.Sc(41,Qn,3,8,"div",5),g.Sc(42,eo,2,2,"ng-template",6),g.Xb(),g.Yb(43,"p-dialog",20),g.ic("visibleChange",function(e){return t.ShowGenerateCreditModel=e}),g.Sc(44,to,15,7,"div",5),g.Sc(45,io,2,0,"ng-template",6),g.Xb(),g.Yb(46,"p-dialog",21),g.ic("visibleChange",function(e){return t.ShowAllotDoctorModel=e}),g.Sc(47,no,2,2,"div",5),g.Xb(),g.Yb(48,"p-dialog",22),g.ic("visibleChange",function(e){return t.ShowRemarksModel=e}),g.Sc(49,oo,2,1,"div",5),g.Xb(),g.Yb(50,"p-dialog",23),g.ic("visibleChange",function(e){return t.ShowInvoiceListModel=e}),g.Sc(51,ao,2,3,"div",5),g.Xb(),g.Yb(52,"p-dialog",24),g.ic("onHide",function(){return t.closeDialog()})("visibleChange",function(e){return t.ShowAttachedFormModel=e}),g.Sc(53,so,2,1,"ng-template",25),g.Sc(54,ro,2,2,"div",5),g.Xb(),g.Yb(55,"p-dialog",26),g.ic("onHide",function(){return t.closeDialog()})("visibleChange",function(e){return t.ShowDownloadFormModel=e}),g.Sc(56,lo,2,1,"ng-template",25),g.Sc(57,co,2,2,"div",5),g.Xb(),g.Yb(58,"p-dialog",27),g.ic("visibleChange",function(e){return t.showMembershipDetails=e}),g.Sc(59,uo,2,0,"ng-template",25),g.Yb(60,"div"),g.Yb(61,"div",28),g.Yb(62,"div",29),g.Yb(63,"label"),g.Uc(64,"Select Trust"),g.Xb(),g.Yb(65,"p-dropdown",30),g.ic("ngModelChange",function(e){return t.UserMemberShipDetails.TrustId=e}),g.Xb(),g.Xb(),g.Yb(66,"div",31),g.Yb(67,"label"),g.Uc(68,"Select Member Type"),g.Xb(),g.Yb(69,"p-dropdown",32),g.ic("ngModelChange",function(e){return t.UserMemberShipDetails.TMemberTypeId=e}),g.Xb(),g.Xb(),g.Yb(70,"div",31),g.Yb(71,"label"),g.Uc(72,"Membership Number"),g.Xb(),g.Yb(73,"input",33),g.ic("ngModelChange",function(e){return t.UserMemberShipDetails.MemberShipNumber=e}),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Sc(74,bo,2,1,"ng-template",6),g.Xb(),g.Yb(75,"p-dialog",27),g.ic("visibleChange",function(e){return t.showTeriffMRPDetails=e}),g.Sc(76,mo,2,0,"ng-template",25),g.Yb(77,"div"),g.Yb(78,"div",28),g.Yb(79,"div",34),g.Yb(80,"p-table",35,36),g.Sc(82,go,4,0,"ng-template",37),g.Sc(83,po,21,0,"ng-template",25),g.Sc(84,fo,11,0,"ng-template",38),g.Sc(85,yo,24,22,"ng-template",39),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Yb(86,"p-dialog",40),g.ic("visibleChange",function(e){return t.ShowPrescriptionSaveModel=e}),g.Sc(87,vo,2,1,"div",5),g.Xb(),g.Yb(88,"p-dialog",41),g.ic("visibleChange",function(e){return t.ShowAttendantDetailsModel=e}),g.Sc(89,Io,2,6,"div",5),g.Xb(),g.Yb(90,"p-dialog",42),g.ic("visibleChange",function(e){return t.ShowCreditNoteBalance=e}),g.Sc(91,Mo,2,1,"div",5),g.Xb(),g.Yb(92,"p-dialog",43),g.ic("visibleChange",function(e){return t.ShowReduceBookingModel=e}),g.Sc(93,ko,28,38,"div",5),g.Sc(94,Po,1,1,"ng-template",6),g.Xb()),2&e&&(g.tc("ngIf","update"!=t.RegMode),g.Fb(2),g.tc("ngIf","update"==t.RegMode),g.Fb(1),g.tc("ngIf","update"==t.RegMode),g.Fb(1),g.Pc(g.yc(178,wo)),g.tc("modal",!0)("visible",t.ShowReplyModel),g.Fb(1),g.tc("ngIf",t.ShowReplyModel),g.Fb(2),g.Pc(g.yc(179,Fo)),g.tc("modal",!0)("visible",t.ShowAdditionalRemarksModel)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("draggable",!1)("resizable",!1),g.Fb(1),g.tc("ngIf",t.ShowAdditionalRemarksModel),g.Fb(2),g.Pc(g.yc(180,wo)),g.tc("modal",!0)("visible",t.ShowRoomBookingModel),g.Fb(1),g.tc("ngIf",t.ShowRoomBookingModel),g.Fb(2),g.Pc(g.yc(181,Yo)),g.tc("modal",!0)("visible",t.ShowPackageModel),g.Fb(1),g.tc("ngIf",t.ShowPackageModel),g.Fb(1),g.Pc(g.yc(182,wo)),g.tc("modal",!0)("visible",t.ShowRazorPayModel),g.Fb(1),g.tc("ngIf",t.ShowRazorPayModel),g.Fb(2),g.Pc(g.yc(183,wo)),g.tc("modal",!0)("visible",t.ShowWLPayModel),g.Fb(1),g.tc("ngIf",t.ShowWLPayModel),g.Fb(2),g.Pc(g.yc(184,wo)),g.tc("modal",!0)("visible",t.ShowPaymentMethodModel),g.Fb(1),g.tc("ngIf",t.ShowPaymentMethodModel),g.Fb(2),g.Pc(g.yc(185,wo)),g.tc("modal",!0)("visible",t.ShowItemPriceModel),g.Fb(1),g.tc("ngIf",t.ShowItemPriceModel),g.Fb(2),g.Pc(g.yc(186,wo)),g.tc("modal",!0)("visible",t.ShowCreditNoteModel),g.Fb(1),g.tc("ngIf",t.ShowCreditNoteModel),g.Fb(2),g.Pc(g.yc(187,wo)),g.tc("modal",!0)("visible",t.ShowGroupModel),g.Fb(1),g.tc("ngIf",t.ShowGroupModel),g.Fb(1),g.Pc(g.yc(188,wo)),g.tc("modal",!0)("visible",t.ShowHeadGroupModel),g.Fb(1),g.tc("ngIf",t.ShowHeadGroupModel),g.Fb(1),g.Pc(g.yc(189,wo)),g.tc("modal",!0)("visible",t.ShowPeriodChangeModel),g.Fb(1),g.tc("ngIf",t.ShowPeriodChangeModel),g.Fb(2),g.Pc(g.yc(190,wo)),g.tc("modal",!0)("visible",t.ShowMemberAddModel),g.Fb(1),g.tc("ngIf",t.ShowMemberAddModel),g.Fb(2),g.Pc(g.yc(191,wo)),g.tc("modal",!0)("visible",t.ShowNewDoctorAllModel),g.Fb(1),g.tc("ngIf",t.ShowNewDoctorAllModel),g.Fb(2),g.Pc(g.yc(192,wo)),g.tc("modal",!0)("visible",t.ShowGenerateCreditModel),g.Fb(1),g.tc("ngIf",t.ShowGenerateCreditModel),g.Fb(2),g.Pc(g.yc(193,wo)),g.tc("modal",!0)("visible",t.ShowAllotDoctorModel),g.Fb(1),g.tc("ngIf",t.ShowAllotDoctorModel),g.Fb(1),g.Pc(g.yc(194,wo)),g.tc("modal",!0)("visible",t.ShowRemarksModel),g.Fb(1),g.tc("ngIf",t.ShowRemarksModel),g.Fb(1),g.Pc(g.yc(195,wo)),g.tc("modal",!0)("visible",t.ShowInvoiceListModel),g.Fb(1),g.tc("ngIf",t.ShowInvoiceListModel),g.Fb(1),g.Pc(g.yc(196,Fo)),g.tc("visible",t.ShowAttachedFormModel)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!0)("draggable",!1)("resizable",!0),g.Fb(2),g.tc("ngIf",t.ShowAttachedFormModel),g.Fb(1),g.Pc(g.yc(197,Fo)),g.tc("visible",t.ShowDownloadFormModel)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!0)("draggable",!1)("resizable",!0),g.Fb(2),g.tc("ngIf",t.ShowDownloadFormModel),g.Fb(1),g.Pc(g.yc(198,Fo)),g.tc("visible",t.showMembershipDetails)("modal",!0)("maximizable",!1)("closeOnEscape",!1)("closable",!1)("draggable",!1)("resizable",!1),g.Fb(7),g.Pc(g.yc(199,Ne)),g.tc("options",t.lstTrustMaster)("ngModel",t.UserMemberShipDetails.TrustId)("filter",!0)("showClear",!0)("disabled",t.UserMemberShipDetails.bookingStatus),g.Fb(4),g.Pc(g.yc(200,Ne)),g.tc("options",t.lstTrustMemberTypeMaster)("ngModel",t.UserMemberShipDetails.TMemberTypeId)("filter",!0)("showClear",!0)("disabled",t.UserMemberShipDetails.bookingStatus),g.Fb(4),g.Pc(g.yc(201,Ne)),g.tc("ngModel",t.UserMemberShipDetails.MemberShipNumber)("disabled",t.UserMemberShipDetails.bookingStatus),g.Fb(2),g.Pc(g.yc(202,Fo)),g.tc("visible",t.showTeriffMRPDetails)("modal",!0)("maximizable",!0)("closeOnEscape",!0)("closable",!0)("draggable",!1)("resizable",!1),g.Fb(5),g.tc("value",t.lstTeriffDeyails)("rowHover",!0)("scrollable",!0)("globalFilterFields",g.yc(203,Xo)),g.Fb(6),g.Pc(g.yc(204,wo)),g.tc("modal",!0)("visible",t.ShowPrescriptionSaveModel),g.Fb(1),g.tc("ngIf",t.ShowPrescriptionSaveModel),g.Fb(1),g.Pc(g.yc(205,wo)),g.tc("modal",!0)("visible",t.ShowAttendantDetailsModel),g.Fb(1),g.tc("ngIf",t.ShowAttendantDetailsModel),g.Fb(1),g.Pc(g.yc(206,wo)),g.tc("modal",!0)("visible",t.ShowCreditNoteBalance),g.Fb(1),g.tc("ngIf",t.ShowCreditNoteBalance),g.Fb(1),g.Pc(g.yc(207,wo)),g.tc("modal",!0)("visible",t.ShowReduceBookingModel),g.Fb(1),g.tc("ngIf",t.ShowReduceBookingModel))},directives:[s.p,P.a,k.i,D.a,I.o,I.r,I.b,R.a,T.c,A.a,B.b,U.a,N.a,I.x,s.o,I.s,I.A,w.a,s.q,F.a,Y.a,X.a,L.a,I.j,O.a,x.a,_.a,E.a,I.k,I.w,G.a,W.a,V.a,j.a,H.a,q.a,ye,Ce],pipes:[s.f,s.g],styles:[""]}),Do)}],Oo=((Ro=function e(){d(this,e)}).\u0275fac=function(e){return new(e||Ro)},Ro.\u0275mod=g.Qb({type:Ro}),Ro.\u0275inj=g.Pb({imports:[[l.l.forChild(Lo)],l.l]}),Ro),xo=n("fCr0"),_o=n("305l"),Eo=n("Ql+Z"),Go=n("4Tty"),Wo=n("kcK2"),Vo=n("V/Gj"),jo=n("Jg0Z"),Ho=n("Om0Y"),qo=n("Nf9I"),Zo=n("JpZ1"),$o=n("T2Aj"),zo=[{path:"",component:ye}],Qo=((To=function e(){d(this,e)}).\u0275fac=function(e){return new(e||To)},To.\u0275mod=g.Qb({type:To}),To.\u0275inj=g.Pb({imports:[[l.l.forChild(zo)],l.l]}),To),Jo=n("Q4Mo"),Ko=((Ao=function e(){d(this,e)}).\u0275fac=function(e){return new(e||Ao)},Ao.\u0275mod=g.Qb({type:Ao}),Ao.\u0275inj=g.Pb({imports:[[s.c,Qo,I.i,I.v,T.f,B.c,Jo.b,D.b,R.b,L.b,$o.a,N.b]]}),Ao),ea=[{path:"",component:Ce}],ta=((Uo=function e(){d(this,e)}).\u0275fac=function(e){return new(e||Uo)},Uo.\u0275mod=g.Qb({type:Uo}),Uo.\u0275inj=g.Pb({imports:[[l.l.forChild(ea)],l.l]}),Uo),ia=((Bo=function e(){d(this,e)}).\u0275fac=function(e){return new(e||Bo)},Bo.\u0275mod=g.Qb({type:Bo}),Bo.\u0275inj=g.Pb({imports:[[s.c,ta]]}),Bo),na=n("OUA+"),oa=((No=function e(){d(this,e)}).\u0275fac=function(e){return new(e||No)},No.\u0275mod=g.Qb({type:No}),No.\u0275inj=g.Pb({imports:[[s.c,Oo,I.i,T.f,B.c,D.b,R.b,N.b,U.b,w.b,xo.CommonModuleModule,_o.AuthModule,Y.b,L.b,Eo.a,Go.a,Wo.a,Vo.a,jo.a,P.b,Ho.a,qo.b,X.b,Zo.a,$o.a,Ko,ia,na.a]]}),No)},xjJ3:function(e,t,i){"use strict";i.d(t,"a",function(){return I});var n=i("CwUn"),s=i("Nach"),l=i("fXoL"),c=i("NLkC"),u=i("G+wY"),h=i("rEr+"),b=i("7zfz"),m=i("7kUa"),g=i("ofXK");function p(e,t){if(1&e){var i=l.Zb();l.Yb(0,"div",6),l.Tb(1,"span",7),l.Yb(2,"span",8),l.Yb(3,"span",9),l.Tb(4,"i",10),l.Yb(5,"input",11),l.ic("input",function(e){return l.Lc(i),l.mc(),l.Ic(1).filterGlobal(e.target.value,"contains")}),l.Xb(),l.Xb(),l.Xb(),l.Xb()}}function f(e,t){if(1&e&&(l.Yb(0,"tr"),l.Yb(1,"td"),l.Uc(2," No records found "),l.Xb(),l.Xb()),2&e){var i=t.$implicit;l.Fb(1),l.Gb("colspan",null==i?null:i.length)}}function S(e,t){1&e&&(l.Yb(0,"tr"),l.Yb(1,"th"),l.Uc(2,"S.No"),l.Xb(),l.Yb(3,"th"),l.Uc(4,"Role"),l.Xb(),l.Yb(5,"th"),l.Uc(6,"Action By"),l.Xb(),l.Yb(7,"th"),l.Uc(8,"Action On"),l.Xb(),l.Yb(9,"th"),l.Uc(10,"Remarks"),l.Xb(),l.Yb(11,"th"),l.Uc(12,"Status"),l.Xb(),l.Xb())}function y(e,t){if(1&e&&(l.Yb(0,"tr"),l.Yb(1,"td"),l.Uc(2),l.Xb(),l.Yb(3,"td"),l.Uc(4),l.Xb(),l.Yb(5,"td"),l.Uc(6),l.Xb(),l.Yb(7,"td"),l.Uc(8),l.nc(9,"date"),l.Xb(),l.Yb(10,"td"),l.Uc(11),l.Xb(),l.Yb(12,"td"),l.Uc(13),l.Xb(),l.Xb()),2&e){var i=t.$implicit,n=t.rowIndex,o=l.mc();l.Fb(2),l.Vc(n+1),l.Fb(2),l.Vc(i.UserType),l.Fb(2),l.Vc(i.RepliedBy),l.Fb(2),l.Vc(l.pc(9,6,i.RepliedOn,o.customDateFormat.DEF_DATE_TIME)),l.Fb(3),l.Vc(i.Remarks),l.Fb(2),l.Vc(i.BookingStatus)}}var v=function(){return["UserType","RepliedBy","Remarks","BookingStatus"]},I=function(){var e=function(e){a(i,e);var t=r(i);function i(e,n,o){var a;return d(this,i),(a=t.call(this)).cdRef=e,a._UtilityService=n,a._PatientServices=o,a.slotBookingId=null,a.customDateFormat=s.h,a.lstRemarks=[],a}return o(i,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.GetPatientRemarks()}},{key:"GetPatientRemarks",value:function(){var e=this;null!=this.slotBookingId&&null!=this.slotBookingId&&""!=this.slotBookingId?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetPatientRemarks(this.slotBookingId).subscribe(function(t){if(e._UtilityService.hideSpinner(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstRemarks=i=i||[]}else e.lstRemarks=[];e.cdRef.detectChanges()},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})):this._UtilityService.showWarningAlert("No record found")}}]),i}(n.a);return e.\u0275fac=function(t){return new(t||e)(l.Sb(l.h),l.Sb(c.a),l.Sb(u.a))},e.\u0275cmp=l.Mb({type:e,selectors:[["app-individual-change-status-remarks"]],inputs:{slotBookingId:"slotBookingId"},features:[l.Cb,l.Db],decls:6,vars:5,consts:[["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"]],template:function(e,t){1&e&&(l.Yb(0,"p-table",0,1),l.Sc(2,p,6,0,"ng-template",2),l.Sc(3,f,3,1,"ng-template",3),l.Sc(4,S,13,0,"ng-template",4),l.Sc(5,y,14,9,"ng-template",5),l.Xb()),2&e&&l.tc("value",t.lstRemarks)("rowHover",!0)("globalFilterFields",l.yc(4,v))("scrollable",!0)},directives:[h.c,b.i,m.a],pipes:[g.f],styles:[""]}),e}()},yd5W:function(e,i,n){"use strict";n.d(i,"a",function(){return S});var a=n("fXoL"),s=n("G+wY"),r=n("NLkC"),l=n("rEr+"),c=n("7zfz"),u=n("lVkt"),h=n("3Pt+");function b(e,t){1&e&&(a.Yb(0,"tr"),a.Yb(1,"th",4),a.Uc(2,"Package"),a.Xb(),a.Yb(3,"th",4),a.Uc(4,"Qty"),a.Xb(),a.Yb(5,"th",4),a.Uc(6,"Select Health Seeker"),a.Xb(),a.Xb())}var m=function(){return{width:"100%"}};function g(e,t){if(1&e&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2),a.Xb(),a.Yb(3,"td"),a.Uc(4),a.Xb(),a.Yb(5,"td"),a.Yb(6,"p-multiSelect",5),a.ic("ngModelChange",function(e){return t.$implicit.pckg.SelectMembers=e}),a.Xb(),a.Xb(),a.Xb()),2&e){var i=t.$implicit,n=a.mc();a.Fb(2),a.Wc(" ",i.pckg.PackageName," "),a.Fb(2),a.Wc(" ",i.pckg.Qty," "),a.Fb(2),a.Pc(a.yc(7,m)),a.tc("options",n.lstGroupMember)("ngModel",i.pckg.SelectMembers)("selectionLimit",i.pckg.Qty)}}function p(e,t){if(1&e){var i=a.Zb();a.Yb(0,"button",6),a.ic("click",function(){return a.Lc(i),a.mc().ProceedToBookRoom()}),a.Uc(1,"Done"),a.Xb()}}var f=function(){return{"min-width":"50rem"}},S=function(){var e=function(){function e(t,i,n){d(this,e),this._PatientServices=t,this._UtilityService=i,this.cdRef=n,this.Packages={},this.SlotBookingId=null,this.PackgeMappingEmit=new a.o,this.lstGroupMember=[]}return o(e,[{key:"ngOnInit",value:function(){this.Packages=JSON.parse(JSON.stringify(this.Packages)),this.cdRef.detectChanges(),this.LoadGroupMembersBySlotId()}},{key:"LoadGroupMembersBySlotId",value:function(){var e=this;this._UtilityService.showSpinner(),this._PatientServices.GetTotalGroupMemberBySlotId(this.SlotBookingId).subscribe(function(t){if(e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstGroupMember=i=i||[],e.cdRef.detectChanges()}else e.lstGroupMember=[]})}},{key:"ProceedToBookRoom",value:function(){var e;console.log(this.Packages);var i,n=[],o=!0,a=function(e,i){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=t(e))||i&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){l=!0,s=e},f:function(){try{r||null==n.return||n.return()}finally{if(l)throw s}}}}(this.Packages);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.pckg.Qty!=(null===(e=s.pckg.SelectMembers)||void 0===e?void 0:e.length)){this._UtilityService.showWarningAlert("Please select "+s.pckg.Qty+" Health Seeker for "+s.pckg.PackageName+"."),o=!1;break}}}catch(r){a.e(r)}finally{a.f()}o&&(this.Packages.forEach(function(e){e.pckg.SelectMembers.forEach(function(t){var i={};i.MemberSlotId=t,i.MCODE=e.pckg.MCODE,n.push(i)})}),this.PackgeMappingEmit.emit(n))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Sb(s.a),a.Sb(r.a),a.Sb(a.h))},e.\u0275cmp=a.Mb({type:e,selectors:[["app-package-group-mapping"]],inputs:{Packages:"Packages",SlotBookingId:"SlotBookingId"},outputs:{PackgeMappingEmit:"PackgeMappingEmit"},decls:5,vars:3,consts:[["dataKey","id",3,"value","tableStyle"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[2,"width","20%"],["appendTo","body","optionLabel","FullName","optionValue","SlotBookingId",3,"options","ngModel","selectionLimit","ngModelChange"],["type","button",1,"btn","btn-new-primary","mt-2","mr-2",3,"click"]],template:function(e,t){1&e&&(a.Yb(0,"div"),a.Yb(1,"p-table",0),a.Sc(2,b,7,0,"ng-template",1),a.Sc(3,g,7,8,"ng-template",2),a.Sc(4,p,2,0,"ng-template",3),a.Xb(),a.Xb()),2&e&&(a.Fb(1),a.tc("value",t.Packages)("tableStyle",a.yc(2,f)))},directives:[l.c,c.i,u.a,h.o,h.r],styles:[""]}),e}()}}])}();