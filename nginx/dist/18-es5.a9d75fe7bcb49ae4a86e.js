!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return e(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,o=r(t);if(e){var n=r(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return s(this,i)}}function s(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e,i){return e&&c(t.prototype,e),i&&c(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"7LiV":function(t,e,i){"use strict";i.d(e,"a",function(){return C}),i.d(e,"b",function(){return P}),i.d(e,"c",function(){return D});var o=i("fXoL"),n=i("R0Ic"),s=i("ofXK"),r=i("7zfz");function c(t,e){if(1&t&&(o.Yb(0,"span",9),o.Uc(1),o.Xb()),2&t){var i=o.mc();o.Fb(1),o.Wc(" ",i.header," ")}}function d(t,e){1&t&&o.Ub(0)}function u(t,e){1&t&&o.rc(0,1,["*ngIf","hasHeaderFacet"])}function h(t,e){1&t&&o.Ub(0)}function b(t,e){if(1&t&&(o.Wb(0),o.Sc(1,h,1,0,"ng-container",5),o.Vb()),2&t){var i=o.mc();o.Fb(1),o.tc("ngTemplateOutlet",i.contentTemplate)}}var g=["*",[["p-header"]]],p=function(t){return{"p-accordion-tab-active":t}},m=function(t,e){return{"p-highlight":t,"p-disabled":e}},f=function(t){return{transitionParams:t}},S=function(t){return{value:"visible",params:t}},y=function(t){return{value:"hidden",params:t}},k=["*","p-header"],I=["*"],v=0,D=function(){var t=function(){function t(e,i){a(this,t),this.changeDetector=i,this.cache=!0,this.selectedChange=new o.o,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+v++,this.accordion=e}return l(t,[{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.markForCheck())}},{key:"ngAfterContentInit",value:function(){var t=this;this.templates.forEach(function(e){switch(e.getType()){case"content":t.contentTemplate=e.template;break;case"header":t.headerTemplate=e.template;break;default:t.contentTemplate=e.template}})}},{key:"toggle",value:function(t){if(this.disabled)return!1;var e=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:t,index:e});else{if(!this.accordion.multiple)for(var i=0;i<this.accordion.tabs.length;i++)this.accordion.tabs[i].selected=!1,this.accordion.tabs[i].selectedChange.emit(!1),this.accordion.tabs[i].changeDetector.markForCheck();this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:t,index:e})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),t.preventDefault()}},{key:"findTabIndex",value:function(){for(var t=-1,e=0;e<this.accordion.tabs.length;e++)if(this.accordion.tabs[e]==this){t=e;break}return t}},{key:"hasHeaderFacet",get:function(){return this.headerFacet&&this.headerFacet.length>0}},{key:"onKeydown",value:function(t){32!==t.which&&13!==t.which||(this.toggle(t),t.preventDefault())}},{key:"ngOnDestroy",value:function(){this.accordion.tabs.splice(this.findTabIndex(),1)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Sb(Object(o.X)(function(){return C})),o.Sb(o.h))},t.\u0275cmp=o.Mb({type:t,selectors:[["p-accordionTab"]],contentQueries:function(t,e,i){var n;(1&t&&(o.Lb(i,r.f,0),o.Lb(i,r.i,0)),2&t)&&(o.Hc(n=o.jc())&&(e.headerFacet=n),o.Hc(n=o.jc())&&(e.templates=n))},inputs:{cache:"cache",transitionOptions:"transitionOptions",selected:"selected",header:"header",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:k,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(t,e){1&t&&(o.sc(g),o.Yb(0,"div",0),o.Yb(1,"div",1),o.Yb(2,"a",2),o.ic("click",function(t){return e.toggle(t)})("keydown",function(t){return e.onKeydown(t)}),o.Tb(3,"span",3),o.Sc(4,c,2,1,"span",4),o.Sc(5,d,1,0,"ng-container",5),o.Sc(6,u,1,0,"ng-content",6),o.Xb(),o.Xb(),o.Yb(7,"div",7),o.Yb(8,"div",8),o.rc(9),o.Sc(10,b,2,1,"ng-container",6),o.Xb(),o.Xb(),o.Xb()),2&t&&(o.tc("ngClass",o.zc(15,p,e.selected)),o.Fb(1),o.tc("ngClass",o.Ac(17,m,e.selected,e.disabled)),o.Fb(1),o.Gb("tabindex",e.disabled?null:0)("id",e.id)("aria-controls",e.id+"-content")("aria-expanded",e.selected),o.Fb(1),o.tc("ngClass",e.selected?e.accordion.collapseIcon:e.accordion.expandIcon),o.Fb(1),o.tc("ngIf",!e.hasHeaderFacet),o.Fb(1),o.tc("ngTemplateOutlet",e.headerTemplate),o.Fb(1),o.tc("ngIf",e.hasHeaderFacet),o.Fb(1),o.tc("@tabContent",e.selected?o.zc(22,S,o.zc(20,f,e.transitionOptions)):o.zc(26,y,o.zc(24,f,e.transitionOptions))),o.Gb("id",e.id+"-content")("aria-hidden",!e.selected)("aria-labelledby",e.id),o.Fb(3),o.tc("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected)))},directives:[s.n,s.p,s.t],styles:[".p-accordion-header-link{-ms-user-select:none;-webkit-user-select:none;align-items:center;cursor:pointer;display:flex;position:relative;text-decoration:none;user-select:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}"],encapsulation:2,data:{animation:[Object(n.m)("tabContent",[Object(n.j)("hidden",Object(n.k)({height:"0",overflow:"hidden"})),Object(n.j)("visible",Object(n.k)({height:"*"})),Object(n.l)("visible <=> hidden",[Object(n.k)({overflow:"hidden"}),Object(n.e)("{{transitionParams}}")]),Object(n.l)("void => *",Object(n.e)(0))])]},changeDetection:0}),t}(),C=function(){var t=function(){function t(e,i){a(this,t),this.el=e,this.changeDetector=i,this.onClose=new o.o,this.onOpen=new o.o,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new o.o,this.tabs=[]}return l(t,[{key:"ngAfterContentInit",value:function(){var t=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(function(e){t.initTabs()})}},{key:"initTabs",value:function(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"activeIndex",get:function(){return this._activeIndex},set:function(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}},{key:"updateSelectionState",value:function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var t=0;t<this.tabs.length;t++){var e=this.multiple?this._activeIndex.includes(t):t===this._activeIndex;e!==this.tabs[t].selected&&(this.tabs[t].selected=e,this.tabs[t].selectedChange.emit(e),this.tabs[t].changeDetector.markForCheck())}}},{key:"updateActiveIndex",value:function(){var t=this,e=this.multiple?[]:null;this.tabs.forEach(function(i,o){if(i.selected){if(!t.multiple)return void(e=o);e.push(o)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(e)}},{key:"ngOnDestroy",value:function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Sb(o.m),o.Sb(o.h))},t.\u0275cmp=o.Mb({type:t,selectors:[["p-accordion"]],contentQueries:function(t,e,i){var n;(1&t&&o.Lb(i,D,0),2&t)&&(o.Hc(n=o.jc())&&(e.tabList=n))},inputs:{expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex",multiple:"multiple",style:"style",styleClass:"styleClass"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:I,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(t,e){1&t&&(o.sc(),o.Yb(0,"div",0),o.rc(1),o.Xb()),2&t&&(o.Hb(e.styleClass),o.tc("ngClass","p-accordion p-component")("ngStyle",e.style))},directives:[s.n,s.q],encapsulation:2,changeDetection:0}),t}(),P=function(){var t=function t(){a(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Qb({type:t}),t.\u0275inj=o.Pb({imports:[[s.c],r.j]}),t}()},IRX0:function(t,e,i){"use strict";i.r(e),i.d(e,"DoctorDashboardModule",function(){return X});var o,n,s=i("ofXK"),r=i("tyNb"),c=i("q2h3"),l=i("fXoL"),d=[{path:"",component:c.a}],u=((o=function t(){a(this,t)}).\u0275fac=function(t){return new(t||o)},o.\u0275mod=l.Qb({type:o}),o.\u0275inj=l.Pb({imports:[[r.l.forChild(d)],r.l]}),o),h=i("3Pt+"),b=i("rEr+"),g=i("jIHw"),p=i("arFO"),m=i("7kUa"),f=i("7LiV"),S=i("dPl2"),y=i("zioG"),k=i("Ji6n"),I=i("g9iH"),v=i("eO1q"),D=i("LuMj"),C=i("B16f"),P=i("/RsI"),w=i("V/Gj"),F=i("Jg0Z"),B=i("Ql+Z"),M=i("X/Io"),T=i("305l"),R=i("Om0Y"),X=((n=function t(){a(this,t)}).\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.Qb({type:n}),n.\u0275inj=l.Pb({imports:[[s.c,u,h.i,b.f,g.c,p.b,m.b,k.b,f.b,S.c,y.b,I.b,v.b,D.b,C.b,P.b,w.a,F.a,B.a,M.a,T.AuthModule,R.a]]}),n)},"X/Io":function(t,e,i){"use strict";i.d(e,"a",function(){return f});var o,n,s=i("ofXK"),r=i("tyNb"),c=i("x5zU"),l=i("fXoL"),d=[{path:"",component:c.a}],u=((o=function t(){a(this,t)}).\u0275fac=function(t){return new(t||o)},o.\u0275mod=l.Qb({type:o}),o.\u0275inj=l.Pb({imports:[[r.l.forChild(d)],r.l]}),o),h=i("3Pt+"),b=i("rEr+"),g=i("jIHw"),p=i("/RsI"),m=i("vcJ/"),f=((n=function t(){a(this,t)}).\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.Qb({type:n}),n.\u0275inj=l.Pb({imports:[[s.c,u,h.i,b.f,g.c,p.b,m.a]]}),n)},q2h3:function(e,o,s){"use strict";s.d(o,"a",function(){return Xt});var r=s("dLU1"),c=s("Nach"),d=s("CwUn"),u=s("fXoL"),h=s("ofXK"),b=s("tyNb"),g=s("dcBc"),p=s("ReGW"),m=s("eRWq"),f=s("NLkC"),S=s("7zfz"),y=s("/RsI"),k=s("arFO"),I=s("3Pt+"),v=s("eO1q"),D=s("dPl2"),C=s("rEr+"),P=s("LuMj"),w=s("jIHw"),F=s("B16f"),B=s("9oqr"),M=s("Ty8P"),T=s("mcUO"),R=s("x5zU"),X=s("58k3"),Y=s("Bj//"),U=["dt"],A=["filtr"];function L(t,e){1&t&&u.Ub(0)}function N(t,e){1&t&&u.Ub(0)}function O(t,e){if(1&t){var i=u.Zb();u.Yb(0,"div",23),u.Yb(1,"div",24),u.Yb(2,"div",25),u.Yb(3,"div",26),u.Yb(4,"div",27),u.Yb(5,"div",28),u.Yb(6,"div",25),u.Yb(7,"p-tabView",29),u.ic("activeIndexChange",function(t){return u.Lc(i),u.mc().selectedTab=t})("onChange",function(t){return u.Lc(i),u.mc().tabClick(t)}),u.Yb(8,"p-tabPanel",30),u.Sc(9,L,1,0,"ng-container",31),u.Xb(),u.Yb(10,"p-tabPanel",32),u.Sc(11,N,1,0,"ng-container",31),u.Xb(),u.Xb(),u.Xb(),u.Xb(),u.Xb(),u.Xb(),u.Xb(),u.Xb(),u.Xb()}if(2&t){var o=u.mc(),n=u.Ic(2);u.Fb(7),u.tc("activeIndex",o.selectedTab),u.Fb(2),u.tc("ngTemplateOutlet",n),u.Fb(2),u.tc("ngTemplateOutlet",n)}}function x(t,e){1&t&&(u.Yb(0,"div",46),u.Yb(1,"label",47),u.Uc(2,"Booking Type "),u.Yb(3,"span",16),u.Uc(4,"*"),u.Xb(),u.Xb(),u.Xb())}var _=function(){return{width:"100%"}},V=function(){return{standalone:!0}};function H(t,e){if(1&t){var i=u.Zb();u.Yb(0,"p-dropdown",50),u.ic("ngModelChange",function(t){return u.Lc(i),u.mc(4).bookingtype=t})("onChange",function(){return u.Lc(i),u.mc(4).OnChangeBookingType()}),u.Xb()}if(2&t){var o=u.mc(4);u.Pc(u.yc(5,_)),u.tc("options",o.stlstbookingtype)("ngModel",o.bookingtype)("ngModelOptions",u.yc(6,V))}}function E(t,e){if(1&t&&(u.Yb(0,"div",46),u.Yb(1,"div",48),u.Sc(2,H,1,7,"p-dropdown",49),u.Xb(),u.Xb()),2&t){var i=u.mc(3);u.Fb(2),u.tc("ngIf","BOTH"==(null==i.clinicType?null:i.clinicType.toUpperCase()))}}function z(t,e){if(1&t){var i=u.Zb();u.Yb(0,"div",52),u.Yb(1,"p-radioButton",53),u.ic("ngModelChange",function(t){return u.Lc(i),u.mc(4).IsAllGrouped=t})("onClick",function(){return u.Lc(i),u.mc(4).ListPatientsByDoctor(0,10)}),u.Xb(),u.Yb(2,"label",54),u.Uc(3,"All"),u.Xb(),u.Yb(4,"p-radioButton",53),u.ic("ngModelChange",function(t){return u.Lc(i),u.mc(4).IsAllGrouped=t})("onClick",function(){return u.Lc(i),u.mc(4).ListPatientsByDoctor(0,10)}),u.Xb(),u.Yb(5,"label",54),u.Uc(6,"Individual"),u.Xb(),u.Yb(7,"p-radioButton",53),u.ic("ngModelChange",function(t){return u.Lc(i),u.mc(4).IsAllGrouped=t})("onClick",function(){return u.Lc(i),u.mc(4).ListPatientsByDoctor(0,10)}),u.Xb(),u.Yb(8,"label",55),u.Uc(9,"Grouping"),u.Xb(),u.Xb()}if(2&t){var o=u.mc(4);u.Fb(1),u.tc("value",0)("ngModel",o.IsAllGrouped),u.Fb(3),u.tc("value",1)("ngModel",o.IsAllGrouped),u.Fb(3),u.tc("value",2)("ngModel",o.IsAllGrouped)}}function j(t,e){if(1&t&&(u.Yb(0,"div",46),u.Sc(1,z,10,6,"div",51),u.Xb()),2&t){var i=u.mc(3);u.Fb(1),u.tc("ngIf","IPD"==i.bookingtype)}}function G(t,e){if(1&t&&(u.Yb(0,"div",56),u.Yb(1,"div",57),u.Yb(2,"div",27),u.Yb(3,"div",14),u.Yb(4,"label",15),u.Uc(5,"Completed: "),u.Xb(),u.Xb(),u.Yb(6,"div",17),u.Uc(7),u.Xb(),u.Xb(),u.Xb(),u.Xb()),2&t){var i=u.mc(3);u.Fb(7),u.Wc(" ",i.todayCompletedCons," ")}}function W(t,e){if(1&t&&(u.Yb(0,"div",39),u.Tb(1,"span",40),u.Xb(),u.Yb(2,"div",41),u.Yb(3,"div",42),u.Yb(4,"span",43),u.Uc(5),u.Xb(),u.Xb(),u.Sc(6,x,5,0,"div",44),u.Sc(7,E,3,1,"div",44),u.Sc(8,j,2,1,"div",44),u.Sc(9,G,8,1,"div",45),u.Xb()),2&t){var i=u.mc(2);u.Fb(5),u.Wc(" ",(null==i.list?null:i.list.length)>0?"Total Records: "+i.TotalRecords:""," "),u.Fb(1),u.tc("ngIf","BOTH"==(null==i.clinicType?null:i.clinicType.toUpperCase())),u.Fb(1),u.tc("ngIf","BOTH"==(null==i.clinicType?null:i.clinicType.toUpperCase())),u.Fb(1),u.tc("ngIf","BOTH"==(null==i.clinicType?null:i.clinicType.toUpperCase())||"IPD"==i.bookingtype),u.Fb(1),u.tc("ngIf",i.todayCompletedCons>0)}}function Z(t,e){1&t&&(u.Yb(0,"tr"),u.Yb(1,"td"),u.Uc(2," No records found "),u.Xb(),u.Xb()),2&t&&(u.Fb(1),u.Gb("colspan",10))}function q(t,e){1&t&&u.Tb(0,"col",62)}function J(t,e){1&t&&u.Tb(0,"col",69)}function $(t,e){1&t&&u.Tb(0,"col",70)}function Q(t,e){if(1&t&&(u.Yb(0,"colgroup"),u.Tb(1,"col",58),u.Tb(2,"col",59),u.Tb(3,"col",60),u.Tb(4,"col",61),u.Tb(5,"col",62),u.Tb(6,"col",62),u.Sc(7,q,1,0,"col",63),u.Tb(8,"col",64),u.Sc(9,J,1,0,"col",65),u.Sc(10,$,1,0,"col",66),u.Tb(11,"col",67),u.Tb(12,"col",67),u.Tb(13,"col",68),u.Xb()),2&t){var i=u.mc(2);u.Fb(7),u.tc("ngIf","IPD"===i.bookingtype),u.Fb(2),u.tc("ngIf","IPD"===i.bookingtype),u.Fb(1),u.tc("ngIf",i.IsAllDoctor)}}function K(t,e){1&t&&(u.Yb(0,"th"),u.Uc(1,"Dis. Date"),u.Xb())}function tt(t,e){1&t&&(u.Yb(0,"th"),u.Uc(1,"Cond."),u.Xb())}function et(t,e){1&t&&(u.Yb(0,"th"),u.Uc(1,"Dr."),u.Xb())}function it(t,e){if(1&t){var i=u.Zb();u.Yb(0,"th"),u.Yb(1,"div",77),u.Yb(2,"p-calendar",82,79),u.ic("ngModelChange",function(t){return u.Lc(i),u.mc(3).SerachPeriodToDate=t})("onClose",function(){return u.Lc(i),u.mc(3).ListPatientsByDoctor(0,10)})("onSelect",function(){return u.Lc(i),u.mc(3).ListPatientsByDoctor(0,10)}),u.Xb(),u.Xb(),u.Xb()}if(2&t){var o=u.mc(3);u.Fb(2),u.wc("yearRange","",o.customDateFormat.MinYear,":",o.MaxYear,""),u.tc("monthNavigator",!0)("yearNavigator",!0)("ngModel",o.SerachPeriodToDate)("disabled",0==o.SerachStatusbooking)("ngModelOptions",u.yc(10,V))("showIcon",!0)("dateFormat",o.customDateFormat.CalendarFormat)("readonlyInput",!1)}}function ot(t,e){if(1&t&&(u.Yb(0,"option",83),u.Uc(1),u.Xb()),2&t){var i=e.$implicit;u.tc("ngValue",i.code),u.Fb(1),u.Vc(i.name)}}function nt(t,e){1&t&&u.Tb(0,"th")}function st(t,e){1&t&&u.Tb(0,"th")}function rt(t,e){if(1&t){var i=u.Zb();u.Yb(0,"tr"),u.Yb(1,"th"),u.Uc(2,"Actions"),u.Xb(),u.Yb(3,"th"),u.Uc(4,"Booking No"),u.Xb(),u.Yb(5,"th"),u.Uc(6,"Patient Name"),u.Xb(),u.Yb(7,"th"),u.Uc(8,"MR NO"),u.Xb(),u.Yb(9,"th"),u.Uc(10,"Contact No"),u.Xb(),u.Yb(11,"th"),u.Uc(12),u.Xb(),u.Sc(13,K,2,0,"th",4),u.Yb(14,"th"),u.Uc(15,"Status"),u.Xb(),u.Sc(16,tt,2,0,"th",4),u.Sc(17,et,2,0,"th",4),u.Yb(18,"th"),u.Uc(19,"Refer to Dentist"),u.Xb(),u.Yb(20,"th"),u.Uc(21,"Refer to Physio"),u.Xb(),u.Yb(22,"th"),u.Uc(23,"Token"),u.Xb(),u.Xb(),u.Yb(24,"tr"),u.Yb(25,"th"),u.Yb(26,"button",71),u.ic("click",function(){return u.Lc(i),u.mc(2).ClearFilter()}),u.Xb(),u.Xb(),u.Yb(27,"th"),u.Yb(28,"input",72),u.ic("ngModelChange",function(t){return u.Lc(i),u.mc(2).SearchBookingNumber=t})("change",function(){return u.Lc(i),u.mc(2).ListPatientsByDoctor(0,10)}),u.Xb(),u.Yb(29,"span",73),u.ic("click",function(){return u.Lc(i),u.mc(2).ListPatientsByDoctor(0,10)}),u.Uc(30," filter_alt "),u.Xb(),u.Xb(),u.Yb(31,"th"),u.Yb(32,"input",74),u.ic("ngModelChange",function(t){return u.Lc(i),u.mc(2).SearchFirstName=t})("change",function(){return u.Lc(i),u.mc(2).ListPatientsByDoctor(0,10)}),u.Xb(),u.Yb(33,"span",73),u.ic("click",function(){return u.Lc(i),u.mc(2).ListPatientsByDoctor(0,10)}),u.Uc(34," filter_alt "),u.Xb(),u.Xb(),u.Yb(35,"th"),u.Yb(36,"input",75),u.ic("ngModelChange",function(t){return u.Lc(i),u.mc(2).SearchMRNo=t})("change",function(){return u.Lc(i),u.mc(2).ListPatientsByDoctor(0,10)}),u.Xb(),u.Yb(37,"span",73),u.ic("click",function(){return u.Lc(i),u.mc(2).ListPatientsByDoctor(0,10)}),u.Uc(38," filter_alt "),u.Xb(),u.Xb(),u.Yb(39,"th"),u.Yb(40,"input",76),u.ic("ngModelChange",function(t){return u.Lc(i),u.mc(2).SearchContactNumber=t})("change",function(){return u.Lc(i),u.mc(2).ListPatientsByDoctor(0,10)}),u.Xb(),u.Yb(41,"span",73),u.ic("click",function(){return u.Lc(i),u.mc(2).ListPatientsByDoctor(0,10)}),u.Uc(42," filter_alt "),u.Xb(),u.Xb(),u.Yb(43,"th"),u.Yb(44,"div",77),u.Yb(45,"p-calendar",78,79),u.ic("ngModelChange",function(t){return u.Lc(i),u.mc(2).SerachPeriodFromDate=t})("onClose",function(){return u.Lc(i),u.mc(2).ListPatientsByDoctor(0,10)})("onSelect",function(){return u.Lc(i),u.mc(2).ListPatientsByDoctor(0,10)}),u.Xb(),u.Xb(),u.Xb(),u.Sc(48,it,5,11,"th",4),u.Yb(49,"th"),u.Yb(50,"select",80),u.ic("ngModelChange",function(t){return u.Lc(i),u.mc(2).SerachStatusbooking=t})("change",function(){return u.Lc(i),u.mc(2).ListPatientsByDoctor(0,10)}),u.Sc(51,ot,2,2,"option",81),u.Xb(),u.Xb(),u.Sc(52,nt,1,0,"th",4),u.Sc(53,st,1,0,"th",4),u.Tb(54,"th"),u.Tb(55,"th"),u.Tb(56,"th"),u.Xb()}if(2&t){var o=u.mc(2);u.Fb(12),u.Wc("","IPD"===o.bookingtype?"Adm. Date":"Booking For"," "),u.Fb(1),u.tc("ngIf","IPD"===o.bookingtype),u.Fb(3),u.tc("ngIf","IPD"===o.bookingtype),u.Fb(1),u.tc("ngIf",o.IsAllDoctor),u.Fb(11),u.tc("ngModel",o.SearchBookingNumber),u.Fb(1),u.Hb(null==o.SearchBookingNumber||null==o.SearchBookingNumber||""==o.SearchBookingNumber?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),u.Fb(3),u.tc("ngModel",o.SearchFirstName),u.Fb(1),u.Hb(null==o.SearchFirstName||null==o.SearchFirstName||""==o.SearchFirstName?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),u.Fb(3),u.tc("ngModel",o.SearchMRNo),u.Fb(1),u.Hb(null==o.SearchMRNo||null==o.SearchMRNo||""==o.SearchMRNo?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),u.Fb(3),u.tc("ngModel",o.SearchContactNumber),u.Fb(1),u.Hb(null==o.SearchContactNumber||null==o.SearchContactNumber||""==o.SearchContactNumber?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),u.Fb(4),u.wc("yearRange","",o.customDateFormat.MinYear,":",o.MaxYear,""),u.tc("monthNavigator",!0)("yearNavigator",!0)("ngModel",o.SerachPeriodFromDate)("disabled",0==o.SerachStatusbooking)("ngModelOptions",u.yc(35,V))("showIcon",!0)("dateFormat",o.customDateFormat.CalendarFormat)("readonlyInput",!1),u.Fb(3),u.tc("ngIf","IPD"===o.bookingtype),u.Fb(2),u.tc("ngModel",o.SerachStatusbooking),u.Fb(1),u.tc("ngForOf",o.stColbookingstatus),u.Fb(1),u.tc("ngIf","IPD"===o.bookingtype),u.Fb(1),u.tc("ngIf",o.IsAllDoctor)}}function at(t,e){if(1&t&&(u.Yb(0,"tr"),u.Yb(1,"td",89),u.Yb(2,"span"),u.Uc(3),u.Xb(),u.Xb(),u.Xb()),2&t){var i=u.mc().$implicit,o=u.mc(2);u.Fb(1),u.tc("colSpan",0==o.IsAllDoctor?"12":"13"),u.Fb(2),u.Vc(i.GroupNumber)}}function ct(t,e){if(1&t){var i=u.Zb();u.Yb(0,"a",90),u.ic("click",function(t){u.Lc(i);var e=u.mc().$implicit,o=u.Ic(5);return u.mc(2).toggleTieredMenu(o,t,e.SlotBookingId)}),u.Tb(1,"i",91),u.Xb()}}function lt(t,e){if(1&t&&(u.Yb(0,"td"),u.Uc(1),u.nc(2,"date"),u.nc(3,"date"),u.Xb()),2&t){var i=u.mc().$implicit,o=u.mc(2);u.Fb(1),u.Vc("0001"==u.pc(2,1,i.PeriodUpto,"yyyy")?"":u.qc(3,4,i.PeriodUpto,o.customDateFormat.DEF_DATE,o.customDateFormat.DEF_TIMEZONE))}}function dt(t,e){if(1&t&&(u.Yb(0,"td"),u.Uc(1),u.Xb()),2&t){var i=u.mc().$implicit;u.Fb(1),u.Vc(i.PatientConditionCode)}}function ut(t,e){if(1&t&&(u.Yb(0,"td"),u.Uc(1),u.Xb()),2&t){var i=u.mc().$implicit;u.Fb(1),u.Vc(i.DoctorName)}}var ht=function(t,e){return{color:t,"font-weight":e}},bt=function(t){return{"font-weight":t}};function gt(t,e){if(1&t&&(u.Sc(0,at,4,2,"tr",4),u.Yb(1,"tr"),u.Yb(2,"td"),u.Sc(3,ct,2,0,"a",84),u.Tb(4,"p-tieredMenu",85,86),u.Xb(),u.Yb(6,"td"),u.Yb(7,"span",87),u.Uc(8),u.Xb(),u.Xb(),u.Yb(9,"td"),u.Yb(10,"span",87),u.Uc(11),u.Xb(),u.Xb(),u.Yb(12,"td"),u.Uc(13),u.Xb(),u.Yb(14,"td"),u.Uc(15),u.Xb(),u.Yb(16,"td"),u.Uc(17),u.nc(18,"date"),u.nc(19,"date"),u.Xb(),u.Sc(20,lt,4,8,"td",4),u.Yb(21,"td"),u.Yb(22,"span"),u.Uc(23),u.Xb(),u.Xb(),u.Sc(24,dt,2,1,"td",4),u.Sc(25,ut,2,1,"td",4),u.Yb(26,"td"),u.Uc(27),u.Xb(),u.Yb(28,"td"),u.Uc(29),u.Xb(),u.Yb(30,"td",88),u.Uc(31),u.Xb(),u.Xb()),2&t){var i=e.$implicit,o=e.rowIndex,n=u.mc(2);u.tc("ngIf","IPD"===n.bookingtype&&n.rowGroupMetadata[i.GroupNumber].index==o),u.Fb(3),u.tc("ngIf",!("OPD"==i.BookingType&&i.BookingStatus==n.bookingStatus[n.bookingStatus.Booked])),u.Fb(1),u.tc("model",n.items)("popup",!0),u.Fb(3),u.tc("ngStyle",u.Ac(28,ht,i.IsCGHS?"green":"#495057",i.IsCGHS?"bold":"normal")),u.Fb(1),u.Vc(i.BookingNumber),u.Fb(2),u.tc("ngStyle",u.zc(31,bt,i.IsGrouphead?"bold":"normal")),u.Fb(1),u.Vc(i.PaitentName),u.Fb(2),u.Vc(i.MRNo),u.Fb(2),u.Vc(i.ContactNumber),u.Fb(2),u.Vc("0001"==u.pc(18,21,i.PeriodFrom,"yyyy")?"":u.qc(19,24,i.PeriodFrom,n.customDateFormat.DEF_DATE,n.customDateFormat.DEF_TIMEZONE)),u.Fb(3),u.tc("ngIf","IPD"===n.bookingtype),u.Fb(2),u.Hb(i.BookingStatus),u.Fb(1),u.Vc(i.BookingStatus),u.Fb(1),u.tc("ngIf","IPD"===n.bookingtype),u.Fb(1),u.tc("ngIf",n.IsAllDoctor),u.Fb(2),u.Vc(1==i.IsDentalTreatment?"Yes":""),u.Fb(2),u.Vc(1==i.IsPhysioTreatment?"Yes":""),u.Fb(2),u.Vc(i.TokenNumber)}}var pt=function(){return["GroupNumber","BookingNumber","BookingType","PaitentName","MRNo","ContactNumber","DoctorName"]};function mt(t,e){if(1&t){var i=u.Zb();u.Yb(0,"p-table",33,34),u.ic("onLazyLoad",function(t){return u.Lc(i),u.mc().loadPatientList(t)})("onFilter",function(t){u.Lc(i);var e=u.Ic(1);return u.mc().onFilter(t,e)})("firstChange",function(t){return u.Lc(i),u.mc().first=t}),u.Sc(2,W,10,5,"ng-template",35),u.Sc(3,Z,3,1,"ng-template",36),u.Sc(4,Q,14,3,"ng-template",37),u.Sc(5,rt,57,36,"ng-template",3),u.Sc(6,gt,32,33,"ng-template",38),u.Xb()}if(2&t){var o=u.mc();u.tc("value",o.list)("lazy",!0)("rowHover",!0)("lazyLoadOnInit",!1)("globalFilterFields",u.yc(10,pt))("scrollable",!0)("paginator",!0)("rows",10)("totalRecords",o.TotalRecords)("first",o.first)}}function ft(t,e){if(1&t&&(u.Yb(0,"h3"),u.Uc(1),u.Xb()),2&t){var i=u.mc();u.Fb(1),u.Vc(i.HeaderName)}}function St(t,e){if(1&t){var i=u.Zb();u.Yb(0,"div"),u.Yb(1,"app-file-upload",92),u.ic("FileSuccess",function(t){return u.Lc(i),u.mc().FileSuccessUpload(t)}),u.Xb(),u.Xb()}if(2&t){var o=u.mc();u.Fb(1),u.tc("FormType",o.FormType)("SlotBookingId",o.SlotBookingIdSelectedId)}}function yt(t,e){if(1&t&&(u.Yb(0,"h3"),u.Uc(1),u.Xb()),2&t){var i=u.mc();u.Fb(1),u.Vc(i.HeaderName)}}function kt(t,e){if(1&t&&(u.Yb(0,"div"),u.Tb(1,"app-file-download",93),u.Xb()),2&t){var i=u.mc();u.Fb(1),u.tc("FormType",i.FormType)("SlotBookingId",i.SlotBookingIdSelectedId)}}function It(t,e){if(1&t){var i=u.Zb();u.Yb(0,"div"),u.Yb(1,"app-allot-doctor",94),u.ic("AllotSuccess",function(t){return u.Lc(i),u.mc().AllotSuccess(t)}),u.Xb(),u.Xb()}if(2&t){var o=u.mc();u.Fb(1),u.tc("slotBookingId",o.SlotBookingIdSelectedId)("clinicId",o.ClinicIdSelected)("dentistId",o.dentistId)("physioId",o.physioId)}}function vt(t,e){if(1&t&&(u.Yb(0,"h5"),u.Uc(1),u.Xb()),2&t){var i=u.mc();u.Fb(1),u.Wc("Visit History - Total Visits ",i.totalVisitPrescriptionCount,"")}}function Dt(t,e){if(1&t){var i=u.Zb();u.Yb(0,"div"),u.Yb(1,"app-patient-all-prescription-history",95),u.ic("TotalVisitPrescriptionCount",function(t){return u.Lc(i),u.mc().VisitPrescriptionCount(t)}),u.Xb(),u.Xb()}if(2&t){var o=u.mc();u.Fb(1),u.tc("PatientId",o.selectedPatientId)}}function Ct(t,e){if(1&t){var i=u.Zb();u.Yb(0,"button",96),u.ic("click",function(){return u.Lc(i),u.mc().hidePrescriptionHistory()}),u.Uc(1," Close "),u.Xb()}}function Pt(t,e){if(1&t){var i=u.Zb();u.Yb(0,"a",97),u.ic("click",function(){return u.Lc(i),u.mc().CloseModal()}),u.Tb(1,"i",98),u.Xb()}}function wt(t,e){if(1&t&&(u.Yb(0,"div",27),u.Tb(1,"app-registration",99),u.Xb()),2&t){var i=u.mc();u.Fb(1),u.tc("RegistrationMainModel",i.RegistrationMainModel)("InputType",i.InputType)("IsValidDate",i.isValidDate)}}function Ft(t,e){if(1&t&&(u.Yb(0,"div"),u.Tb(1,"app-prescription-save-details",100),u.Xb()),2&t){var i=u.mc();u.Fb(1),u.tc("slotBookingId",i.SlotBookingIdSelectedId)}}function Bt(t,e){1&t&&(u.Yb(0,"h5"),u.Uc(1,"Referr To Wellness Center"),u.Xb())}function Mt(t,e){if(1&t){var i=u.Zb();u.Yb(0,"button",101),u.ic("click",function(){return u.Lc(i),u.mc().SubmitReferred()}),u.Xb(),u.Yb(1,"button",102),u.ic("click",function(){return u.Lc(i),u.mc().CloseRefferWellness()}),u.Xb()}}var Tt=function(){return{width:"70vw"}},Rt=function(){return{width:"90vw"}},Xt=function(){var e=function(e){i(s,e);var o=n(s);function s(t,e,i,n,l,d,u,h,b){var g,p,m;a(this,s),(g=o.call(this)).cdRef=t,g.datepipe=e,g.route=i,g._ConstantsService=n,g._MasterServices=l,g._DoctorServices=d,g._RegistrationServices=u,g._UtilityService=h,g.confirmationService=b,g.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,g.bookingStatus=c.d,g.customDateFormat=c.h,g.userTypes=c.s,g.OtherActionList=c.n,g.userTypeId=localStorage.getItem("userTypeId"),g.ClinicIdSelected=localStorage.getItem("ClinicId"),g.list=[],g.statusbooking=0,g.IsGrouped=!1,g.IsAllGrouped=0,g.tag="",g.dFrom=null,g.dTo=null,g.MaxYear=(new Date).getFullYear()+2,g.searchtxt=null,g.IsAllDoctor=!0,g.selectedTab=0,g.filteredValuesLength=0,g.loading=!1,g.SearchBookingNumber=null,g.SearchFirstName=null,g.SearchLastName=null,g.SearchMRNo=null,g.SearchContactNumber=null,g.SerachStatusbooking=0,g.first=0,g.SlotBookingIdSelectedId=null,g.todayCompletedCons=0,g.todayPendingCons=0,g.mode=null,g.InputType=3,g.isValidDate=!0,g.RegistrationMainModel={},g.ShowAttachedFormModel=!1,g.ShowDownloadFormModel=!1,g.FormType=0,g.HeaderName=null,g.departmentId=localStorage.getItem("departmentId"),g.IsDentist=!1,g.dentistId=null,g.IsPhysio=!1,g.physioId=null,g.totalVisitPrescriptionCount=0,g.showModalPrescriptionHistory=!1,g.selectedPatientId=null,g.showReferrWellnessCenterModel=!1,g.lstClinicReffered=[],g.ReferNewPtContact=null,g.IsDisabledContact=!1,g.today=new Date,g.ShowAllotDoctorModel=!1,g.ShowPrescriptionSaveModel=!1,g.lstUserAuthorizationOtherAction=[],g.clinicType=null===(p=g.lsobjClinicMaster)||void 0===p?void 0:p.ClinicType,g.bookingtype="BOTH"==(null===(m=g.clinicType)||void 0===m?void 0:m.toUpperCase())?"IPD":g.clinicType,g.DoctorId=localStorage.getItem("userId"),g.stlstbookingtype=[{name:"IPD",code:"IPD"},{name:"OPD",code:"OPD"}],g.dFrom=g.datepipe.transform(new Date,"yyyy-MM-dd"),g.dTo=g.datepipe.transform(Object(r.a)(new Date,1),"yyyy-MM-dd"),g.SerachPeriodFromDate=new Date(g.dFrom),g.SerachPeriodToDate=new Date(g.dTo),g._ConstantsService.ActiveMenuName="Patient List",g.dentalDepartmentId=g._ConstantsService.DentalDepartmentId,g.physioDepartmentId=g._ConstantsService.PhysioDepartmentId;var f=new Array,S=localStorage.getItem("UserAuthorizationOtherAction");return"null"!=S&&"undefined"!=S&&(f=S.split(",").map(Number),g.lstUserAuthorizationOtherAction=f),g}return l(s,[{key:"ngOnInit",value:function(){var t=this;this.unsubscribe.add=this.route.queryParams.subscribe(function(e){"OPD"!=e.tag&&"IPD"!=e.tag||(t.tag=e.tag)}),null!=this.tag&&""!=this.tag&&null!=this.tag&&(this.bookingtype=this.tag),null!=localStorage.getItem("DRBookingType")&&(this.bookingtype=localStorage.getItem("DRBookingType")),this.IsDentist=!1,this.IsPhysio=!1,this.dentalDepartmentId==this.departmentId?this.IsDentist=!0:this.physioDepartmentId==this.departmentId&&(this.IsPhysio=!0),this.BookingStatus(),this.LoadClinicList(),this.cdRef.detectChanges()}},{key:"ngOnChanges",value:function(){null!=this.statusbooking&&null!=this.statusbooking||(this.statusbooking=0),this.ListPatientsByDoctor(0,10)}},{key:"tabClick",value:function(t){0==t.index&&(this.IsAllDoctor=!0),1==t.index&&(this.IsAllDoctor=!1),void 0!==this.filtr&&(this.filtr.nativeElement.value=""),this.ListPatientsByDoctor(0,10)}},{key:"toggleTieredMenu",value:function(e,i,o){var n,s=this;this.items=[],this.filteritems=[],this.filteritems=this.list.filter(function(t){return t.SlotBookingId==o}),1!=this.filteritems[0].IsPrint||"IPD"!==this.bookingtype&&"OPD"!==this.bookingtype||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]||(this.items=[].concat(t(this.items),[{label:"Allot Doctor",icon:"pi pi-user-edit",command:function(){s.IsDentist?s.AllotDoctor(s.filteritems[0].SlotBookingId,s.filteritems[0].DentalDoctorId):s.IsPhysio?s.AllotDoctor(s.filteritems[0].SlotBookingId,s.filteritems[0].PhysioDoctorId):s.AllotDoctor(s.filteritems[0].SlotBookingId)}}])),1==this.filteritems[0].IsValid&&1==this.filteritems[0].IsPrint&&("OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]||"IPD"==this.filteritems[0].BookingType&&(this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Discharged]))&&(this.items=[].concat(t(this.items),[{label:"Add Prescription",icon:"pi pi-file-o",command:function(){s.ShowPatientDetails(s.filteritems[0].UserId,o,s.filteritems[0].BookingType)}}])),this.IsPhysio||this.IsDentist||1!=this.filteritems[0].IsValid||1!=this.filteritems[0].IsPrint||"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[].concat(t(this.items),[{label:"Add Discharge Summary",icon:"pi pi-id-card",command:function(){s.ShowPatientDetails(s.filteritems[0].UserId,o,"IDS")}}])),this.IsPhysio||this.IsDentist||1!=this.filteritems[0].IsPrint||("OPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed])&&("IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged])||(this.items=[].concat(t(this.items),[{label:"View Prescription",icon:"pi pi-print",command:function(){s.PrintPrescription(s.filteritems[0].UserId,s.filteritems[0].SlotBookingId,s.filteritems[0].BookingType)}},{label:"View OPD Prescription",icon:"pi pi-print",command:function(){s.PrintPrescription(s.filteritems[0].UserId,s.filteritems[0].SlotBookingId,"OPDIPD")}}])),this.IsPhysio||this.IsDentist||"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[].concat(t(this.items),[{label:"View Discharge Summary",icon:"pi pi-print",command:function(){s.PrintPrescription(s.filteritems[0].UserId,s.filteritems[0].SlotBookingId,"IDS")}}])),1==this.filteritems[0].IsDentalTreatment&&(this.items=[].concat(t(this.items),[{label:"View Dental Prescription",icon:"pi pi-print",command:function(){window.open("#/print/print-dental-prescription?SlotBookingId="+o+"&tag="+s.filteritems[0].BookingType)}}])),1==this.filteritems[0].IsPhysioTreatment&&(this.items=[].concat(t(this.items),[{label:"View Physio Prescription",icon:"pi pi-print",command:function(){window.open("#/print/print-physiotherpy-prescription?SlotBookingId="+o+"&tag="+s.filteritems[0].BookingType)}}])),this.IsPhysio||this.IsDentist||(this.items=[].concat(t(this.items),[{label:"View History",icon:"pi pi-calendar-times",command:function(){s.showPatientPrescriptionHistory(s.filteritems[0].UserId)}}])),this.IsPhysio||this.IsDentist||1!=this.filteritems[0].IsValid||("IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted])&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]||(this.items=[].concat(t(this.items),[{label:"View/Edit",icon:"pi pi-eye",command:function(){s.LoadPaitentDetails(o+"-"+s.filteritems[0].UserId,!0)}}])),this.IsPhysio||this.IsDentist||"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[].concat(t(this.items),[{label:"Patient Record",icon:"pi pi-user-edit",command:function(){window.open("#/print/patient-record?UserId="+s.filteritems[0].UserId+"&SlotBookingId="+s.filteritems[0].SlotBookingId+"&tag="+s.filteritems[0].BookingType)}}]));var r=[];(this.IsPhysio||this.IsDentist||"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged])&&("OPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed])||(r=[].concat(t(r),[{label:"Consent Form",icon:"pi pi-file-o",items:[{label:"Download Consent Form",icon:"pi pi-user-edit",command:function(){window.open("#/print/consent-form?UserId="+s.filteritems[0].UserId+"&SlotBookingId="+s.filteritems[0].SlotBookingId)}},{label:"Attached Signed Consent Form",icon:"pi pi-user-edit",command:function(){s.AttachedSignedForm(s.filteritems[0].SlotBookingId,c.k.ConsentForm,"Upload Signed Consent Form")}},{label:"Download Signed Consent Form",icon:"pi pi-user-edit",command:function(){s.LoadAttachedSignedForm(s.filteritems[0].SlotBookingId,c.k.ConsentForm,"Download Signed Consent Form")}}]}])),this.IsPhysio||this.IsDentist||"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(r=[].concat(t(r),[{label:"Case Sheet",icon:"pi pi-file-o",items:[{label:"Print Case Sheet",icon:"pi pi-eye",command:function(){window.open("#/print/print-ipd-registration-form?UserId="+s.filteritems[0].UserId+"&SlotBookingId="+s.filteritems[0].SlotBookingId)}},{label:"Attached Signed Case Sheet",icon:"pi pi-user-edit",command:function(){s.AttachedSignedForm(s.filteritems[0].SlotBookingId,c.k.IPDForm,"Upload Signed Case Sheet")}},{label:"Download Signed Case Sheet",icon:"pi pi-user-edit",command:function(){s.LoadAttachedSignedForm(s.filteritems[0].SlotBookingId,c.k.IPDForm,"Download Signed Case Sheet")}}]},{label:"Pain Assessment",icon:"pi pi-file-o",items:[{label:"View Pain Ass ",icon:"pi pi-print",command:function(){window.open("#/print/print-pain-assessment?SlotBookingId="+s.filteritems[0].SlotBookingId+"&tag="+s.filteritems[0].BookingType)}},{label:"Attached Pain Ass Form",icon:"pi pi-user-edit",command:function(){s.AttachedSignedForm(s.filteritems[0].SlotBookingId,c.k.PainAssessmentForm,"Upload Signed Pain Assessment Form")}},{label:"Download Signed Ass Form",icon:"pi pi-user-edit",command:function(){s.LoadAttachedSignedForm(s.filteritems[0].SlotBookingId,c.k.PainAssessmentForm,"Download Signed Pain Assessment Form")}}]}])),r.length>0&&(this.items=[].concat(t(this.items),[{label:"Form",icon:"pi pi-file-o",items:r}])),"IPD"!==this.bookingtype||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[].concat(t(this.items),[{label:"Medical Certificate",icon:"pi pi-star",command:function(){window.open("#/print/print-medical-certificate?SlotBookingId="+o)}}])),this.IsPhysio||this.IsDentist||"IPD"!==this.bookingtype&&("OPD"!==this.bookingtype||"OPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed])||(this.items=[].concat(t(this.items),[{label:"Download IPD Adm Form",icon:"pi pi-user-edit",command:function(){window.open("#/print/print-ipd-admission-form?SlotBookingId="+s.filteritems[0].SlotBookingId)}}])),"OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]&&"true"==localStorage.getItem("IsChikitsalaya")&&(this.items=[].concat(t(this.items),[{label:"Refer to Wellness Center",icon:"pi pi-user-edit",command:function(){s.ShowModelRefferToWellnessCenter(s.filteritems[0].UserId,s.filteritems[0].SlotBookingId,s.filteritems[0].ContactNumber)}}])),this.IsDentist||"true"==localStorage.getItem("IsChikitsalaya")||this.filteritems[0].IsDentalTreatment||1!=this.filteritems[0].IsValid||!("IPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||"OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])||(this.items=[].concat(t(this.items),[{label:"Refer to Dentist",icon:"pi pi-user-edit",command:function(){s.ReferToDentist(s.filteritems[0].SlotBookingId)}}])),this.lsobjClinicMaster.IsPhysioPanel&&!this.IsPhysio&&"true"!=localStorage.getItem("IsChikitsalaya")&&!this.filteritems[0].IsPhysioTreatment&&1==this.filteritems[0].IsValid&&("IPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||"OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])&&(this.items=[].concat(t(this.items),[{label:"Refer to Physio",icon:"pi pi-user-edit",command:function(){s.ReferToPhysio(s.filteritems[0].SlotBookingId)}}])),(null===(n=this.lstUserAuthorizationOtherAction)||void 0===n?void 0:n.length)>0&&this.lstUserAuthorizationOtherAction.includes(this.OtherActionList.IsDoctorLogs)&&(this.items=[].concat(t(this.items),[{label:"View Doctor Logs",icon:"pi pi-comments",command:function(){s.GetPrescriptionSaveDetails(o)}}])),e.toggle(i)}},{key:"BookingStatus",value:function(){this.stlstbookingstatus=[],"IPD"==this.bookingtype?(this.stlstbookingstatus=[{name:"All",code:0},{name:this.bookingStatus[this.bookingStatus.Confirmed],code:this.bookingStatus.Confirmed},{name:this.bookingStatus[this.bookingStatus.Admitted],code:this.bookingStatus.Admitted},{name:this.bookingStatus[this.bookingStatus.Discharged],code:this.bookingStatus.Discharged},{name:this.bookingStatus[this.bookingStatus.Cancelled],code:this.bookingStatus.Cancelled}],null!=localStorage.getItem("DRStatusbooking")?(this.statusbooking=Number(localStorage.getItem("DRStatusbooking")),this.SerachStatusbooking=Number(localStorage.getItem("DRStatusbooking")),this.selectedTab=1,this.IsAllDoctor=!1):(this.statusbooking=this.bookingStatus.Admitted,this.SerachStatusbooking=this.bookingStatus.Admitted)):"OPD"==this.bookingtype?(this.stlstbookingstatus=[{name:"All",code:0},{name:this.bookingStatus[this.bookingStatus.Booked],code:this.bookingStatus.Booked},{name:this.bookingStatus[this.bookingStatus.Confirmed],code:this.bookingStatus.Confirmed}],null!=localStorage.getItem("DRStatusbooking")?(this.statusbooking=Number(localStorage.getItem("DRStatusbooking")),this.SerachStatusbooking=Number(localStorage.getItem("DRStatusbooking"))):(this.statusbooking=this.bookingStatus.Confirmed,this.SerachStatusbooking=this.bookingStatus.Confirmed)):this.stlstbookingstatus=[],this.stColbookingstatus=JSON.parse(JSON.stringify(this.stlstbookingstatus)),this.ListPatientsByDoctor(0,10)}},{key:"OnChangeBookingType",value:function(){localStorage.removeItem("DRStatusbooking"),this.BookingStatus(),this.cdRef.detectChanges()}},{key:"ListPatientsByDoctor",value:function(t,e){var i=this;this.statusbooking=this.SerachStatusbooking,this.first=parseInt(t);var o={};o.doctorId=this.DoctorId,o.clinicId=this.ClinicIdSelected,o.bookingtype=this.bookingtype,o.dFrom=new Date(this.datepipe.transform(this.dFrom,"yyyy-MM-dd")),o.dTo=new Date(this.datepipe.transform(this.dTo,"yyyy-MM-dd")),o.IsAllGrouped=this.IsAllGrouped,o.bookingStatus=this.statusbooking,o.searchtxt=this.searchtxt,o.isAllDoctor=this.IsAllDoctor,o.first=t.toString(),o.rows=e.toString(),0==this.SerachStatusbooking&&(this.SerachPeriodFromDate=null,this.SerachPeriodToDate=null);var n=[];null!=this.SearchBookingNumber&&null!=this.SearchBookingNumber&&""!=this.SearchBookingNumber&&n.push({SearchBy:"BookingNumber",SearchVal:this.SearchBookingNumber.trim()}),null!=this.SearchFirstName&&null!=this.SearchFirstName&&""!=this.SearchFirstName&&n.push({SearchBy:"FullName",SearchVal:this.SearchFirstName.trim()}),null!=this.SearchMRNo&&null!=this.SearchMRNo&&""!=this.SearchMRNo&&n.push({SearchBy:"MRNo",SearchVal:this.SearchMRNo.trim()}),null!=this.SearchContactNumber&&null!=this.SearchContactNumber&&""!=this.SearchContactNumber&&n.push({SearchBy:"ContactNumber",SearchVal:this.SearchContactNumber.trim()}),null!=this.SerachPeriodFromDate&&null!=this.SerachPeriodFromDate&&n.push({SearchBy:"PeriodFrom",SearchVal:this.datepipe.transform(this.SerachPeriodFromDate,"yyyy-MM-dd")}),null!=this.SerachPeriodToDate&&null!=this.SerachPeriodToDate&&"IPD"==this.bookingtype&&n.push({SearchBy:"PeriodUpto",SearchVal:this.datepipe.transform(this.SerachPeriodToDate,"yyyy-MM-dd")}),null!=this.SerachStatusbooking&&null!=this.SerachStatusbooking&&0!=this.SerachStatusbooking&&n.push({SearchBy:"BookingStatus",SearchVal:this.SerachStatusbooking.toString()}),o.SearchList=n;var s=this._DoctorServices.ListPatientsByDoctor(o);this.IsDentist?s=this._DoctorServices.ListDentalPatientByDoctor(o):this.IsPhysio&&(s=this._DoctorServices.ListPhysioPatientByDoctor(o)),this._UtilityService.showSpinner(),this.unsubscribe.add=s.subscribe(function(o){var n;i._UtilityService.hideSpinner(),o.actionResult.result.length>0?(i.list=JSON.parse(o.actionResult.result[0]),i.TotalRecords=JSON.parse(o.actionResult.result[1]),i.updateRowGroupMetaData(t,e)):(i.TotalRecords=0,i.list=[],i.filteredValuesLength=null===(n=i.list)||void 0===n?void 0:n.length,i.rowGroupMetadata={},i.cdRef.detectChanges())},function(t){i._UtilityService.hideSpinner(),i._UtilityService.showErrorAlert(t.message)})}},{key:"updateRowGroupMetaData",value:function(t,e){var i;if(this.rowGroupMetadata={},this.list)for(var o=0;o<this.list.length;o++){var n=this.list[o].GroupNumber;0==o?this.rowGroupMetadata[n]={index:t,size:1}:n===this.list[o-1].GroupNumber?this.rowGroupMetadata[n].size++:this.rowGroupMetadata[n]={index:Number(t)+o,size:1}}if(void 0!==this.filtr){var s=this.filtr.nativeElement.value;this.filtr.nativeElement.value="",null!=s&&null!=s&&""!=s&&(this.filtr.nativeElement.value=s,this.dataTable.filterGlobal(s,"contains")),this.filteredValuesLength=null===(i=this.list)||void 0===i?void 0:i.length}this.cdRef.detectChanges()}},{key:"loadPatientList",value:function(t){this.list&&this.ListPatientsByDoctor(t.first,t.rows)}},{key:"ShowPatientDetails",value:function(t,e){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(localStorage.removeItem("DRStatusbooking"),localStorage.setItem("DRStatusbooking",null===(i=this.statusbooking)||void 0===i?void 0:i.toString()),localStorage.removeItem("DRBookingType"),localStorage.setItem("DRBookingType",this.bookingtype),this.IsDentist)window.open("#/doctor/dental-prescription?PatientId="+t+"&SlotBookingId="+e+"&tag="+o,"_self");else if(this.IsPhysio)window.open("#/doctor/physiotherpy-prescription?PatientId="+t+"&SlotBookingId="+e+"&tag="+o,"_self");else if("IPD"==o)window.open("#/doctor/ipd-new-prescription?PatientId="+t+"&SlotBookingId="+e+"&tag="+o,"_self");else if("OPD"==o)window.open("#/doctor/opd-prescription?PatientId="+t+"&SlotBookingId="+e+"&tag="+o,"_self");else if("IDS"==o){var n=encodeURIComponent(btoa("PatientId="+t+"&SlotBookingId="+e+"&tag="+o));window.open("#/doctor/ids-prescription?q="+n,"_self")}}},{key:"LoadPaitentDetails",value:function(t,e){var i=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.GetOnlineRegistrationDetailsById(t.split("-")[0],t.split("-")[1]).subscribe(function(o){var n,s,r;if(i._UtilityService.hideSpinner(),i.cdRef.detectChanges(),1==o.actionResult.success){i.isValidDate=e,i.InputType="OPD"==i.bookingtype?4:3;var a=JSON.parse(o.actionResult.result);i.RegistrationMainModel=a=a||[],null!=(null===(n=i.RegistrationMainModel)||void 0===n?void 0:n.DateOfBirth)&&null!=(null===(s=i.RegistrationMainModel)||void 0===s?void 0:s.DateOfBirth)&&(i.RegistrationMainModel.DateOfBirth=new Date(null===(r=i.RegistrationMainModel)||void 0===r?void 0:r.DateOfBirth)),i.RegistrationMainModel.SlotBookingId=t.split("-")[0],i.mode="update",i.cdRef.detectChanges()}},function(t){i._UtilityService.hideSpinner(),i._UtilityService.showErrorAlert(t.message)})}},{key:"CloseModal",value:function(){this.mode=null}},{key:"AttachedSignedForm",value:function(t,e,i){this.FormType=e,this.HeaderName=i,this.SlotBookingIdSelectedId=t,this.ShowAttachedFormModel=!0}},{key:"FileSuccessUpload",value:function(t){this.ShowAttachedFormModel=!1,this.FormType=0,this.HeaderName=null,this.SlotBookingIdSelectedId=null,this._UtilityService.showSuccessAlert(t)}},{key:"LoadAttachedSignedForm",value:function(t,e,i){this.FormType=e,this.HeaderName=i,this.SlotBookingIdSelectedId=t,this.ShowDownloadFormModel=!0}},{key:"closeDialog",value:function(){this.FormType=0,this.HeaderName=null,this.SlotBookingIdSelectedId=null}},{key:"AllotDoctor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.SlotBookingIdSelectedId=t,this.IsDentist?this.dentistId=e:this.IsPhysio&&(this.physioId=e),this.ShowAllotDoctorModel=!0}},{key:"AllotSuccess",value:function(t){var e,i=this,o=!1;this.filteritems=[],this.filteritems=this.list.filter(function(t){return t.SlotBookingId==i.SlotBookingIdSelectedId}),this.SlotBookingIdSelectedId=null,this.dentistId=null,this.physioId=null,this.ShowAllotDoctorModel=!1,this._UtilityService.showSuccessAlert(null==t?void 0:t.Message),this.ListPatientsByDoctor(0,10),null!=(null==t?void 0:t.lstSelectedDoctor)&&null!=(null==t?void 0:t.lstSelectedDoctor)&&(null===(e=null==t?void 0:t.lstSelectedDoctor)||void 0===e?void 0:e.length)>0&&t.lstSelectedDoctor.includes(localStorage.getItem("userId"))&&(o=!0),o&&1==this.filteritems[0].IsPrint&&("OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]||"IPD"==this.filteritems[0].BookingType&&(this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Discharged]))&&this.confirmationService.confirm({target:t.target,header:"Confirmation",message:"Do you want to add prescription?",icon:"pi pi-exclamation-triangle",accept:function(){i.ShowPatientDetails(i.filteritems[0].UserId,i.filteritems[0].SlotBookingId,i.filteritems[0].BookingType)}})}},{key:"LoadDoctorConsultCount",value:function(){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.GetDoctorConsultCountToday(localStorage.getItem("userId")).subscribe(function(e){t._UtilityService.hideSpinner(),1==e.actionResult.success?(t.todayCompletedCons=+e.actionResult.result,t.todayPendingCons=+e.actionResult.result2):(t.todayCompletedCons=0,t.todayPendingCons=0),t.cdRef.detectChanges()},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)}),this.cdRef.detectChanges()}},{key:"showPatientPrescriptionHistory",value:function(t){this.selectedPatientId=t,this.showModalPrescriptionHistory=!0}},{key:"hidePrescriptionHistory",value:function(){this.selectedPatientId=null,this.showModalPrescriptionHistory=!1}},{key:"VisitPrescriptionCount",value:function(t){this.totalVisitPrescriptionCount=t}},{key:"PrintPrescription",value:function(t,e,i){"OPDIPD"==i?window.open("#/print/opd-ipd-print-prescription?SlotBookingId="+e):"IPD"==i?window.open("#/print/ipd-print-prescription?UserId="+t+"&SlotBookingId="+e+"&tag="+i):window.open("#/print/patient-print-prescription?UserId="+t+"&SlotBookingId="+e+"&tag="+i)}},{key:"GetPrescriptionSaveDetails",value:function(t){this.SlotBookingIdSelectedId=t,this.ShowPrescriptionSaveModel=!0}},{key:"ReferToDentist",value:function(t){var e=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.ReferToDentist(!0,t,this.DoctorId).subscribe(function(t){e._UtilityService.hideSpinner(),1==t.actionResult.success?(e._UtilityService.showSuccessAlert(t.actionResult.errMsg),e.ListPatientsByDoctor(0,10)):e._UtilityService.showWarningAlert(t.actionResult.errMsg)},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"ReferToPhysio",value:function(t){var e=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.ReferToPhysio(!0,t,this.DoctorId).subscribe(function(t){e._UtilityService.hideSpinner(),1==t.actionResult.success?(e._UtilityService.showSuccessAlert(t.actionResult.errMsg),e.ListPatientsByDoctor(0,10)):e._UtilityService.showWarningAlert(t.actionResult.errMsg)},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"onFilter",value:function(t,e){this.filteredValuesLength=t.filteredValue.length}},{key:"ClearFilter",value:function(){this.SearchBookingNumber=null,this.SearchFirstName=null,this.SearchLastName=null,this.SearchMRNo=null,this.SearchContactNumber=null,this.SerachPeriodFromDate=null,this.SerachPeriodToDate=null,this.SerachStatusbooking=0,this.ListPatientsByDoctor(0,10)}},{key:"ClearFilterOnly",value:function(){this.SearchBookingNumber=null,this.SearchFirstName=null,this.SearchLastName=null,this.SearchMRNo=null,this.SearchContactNumber=null,this.SerachPeriodFromDate=null,this.SerachPeriodToDate=null,this.SerachStatusbooking=0}},{key:"keyPress",value:function(t){var e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||t.preventDefault()}},{key:"ShowModelRefferToWellnessCenter",value:function(t,e,i){this.SlotBookingIdSelectedId=e,this.UserIdSelected=t,""!=i&&null!=i&&(this.IsDisabledContact=!0),this.ReferNewPtContact=i,this.SelectedReferredCenter=null,this.ReferredReason=null,this.ExpectedVisitDate=null,this.showReferrWellnessCenterModel=!0,this.cdRef.detectChanges()}},{key:"SubmitReferred",value:function(){var t=this;if(null!=this.SelectedReferredCenter&&null!=this.SelectedReferredCenter)if(null!=this.ReferNewPtContact&&null!=this.ReferNewPtContact&&""!=this.ReferNewPtContact)if(10==this.ReferNewPtContact.replace(/ /g,"").length)if(null!=this.ReferredReason&&null!=this.ReferredReason&&0!=this.ReferredReason.trim().length){this.IsDisabledContact&&(this.ReferNewPtContact="");var e={};e.SlotBookingId=this.SlotBookingIdSelectedId,e.PatientId=this.UserIdSelected,e.ReferredReason=this.ReferredReason.trim(),e.ReferredFromClinic=this.ClinicIdSelected,e.ReferredToClinic=this.SelectedReferredCenter,e.ReferredBy=localStorage.getItem("userId"),e.ReferredOn=new Date(this.datepipe.transform(new Date,"yyyy-MM-dd")),null!=this.ExpectedVisitDate&&(e.ExpectedVisitDate=new Date(this.datepipe.transform(this.ExpectedVisitDate,"yyyy-MM-dd"))),this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.AddreferredDetails(e,this.ReferNewPtContact).subscribe(function(e){t._UtilityService.hideSpinner(),1==e.actionResult.success?(t._UtilityService.showSuccessAlert(e.actionResult.errMsg),t.showReferrWellnessCenterModel=!1,t.ListPatientsByDoctor(0,10)):(t._UtilityService.showWarningAlert(e.actionResult.errMsg),t.showReferrWellnessCenterModel=!1)},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}else this._UtilityService.showWarningAlert("Please Enter Reason");else this._UtilityService.showWarningAlert("Please Enter Valid Contact Number");else this._UtilityService.showWarningAlert("Please Enter Contact Number");else this._UtilityService.showWarningAlert("Please select Center")}},{key:"CloseRefferWellness",value:function(){this.showReferrWellnessCenterModel=!1,this.IsDisabledContact=!1}},{key:"LoadClinicList",value:function(){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetClinicMaster(!0,!1).subscribe(function(e){var i;if(t._UtilityService.hideSpinner(),1==e.actionResult.success){var o=JSON.parse(e.actionResult.result);t.lstClinicReffered=o=o||[],(null===(i=t.lstClinicReffered)||void 0===i?void 0:i.length)>0&&(t.lstClinicReffered=t.lstClinicReffered.filter(function(e){return e.ClinicId!==t.ClinicIdSelected}))}else t.lstClinicReffered=[]},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}}]),s}(d.a);return e.\u0275fac=function(t){return new(t||e)(u.Sb(u.h),u.Sb(h.f),u.Sb(b.a),u.Sb(c.f),u.Sb(g.a),u.Sb(p.a),u.Sb(m.a),u.Sb(f.a),u.Sb(S.a))},e.\u0275cmp=u.Mb({type:e,selectors:[["app-doctor-dashboard"]],viewQuery:function(t,e){var i;(1&t&&(u.cd(U,1),u.cd(A,1)),2&t)&&(u.Hc(i=u.jc())&&(e.dataTable=i.first),u.Hc(i=u.jc())&&(e.filtr=i.first))},features:[u.Cb,u.Db],decls:53,vars:78,consts:[["class","row ml-0 mr-0 mt25",4,"ngIf"],["tabContent",""],["id","ShowAttachedFormModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","onHide","visibleChange"],["pTemplate","header"],[4,"ngIf"],["id","ShowDownloadFormModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","onHide","visibleChange"],["header","Allot Doctor",3,"modal","visible","visibleChange"],[3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","visibleChange"],["pTemplate","footer"],[1,"row","d-flex"],["class","ml-auto close",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["header","Doctor Logs",3,"modal","visible","visibleChange"],[1,"row","mt-3"],[1,"col-md-3"],[1,"bold"],[1,"required"],[1,"col-md-9"],["appendTo","body","optionLabel","ClinicName","optionValue","ClinicId","placeholder","Select Wellness Center",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","required","","placeholder","Mobile Number","name","ContactNo","maxlength","10","minlength","10",1,"form-control",3,"disabled","ngModel","keypress","ngModelChange"],["appendTo","body","inputId","icon","name","pFrom",3,"minDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["calendar",""],["rows","3","name","TEDRefferedReason","pInputTextarea","",3,"ngModel","ngModelChange"],[1,"row","ml-0","mr-0","mt25"],[1,"col","pl-0","pr-0"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"activeIndex","activeIndexChange","onChange"],["header","All Patient"],[4,"ngTemplateOutlet"],["header","My Patient"],["responsiveLayout","scroll","datakey","GroupNumber","scrollHeight","calc(100vh - 360px)",1,"ColumnFilterTable",3,"value","lazy","rowHover","lazyLoadOnInit","globalFilterFields","scrollable","paginator","rows","totalRecords","first","onLazyLoad","onFilter","firstChange"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","body"],[1,"p-d-flex",2,"display","none"],[1,"p-ml-auto"],[1,"row","mb-2"],[1,"col-md-2"],[1,"p-ml-left","pl-2"],["class","col-auto",4,"ngIf"],["class","col-auto text-right",4,"ngIf"],[1,"col-auto"],["for",""],[1,"form-group","mb-0"],["optionLabel","name","optionValue","code",3,"options","ngModel","ngModelOptions","style","ngModelChange","onChange",4,"ngIf"],["optionLabel","name","optionValue","code",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["class","field-radiobutton mb10",4,"ngIf"],[1,"field-radiobutton","mb10"],["name","rbIsAllGrouped",3,"value","ngModel","ngModelChange","onClick"],[1,"pl-2","mr-2","radiolabel"],[1,"pl-2","radiolabel"],[1,"col-auto","text-right"],[1,"field","mb10","text-right","ml-40","mt-2"],[2,"width","60px"],[2,"width","140px"],[2,"width","130px"],[2,"width","115px"],[2,"width","100px"],["style","width:100px",4,"ngIf"],[2,"width","110px"],["style","width:75px",4,"ngIf"],["style","width:80px",4,"ngIf"],[2,"width","120px"],[2,"width","50px"],[2,"width","75px"],[2,"width","80px"],["pButton","","matTooltip","Clear","label","","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],["type","text","name","txtsearchBookingNumber",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["matTooltip","Filter",3,"click"],["type","text","name","txtsearchFirstName",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["type","text","name","txtsearchMRNo",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["type","text","name","txtsearchContactNumber",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],[1,"input-group","date"],["appendTo","body","name","SerachPeriodFromDate","inputId","icon",3,"monthNavigator","yearNavigator","yearRange","ngModel","disabled","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onClose","onSelect"],["calendar","","dobref","ngModel"],["name","ddlSearchStatus",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],["appendTo","body","name","SerachPeriodToDate","inputId","icon",3,"monthNavigator","yearNavigator","yearRange","ngModel","disabled","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onClose","onSelect"],[3,"ngValue"],["matTooltip","Action",3,"click",4,"ngIf"],["appendTo","body",3,"model","popup"],["menu",""],[3,"ngStyle"],[2,"font-size","10px"],[2,"background-color","#ebedf3","font-weight","bold",3,"colSpan"],["matTooltip","Action",3,"click"],[1,"fas","fa-ellipsis-h"],[3,"FormType","SlotBookingId","FileSuccess"],[3,"FormType","SlotBookingId"],[3,"slotBookingId","clinicId","dentistId","physioId","AllotSuccess"],[3,"PatientId","TotalVisitPrescriptionCount"],["type","button",1,"btn","btn-new-secondary",3,"click"],[1,"ml-auto","close",3,"click"],[1,"fas","fa-window-close"],[3,"RegistrationMainModel","InputType","IsValidDate"],[3,"slotBookingId"],["pButton","","type","button","label","Submit",1,"btn","btn-new-primary","mt-2",3,"click"],["pButton","","type","button","label","Close",1,"btn","btn-new-secondary","mt-2",3,"click"]],template:function(t,e){1&t&&(u.Sc(0,O,12,3,"div",0),u.Sc(1,mt,7,11,"ng-template",null,1,u.Tc),u.Yb(3,"p-dialog",2),u.ic("onHide",function(){return e.closeDialog()})("visibleChange",function(t){return e.ShowAttachedFormModel=t}),u.Sc(4,ft,2,1,"ng-template",3),u.Sc(5,St,2,2,"div",4),u.Xb(),u.Yb(6,"p-dialog",5),u.ic("onHide",function(){return e.closeDialog()})("visibleChange",function(t){return e.ShowDownloadFormModel=t}),u.Sc(7,yt,2,1,"ng-template",3),u.Sc(8,kt,2,2,"div",4),u.Xb(),u.Yb(9,"p-dialog",6),u.ic("visibleChange",function(t){return e.ShowAllotDoctorModel=t}),u.Sc(10,It,2,4,"div",4),u.Xb(),u.Yb(11,"p-dialog",7),u.ic("visibleChange",function(t){return e.showModalPrescriptionHistory=t}),u.Sc(12,vt,2,1,"ng-template",3),u.Sc(13,Dt,2,1,"div",4),u.Sc(14,Ct,2,0,"ng-template",8),u.Xb(),u.Yb(15,"div",9),u.Sc(16,Pt,2,0,"a",10),u.Xb(),u.Sc(17,wt,2,3,"div",11),u.Yb(18,"p-dialog",12),u.ic("visibleChange",function(t){return e.ShowPrescriptionSaveModel=t}),u.Sc(19,Ft,2,1,"div",4),u.Xb(),u.Yb(20,"p-dialog",7),u.ic("visibleChange",function(t){return e.showReferrWellnessCenterModel=t}),u.Sc(21,Bt,2,0,"ng-template",3),u.Yb(22,"div",13),u.Yb(23,"div",14),u.Yb(24,"label",15),u.Uc(25,"Select Referred Wellness Center"),u.Yb(26,"span",16),u.Uc(27,"*"),u.Xb(),u.Xb(),u.Xb(),u.Yb(28,"div",17),u.Yb(29,"p-dropdown",18),u.ic("ngModelChange",function(t){return e.SelectedReferredCenter=t}),u.Xb(),u.Xb(),u.Xb(),u.Yb(30,"div",13),u.Yb(31,"div",14),u.Yb(32,"label",15),u.Uc(33,"Patient Contact No."),u.Yb(34,"span",16),u.Uc(35,"*"),u.Xb(),u.Xb(),u.Xb(),u.Yb(36,"div",14),u.Yb(37,"input",19),u.ic("keypress",function(t){return e.keyPress(t)})("ngModelChange",function(t){return e.ReferNewPtContact=t}),u.Xb(),u.Xb(),u.Yb(38,"div",14),u.Yb(39,"label",15),u.Uc(40,"Expected date of admission"),u.Xb(),u.Xb(),u.Yb(41,"div",14),u.Yb(42,"p-calendar",20,21),u.ic("ngModelChange",function(t){return e.ExpectedVisitDate=t}),u.Xb(),u.Xb(),u.Xb(),u.Yb(44,"div",13),u.Yb(45,"div",14),u.Yb(46,"label",15),u.Uc(47,"Referred Reason"),u.Yb(48,"span",16),u.Uc(49,"*"),u.Xb(),u.Xb(),u.Xb(),u.Yb(50,"div",17),u.Yb(51,"textarea",22),u.ic("ngModelChange",function(t){return e.ReferredReason=t}),u.Xb(),u.Xb(),u.Xb(),u.Sc(52,Mt,2,0,"ng-template",8),u.Xb()),2&t&&(u.tc("ngIf","update"!=e.mode),u.Fb(3),u.Pc(u.yc(69,Tt)),u.tc("visible",e.ShowAttachedFormModel)("modal",!0)("maximizable",!0)("closeOnEscape",!0)("closable",!0)("draggable",!1)("resizable",!0),u.Fb(2),u.tc("ngIf",e.ShowAttachedFormModel),u.Fb(1),u.Pc(u.yc(70,Tt)),u.tc("visible",e.ShowDownloadFormModel)("modal",!0)("maximizable",!0)("closeOnEscape",!0)("closable",!0)("draggable",!1)("resizable",!0),u.Fb(2),u.tc("ngIf",e.ShowDownloadFormModel),u.Fb(1),u.Pc(u.yc(71,Rt)),u.tc("modal",!0)("visible",e.ShowAllotDoctorModel),u.Fb(1),u.tc("ngIf",e.ShowAllotDoctorModel),u.Fb(1),u.Pc(u.yc(72,Tt)),u.tc("visible",e.showModalPrescriptionHistory)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!1)("draggable",!1)("resizable",!1),u.Fb(2),u.tc("ngIf",e.showModalPrescriptionHistory),u.Fb(3),u.tc("ngIf","update"==e.mode),u.Fb(1),u.tc("ngIf","update"==e.mode),u.Fb(1),u.Pc(u.yc(73,Rt)),u.tc("modal",!0)("visible",e.ShowPrescriptionSaveModel),u.Fb(1),u.tc("ngIf",e.ShowPrescriptionSaveModel),u.Fb(1),u.Pc(u.yc(74,Rt)),u.tc("visible",e.showReferrWellnessCenterModel)("modal",!0)("maximizable",!1)("closeOnEscape",!1)("closable",!1)("draggable",!1)("resizable",!1),u.Fb(9),u.Pc(u.yc(75,_)),u.tc("options",e.lstClinicReffered)("ngModel",e.SelectedReferredCenter)("filter",!0)("showClear",!0),u.Fb(8),u.tc("disabled",e.IsDisabledContact)("ngModel",e.ReferNewPtContact),u.Fb(5),u.tc("minDate",e.today)("ngModel",e.ExpectedVisitDate)("ngModelOptions",u.yc(76,V))("showIcon",!0)("dateFormat",e.customDateFormat.CalendarFormat)("readonlyInput",!1),u.Fb(9),u.Pc(u.yc(77,_)),u.tc("ngModel",e.ReferredReason))},directives:[h.p,y.a,S.i,k.a,I.o,I.r,I.b,I.w,I.j,I.k,v.a,D.b,D.a,h.t,C.c,P.a,w.b,I.x,h.o,I.s,I.A,F.a,h.q,B.a,M.a,T.a,R.a,X.a,Y.a],pipes:[h.f],styles:[".table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background:#f7f7f7!important}"]}),e}()},x5zU:function(t,e,o){"use strict";o.d(e,"a",function(){return P});var s=o("fXoL"),r=o("CwUn"),c=o("Nach"),d=o("ReGW"),u=o("NLkC"),h=o("rEr+"),b=o("7zfz"),g=o("/RsI"),p=o("ofXK"),m=o("Xj43");function f(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2," No records found "),s.Xb(),s.Xb()),2&t){var i=e.$implicit;s.Fb(1),s.Gb("colspan",null==i?null:i.length)}}function S(t,e){1&t&&(s.Yb(0,"colgroup"),s.Tb(1,"col",12),s.Tb(2,"col",12),s.Tb(3,"col",12),s.Tb(4,"col",12),s.Tb(5,"col",13),s.Tb(6,"col",14),s.Tb(7,"col",15),s.Xb())}function y(t,e){1&t&&(s.Yb(0,"tr"),s.Yb(1,"th"),s.Uc(2,"Center"),s.Xb(),s.Yb(3,"th"),s.Uc(4,"Booking No"),s.Xb(),s.Yb(5,"th"),s.Uc(6,"Adm. Date"),s.Xb(),s.Yb(7,"th"),s.Uc(8,"Dis. Date"),s.Xb(),s.Yb(9,"th"),s.Uc(10,"Status"),s.Xb(),s.Yb(11,"th"),s.Uc(12,"Dr."),s.Xb(),s.Yb(13,"th"),s.Uc(14,"Actions"),s.Xb(),s.Xb())}function k(t,e){if(1&t){var i=s.Zb();s.Yb(0,"i",18),s.ic("click",function(){s.Lc(i);var t=s.mc().$implicit;return s.mc().DownloadLabReport(t.BookingNumber)}),s.Xb()}}function I(t,e){if(1&t){var i=s.Zb();s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Uc(4),s.Xb(),s.Yb(5,"td"),s.Uc(6),s.nc(7,"date"),s.nc(8,"date"),s.Xb(),s.Yb(9,"td"),s.Uc(10),s.nc(11,"date"),s.nc(12,"date"),s.Xb(),s.Yb(13,"td"),s.Yb(14,"span"),s.Uc(15),s.Xb(),s.Xb(),s.Yb(16,"td"),s.Uc(17),s.Xb(),s.Yb(18,"td"),s.Yb(19,"i",16),s.ic("click",function(){s.Lc(i);var t=e.$implicit;return s.mc().PrintHistoryPrescription(t.SlotBookingId,t.BookingType)}),s.Xb(),s.Sc(20,k,1,0,"i",17),s.Xb(),s.Xb()}if(2&t){var o=e.$implicit,n=s.mc();s.Fb(2),s.Vc(o.ClinicName),s.Fb(2),s.Vc(o.BookingNumber),s.Fb(2),s.Vc("0001"==s.pc(7,10,o.PeriodFrom,"yyyy")?"":s.pc(8,13,o.PeriodFrom,n.customDateFormat.DEF_DATE)),s.Fb(4),s.Vc("0001"==s.pc(11,16,o.PeriodUpto,"yyyy")?"":s.pc(12,19,o.PeriodUpto,n.customDateFormat.DEF_DATE)),s.Fb(4),s.Hb(o.BookingStatus),s.Fb(1),s.Vc(o.BookingStatus),s.Fb(2),s.Vc(o.DoctorName),s.Fb(3),s.tc("ngIf",n.lsobjClinicMaster.IsLIMS)}}function v(t,e){1&t&&(s.Yb(0,"h4"),s.Uc(1,"Patient Lab / Report Document"),s.Xb())}function D(t,e){if(1&t&&(s.Yb(0,"div"),s.Tb(1,"app-lab-report-queue",19),s.Xb()),2&t){var i=s.mc();s.Fb(1),s.tc("bookingNumber",i.bookingNumber)}}var C=function(){return{width:"70vw"}},P=function(){var t=function(t){i(o,t);var e=n(o);function o(t,i,n){var r;return a(this,o),(r=e.call(this)).cdRef=t,r._DoctorServices=i,r._UtilityService=n,r.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,r.PatientId=null,r.TotalVisitPrescriptionCount=new s.o,r.bookingStatus=c.d,r.customDateFormat=c.h,r.first=0,r.lstPatientHistory=[],r.TotalVisit=0,r.ShowLabReportModel=!1,r.bookingNumber=null,r}return l(o,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){this.LoadPatientAllPrescriptionHistory(0,5)}},{key:"LoadPatientAllPrescriptionHistory",value:function(t,e){var i=this,o={};o.patientId=this.PatientId,o.first=t.toString(),o.rows=e.toString(),this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.PatientAllPrescriptionHistory(o).subscribe(function(t){i._UtilityService.hideSpinner(),t.actionResult.result.length>0?(i.lstPatientHistory=JSON.parse(t.actionResult.result[0]),i.TotalVisit=JSON.parse(t.actionResult.result[1]),i.cdRef.detectChanges()):(i.TotalVisit=0,i.lstPatientHistory=[],i.cdRef.detectChanges()),i.TotalVisitPrescriptionCount.emit(i.TotalVisit)})}},{key:"loadPatientList",value:function(t){this.lstPatientHistory&&this.LoadPatientAllPrescriptionHistory(t.first,t.rows)}},{key:"PrintHistoryPrescription",value:function(t,e){"IPD"==e?window.open("#/print/ipd-print-prescription?UserId="+this.PatientId+"&SlotBookingId="+t+"&tag="+e):window.open("#/print/patient-print-prescription?UserId="+this.PatientId+"&SlotBookingId="+t+"&tag="+e)}},{key:"DownloadLabReport",value:function(t){this.bookingNumber=t,this.ShowLabReportModel=!0}}]),o}(r.a);return t.\u0275fac=function(e){return new(e||t)(s.Sb(s.h),s.Sb(d.a),s.Sb(u.a))},t.\u0275cmp=s.Mb({type:t,selectors:[["app-patient-all-prescription-history"]],inputs:{PatientId:"PatientId"},outputs:{TotalVisitPrescriptionCount:"TotalVisitPrescriptionCount"},features:[s.Cb,s.Db],decls:13,vars:20,consts:[[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],["responsiveLayout","scroll","scrollHeight","calc(100vh - 360px)",1,"ColumnFilterTable",3,"value","lazy","rowHover","lazyLoadOnInit","scrollable","paginator","rows","totalRecords","first","onLazyLoad","firstChange"],["dtHistory",""],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["modal","true","appendTo","body","id","ShowLabReportModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","visibleChange"],[4,"ngIf"],[2,"width","100px"],[2,"width","110px"],[2,"width","80px"],[2,"width","65px"],["title","Print Prescription",1,"pi","pi-print","mt-4","mr-2",2,"font-size","18px",3,"click"],["title","View Report","class","fa fa-print",3,"click",4,"ngIf"],["title","View Report",1,"fa","fa-print",3,"click"],[3,"bookingNumber"]],template:function(t,e){1&t&&(s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"div",2),s.Yb(3,"div",3),s.Yb(4,"p-table",4,5),s.ic("onLazyLoad",function(t){return e.loadPatientList(t)})("firstChange",function(t){return e.first=t}),s.Sc(6,f,3,1,"ng-template",6),s.Sc(7,S,8,0,"ng-template",7),s.Sc(8,y,15,0,"ng-template",8),s.Sc(9,I,21,22,"ng-template",9),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(10,"p-dialog",10),s.ic("visibleChange",function(t){return e.ShowLabReportModel=t}),s.Sc(11,v,2,0,"ng-template",8),s.Sc(12,D,2,1,"div",11),s.Xb()),2&t&&(s.Fb(4),s.tc("value",e.lstPatientHistory)("lazy",!0)("rowHover",!0)("lazyLoadOnInit",!1)("scrollable",!0)("paginator",!0)("rows",5)("totalRecords",e.TotalVisit)("first",e.first),s.Fb(6),s.Pc(s.yc(19,C)),s.tc("visible",e.ShowLabReportModel)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!0)("draggable",!1)("resizable",!0),s.Fb(2),s.tc("ngIf",e.ShowLabReportModel))},directives:[h.c,b.i,g.a,p.p,m.a],pipes:[p.f],styles:[""]}),t}()}}])}();