!function(){function e(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==i.return||i.return()}finally{if(c)throw a}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"9b74":function(e,t,i){"use strict";i.d(t,"a",function(){return A});var a=i("fXoL"),c=i("CwUn"),s=i("Nach"),b=i("tyNb"),d=i("G+wY"),u=i("NLkC"),h=i("rEr+"),m=i("7zfz"),p=i("ofXK"),f=i("7kUa");function T(e,t){if(1&e){var n=a.Zb();a.Yb(0,"div",13),a.Tb(1,"span",14),a.Yb(2,"span",15),a.Yb(3,"span",16),a.Tb(4,"i",17),a.Yb(5,"input",18),a.ic("input",function(e){return a.Lc(n),a.mc(),a.Ic(3).filterGlobal(e.target.value,"contains")}),a.Xb(),a.Xb(),a.Xb(),a.Xb()}}function v(e,t){if(1&e&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2," No records found "),a.Xb(),a.Xb()),2&e){var n=t.$implicit;a.Fb(1),a.Gb("colspan",null==n?null:n.length)}}function S(e,t){1&e&&(a.Yb(0,"tr"),a.Yb(1,"th"),a.Uc(2,"S.No"),a.Xb(),a.Yb(3,"th"),a.Uc(4,"Payment Mode"),a.Xb(),a.Yb(5,"th"),a.Uc(6,"Receive / Refund Date"),a.Xb(),a.Yb(7,"th"),a.Uc(8,"Transaction Date"),a.Xb(),a.Yb(9,"th"),a.Uc(10,"Transaction Id"),a.Xb(),a.Yb(11,"th"),a.Uc(12,"Card Holder Name"),a.Xb(),a.Yb(13,"th"),a.Uc(14,"Card Number"),a.Xb(),a.Yb(15,"th"),a.Uc(16,"Amount"),a.Xb(),a.Yb(17,"th"),a.Uc(18,"Remarks"),a.Xb(),a.Xb())}function I(e,t){if(1&e&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2),a.Xb(),a.Yb(3,"td"),a.Uc(4),a.nc(5,"titlecase"),a.Xb(),a.Yb(6,"td"),a.Uc(7),a.nc(8,"date"),a.Xb(),a.Yb(9,"td"),a.Uc(10),a.nc(11,"date"),a.Xb(),a.Yb(12,"td"),a.Uc(13),a.Xb(),a.Yb(14,"td"),a.Uc(15),a.Xb(),a.Yb(16,"td"),a.Uc(17),a.Xb(),a.Yb(18,"td"),a.Uc(19),a.Xb(),a.Yb(20,"td"),a.Uc(21),a.Xb(),a.Xb()),2&e){var n=t.$implicit,i=t.rowIndex,o=a.mc();a.Fb(2),a.Vc(i+1),a.Fb(2),a.Vc(a.oc(5,9,n.TrnMode)),a.Fb(3),a.Vc(a.pc(8,11,n.ReceivedDate,o.customDateFormat.DEF_DATE)),a.Fb(3),a.Vc(a.pc(11,14,n.CreatedOn,o.customDateFormat.DEF_DATE)),a.Fb(3),a.Vc(n.TransactionId),a.Fb(2),a.Vc(n.CardHolderName),a.Fb(2),a.Vc(n.CardNo),a.Fb(2),a.Vc(n.Amount),a.Fb(2),a.Vc(n.Remarks)}}function g(e,t){if(1&e&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2," No records found "),a.Xb(),a.Xb()),2&e){var n=t.$implicit;a.Fb(1),a.Gb("colspan",n.length)}}function y(e,t){1&e&&(a.Yb(0,"tr"),a.Yb(1,"th"),a.Uc(2,"Bank Name"),a.Xb(),a.Yb(3,"th"),a.Uc(4,"Transaction Id"),a.Xb(),a.Yb(5,"th"),a.Uc(6,"Account Number"),a.Xb(),a.Yb(7,"th"),a.Uc(8,"Account Holder Name"),a.Xb(),a.Yb(9,"th"),a.Uc(10,"IFSC Code"),a.Xb(),a.Xb())}function D(e,t){if(1&e&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2),a.Xb(),a.Yb(3,"td"),a.Uc(4),a.Xb(),a.Yb(5,"td"),a.Uc(6),a.Xb(),a.Yb(7,"td"),a.Uc(8),a.Xb(),a.Yb(9,"td"),a.Uc(10),a.Xb(),a.Xb()),2&e){var n=t.$implicit;a.Fb(2),a.Vc(n.BankName),a.Fb(2),a.Vc(n.TransactionId),a.Fb(2),a.Vc(n.AccNumber),a.Fb(2),a.Vc(n.AccHolderName),a.Fb(2),a.Vc(n.IFSCCode)}}function X(e,t){if(1&e&&(a.Yb(0,"div",0),a.Yb(1,"div",1),a.Yb(2,"p-table",19,20),a.Sc(4,g,3,1,"ng-template",5),a.Sc(5,y,11,0,"ng-template",6),a.Sc(6,D,11,5,"ng-template",7),a.Xb(),a.Xb(),a.Xb()),2&e){var n=a.mc();a.Fb(2),a.tc("value",n.lstTransaction)("rowHover",!0)("scrollable",!0)}}function Y(e,t){if(1&e&&(a.Yb(0,"div",23),a.Yb(1,"div",1),a.Yb(2,"p",24),a.Uc(3),a.Xb(),a.Xb(),a.Xb()),2&e){var n=t.$implicit,i=t.index;a.Fb(3),a.Zc("",i+1,") ",n.patientName," (MR No. - ",n.mrNo,") (Booking Number. - ",n.bookingNumber,")")}}function C(e,t){if(1&e&&(a.Yb(0,"div",21),a.Yb(1,"div",1),a.Sc(2,Y,4,4,"div",22),a.Xb(),a.Xb()),2&e){var n=a.mc();a.Fb(2),a.tc("ngForOf",n.lstGroupInfo)}}function N(e,t){if(1&e){var n=a.Zb();a.Yb(0,"a",25),a.ic("click",function(){return a.Lc(n),a.mc().DownloadDepositSlip()}),a.Uc(1,"Download Transaction Slip"),a.Xb()}}var k=function(){return["TrnMode","CardHolderName","CardNo","Amount"]},A=function(){var e=function(e){r(i,e);var t=l(i);function i(e,o,r,l){var c;return n(this,i),(c=t.call(this)).router=e,c._ConstantsService=o,c._PatientServices=r,c._UtilityService=l,c.IsVisitor=!1,c.slotBookingId=null,c.SelectedVCHRNO=null,c.SelectedPhiscalID=null,c.SelectedDivision=null,c.GetShowTransactionDetailsModel=new a.o,c.customDateFormat=s.h,c.userTypes=s.s,c.lstTransaction=[],c.lstGroupInfo=[],c.IsRefundVoucher=!1,c.DepositSlipLink=null,c.ActionList=s.a,c.lstIAccess=[],c.lstIAccessStr=[],c.getPageLevelAccess(),c}return o(i,[{key:"getPageLevelAccess",value:function(){var e,t,n=this,i=this.getUrlWithoutParams();"/common-dashboard"==i&&s.s.CallCenter===localStorage.getItem("userTypeId")?i="/patient/health-seekeer-registration":"/common-dashboard"==i&&s.s.Finance===localStorage.getItem("userTypeId")?i="/report/patient-billing-report":"/common-dashboard"==i&&s.s.Billing===localStorage.getItem("userTypeId")&&(i="/payment/extra-item-entry");var o=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==o?void 0:o.find(function(e){return e.MenuItemURL===i}))&&(this.lstIAccess=null===(e=o.find(function(e){return e.MenuItemURL===i}))||void 0===e?void 0:e.ActionIAccess,(null===(t=this.lstIAccess)||void 0===t?void 0:t.length)>0&&this.lstIAccess.map(function(e){n.lstIAccessStr.push(e.ActionId.toString())}))}},{key:"getUrlWithoutParams",value:function(){var e=this.router.parseUrl(this.router.url);return e.queryParams={},e.fragment=null,e.toString()}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.ShowTransactionDetails()}},{key:"ShowTransactionDetails",value:function(){var e=this;if(this.IsRefundVoucher=!1,this.lstTransaction=[],this.DepositSlipLink=null,null!=this.slotBookingId&&null!=this.slotBookingId&&""!=this.slotBookingId&&null!=this.SelectedVCHRNO&&null!=this.SelectedVCHRNO&&""!=this.SelectedVCHRNO&&null!=this.SelectedPhiscalID&&null!=this.SelectedPhiscalID&&""!=this.SelectedPhiscalID&&null!=this.SelectedDivision&&null!=this.SelectedDivision&&""!=this.SelectedDivision){this._UtilityService.showSpinner();var t=this._PatientServices.GetTransactionDetailsByVCHRNumber(this.slotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision);this.IsVisitor&&(t=this._PatientServices.GetVisitorTransactionDetailsByVCHRNumber(this.slotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision)),this.unsubscribe.add=t.subscribe({next:function(t){var n;if(e._UtilityService.hideSpinner(),1==t.actionResult.success&&null!=t.actionResult.result){var i=JSON.parse(t.actionResult.result);if(e.lstTransaction=i=i||[],(null===(n=e.lstTransaction)||void 0===n?void 0:n.length)>0&&e.lstTransaction[0].VoucherNumber.toString().includes("JV")&&null!=e.lstTransaction[0].IFSCCode&&null!=e.lstTransaction[0].IFSCCode&&""!=e.lstTransaction[0].IFSCCode&&(e.IsRefundVoucher=!0),null!=t.actionResult.result4[0]){var o=t.actionResult.result4[0];e.lstGroupInfo=o=o||[]}null!=t.actionResult.stringVal&&(e.DepositSlipLink=e._ConstantsService.BaseURIFileServer+"FolderTransaction/"+t.actionResult.stringVal),e.GetShowTransactionDetailsModel.emit(!0)}},error:function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)}})}else this._UtilityService.showWarningAlert("No record found")}},{key:"DownloadDepositSlip",value:function(){window.open(this.DepositSlipLink)}}]),i}(c.a);return e.\u0275fac=function(t){return new(t||e)(a.Sb(b.i),a.Sb(s.f),a.Sb(d.a),a.Sb(u.a))},e.\u0275cmp=a.Mb({type:e,selectors:[["app-individual-transaction-list"]],inputs:{IsVisitor:"IsVisitor",slotBookingId:"slotBookingId",SelectedVCHRNO:"SelectedVCHRNO",SelectedPhiscalID:"SelectedPhiscalID",SelectedDivision:"SelectedDivision"},outputs:{GetShowTransactionDetailsModel:"GetShowTransactionDetailsModel"},features:[a.Cb,a.Db],decls:14,vars:8,consts:[[1,"row","mb-4"],[1,"col-md-12"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["class","row mb-4",4,"ngIf"],["class","row m-0 mb-4",4,"ngIf"],[1,"col-md-9","text-left"],[3,"click",4,"ngIf"],[1,"col-md-3"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","scrollable"],["dt2",""],[1,"row","m-0","mb-4"],["class","row mb-2",4,"ngFor","ngForOf"],[1,"row","mb-2"],[2,"margin","6px 0 2px","font-size","10"],[3,"click"]],template:function(e,t){1&e&&(a.Yb(0,"div",0),a.Yb(1,"div",1),a.Yb(2,"p-table",2,3),a.Sc(4,T,6,0,"ng-template",4),a.Sc(5,v,3,1,"ng-template",5),a.Sc(6,S,19,0,"ng-template",6),a.Sc(7,I,22,17,"ng-template",7),a.Xb(),a.Xb(),a.Xb(),a.Sc(8,X,7,3,"div",8),a.Sc(9,C,3,1,"div",9),a.Yb(10,"div",0),a.Yb(11,"div",10),a.Sc(12,N,2,0,"a",11),a.Xb(),a.Tb(13,"div",12),a.Xb()),2&e&&(a.Fb(2),a.tc("value",t.lstTransaction)("rowHover",!0)("globalFilterFields",a.yc(7,k))("scrollable",!0),a.Fb(6),a.tc("ngIf",t.IsRefundVoucher),a.Fb(1),a.tc("ngIf",t.lstGroupInfo.length>0),a.Fb(3),a.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.Download.toString()))&&null!=t.DepositSlipLink))},directives:[h.c,m.i,p.p,f.a,p.o],pipes:[p.y,p.f],styles:[""]}),e}()},ELi9:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var o,r,a=i("ofXK"),l=i("tyNb"),c=i("KkSF"),s=i("fXoL"),b=[{path:"",component:c.a}],d=((o=function e(){n(this,e)}).\u0275fac=function(e){return new(e||o)},o.\u0275mod=s.Qb({type:o}),o.\u0275inj=s.Pb({imports:[[l.l.forChild(b)],l.l]}),o),u=i("3Pt+"),h=i("QoE7"),m=i("9XlL"),p=i("ycwT"),f=((r=function e(){n(this,e)}).\u0275fac=function(e){return new(e||r)},r.\u0275mod=s.Qb({type:r}),r.\u0275inj=s.Pb({imports:[[a.c,d,u.i,h.a,m.a,p.a]]}),r)},KkSF:function(e,t,i){"use strict";i.d(t,"a",function(){return H});var a=i("CwUn"),c=i("Nach"),s=i("fXoL"),b=i("G+wY"),d=i("NLkC"),u=i("Q8Cd"),h=i("sCq/"),m=i("ofXK"),p=i("Yh3i");function f(e,t){if(1&e&&(s.Yb(0,"tr",7),s.Yb(1,"td",8),s.Yb(2,"b"),s.Uc(3,"Payment Mode: "),s.Xb(),s.Yb(4,"span"),s.Uc(5),s.Xb(),s.Xb(),s.Yb(6,"td",9),s.Yb(7,"b"),s.Uc(8),s.Xb(),s.Yb(9,"span"),s.Uc(10),s.nc(11,"number"),s.Xb(),s.Xb(),s.Xb()),2&e){var n=s.mc();s.Fb(5),s.Vc(n.VoucherInfo.PayMode),s.Fb(3),s.Wc("","RefundPayment"==n.InvType?"Refunded":"CreditNote"==n.InvType?"Credit Note":"Received"," Amount: "),s.Fb(2),s.Vc(s.pc(11,3,n.VoucherInfo.NetProfit,"1.1-2"))}}function T(e,t){if(1&e&&(s.Yb(0,"p"),s.Yb(1,"b"),s.Uc(2,"Reference Tax Invoice Number: "),s.Xb(),s.Yb(3,"span"),s.Uc(4),s.Xb(),s.Xb()),2&e){var n=s.mc(2);s.Fb(4),s.Vc(n.VoucherInfo.RefTaxInvNumber)}}function v(e,t){if(1&e&&(s.Yb(0,"p"),s.Yb(1,"b"),s.Uc(2," Reference Tax Invoice Date: "),s.Xb(),s.Yb(3,"span"),s.Uc(4),s.nc(5,"date"),s.Xb(),s.Xb()),2&e){var n=s.mc(2);s.Fb(4),s.Vc(s.pc(5,1,n.VoucherInfo.RefTaxInvoiceDate,n.customDateFormat.DEF_DATE))}}function S(e,t){if(1&e&&(s.Yb(0,"tr",7),s.Yb(1,"td",8),s.Sc(2,T,5,1,"p",20),s.Xb(),s.Yb(3,"td",9),s.Sc(4,v,6,4,"p",20),s.Xb(),s.Xb()),2&e){var n=s.mc();s.Fb(2),s.tc("ngIf",null!=(null==n.VoucherInfo?null:n.VoucherInfo.RefTaxInvNumber)&&null!=(null==n.VoucherInfo?null:n.VoucherInfo.RefTaxInvNumber)),s.Fb(2),s.tc("ngIf",null!=(null==n.VoucherInfo?null:n.VoucherInfo.RefTaxInvoiceDate)&&null!=(null==n.VoucherInfo?null:n.VoucherInfo.RefTaxInvoiceDate))}}function I(e,t){if(1&e&&(s.Yb(0,"p"),s.Yb(1,"b"),s.Uc(2),s.Xb(),s.Yb(3,"span"),s.Uc(4),s.Xb(),s.Xb()),2&e){var n=s.mc(2);s.Fb(2),s.Wc("","RefundPayment"==n.InvType?"Refund":"CreditNote"==n.InvType?"Credit":"Receive"," Application Number: "),s.Fb(2),s.Vc(n.VoucherInfo.CRDocumentNumber)}}function g(e,t){if(1&e&&(s.Yb(0,"p"),s.Yb(1,"b"),s.Uc(2),s.Xb(),s.Yb(3,"span"),s.Uc(4),s.Xb(),s.Xb()),2&e){var n=s.mc(2);s.Fb(2),s.Wc("","RefundPayment"==n.InvType?"Refund":"CreditNote"==n.InvType?"Credit":"Receive"," UTR Number: "),s.Fb(2),s.Vc(n.VoucherInfo.CRUTRNumber)}}function y(e,t){if(1&e&&(s.Yb(0,"tr",7),s.Yb(1,"td",8),s.Sc(2,I,5,2,"p",20),s.Xb(),s.Yb(3,"td",9),s.Sc(4,g,5,2,"p",20),s.Xb(),s.Xb()),2&e){var n=s.mc();s.Fb(2),s.tc("ngIf",null!=(null==n.VoucherInfo?null:n.VoucherInfo.CRDocumentNumber)&&null!=(null==n.VoucherInfo?null:n.VoucherInfo.CRDocumentNumber)),s.Fb(2),s.tc("ngIf",null!=(null==n.VoucherInfo?null:n.VoucherInfo.CRUTRNumber)&&null!=(null==n.VoucherInfo?null:n.VoucherInfo.CRUTRNumber))}}function D(e,t){if(1&e&&(s.Yb(0,"p"),s.Yb(1,"b"),s.Uc(2,"Purpose: "),s.Xb(),s.Yb(3,"span"),s.Uc(4),s.Xb(),s.Xb()),2&e){var n=s.mc(2);s.Fb(4),s.Vc(n.VoucherInfo.CreditReason)}}function X(e,t){if(1&e&&(s.Yb(0,"tr",7),s.Yb(1,"td",8),s.Sc(2,D,5,1,"p",20),s.Xb(),s.Tb(3,"td",9),s.Xb()),2&e){var n=s.mc();s.Fb(2),s.tc("ngIf",null!=(null==n.VoucherInfo?null:n.VoucherInfo.CreditReason)&&null!=(null==n.VoucherInfo?null:n.VoucherInfo.CreditReason))}}function Y(e,t){if(1&e&&(s.Yb(0,"td",34),s.Uc(1),s.nc(2,"number"),s.Xb()),2&e){var n=s.mc().$implicit;s.Fb(1),s.Wc(" ",s.pc(2,1,n.MRP,"1.1-2"),"")}}function C(e,t){1&e&&s.Tb(0,"td",34)}function N(e,t){if(1&e&&(s.Yb(0,"td",34),s.Uc(1),s.Xb()),2&e){var n=s.mc().$implicit;s.Fb(1),s.Wc(" ",n.Qty,"")}}function k(e,t){1&e&&s.Tb(0,"td",34)}function A(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td",30),s.Uc(2),s.Xb(),s.Yb(3,"td",31),s.Uc(4),s.Xb(),s.Sc(5,Y,3,4,"td",32),s.Sc(6,C,1,0,"td",32),s.Sc(7,N,2,1,"td",32),s.Sc(8,k,1,0,"td",32),s.Yb(9,"td",33),s.Uc(10),s.nc(11,"number"),s.Xb(),s.Xb()),2&e){var n=t.$implicit,i=s.mc(2);s.Fb(2),s.Wc(" ",n.RoomCount>0&&1==i.IsRoomDesc?"Treatment ("+n.Description+")":n.Description,""),s.Fb(2),s.Wc(" ",n.HSNCODE,""),s.Fb(1),s.tc("ngIf","CreditNote"!=i.InvType),s.Fb(1),s.tc("ngIf","CreditNote"==i.InvType),s.Fb(1),s.tc("ngIf","CreditNote"!=i.InvType),s.Fb(1),s.tc("ngIf","CreditNote"==i.InvType),s.Fb(2),s.Wc(" ",s.pc(11,7,n.PriceWithGST,"1.1-2"),"")}}function R(e,t){if(1&e&&(s.Yb(0,"b"),s.Uc(1),s.nc(2,"number"),s.Xb()),2&e){var n=s.mc(3);s.Fb(1),s.Wc("(",s.pc(2,1,n.BillWiseDiscountPer,"1.1-2"),"%)")}}function P(e,t){if(1&e&&(s.Yb(0,"td",25),s.Yb(1,"b"),s.Uc(2,"Total Discount"),s.Xb(),s.Sc(3,R,3,4,"b",20),s.Yb(4,"b"),s.Uc(5,":"),s.Xb(),s.Uc(6),s.nc(7,"number"),s.Xb()),2&e){var n=s.mc(2);s.Fb(3),s.tc("ngIf",n.BillWiseDiscountPer>0),s.Fb(3),s.Wc(" \u20b9 ",s.pc(7,2,n.TotalDiscAmount,"1.1-2"),"")}}function U(e,t){1&e&&s.Tb(0,"td",25)}function F(e,t){if(1&e&&(s.Yb(0,"td",25),s.Yb(1,"b"),s.Uc(2,"Net Payable: "),s.Xb(),s.Uc(3),s.nc(4,"number"),s.Xb()),2&e){var n=s.mc(2);s.Fb(3),s.Wc(" \u20b9 ",s.pc(4,1,n.TotalNetAmount,"1.1-2"),"")}}function M(e,t){1&e&&s.Tb(0,"td",25)}function w(e,t){if(1&e&&(s.Yb(0,"td",35),s.Yb(1,"b"),s.Uc(2),s.Xb(),s.Uc(3),s.nc(4,"number"),s.Xb()),2&e){var n=s.mc(2);s.Fb(2),s.Wc("","RefundPayment"==n.InvType?"Refunded":"Received"," Amount: "),s.Fb(1),s.Wc(" \u20b9 ",s.pc(4,2,n.VoucherInfo.NetProfit,"1.1-2"),"")}}function B(e,t){1&e&&s.Tb(0,"td",35)}function O(e,t){if(1&e&&(s.Yb(0,"td",35),s.Yb(1,"b"),s.Uc(2,"Wallet Used Amount: "),s.Xb(),s.Uc(3),s.nc(4,"number"),s.Xb()),2&e){var n=s.mc(2);s.Fb(3),s.Wc(" \u20b9 ",s.pc(4,1,n.VoucherInfo.CreditTranAmount,"1.1-2"),"")}}function V(e,t){1&e&&s.Tb(0,"td",35)}function x(e,t){if(1&e&&(s.Yb(0,"table",12),s.Yb(1,"thead",13),s.Yb(2,"tr",14),s.Yb(3,"th",15),s.Uc(4,"Item"),s.Xb(),s.Yb(5,"th",16),s.Uc(6,"HSN/SAC"),s.Xb(),s.Yb(7,"th",16),s.Uc(8,"Price"),s.Xb(),s.Yb(9,"th",16),s.Uc(10,"Qty"),s.Xb(),s.Yb(11,"th",23),s.Uc(12,"Total"),s.Xb(),s.Xb(),s.Xb(),s.Yb(13,"tbody",13),s.Sc(14,A,12,10,"tr",18),s.Yb(15,"tr"),s.Yb(16,"td",24),s.Yb(17,"b"),s.Uc(18),s.nc(19,"amountToWord"),s.Xb(),s.Xb(),s.Yb(20,"td",25),s.Yb(21,"b"),s.Uc(22,"Grand Total: "),s.Xb(),s.Uc(23),s.nc(24,"number"),s.Xb(),s.Xb(),s.Yb(25,"tr"),s.Sc(26,P,8,5,"td",26),s.Sc(27,U,1,0,"td",26),s.Xb(),s.Yb(28,"tr"),s.Sc(29,F,5,4,"td",26),s.Sc(30,M,1,0,"td",26),s.Xb(),s.Yb(31,"tr"),s.Yb(32,"td",27),s.Yb(33,"b"),s.Uc(34,"Payment Mode: "),s.Xb(),s.Uc(35),s.Xb(),s.Sc(36,w,5,5,"td",28),s.Sc(37,B,1,0,"td",28),s.Xb(),s.Yb(38,"tr"),s.Tb(39,"td",27),s.Sc(40,O,5,4,"td",28),s.Sc(41,V,1,0,"td",28),s.Xb(),s.Yb(42,"tr"),s.Yb(43,"td",29),s.Tb(44,"hr"),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&e){var n=s.mc();s.Fb(14),s.tc("ngForOf",n.printBillItem),s.Fb(4),s.Wc("Amount in words: Rupees ",s.oc(19,12,n.VoucherInfo.NetProfit)," Only"),s.Fb(5),s.Wc(" \u20b9 ",s.pc(24,14,n.TotalGrandTotalAmount,"1.1-2"),""),s.Fb(3),s.tc("ngIf","CreditNote"!=n.InvType),s.Fb(1),s.tc("ngIf","CreditNote"==n.InvType),s.Fb(2),s.tc("ngIf","CreditNote"!=n.InvType),s.Fb(1),s.tc("ngIf","CreditNote"==n.InvType),s.Fb(5),s.Vc(n.VoucherInfo.PayMode),s.Fb(1),s.tc("ngIf","CreditNote"!=n.InvType),s.Fb(1),s.tc("ngIf","CreditNote"==n.InvType),s.Fb(3),s.tc("ngIf","CreditNote"!=n.InvType&&n.VoucherInfo.CreditTranAmount>0),s.Fb(1),s.tc("ngIf","CreditNote"==n.InvType||0===n.VoucherInfo.CreditTranAmount)}}function L(e,t){1&e&&(s.Yb(0,"th",16),s.Uc(1,"Cheque Date"),s.Xb())}function _(e,t){if(1&e&&(s.Yb(0,"td",34),s.Uc(1),s.nc(2,"date"),s.Xb()),2&e){var n=s.mc().$implicit,i=s.mc();s.Fb(1),s.Wc(" ",s.pc(2,1,n.IssueDate,i.customDateFormat.DEF_DATE),"")}}function j(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td",30),s.Uc(2),s.Xb(),s.Yb(3,"td",34),s.Uc(4),s.nc(5,"date"),s.Xb(),s.Sc(6,_,3,4,"td",32),s.Yb(7,"td",34),s.Uc(8),s.Xb(),s.Yb(9,"td",34),s.Uc(10),s.nc(11,"number"),s.Xb(),s.Xb()),2&e){var n=t.$implicit,i=s.mc();s.Fb(2),s.Wc(" ",n.TransactionId,""),s.Fb(2),s.Wc(" ",s.pc(5,5,n.ReceivedDate,i.customDateFormat.DEF_DATE),""),s.Fb(2),s.tc("ngIf",i.IsPayModeChequeExist),s.Fb(2),s.Wc(" ",n.TrnMode,""),s.Fb(2),s.Wc(" \u20b9",s.pc(11,8,n.Amount,"1.1-2"),"")}}function W(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td",36),s.Yb(2,"b"),s.Uc(3,"Authorized By"),s.Xb(),s.Xb(),s.Yb(4,"td",37),s.Uc(5),s.Xb(),s.Xb()),2&e){var n=s.mc();s.Fb(5),s.Wc(" ",null==n.printBillItem[0]?null:n.printBillItem[0].ReferredBy,"")}}function G(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td",36),s.Yb(2,"b"),s.Uc(3,"Approved By"),s.Xb(),s.Xb(),s.Yb(4,"td",37),s.Uc(5),s.Xb(),s.Xb()),2&e){var n=s.mc();s.Fb(5),s.Wc(" ",null==n.printTransactionDetails[0]?null:n.printTransactionDetails[0].ApprovedBy,"")}}function E(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td",36),s.Yb(2,"b"),s.Uc(3,"Remarks"),s.Xb(),s.Xb(),s.Yb(4,"td",37),s.Uc(5),s.Xb(),s.Xb()),2&e){var n=s.mc();s.Fb(5),s.Wc(" ",null==n.printTransactionDetails[0]?null:n.printTransactionDetails[0].Remarks,"")}}var H=function(){var e=function(e){r(i,e);var t=l(i);function i(e,o,r){var a;return n(this,i),(a=t.call(this))._PatientServices=e,a._ConstantsService=o,a._UtilityService=r,a.IsVisitor=!1,a.Status=1,a.customDateFormat=c.h,a.VoucherInfo={},a.printBillItem=[],a.TotalGrandTotalAmount=0,a.TotalDiscAmount=0,a.TotalNetAmount=0,a.BillWiseDiscountPer=0,a.IsRoomDesc=!0,a.printTransactionDetails=[],a.IsPayModeChequeExist=!1,a.IsLetterhead="false",a.heading=null,a.invStatus=c.l,a}return o(i,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.LoadPaymentVoucherDetails(),this.heading="SalesReturn"==this.InvType?"Sales Return":"RefundPayment"==this.InvType?this.Status==this.invStatus.RefundforCancellationCharge?"Booking Cancellation Voucher":"Payment Refund Voucher":"CreditNote"==this.InvType?"Credit Note":"Payment Receive Voucher"}},{key:"LoadPaymentVoucherDetails",value:function(){var e=this;this.TotalGrandTotalAmount=0,this.TotalDiscAmount=0,this.TotalNetAmount=0,this.BillWiseDiscountPer=0,this.printBillItem=[],this.VoucherInfo={},this.IsPayModeChequeExist=!1,this.printTransactionDetails=[],this._UtilityService.showSpinner();var t=this._PatientServices.LoadPaymentVoucherDetails(this.SelectedSlotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision);this.IsVisitor&&(t=this._PatientServices.LoadVisitorPaymentVoucherDetails(this.SelectedSlotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision)),this.unsubscribe.add=t.subscribe(function(t){var n,i,o,r;if(e._UtilityService.hideSpinner(),1==t.actionResult.success){if((null===(n=t.actionResult.result)||void 0===n?void 0:n.length)>0){var a=JSON.parse(t.actionResult.result);e.printBillItem=a=a||[],(null===(i=e.printBillItem.filter(function(e){return"Treatment/Medicated food charges"==e.Description||"Treatment Charges"==e.DESCRIPTION}))||void 0===i?void 0:i.length)>0&&(e.IsRoomDesc=!1),e.printBillItem.map(function(t){e.TotalGrandTotalAmount=e.TotalGrandTotalAmount+e._ConstantsService.nullToZeroConverter(t.PriceWithGST),e.TotalDiscAmount=e.TotalDiscAmount+e._ConstantsService.nullToZeroConverter(t.DiscountAmount)}),e.TotalNetAmount=e.TotalGrandTotalAmount-e.TotalDiscAmount,e.BillWiseDiscountPer=e.TotalDiscAmount/e.TotalGrandTotalAmount*100}if((null===(o=t.actionResult.result2)||void 0===o?void 0:o.length)>0){var l=JSON.parse(t.actionResult.result2);e.VoucherInfo=l=l||[]}if((null===(r=t.actionResult.result3)||void 0===r?void 0:r.length)>0){var c=JSON.parse(t.actionResult.result3);e.printTransactionDetails=c=c||[],e.IsPayModeChequeExist=e.printTransactionDetails.some(function(e){return"Cheque"==e.TrnMode}),console.log(e.printTransactionDetails)}}},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"onselectedLetterhead",value:function(e){this.IsLetterhead=e}}]),i}(a.a);return e.\u0275fac=function(t){return new(t||e)(s.Sb(b.a),s.Sb(c.f),s.Sb(d.a))},e.\u0275cmp=s.Mb({type:e,selectors:[["app-print-payment-voucher"]],inputs:{IsVisitor:"IsVisitor",SelectedSlotBookingId:"SelectedSlotBookingId",SelectedVCHRNO:"SelectedVCHRNO",SelectedPhiscalID:"SelectedPhiscalID",SelectedDivision:"SelectedDivision",InvType:"InvType",Status:"Status"},features:[s.Cb,s.Db],decls:54,vars:26,consts:[[3,"IsLetterhead","IsNgxPrint","onselectedLetterhead"],["id","print-section",1,"row"],[1,"col-md-12"],[3,"IsPeriod","IsVisitor","slotBookingId","heading","IsGST","IsLetterhead"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","font-size","15px"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box"],["colspan","3"],[2,"background-color","#d3d3d3"],[2,"padding","5px"],[2,"text-align","right","padding","5px"],["style","background-color: #d3d3d3;",4,"ngIf"],["style","width: 100%; margin: 0 auto; box-sizing: border-box; border: 1px solid #d3d3d3; margin-top: 10px;","cellpadding","0","cellspacing","3",4,"ngIf"],["cellpadding","0","cellspacing","3",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","10px"],["align","Center"],[2,"background","#d3d3d3"],["align","left",2,"padding","6px","text-align","left"],["align","Center",2,"padding","6px"],["style","padding: 6px;","align","Center",4,"ngIf"],[4,"ngFor","ngForOf"],["align","left"],[4,"ngIf"],["align","right",2,"padding","20px 4px","border-top","1px solid #f1f1f1"],[1,"mt-3"],[2,"padding","6px","text-align","right"],["colspan","4","rowspan","3",2,"text-align","left","word-wrap","break-word","width","70%","padding-left","5px"],["colspan","1","align","right",2,"padding","2px"],["colspan","1","align","right","style","padding: 2px;",4,"ngIf"],["colspan","2","align","left",2,"padding","2px 5px"],["colspan","3","align","right","style","padding: 2px;",4,"ngIf"],["colspan","5"],["align","center",2,"text-align","left","padding","6px 5px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","center",2,"text-align","center","padding","6px 5px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","center","style","text-align: center;padding: 6px  0px; border-left: 1px solid #d3d3d3; border-bottom: 1px solid #d3d3d3;",4,"ngIf"],["align","right",2,"text-align","right","padding","6px 0px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","center",2,"text-align","center","padding","6px  0px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["colspan","3","align","right",2,"padding","2px"],[2,"width","200px","padding","6px","text-align","left","border","1px solid #d3d3d3"],[2,"padding","6px","text-align","left","border","1px solid #d3d3d3"]],template:function(e,t){1&e&&(s.Yb(0,"app-print-access-header",0),s.ic("onselectedLetterhead",function(e){return t.onselectedLetterhead(e)}),s.Xb(),s.Yb(1,"div",1),s.Yb(2,"div",2),s.Tb(3,"app-print-header",3),s.Yb(4,"table",4),s.Yb(5,"tbody"),s.Yb(6,"tr"),s.Yb(7,"table",5),s.Yb(8,"tbody"),s.Yb(9,"tr"),s.Yb(10,"td",6),s.Tb(11,"hr"),s.Xb(),s.Xb(),s.Yb(12,"tr",7),s.Yb(13,"td",8),s.Yb(14,"b"),s.Uc(15),s.Xb(),s.Yb(16,"span"),s.Uc(17),s.Xb(),s.Xb(),s.Yb(18,"td",9),s.Yb(19,"b"),s.Uc(20,"Generation Date: "),s.Xb(),s.Yb(21,"span"),s.Uc(22),s.nc(23,"date"),s.Xb(),s.Xb(),s.Xb(),s.Sc(24,f,12,6,"tr",10),s.Sc(25,S,5,2,"tr",10),s.Sc(26,y,5,2,"tr",10),s.Sc(27,X,4,1,"tr",10),s.Xb(),s.Xb(),s.Sc(28,x,45,17,"table",11),s.Yb(29,"table",12),s.Yb(30,"thead",13),s.Yb(31,"tr",14),s.Yb(32,"th",15),s.Uc(33,"Transaction Id"),s.Xb(),s.Yb(34,"th",16),s.Uc(35,"Received Date"),s.Xb(),s.Sc(36,L,2,0,"th",17),s.Yb(37,"th",16),s.Uc(38,"Payment Mode"),s.Xb(),s.Yb(39,"th",16),s.Uc(40,"Amount"),s.Xb(),s.Xb(),s.Xb(),s.Yb(41,"tbody",13),s.Sc(42,j,12,11,"tr",18),s.Xb(),s.Xb(),s.Yb(43,"table",12),s.Yb(44,"tbody",19),s.Sc(45,W,6,1,"tr",20),s.Sc(46,G,6,1,"tr",20),s.Sc(47,E,6,1,"tr",20),s.Xb(),s.Xb(),s.Yb(48,"table",12),s.Yb(49,"tr"),s.Yb(50,"td",21),s.Uc(51,"Authorized Signature"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(52,"div",22),s.Yb(53,"app-print-access-header",0),s.ic("onselectedLetterhead",function(e){return t.onselectedLetterhead(e)}),s.Xb(),s.Xb()),2&e&&(s.tc("IsLetterhead",t.IsLetterhead)("IsNgxPrint",!0),s.Fb(3),s.tc("IsPeriod",!1)("IsVisitor",t.IsVisitor)("slotBookingId",t.SelectedSlotBookingId)("heading",t.heading)("IsGST",!0)("IsLetterhead",t.IsLetterhead),s.Fb(12),s.Wc("","CreditNote"==t.InvType?"Credit Note Number":"Voucher Number",": "),s.Fb(2),s.Vc(t.VoucherInfo.InvoiceNumber),s.Fb(5),s.Vc(s.pc(23,23,t.VoucherInfo.GenertaedOn,t.customDateFormat.DEF_DATE)),s.Fb(2),s.tc("ngIf",0==(null==t.printBillItem?null:t.printBillItem.length)),s.Fb(1),s.tc("ngIf",null!=(null==t.VoucherInfo?null:t.VoucherInfo.RefTaxInvNumber)||null!=(null==t.VoucherInfo?null:t.VoucherInfo.RefTaxInvNumber)||null!=(null==t.VoucherInfo?null:t.VoucherInfo.RefTaxInvoiceDate)||null!=(null==t.VoucherInfo?null:t.VoucherInfo.RefTaxInvoiceDate)),s.Fb(1),s.tc("ngIf",null!=(null==t.VoucherInfo?null:t.VoucherInfo.CRDocumentNumber)||null!=(null==t.VoucherInfo?null:t.VoucherInfo.CRDocumentNumber)||null!=(null==t.VoucherInfo?null:t.VoucherInfo.CRUTRNumber)||null!=(null==t.VoucherInfo?null:t.VoucherInfo.CRUTRNumber)),s.Fb(1),s.tc("ngIf",null!=(null==t.VoucherInfo?null:t.VoucherInfo.CreditReason)||null!=(null==t.VoucherInfo?null:t.VoucherInfo.CreditReason)),s.Fb(1),s.tc("ngIf",(null==t.printBillItem?null:t.printBillItem.length)>0),s.Fb(8),s.tc("ngIf",t.IsPayModeChequeExist),s.Fb(6),s.tc("ngForOf",t.printTransactionDetails),s.Fb(3),s.tc("ngIf",""!=(null==t.printBillItem[0]?null:t.printBillItem[0].ReferredBy)&&null!=(null==t.printBillItem[0]?null:t.printBillItem[0].ReferredBy)&&null!=(null==t.printBillItem[0]?null:t.printBillItem[0].ReferredBy)),s.Fb(1),s.tc("ngIf",""!=(null==t.printTransactionDetails[0]?null:t.printTransactionDetails[0].ApprovedBy)&&null!=(null==t.printTransactionDetails[0]?null:t.printTransactionDetails[0].ApprovedBy)&&null!=(null==t.printTransactionDetails[0]?null:t.printTransactionDetails[0].ApprovedBy)),s.Fb(1),s.tc("ngIf",""!=(null==t.printTransactionDetails[0]?null:t.printTransactionDetails[0].Remarks)&&null!=(null==t.printTransactionDetails[0]?null:t.printTransactionDetails[0].Remarks)&&null!=(null==t.printTransactionDetails[0]?null:t.printTransactionDetails[0].Remarks)),s.Fb(6),s.tc("IsLetterhead",t.IsLetterhead)("IsNgxPrint",!0))},directives:[u.a,h.a,m.p,m.o],pipes:[m.f,m.g,p.a],styles:[""]}),e}()},Qcri:function(e,t,i){"use strict";i.d(t,"a",function(){return p});var o,r,a=i("ofXK"),l=i("tyNb"),c=i("9b74"),s=i("fXoL"),b=[{path:"",component:c.a}],d=((o=function e(){n(this,e)}).\u0275fac=function(e){return new(e||o)},o.\u0275mod=s.Qb({type:o}),o.\u0275inj=s.Pb({imports:[[l.l.forChild(b)],l.l]}),o),u=i("rEr+"),h=i("jIHw"),m=i("7kUa"),p=((r=function e(){n(this,e)}).\u0275fac=function(e){return new(e||r)},r.\u0275mod=s.Qb({type:r}),r.\u0275inj=s.Pb({imports:[[a.c,d,u.f,h.c,m.b]]}),r)},Yh3i:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var r=i("fXoL"),a=function(){var e=function(){function e(){n(this,e),this.a=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],this.b=["","","Twenty","Thirty","Fourty","Fifty","Sixty","Seventy","Eighty","Ninety"]}return o(e,[{key:"transform",value:function(e,t){if(e){var n=Number(e);if(n){if((n=n.toString()).length>9)return"We are not the Iron Bank, you can lower down the stakes :)";var i=("000000000"+n).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(!i)return"";var o="";return o+=0!==Number(i[1])?(this.a[Number(i[1])]||this.b[i[1][0]]+" "+this.a[i[1][1]])+"Crore ":"",o+=0!==Number(i[2])?(this.a[Number(i[2])]||this.b[i[2][0]]+" "+this.a[i[2][1]])+"Lakh ":"",o+=0!==Number(i[3])?(this.a[Number(i[3])]||this.b[i[3][0]]+" "+this.a[i[3][1]])+"Thousand ":"",o+=0!==Number(i[4])?(this.a[Number(i[4])]||this.b[i[4][0]]+" "+this.a[i[4][1]])+"Hundred ":"",o+=0!==Number(i[5])?(""!==o?"and ":"")+(this.a[Number(i[5])]||this.b[i[5][0]]+" "+this.a[i[5][1]])+"Rupees":""}return""}return""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Rb({name:"amountToWord",type:e,pure:!0}),e}()},aeiD:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=[{TenderName:"Online (RazorPay)",ACID:"ATONLN",disabled:!1},{TenderName:"Online (WorldLine)",ACID:"ATWLONLN",disabled:!1},{TenderName:"Bank Deposit",ACID:"BT01001",disabled:!1},{TenderName:"Cash",ACID:"AT01002",disabled:!1},{TenderName:"Card",ACID:"AT999999",disabled:!1},{TenderName:"Credit",ACID:"LB1199",disabled:!1},{TenderName:"Cheque",ACID:"DI01001",disabled:!1}],o=[{DoctorName:"Doctor-A",TokenList:[{TokenNumber:"1"},{TokenNumber:"2"},{TokenNumber:"3"},{TokenNumber:"4"},{TokenNumber:"5"},{TokenNumber:"6"}]},{DoctorName:"Doctor-B",TokenList:[{TokenNumber:"7"},{TokenNumber:"8"},{TokenNumber:"9"},{TokenNumber:"10"},{TokenNumber:"11"},{TokenNumber:"12"}]},{DoctorName:"Doctor-C",TokenList:[{TokenNumber:"13"},{TokenNumber:"14"},{TokenNumber:"15"},{TokenNumber:"16"},{TokenNumber:"17"},{TokenNumber:"18"}]},{DoctorName:"Doctor-D",TokenList:[{TokenNumber:"19"},{TokenNumber:"20"},{TokenNumber:"21"},{TokenNumber:"22"},{TokenNumber:"23"},{TokenNumber:"24"}]},{DoctorName:"Doctor-E",TokenList:[{TokenNumber:"25"},{TokenNumber:"26"},{TokenNumber:"27"},{TokenNumber:"28"},{TokenNumber:"29"},{TokenNumber:"30"}]},{DoctorName:"Doctor-F",TokenList:[{TokenNumber:"31"},{TokenNumber:"32"},{TokenNumber:"33"},{TokenNumber:"34"},{TokenNumber:"35"},{TokenNumber:"36"}]},{DoctorName:"Doctor-G",TokenList:[{TokenNumber:"37"},{TokenNumber:"38"},{TokenNumber:"39"},{TokenNumber:"40"},{TokenNumber:"41"},{TokenNumber:"42"}]},{DoctorName:"Doctor-H",TokenList:[{TokenNumber:"43"},{TokenNumber:"44"},{TokenNumber:"45"},{TokenNumber:"46"},{TokenNumber:"47"},{TokenNumber:"48"}]},{DoctorName:"Doctor-I",TokenList:[{TokenNumber:"49"},{TokenNumber:"50"},{TokenNumber:"51"},{TokenNumber:"52"},{TokenNumber:"53"},{TokenNumber:"54"}]},{DoctorName:"Doctor-J",TokenList:[{TokenNumber:"55"},{TokenNumber:"56"},{TokenNumber:"57"},{TokenNumber:"58"},{TokenNumber:"59"},{TokenNumber:"60"}]},{DoctorName:"Doctor-K",TokenList:[{TokenNumber:"61"},{TokenNumber:"62"},{TokenNumber:"63"},{TokenNumber:"64"},{TokenNumber:"65"},{TokenNumber:"66"}]},{DoctorName:"Doctor-L",TokenList:[{TokenNumber:"67"},{TokenNumber:"68"},{TokenNumber:"69"},{TokenNumber:"70"},{TokenNumber:"71"},{TokenNumber:"72"}]}]},btFH:function(e,t,i){"use strict";i.d(t,"a",function(){return fe});var a=i("CwUn"),c=i("Nach"),s=i("fXoL"),b=i("tyNb"),d=i("G+wY"),u=i("NLkC"),h=i("rEr+"),m=i("7zfz"),p=i("/RsI"),f=i("ofXK"),T=i("7kUa"),v=i("KkSF"),S=i("jhiP"),I=i("9b74"),g=i("aeiD"),y=i("lVkt"),D=i("3Pt+"),X=i("Ks7X"),Y=i("eO1q"),C=function(){return{width:"100%"}},N=function(){return{standalone:!0}};function k(e,t){if(1&e){var n=s.Zb();s.Yb(0,"div",12),s.Yb(1,"h6",13),s.Yb(2,"strong"),s.Uc(3,"Cash Details"),s.Xb(),s.Xb(),s.Yb(4,"div",14),s.Yb(5,"div",15),s.Yb(6,"label"),s.Yb(7,"strong"),s.Uc(8," Amount "),s.Yb(9,"span",16),s.Uc(10,"*"),s.Xb(),s.Xb(),s.Xb(),s.Yb(11,"p-inputNumber",17),s.ic("ngModelChange",function(e){return s.Lc(n),s.mc().TenderObj.CASH=e}),s.Xb(),s.Xb(),s.Yb(12,"div",15),s.Yb(13,"label"),s.Yb(14,"strong"),s.Uc(15,"Received Date"),s.Xb(),s.Yb(16,"span",16),s.Uc(17,"*"),s.Xb(),s.Xb(),s.Yb(18,"p-calendar",18,19),s.ic("ngModelChange",function(e){return s.Lc(n),s.mc().TenderObj.CashRecdDate=e}),s.Xb(),s.Xb(),s.Xb(),s.Tb(20,"hr"),s.Xb()}if(2&e){var i=s.mc();s.Fb(11),s.Pc(s.yc(15,C)),s.tc("ngModel",i.TenderObj.CASH)("min",0)("max",i.NetPaybleTotal),s.Fb(7),s.wc("yearRange","",i.customDateFormat.MinYear,":",i.MaxYear,""),s.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",i.todayDate)("ngModel",i.TenderObj.CashRecdDate)("ngModelOptions",s.yc(16,N))("showIcon",!0)("dateFormat",i.customDateFormat.CalendarFormat)("readonlyInput",!1)}}function A(e,t){if(1&e){var n=s.Zb();s.Yb(0,"a",27),s.ic("click",function(){return s.Lc(n),s.mc(3).AddCardPaymentDetails()}),s.Tb(1,"i",28),s.Xb()}}function R(e,t){if(1&e){var n=s.Zb();s.Yb(0,"a",27),s.ic("click",function(){s.Lc(n);var e=s.mc().index,t=s.mc(2);return t.RemoveCardPaymentDetails(t.lstCardPaymentTransactionDetails[e].Sequence)}),s.Tb(1,"i",29),s.Xb()}}function P(e,t){if(1&e){var n=s.Zb();s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Yb(4,"input",23),s.ic("ngModelChange",function(e){return t.$implicit.CardNumber=e}),s.Xb(),s.Xb(),s.Yb(5,"td"),s.Yb(6,"input",23),s.ic("ngModelChange",function(e){return t.$implicit.CardHolderName=e}),s.Xb(),s.Xb(),s.Yb(7,"td"),s.Yb(8,"input",23),s.ic("ngModelChange",function(e){return t.$implicit.TransactionId=e}),s.Xb(),s.Xb(),s.Yb(9,"td"),s.Yb(10,"p-calendar",18,24),s.ic("ngModelChange",function(e){return t.$implicit.RecdDate=e}),s.Xb(),s.Xb(),s.Yb(12,"td"),s.Yb(13,"p-inputNumber",25),s.ic("onInput",function(e){s.Lc(n);var i=t.$implicit;return s.mc(2).CalculateTotalCardPayment(e,i.Sequence)})("onBlur",function(){return s.Lc(n),s.mc(2).CalculateTotalCardPaymentrev()})("ngModelChange",function(e){return t.$implicit.Amount=e}),s.Xb(),s.Xb(),s.Yb(14,"td"),s.Sc(15,A,2,0,"a",26),s.Sc(16,R,2,0,"a",26),s.Xb(),s.Xb()}if(2&e){var i=t.$implicit,o=t.index,r=s.mc(2);s.Fb(2),s.Vc(o+1),s.Fb(2),s.Pc(s.yc(31,C)),s.vc("name","txtTransactionCardNumber_",o,""),s.tc("ngModel",i.CardNumber),s.Fb(2),s.Pc(s.yc(32,C)),s.vc("name","txtTransactionCardHolderName_",o,""),s.tc("ngModel",i.CardHolderName),s.Fb(2),s.Pc(s.yc(33,C)),s.vc("name","txtTransactionIdCardPayment_",o,""),s.tc("ngModel",i.TransactionId),s.Fb(2),s.wc("yearRange","",r.customDateFormat.MinYear,":",r.MaxYear,""),s.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",r.todayDate)("ngModel",i.RecdDate)("ngModelOptions",s.yc(34,N))("showIcon",!0)("dateFormat",r.customDateFormat.CalendarFormat)("readonlyInput",!1),s.Fb(3),s.Pc(s.yc(35,C)),s.vc("name","txtBankTFAmountTran_",o,""),s.tc("ngModel",i.Amount)("min",0)("max",r.NetPaybleTotal),s.Fb(2),s.tc("ngIf",(null==r.lstCardPaymentTransactionDetails?null:r.lstCardPaymentTransactionDetails.length)<10),s.Fb(1),s.tc("ngIf",1!==r.lstCardPaymentTransactionDetails[o].Sequence)}}function U(e,t){if(1&e&&(s.Yb(0,"div",20),s.Yb(1,"h3"),s.Uc(2,"Card Details"),s.Xb(),s.Yb(3,"div",14),s.Yb(4,"table",21),s.Yb(5,"thead"),s.Yb(6,"tr"),s.Yb(7,"th"),s.Uc(8,"S.No"),s.Xb(),s.Yb(9,"th"),s.Uc(10,"Card Number"),s.Xb(),s.Yb(11,"th"),s.Uc(12,"Card Holder Name"),s.Xb(),s.Yb(13,"th"),s.Uc(14,"Transaction Id "),s.Yb(15,"span",16),s.Uc(16,"*"),s.Xb(),s.Xb(),s.Yb(17,"th"),s.Uc(18,"Payment Rec. Date "),s.Yb(19,"span",16),s.Uc(20,"*"),s.Xb(),s.Xb(),s.Yb(21,"th"),s.Uc(22,"Amount "),s.Yb(23,"span",16),s.Uc(24,"*"),s.Xb(),s.Xb(),s.Yb(25,"th"),s.Uc(26,"Action"),s.Xb(),s.Xb(),s.Xb(),s.Yb(27,"tbody"),s.Sc(28,P,17,36,"tr",22),s.Xb(),s.Xb(),s.Xb(),s.Tb(29,"hr"),s.Xb()),2&e){var n=s.mc();s.Fb(28),s.tc("ngForOf",n.lstCardPaymentTransactionDetails)}}function F(e,t){if(1&e){var n=s.Zb();s.Yb(0,"a",27),s.ic("click",function(){return s.Lc(n),s.mc(3).AddBankTransactionDetails()}),s.Tb(1,"i",28),s.Xb()}}function M(e,t){if(1&e){var n=s.Zb();s.Yb(0,"a",27),s.ic("click",function(){s.Lc(n);var e=s.mc().index,t=s.mc(2);return t.RemoveBankTransactionDetails(t.lstBankDepositTransactionDetails[e].Sequence)}),s.Tb(1,"i",29),s.Xb()}}function w(e,t){if(1&e){var n=s.Zb();s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Yb(4,"input",23),s.ic("ngModelChange",function(e){return t.$implicit.BankName=e}),s.Xb(),s.Xb(),s.Yb(5,"td"),s.Yb(6,"input",23),s.ic("ngModelChange",function(e){return t.$implicit.TransactionId=e}),s.Xb(),s.Xb(),s.Yb(7,"td"),s.Yb(8,"p-calendar",18,24),s.ic("ngModelChange",function(e){return t.$implicit.RecdDate=e}),s.Xb(),s.Xb(),s.Yb(10,"td"),s.Yb(11,"p-inputNumber",25),s.ic("onInput",function(e){s.Lc(n);var i=t.$implicit;return s.mc(2).CalculateTotalBankTransaction(e,i.Sequence)})("onBlur",function(){return s.Lc(n),s.mc(2).CalculateTotalBankTransactionrev()})("ngModelChange",function(e){return t.$implicit.Amount=e}),s.Xb(),s.Xb(),s.Yb(12,"td"),s.Sc(13,F,2,0,"a",26),s.Sc(14,M,2,0,"a",26),s.Xb(),s.Xb()}if(2&e){var i=t.$implicit,o=t.index,r=s.mc(2);s.Fb(2),s.Vc(o+1),s.Fb(2),s.Pc(s.yc(27,C)),s.vc("name","txtTransactionBankDepoName_",o,""),s.tc("ngModel",i.BankName),s.Fb(2),s.Pc(s.yc(28,C)),s.vc("name","txtTransactionIdBankDepo_",o,""),s.tc("ngModel",i.TransactionId),s.Fb(2),s.wc("yearRange","",r.customDateFormat.MinYear,":",r.MaxYear,""),s.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",r.todayDate)("ngModel",i.RecdDate)("ngModelOptions",s.yc(29,N))("showIcon",!0)("dateFormat",r.customDateFormat.CalendarFormat)("readonlyInput",!1),s.Fb(3),s.Pc(s.yc(30,C)),s.vc("name","txtBankTFAmountTran_",o,""),s.tc("ngModel",i.Amount)("min",0)("max",r.NetPaybleTotal),s.Fb(2),s.tc("ngIf",(null==r.lstBankDepositTransactionDetails?null:r.lstBankDepositTransactionDetails.length)<10),s.Fb(1),s.tc("ngIf",1!==r.lstBankDepositTransactionDetails[o].Sequence)}}function B(e,t){if(1&e){var n=s.Zb();s.Yb(0,"div",30),s.Yb(1,"h3"),s.Uc(2,"Bank Deposit Details"),s.Xb(),s.Tb(3,"hr"),s.Yb(4,"div",14),s.Yb(5,"table",21),s.Yb(6,"thead"),s.Yb(7,"tr"),s.Yb(8,"th"),s.Uc(9,"S.No"),s.Xb(),s.Yb(10,"th"),s.Uc(11,"Bank Name "),s.Yb(12,"span",16),s.Uc(13,"*"),s.Xb(),s.Xb(),s.Yb(14,"th"),s.Uc(15,"Transaction Id "),s.Yb(16,"span",16),s.Uc(17,"*"),s.Xb(),s.Xb(),s.Yb(18,"th"),s.Uc(19,"Received Date "),s.Yb(20,"span",16),s.Uc(21,"*"),s.Xb(),s.Xb(),s.Yb(22,"th"),s.Uc(23,"Amount "),s.Yb(24,"span",16),s.Uc(25,"*"),s.Xb(),s.Xb(),s.Yb(26,"th"),s.Uc(27,"Action"),s.Xb(),s.Xb(),s.Xb(),s.Yb(28,"tbody"),s.Sc(29,w,15,31,"tr",22),s.Xb(),s.Xb(),s.Xb(),s.Tb(30,"hr"),s.Yb(31,"div",14),s.Yb(32,"div",15),s.Uc(33,"Amount"),s.Xb(),s.Yb(34,"div",31),s.Yb(35,"p-inputNumber",32),s.ic("ngModelChange",function(e){return s.Lc(n),s.mc().TenderObj.BANKTFAMOUNT=e}),s.Xb(),s.Xb(),s.Xb(),s.Tb(36,"hr"),s.Xb()}if(2&e){var i=s.mc();s.Fb(29),s.tc("ngForOf",i.lstBankDepositTransactionDetails),s.Fb(6),s.Pc(s.yc(6,C)),s.tc("ngModel",i.TenderObj.BANKTFAMOUNT)("min",0)("max",i.NetPaybleTotal)}}function O(e,t){if(1&e){var n=s.Zb();s.Yb(0,"div",3),s.Yb(1,"div",15),s.Uc(2,"Remarks"),s.Xb(),s.Yb(3,"div",31),s.Yb(4,"input",33),s.ic("ngModelChange",function(e){return s.Lc(n),s.mc().TenderObj.REMARKS=e}),s.Xb(),s.Xb(),s.Xb()}if(2&e){var i=s.mc();s.Fb(4),s.Pc(s.yc(3,C)),s.tc("ngModel",i.TenderObj.REMARKS)}}var V,x=((V=function(e){r(i,e);var t=l(i);function i(e,o,r){var a;return n(this,i),(a=t.call(this))._UtilityService=e,a._PatientServices=o,a.cdRef=r,a.slotBookingId=null,a.SelectedVCHRNO=null,a.SelectedPhiscalID=null,a.SelectedDivision=null,a.NetAmount=0,a.GetSuccessStatusEmit=new s.o,a.customDateFormat=c.h,a.IsRefundVoucher=!1,a.DepositSlipLink=null,a.lstTransaction=[],a.lstPayMode=[],a.SelectPaymodeArray=[],a.NetPaybleTotal=0,a.TenderModel={},a.TenderObj={},a.lstBankDepositTransactionDetails=[],a.BankDepTrnCounter=1,a.CardTrnCounter=1,a.todayDate=new Date,a.MaxCreditLimit=0,a.BankDepositSlip1Att=null,a.lsttrnAmount=[],a.PaymentTransactionDetails=[],a.lstReciveVoucher=[],a.lstCardPaymentTransactionDetails=[],a.MaxYear=(new Date).getFullYear()+2,a.lstPayMode=g.a,a.lstPayMode=a.lstPayMode.filter(function(e){return"ATONLN"!==e.ACID}),a}return o(i,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.LoadTransactionDetails()}},{key:"LoadTransactionDetails",value:function(){var e=this;this.lsttrnAmount=[],this.NetPaybleTotal=this.NetAmount,this.IsRefundVoucher=!1,this.lstTransaction=[],this.DepositSlipLink=null,null!=this.slotBookingId&&null!=this.slotBookingId&&""!=this.slotBookingId&&null!=this.SelectedVCHRNO&&null!=this.SelectedVCHRNO&&""!=this.SelectedVCHRNO&&null!=this.SelectedPhiscalID&&null!=this.SelectedPhiscalID&&""!=this.SelectedPhiscalID&&null!=this.SelectedDivision&&null!=this.SelectedDivision&&""!=this.SelectedDivision?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetTransactionDetailsByVCHRNumber(this.slotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision).subscribe({next:function(t){if(e._UtilityService.hideSpinner(),1==t.actionResult.success&&null!=t.actionResult.result){var n=JSON.parse(t.actionResult.result);e.lstTransaction=n=n||[];var i=JSON.parse(t.actionResult.result5);e.lsttrnAmount=i=i||[];var o=[];e.lsttrnAmount.map(function(t){var n,i,r,a,l;o.push(null===(n=e.lstPayMode.find(function(e){return e.TenderName==t.TrnMode}))||void 0===n?void 0:n.ACID),"Cash"==t.TrnMode?(e.TenderObj.CASH=t.Amount,e.TenderObj.CashRecdDate=new Date(null===(i=e.lstTransaction.find(function(e){return"Cash"==e.TrnMode}))||void 0===i?void 0:i.ReceivedDate),e.TenderObj.REMARKS=null===(r=e.lstTransaction.find(function(e){return"Cash"==e.TrnMode}))||void 0===r?void 0:r.Remarks):"Card"==t.TrnMode?(e.lstCardPaymentTransactionDetails=[],e.lstTransaction.filter(function(e){return"Card"==e.TrnMode}).map(function(t){var n={};n.CardNumber=t.CardNo,n.CardHolderName=t.CardHolderName,n.TransactionId=t.TransactionId,n.RecdDate=new Date(t.ReceivedDate),n.Amount=t.Amount,e.lstCardPaymentTransactionDetails.push(n)}),e.TenderObj.REMARKS=null===(a=e.lstTransaction.filter(function(e){return"Card"==e.TrnMode})[0])||void 0===a?void 0:a.Remarks,e.CalculateTotalCardPaymentrev()):"Bank Deposit"==t.TrnMode&&(e.lstBankDepositTransactionDetails=[],e.lstTransaction.filter(function(e){return"Bank Deposit"==e.TrnMode||"Bank Transfer"==e.TrnMode}).map(function(t){var n={};n.BankName=t.BankName,n.TransactionId=t.TransactionId,n.RecdDate=new Date(t.ReceivedDate),n.Amount=t.Amount,e.lstBankDepositTransactionDetails.push(n)}),e.TenderObj.REMARKS=null===(l=e.lstTransaction.filter(function(e){return"Bank Deposit"==e.TrnMode||"Bank Transfer"==e.TrnMode})[0])||void 0===l?void 0:l.Remarks,e.CalculateTotalBankTransactionrev())}),e.selectedPaymodeCodes=o,e.ShowSelectedItem()}},error:function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)}})):this._UtilityService.showWarningAlert("No record found"),this.cdRef.detectChanges()}},{key:"ShowSelectedItem",value:function(){var e;(null===(e=this.selectedPaymodeCodes)||void 0===e?void 0:e.length)>0?(this.selectedPaymodeCodes.indexOf("ATONLN")>-1&&(this.selectedPaymodeCodes=this.selectedPaymodeCodes.filter(function(e){return"ATONLN"==e})),this.SelectPaymodeArray=this.selectedPaymodeCodes.toString().split(",")):this.SelectPaymodeArray=[]}},{key:"RemoveBankTransactionDetails",value:function(e){this.lstBankDepositTransactionDetails=this.lstBankDepositTransactionDetails.filter(function(t){return t.Sequence!==e}),this.CalculateTotalBankTransactionrev(),this.cdRef.detectChanges()}},{key:"CalculateTotalBankTransactionrev",value:function(){var e=0;this.lstBankDepositTransactionDetails.map(function(t){e+=t.Amount}),this.TenderObj.BANKTFAMOUNT=e,this.cdRef.detectChanges()}},{key:"AddBankTransactionDetails",value:function(){this.BankDepTrnCounter++,this.lstBankDepositTransactionDetails.push({Sequence:this.BankDepTrnCounter,BankName:"",TransactionId:"",RecdDate:null,Amount:0}),this.cdRef.detectChanges()}},{key:"onFileSelectBankDepositSlip",value:function(e,t){var n;if((null===(n=e.target.files)||void 0===n?void 0:n.length)>0){var i=e.target.files[0];[".jpg",".png",".jpeg",".pdf"].includes("."+i.type.split("/")[1])?i.size>5242880?($("#"+t).val(""),"AttBankslip1"==t&&(this.fileInputLabelAttBankslip1="",this.BankDepositSlip1Att=""),this._UtilityService.showWarningAlert("Maximum 5 MB file can be Uploaded")):"AttBankslip1"==t&&(this.fileInputLabelAttBankslip1=i.name,this.fileUploadAttBankslip1.get("AttBankslip1").setValue(i)):($("#"+t).val(""),"AttBankslip1"==t&&(this.fileInputLabelAttBankslip1="",this.BankDepositSlip1Att=""),this._UtilityService.showWarningAlert("Only jpg, png and pdf Allowed!")),this.cdRef.detectChanges()}}},{key:"CalculateTotalBankTransaction",value:function(e,t){if(e.value>0){null!=this.TenderObj.BANKTFAMOUNT&&null!=this.TenderObj.BANKTFAMOUNT||(this.TenderObj.BANKTFAMOUNT=0);var n=0;(null==(i=this.lstBankDepositTransactionDetails.filter(function(e){return e.Sequence!=t}))?void 0:i.length)>0&&i.map(function(e){n+=e.Amount}),this.TenderObj.BANKTFAMOUNT=n+e.value,this.cdRef.detectChanges()}else{var i;null!=this.TenderObj.BANKTFAMOUNT&&null!=this.TenderObj.BANKTFAMOUNT||(this.TenderObj.BANKTFAMOUNT=0),n=0,(null==(i=this.lstBankDepositTransactionDetails.filter(function(e){return e.Sequence!=t}))?void 0:i.length)>0&&i.map(function(e){n+=e.Amount}),this.TenderObj.BANKTFAMOUNT=n,this.cdRef.detectChanges()}}},{key:"SaveCreditNoteOther",value:function(){var e,t,n,i,o,r,a,l=this;this.lstReciveVoucher=[],this.PaymentTransactionDetails=[];var c=0;if(null!=this.TenderObj.TrustId||null!=this.TenderObj.TrustId){if(null==this.TenderObj.TMemberTypeId||null==this.TenderObj.TMemberTypeId)return void this._UtilityService.showWarningAlert("Please select member type");if(null==this.TenderObj.MemberShipNumber||null==this.TenderObj.MemberShipNumber||""==this.TenderObj.MemberShipNumber)return void this._UtilityService.showWarningAlert("Please enter membership number")}if(null!=this.TenderObj.TMemberTypeId||null!=this.TenderObj.TMemberTypeId){if(null==this.TenderObj.TrustId||null==this.TenderObj.TrustId)return void this._UtilityService.showWarningAlert("Please select trust type");if(null==this.TenderObj.MemberShipNumber||null==this.TenderObj.MemberShipNumber||""==this.TenderObj.MemberShipNumber)return void this._UtilityService.showWarningAlert("Please enter membership number")}if(this.TenderObj.MemberShipNumber){if(null==this.TenderObj.TrustId||null==this.TenderObj.TrustId)return void this._UtilityService.showWarningAlert("Please select trust type");if(null==this.TenderObj.TMemberTypeId||null==this.TenderObj.TMemberTypeId)return void this._UtilityService.showWarningAlert("Please select member type")}if(this.SelectPaymodeArray.includes("AT01002")){if(null==this.TenderObj.CASH||null==this.TenderObj.CASH||this.TenderObj.CASH<=0)return void this._UtilityService.showWarningAlert("Please enter Cash Tender Amount");if(null==this.TenderObj.CashRecdDate||null==this.TenderObj.CashRecdDate)return void this._UtilityService.showWarningAlert("Please enter Cash Tender Amount Received Date");if(this.TenderObj.CASH>0&&this.TenderObj.CASH!=(null===(e=this.lsttrnAmount.find(function(e){return"Cash"==e.TrnMode}))||void 0===e?void 0:e.Amount))return void this._UtilityService.showWarningAlert("You Cannot Modify total Cash Amount");this.PaymentTransactionDetails.push({TrnMode:"Cash",Remarks:this.TenderObj.REMARKS,ReceivedDate:this.TenderObj.CashRecdDate,Amount:this.TenderObj.CASH,TrustId:this.TenderObj.TrustId,TMemberTypeId:this.TenderObj.TMemberTypeId,MemberShipNumber:this.TenderObj.MemberShipNumber}),c+=this.TenderObj.CASH}if(this.SelectPaymodeArray.includes("AT999999")){for(var s=!0,b=0;b<this.lstCardPaymentTransactionDetails.length;b++)(null==this.lstCardPaymentTransactionDetails[b].TransactionId||null==this.lstCardPaymentTransactionDetails[b].TransactionId||""==this.lstCardPaymentTransactionDetails[b].TransactionId||null==this.lstCardPaymentTransactionDetails[b].RecdDate||null==this.lstCardPaymentTransactionDetails[b].RecdDate||""==this.lstCardPaymentTransactionDetails[b].RecdDate||null==(null===(t=this.lstCardPaymentTransactionDetails[b])||void 0===t?void 0:t.Amount)||null==(null===(n=this.lstCardPaymentTransactionDetails[b])||void 0===n?void 0:n.Amount)||(null===(i=this.lstCardPaymentTransactionDetails[b])||void 0===i?void 0:i.Amount)<=0)&&1==s&&(s=!1);if(0==s)return void this._UtilityService.showWarningAlert("Please enter Transaction Details Properly");if(null==this.TenderObj.CARDAMT||null==this.TenderObj.CARDAMT||this.TenderObj.CARDAMT<=0)return void this._UtilityService.showWarningAlert("Please enter Card tender Amount");var d=this.lsttrnAmount.filter(function(e){return"Card"==e.TrnMode}),u=0;if(d.map(function(e){u+=e.Amount}),this.TenderObj.CARDAMT>0&&this.TenderObj.CARDAMT!=u)return void this._UtilityService.showWarningAlert("You Cannot Modify total Card Amount");var h="",m="",p="";this.lstCardPaymentTransactionDetails.map(function(e){l.PaymentTransactionDetails.push({TrnMode:"Card",Remarks:l.TenderObj.REMARKS,CardNo:e.CardNumber,CardHolderName:e.CardHolderName,TransactionId:e.TransactionId,ReceivedDate:e.RecdDate,Amount:e.Amount,TrustId:l.TenderObj.TrustId,TMemberTypeId:l.TenderObj.TMemberTypeId,MemberShipNumber:l.TenderObj.MemberShipNumber}),h=h+e.TransactionId+",",p=p+e.CardHolderName+",",m=m+e.CardNumber+","}),c+=this.TenderObj.CARDAMT}if(this.SelectPaymodeArray.includes("BT01001")){for(s=!0,b=0;b<this.lstBankDepositTransactionDetails.length;b++)(null==this.lstBankDepositTransactionDetails[b].BankName||null==this.lstBankDepositTransactionDetails[b].BankName||""==this.lstBankDepositTransactionDetails[b].BankName||null==this.lstBankDepositTransactionDetails[b].TransactionId||null==this.lstBankDepositTransactionDetails[b].TransactionId||""==this.lstBankDepositTransactionDetails[b].TransactionId||null==this.lstBankDepositTransactionDetails[b].RecdDate||null==this.lstBankDepositTransactionDetails[b].RecdDate||""==this.lstBankDepositTransactionDetails[b].RecdDate||null==(null===(o=this.lstBankDepositTransactionDetails[b])||void 0===o?void 0:o.Amount)||null==(null===(r=this.lstBankDepositTransactionDetails[b])||void 0===r?void 0:r.Amount)||(null===(a=this.lstBankDepositTransactionDetails[b])||void 0===a?void 0:a.Amount)<=0)&&1==s&&(s=!1);if(0==s)return void this._UtilityService.showWarningAlert("Please enter Transaction Details Properly");if(null==this.TenderObj.BANKTFAMOUNT||null==this.TenderObj.BANKTFAMOUNT||this.TenderObj.BANKTFAMOUNT<=0)return void this._UtilityService.showWarningAlert("Please enter Bank Deposit Amount");var f=this.lsttrnAmount.filter(function(e){return"Bank Transfer"==e.TrnMode||"Bank Deposit"==e.TrnMode}),T=0;if(f.map(function(e){T+=e.Amount}),this.TenderObj.BANKTFAMOUNT>0&&this.TenderObj.BANKTFAMOUNT!=T)return void this._UtilityService.showWarningAlert("You Cannot Modify total Bank Deposit Amount");h="";var v="";this.lstBankDepositTransactionDetails.map(function(e){l.PaymentTransactionDetails.push({TrnMode:"Bank Transfer",Remarks:l.TenderObj.REMARKS,BankName:e.BankName,TransactionId:e.TransactionId,ReceivedDate:e.RecdDate,Amount:e.Amount,TrustId:l.TenderObj.TrustId,TMemberTypeId:l.TenderObj.TMemberTypeId,MemberShipNumber:l.TenderObj.MemberShipNumber}),h=h+e.TransactionId+",",v=v+e.BankName+","}),c+=this.TenderObj.BANKTFAMOUNT}if(Math.round(c)<Math.round(this.NetPaybleTotal)||Math.round(c)>Math.round(this.NetPaybleTotal))this._UtilityService.showWarningAlert("Input Amount not match with Total Amount");else{var S={};S.CreditNoteAmount=this.NetPaybleTotal,S.SlotBookingId=this.slotBookingId,S.PaymentTransactionDetails=this.PaymentTransactionDetails,S.UpdatedBy=localStorage.getItem("userId"),S.VCHRNO=this.SelectedVCHRNO,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UpdateTransactionDetailsByVoucher(S).subscribe(function(e){l._UtilityService.hideSpinner(),1==e.actionResult.success?(l.GetSuccessStatusEmit.emit(!0),l._UtilityService.showSuccessAlert(e.actionResult.errMsg)):l._UtilityService.showErrorAlert(e.actionResult.errMsg)},function(e){l._UtilityService.hideSpinner()})}}},{key:"CalculateTotalCardPayment",value:function(e,t){if(e.value>0){null!=this.TenderObj.CARDAMT&&null!=this.TenderObj.CARDAMT||(this.TenderObj.CARDAMT=0);var n=0;(null==(i=this.lstCardPaymentTransactionDetails.filter(function(e){return e.Sequence!=t}))?void 0:i.length)>0&&i.map(function(e){n+=e.Amount}),this.TenderObj.CARDAMT=n+e.value,this.cdRef.detectChanges()}else{var i;null!=this.TenderObj.CARDAMT&&null!=this.TenderObj.CARDAMT||(this.TenderObj.CARDAMT=0),n=0,(null==(i=this.lstCardPaymentTransactionDetails.filter(function(e){return e.Sequence!=t}))?void 0:i.length)>0&&i.map(function(e){n+=e.Amount}),this.TenderObj.CARDAMT=n,this.cdRef.detectChanges()}}},{key:"CalculateTotalCardPaymentrev",value:function(){var e=0;this.lstCardPaymentTransactionDetails.map(function(t){e+=t.Amount}),this.TenderObj.CARDAMT=e,this.cdRef.detectChanges()}},{key:"AddCardPaymentDetails",value:function(){this.CardTrnCounter++,this.lstCardPaymentTransactionDetails.push({Sequence:this.CardTrnCounter,CardNumber:"",CardHolderName:"",TransactionId:"",RecdDate:null,Amount:0}),this.cdRef.detectChanges()}},{key:"RemoveCardPaymentDetails",value:function(e){this.lstCardPaymentTransactionDetails=this.lstCardPaymentTransactionDetails.filter(function(t){return t.Sequence!==e}),this.CalculateTotalCardPaymentrev(),this.cdRef.detectChanges()}}]),i}(a.a)).\u0275fac=function(e){return new(e||V)(s.Sb(u.a),s.Sb(d.a),s.Sb(s.h))},V.\u0275cmp=s.Mb({type:V,selectors:[["app-individual-edit-transaction-details"]],inputs:{slotBookingId:"slotBookingId",SelectedVCHRNO:"SelectedVCHRNO",SelectedPhiscalID:"SelectedPhiscalID",SelectedDivision:"SelectedDivision",NetAmount:"NetAmount"},outputs:{GetSuccessStatusEmit:"GetSuccessStatusEmit"},features:[s.Cb,s.Db],decls:20,vars:14,consts:[[1,"row"],[1,"col-md-12"],["optionLabel","TenderName","optionValue","ACID","placeholder","Please select payment option","appendTo","body",3,"disabled","options","ngModel","onChange","ngModelChange"],[1,"row","mt-3"],[1,"col-md-12","text-right","bold"],["id","dvCashTender",4,"ngIf"],["id","dvCardTender",4,"ngIf"],["id","dvBankTfTender",4,"ngIf"],["id","dvRemarks"],["class","row mt-3",4,"ngIf"],[1,"col-md-12","text-right"],["type","button",1,"btn","btn-new-primary",3,"click"],["id","dvCashTender"],[1,"mt-2","mb-2"],[1,"row","mb-3"],[1,"col-md-3"],[1,"required",2,"color","red"],["name","txtCashAmount","mode","decimal",3,"ngModel","min","max","ngModelChange"],["appendTo","body","inputId","icon",3,"yearNavigator","monthNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["CashRecdDate",""],["id","dvCardTender"],[1,"table","table-striped","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"],["type","text","pInputText","",3,"name","ngModel","ngModelChange"],["BankDepRecdDate",""],["mode","decimal",3,"name","ngModel","min","max","onInput","onBlur","ngModelChange"],["class","add-btn mr-2","href","javascript: void(0);",3,"click",4,"ngIf"],["href","javascript: void(0);",1,"add-btn","mr-2",3,"click"],[1,"fa","fa-plus"],[1,"fa","fa-minus"],["id","dvBankTfTender"],[1,"col-md-9"],["name","txtBankTFAmount","disabled","","mode","decimal",3,"ngModel","min","max","ngModelChange"],["type","text","name","txtRemarks","pInputText","",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"p-multiSelect",2),s.ic("onChange",function(){return t.ShowSelectedItem()})("ngModelChange",function(e){return t.selectedPaymodeCodes=e}),s.Xb(),s.Xb(),s.Xb(),s.Yb(3,"div",0),s.Yb(4,"div",1),s.Yb(5,"div",3),s.Yb(6,"div",4),s.Uc(7),s.nc(8,"number"),s.Xb(),s.Xb(),s.Sc(9,k,21,17,"div",5),s.Sc(10,U,30,1,"div",6),s.Sc(11,B,37,7,"div",7),s.Yb(12,"div",8),s.Sc(13,O,5,4,"div",9),s.Xb(),s.Tb(14,"hr"),s.Yb(15,"div"),s.Yb(16,"div",0),s.Yb(17,"div",10),s.Yb(18,"button",11),s.ic("click",function(){return t.SaveCreditNoteOther()}),s.Uc(19,"Submit"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&e&&(s.Fb(2),s.Pc(s.yc(13,C)),s.tc("disabled",!0)("options",t.lstPayMode)("ngModel",t.selectedPaymodeCodes),s.Fb(5),s.Wc(" Total Amount: ",s.pc(8,10,t.NetPaybleTotal,"1.0-0")," "),s.Fb(2),s.tc("ngIf",t.SelectPaymodeArray.includes("AT01002")),s.Fb(1),s.tc("ngIf",t.SelectPaymodeArray.includes("AT999999")),s.Fb(1),s.tc("ngIf",t.SelectPaymodeArray.includes("BT01001")),s.Fb(2),s.tc("ngIf",(null==t.SelectPaymodeArray?null:t.SelectPaymodeArray.length)>0&&!t.SelectPaymodeArray.includes("ATONLN")))},directives:[y.a,D.o,D.r,f.p,X.a,Y.a,f.o,D.b,T.a],pipes:[f.g],styles:[""]}),V),L=i("Ji6n"),_=i("ykst"),j=i("e+Tu");function W(e,t){if(1&e){var n=s.Zb();s.Yb(0,"div",19),s.Tb(1,"span",20),s.Yb(2,"span",21),s.Yb(3,"span",22),s.Tb(4,"i",23),s.Yb(5,"input",24),s.ic("input",function(e){return s.Lc(n),s.mc(),s.Ic(3).filterGlobal(e.target.value,"contains")}),s.Xb(),s.Xb(),s.Xb(),s.Xb()}}function G(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2," No records found "),s.Xb(),s.Xb()),2&e){var n=t.$implicit;s.Fb(1),s.Gb("colspan",null==n?null:n.length)}}function E(e,t){1&e&&(s.Yb(0,"tr"),s.Yb(1,"th"),s.Uc(2,"S.No"),s.Xb(),s.Yb(3,"th"),s.Uc(4,"Voucher Number"),s.Xb(),s.Yb(5,"th"),s.Uc(6,"Physical Year"),s.Xb(),s.Yb(7,"th"),s.Uc(8,"Generated On"),s.Xb(),s.Yb(9,"th"),s.Uc(10,"Pay Mode"),s.Xb(),s.Yb(11,"th"),s.Uc(12,"Action"),s.Xb(),s.Xb())}function H(e,t){if(1&e){var n=s.Zb();s.Yb(0,"i",31),s.ic("click",function(){s.Lc(n);var e=s.mc().$implicit;return s.mc().PrintInvoice(e.InvoiceNumber,e.PhiscalId,e.Division,e.InvType,e.Status)}),s.Xb()}}function Q(e,t){if(1&e){var n=s.Zb();s.Yb(0,"i",32),s.ic("click",function(){s.Lc(n);var e=s.mc().$implicit;return s.mc().ShowTransactionDetails(e.InvoiceNumber,e.PhiscalId,e.Division)}),s.Xb()}}function Z(e,t){if(1&e){var n=s.Zb();s.Yb(0,"i",33),s.ic("click",function(){s.Lc(n);var e=s.mc().$implicit;return s.mc().EditTransaction(e.InvoiceNumber,e.PhiscalId,e.Division,e.InvType,e.NetProfit)}),s.Xb()}}function K(e,t){if(1&e){var n=s.Zb();s.Yb(0,"i",34),s.ic("click",function(){s.Lc(n);var e=s.mc().$implicit;return s.mc().ShowSplitVoucher(e.InvoiceNumber,e.SlotBookingId)}),s.Xb()}}function z(e,t){if(1&e){var n=s.Zb();s.Yb(0,"i",35),s.ic("click",function(){s.Lc(n);var e=s.mc().$implicit;return s.mc().ShowSplitedVoucherList(e.InvoiceNumber,e.SlotBookingId)}),s.Xb()}}function q(e,t){if(1&e){var n=s.Zb();s.Yb(0,"i",36),s.ic("click",function(){s.Lc(n);var e=s.mc().$implicit;return s.mc().ShowSalesReturnModel(e.InvoiceNumber,e.SlotBookingId)}),s.Xb()}}function J(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Uc(4),s.Xb(),s.Yb(5,"td"),s.Uc(6),s.Xb(),s.Yb(7,"td"),s.Uc(8),s.nc(9,"date"),s.Xb(),s.Yb(10,"td"),s.Uc(11),s.nc(12,"titlecase"),s.Xb(),s.Yb(13,"td"),s.Sc(14,H,1,0,"i",25),s.Sc(15,Q,1,0,"i",26),s.Sc(16,Z,1,0,"i",27),s.Sc(17,K,1,0,"i",28),s.Sc(18,z,1,0,"i",29),s.Sc(19,q,1,0,"i",30),s.Xb(),s.Xb()),2&e){var n=t.$implicit,i=t.rowIndex,o=s.mc();s.Fb(2),s.Vc(i+1),s.Fb(2),s.Vc(n.InvoiceNumber),s.Fb(2),s.Vc(n.PhiscalId),s.Fb(2),s.Vc(s.pc(9,11,n.GenertaedOn,o.customDateFormat.DEF_DATE)),s.Fb(3),s.Vc(s.oc(12,14,n.PayMode)),s.Fb(3),s.tc("ngIf","Split"!=n.InvType&&(null==o.lstIAccessStr?null:o.lstIAccessStr.includes(o.ActionList.Print.toString()))),s.Fb(1),s.tc("ngIf","Split"!=n.InvType),s.Fb(1),s.tc("ngIf","Split"!=n.InvType&&!o.IsVisitor&&(null==o.lstIAccessStr?null:o.lstIAccessStr.includes(o.ActionList.ReadWrite.toString()))&&"PaymentReceive"==n.InvType&&"Online"!==n.PayMode),s.Fb(1),s.tc("ngIf",1!=n.IsSplited&&"Yes"==o.lsBillSplit&&"CInv"==n.InvType&&1==o.IsGrouped&&"IPD"==o.BookingType),s.Fb(1),s.tc("ngIf","Split"==n.InvType&&1==o.IsGrouped&&"IPD"==o.BookingType),s.Fb(1),s.tc("ngIf",o.IsSalesReturn&&"CInv"==n.InvType&&1==n.Status&&(null==o.lstIAccessStr?null:o.lstIAccessStr.includes(o.ActionList.Print.toString())))}}function ee(e,t){if(1&e&&(s.Yb(0,"h3"),s.Uc(1),s.Xb()),2&e){var n=s.mc();s.Fb(1),s.Wc("","SalesReturn"==n.SelectedInvType?"Sales Return":"PaymentReceive"==n.SelectedInvType?"Payment Receive":"CreditNote"==n.SelectedInvType?"Payment Credit":"Payment Refund"," Details")}}function te(e,t){if(1&e&&(s.Yb(0,"div"),s.Tb(1,"app-print-payment-voucher",37),s.Xb()),2&e){var n=s.mc();s.Fb(1),s.tc("IsVisitor",n.IsVisitor)("SelectedSlotBookingId",n.slotBookingId)("SelectedVCHRNO",n.InvoiceNumberSelected)("SelectedPhiscalID",n.PhiscalIdSelected)("SelectedDivision",n.DivisionSelected)("InvType",n.SelectedInvType)("Status",n.StatusSelected)}}function ne(e,t){if(1&e&&(s.Yb(0,"div"),s.Tb(1,"app-print-profile",38),s.Xb()),2&e){var n=s.mc();s.Fb(1),s.tc("IsVisitor",n.IsVisitor)("SlotBookingIdSelected",n.slotBookingId)("InvoiceNumberSelected",n.InvoiceNumberSelected)("PhiscalIdSelected",n.PhiscalIdSelected)("DivisionSelected",n.DivisionSelected)}}function ie(e,t){if(1&e&&(s.Yb(0,"div"),s.Tb(1,"app-individual-transaction-list",39),s.Xb()),2&e){var n=s.mc();s.Fb(1),s.tc("IsVisitor",n.IsVisitor)("slotBookingId",n.slotBookingId)("SelectedVCHRNO",n.InvoiceNumberSelected)("SelectedPhiscalID",n.PhiscalIdSelected)("SelectedDivision",n.DivisionSelected)}}function oe(e,t){if(1&e){var n=s.Zb();s.Yb(0,"div"),s.Yb(1,"app-individual-edit-transaction-details",40),s.ic("GetSuccessStatusEmit",function(e){return s.Lc(n),s.mc().GetSuccessStatusEmit(e)}),s.Xb(),s.Xb()}if(2&e){var i=s.mc();s.Fb(1),s.tc("slotBookingId",i.slotBookingId)("SelectedVCHRNO",i.InvoiceNumberSelected)("SelectedPhiscalID",i.PhiscalIdSelected)("SelectedDivision",i.DivisionSelected)("NetAmount",i.NetAmount)}}function re(e,t){if(1&e){var n=s.Zb();s.Yb(0,"div",19),s.Tb(1,"span",20),s.Yb(2,"span",21),s.Yb(3,"span",22),s.Tb(4,"i",23),s.Yb(5,"input",24),s.ic("input",function(e){return s.Lc(n),s.mc(),s.Ic(21).filterGlobal(e.target.value,"contains")}),s.Xb(),s.Xb(),s.Xb(),s.Xb()}}function ae(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2," No records found "),s.Xb(),s.Xb()),2&e){var n=t.$implicit;s.Fb(1),s.Gb("colspan",null==n?null:n.length)}}function le(e,t){1&e&&(s.Yb(0,"tr"),s.Yb(1,"th"),s.Uc(2,"S.No"),s.Xb(),s.Yb(3,"th"),s.Uc(4,"Name"),s.Xb(),s.Yb(5,"th"),s.Uc(6,"Action"),s.Xb(),s.Xb())}function ce(e,t){if(1&e&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Uc(4),s.Xb(),s.Yb(5,"td",41),s.Yb(6,"p-checkbox",42),s.ic("ngModelChange",function(e){return t.$implicit.Checked=e}),s.Xb(),s.Xb(),s.Xb()),2&e){var n=t.$implicit,i=t.rowIndex;s.Fb(2),s.Vc(i+1),s.Fb(2),s.Vc(n.FullName),s.Fb(2),s.vc("name","chkGrp_",i,""),s.vc("id","chkGrp_",i,""),s.tc("ngModel",n.Checked)("binary",!0)("disabled",1==n.Disabled)}}function se(e,t){if(1&e){var n=s.Zb();s.Yb(0,"div",14),s.Tb(1,"div",43),s.Yb(2,"div",44),s.Yb(3,"button",45),s.ic("click",function(){return s.Lc(n),s.mc().SubmitSplitBill()}),s.Uc(4,"Submit"),s.Xb(),s.Xb(),s.Xb()}}function be(e,t){if(1&e&&(s.Yb(0,"div"),s.Tb(1,"app-split-print-voucher",46),s.Xb()),2&e){var n=s.mc();s.Fb(1),s.tc("SlotBookingIdSelected",n.SlotBookingIdSelected)("VCHRNO",n.VCHRNO)}}function de(e,t){if(1&e){var n=s.Zb();s.Yb(0,"div"),s.Yb(1,"app-sales-return",47),s.ic("EmitSuccessSalesReturn",function(e){return s.Lc(n),s.mc().EmitSuccessSalesReturn(e)}),s.Xb(),s.Xb()}if(2&e){var i=s.mc();s.Fb(1),s.tc("SlotBookingIdSelected",i.SlotBookingIdSelected)("VCHRNO",i.VCHRNO)}}var ue,he=function(){return["InvoiceNumber","PhiscalId"]},me=function(){return{width:"100vw"}},pe=function(){return{width:"90vw"}},fe=((ue=function(e){r(i,e);var t=l(i);function i(e,o,r,a){var l,s;return n(this,i),(l=t.call(this)).router=e,l._ConstantsService=o,l._PatientServices=r,l._UtilityService=a,l.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,l.slotBookingId=null,l.IsVisitor=!1,l.IsGrouped=!1,l.BookingType="IPD",l.showIndividualInvoiceList=!0,l.customDateFormat=c.h,l.userTypes=c.s,l.InvoiceNumberSelected=null,l.PhiscalIdSelected=null,l.DivisionSelected=null,l.SelectedInvType=null,l.lstInvoice=[],l.ShowPrintPaymentVoucherModel=!1,l.ShowPrintProfileModel=!1,l.ShowTransactionDetailsModel=!1,l.ActionList=c.a,l.lstIAccess=[],l.lstIAccessStr=[],l.ShowEditTransactionDetailsModel=!1,l.NetAmount=0,l.StatusSelected=0,l.lstGroupMember=[],l.ShowGroupMemberDetailsModel=!1,l.ShowSplitedPrintModel=!1,l.SlotBookingIdSelected=null,l.VCHRNO=null,l.ShowDialogSalesReturnModel=!1,l.IsSalesReturn=!1,l.IsSalesReturn=1==(null===(s=l.lsobjClinicMaster)||void 0===s?void 0:s.IsSalesReturn),l.getPageLevelAccess(),l}return o(i,[{key:"getPageLevelAccess",value:function(){var e,t,n=this,i=this.getUrlWithoutParams();"/common-dashboard"==i&&c.s.CallCenter===localStorage.getItem("userTypeId")?i="/patient/health-seekeer-registration":"/common-dashboard"==i&&c.s.Finance===localStorage.getItem("userTypeId")?i="/report/patient-billing-report":"/common-dashboard"==i&&c.s.Billing===localStorage.getItem("userTypeId")&&(i="/payment/extra-item-entry");var o=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==o?void 0:o.find(function(e){return e.MenuItemURL===i}))&&(this.lstIAccess=null===(e=o.find(function(e){return e.MenuItemURL===i}))||void 0===e?void 0:e.ActionIAccess,(null===(t=this.lstIAccess)||void 0===t?void 0:t.length)>0&&this.lstIAccess.map(function(e){n.lstIAccessStr.push(e.ActionId.toString())}))}},{key:"getUrlWithoutParams",value:function(){var e=this.router.parseUrl(this.router.url);return e.queryParams={},e.fragment=null,e.toString()}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.ShowInvoiceList()}},{key:"ShowInvoiceList",value:function(){var e=this;null!=this.slotBookingId&&null!=this.slotBookingId&&""!=this.slotBookingId?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetInvoiceListBySlotBookingId(this.slotBookingId,this.IsVisitor).subscribe({next:function(t){if(e._UtilityService.hideSpinner(),1==t.actionResult.success){var n=JSON.parse(t.actionResult.result);e.lstInvoice=n=n||[],e.lsBillSplit=t.actionResult.stringVal}else e.lstInvoice=[]},error:function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)}})):this._UtilityService.showWarningAlert("No record found")}},{key:"EditTransaction",value:function(e,t,n,i,o){this.InvoiceNumberSelected=e,this.PhiscalIdSelected=t,this.DivisionSelected=n,this.SelectedInvType=i,this.NetAmount=o,"PaymentReceive"==i||"RefundPayment"==i||"CreditNote"==i?this.ShowEditTransactionDetailsModel=!0:this._UtilityService.showWarningAlert("Tax Invoice Transaction cannot be editable")}},{key:"PrintInvoice",value:function(e,t,n,i,o){this.InvoiceNumberSelected=e,this.PhiscalIdSelected=t,this.DivisionSelected=n,this.SelectedInvType=i,this.StatusSelected=o,"PaymentReceive"==i||"RefundPayment"==i||"CreditNote"==i||"SalesReturn"==i?this.ShowPrintPaymentVoucherModel=!0:this.ShowPrintProfileModel=!0}},{key:"ShowTransactionDetails",value:function(e,t,n){this.InvoiceNumberSelected=e,this.PhiscalIdSelected=t,this.DivisionSelected=n,this.ShowTransactionDetailsModel=!0}},{key:"GetSuccessStatusEmit",value:function(e){1==e&&(this.ShowEditTransactionDetailsModel=!1)}},{key:"ShowSplitVoucher",value:function(e,t){var n=this;this.InvoiceNumberSelected=e,this.lstGroupMember=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetGroupMemberDetails(t).subscribe({next:function(e){if(n._UtilityService.hideSpinner(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);n.lstGroupMember=t=t||[],n.ShowGroupMemberDetailsModel=!0}else n.lstGroupMember=[]},error:function(e){n._UtilityService.hideSpinner(),n._UtilityService.showErrorAlert(e.message)}})}},{key:"SubmitSplitBill",value:function(){var e,t=this;if((null===(e=this.lstGroupMember.filter(function(e){return 1==e.Checked}))||void 0===e?void 0:e.length)<2)this._UtilityService.showWarningAlert("Please Select Atleast 2 Group Member to Split Bill");else{var n={};n.lstSplit=this.lstGroupMember.filter(function(e){return 1==e.Checked}),n.VCHRNO=this.InvoiceNumberSelected,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.SplitBillonGroupMember(n).subscribe({next:function(e){t._UtilityService.hideSpinner(),1==e.actionResult.success?(t._UtilityService.showSuccessAlert(e.actionResult.errMsg),t.ShowInvoiceList(),t.ShowGroupMemberDetailsModel=!1):t._UtilityService.showWarningAlert(e.actionResult.errMsg)},error:function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)}})}}},{key:"ShowSplitedVoucherList",value:function(e,t){this.SlotBookingIdSelected=t,this.VCHRNO=e,this.ShowSplitedPrintModel=!0}},{key:"ShowSalesReturnModel",value:function(e,t){this.SlotBookingIdSelected=t,this.VCHRNO=e,this.ShowDialogSalesReturnModel=!0}},{key:"EmitSuccessSalesReturn",value:function(e){1==e&&(this.ShowDialogSalesReturnModel=!1,this.ShowInvoiceList())}}]),i}(a.a)).\u0275fac=function(e){return new(e||ue)(s.Sb(b.i),s.Sb(c.f),s.Sb(d.a),s.Sb(u.a))},ue.\u0275cmp=s.Mb({type:ue,selectors:[["app-individual-invoice-list"]],inputs:{slotBookingId:"slotBookingId",IsVisitor:"IsVisitor",IsGrouped:"IsGrouped",BookingType:"BookingType",showIndividualInvoiceList:"showIndividualInvoiceList"},features:[s.Cb,s.Db],decls:31,vars:53,consts:[[1,"row","mb-4"],[1,"col-md-12"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["appendTo","body",3,"modal","visible","resizable","maximizable","visibleChange"],[4,"ngIf"],["header","Print Voucher","appendTo","body",3,"modal","visible","maximizable","visibleChange"],["header","Transaction Details","appendTo","body",3,"modal","visible","visibleChange"],["header","Edit Transaction Details","appendTo","body",3,"modal","visible","visibleChange"],["header","Group Member Details","appendTo","body",3,"modal","visible","visibleChange"],[1,"row"],["dt3",""],["pTemplate","footer"],["header","Print Splited Voucher","appendTo","body",3,"modal","visible","maximizable","visibleChange"],["header","Sales Return","appendTo","body",3,"modal","visible","maximizable","visibleChange"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["title","Print Voucher","class","fa fa-print mr-2",3,"click",4,"ngIf"],["title","Transaction Details","class","fa fa-list-alt mr-2",3,"click",4,"ngIf"],["title","Edit Transaction","class","fas fa-fw fa-pencil-alt",3,"click",4,"ngIf"],["title","Split Voucher","class","fas fa-people-arrows mr-2",3,"click",4,"ngIf"],["title","Print Splited Voucher","class","fa fa-money-bill mr-2",3,"click",4,"ngIf"],["title","Sales Return","class","fas fa-undo mr-2",3,"click",4,"ngIf"],["title","Print Voucher",1,"fa","fa-print","mr-2",3,"click"],["title","Transaction Details",1,"fa","fa-list-alt","mr-2",3,"click"],["title","Edit Transaction",1,"fas","fa-fw","fa-pencil-alt",3,"click"],["title","Split Voucher",1,"fas","fa-people-arrows","mr-2",3,"click"],["title","Print Splited Voucher",1,"fa","fa-money-bill","mr-2",3,"click"],["title","Sales Return",1,"fas","fa-undo","mr-2",3,"click"],[3,"IsVisitor","SelectedSlotBookingId","SelectedVCHRNO","SelectedPhiscalID","SelectedDivision","InvType","Status"],[3,"IsVisitor","SlotBookingIdSelected","InvoiceNumberSelected","PhiscalIdSelected","DivisionSelected"],[3,"IsVisitor","slotBookingId","SelectedVCHRNO","SelectedPhiscalID","SelectedDivision"],[3,"slotBookingId","SelectedVCHRNO","SelectedPhiscalID","SelectedDivision","NetAmount","GetSuccessStatusEmit"],[1,"field-checkbox"],[3,"ngModel","name","id","binary","disabled","ngModelChange"],[1,"col-md-9"],[1,"col-md-3"],["type","button",1,"btn","btn-new-primary","mr-2",3,"click"],[3,"SlotBookingIdSelected","VCHRNO"],[3,"SlotBookingIdSelected","VCHRNO","EmitSuccessSalesReturn"]],template:function(e,t){1&e&&(s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"p-table",2,3),s.Sc(4,W,6,0,"ng-template",4),s.Sc(5,G,3,1,"ng-template",5),s.Sc(6,E,13,0,"ng-template",6),s.Sc(7,J,20,16,"ng-template",7),s.Xb(),s.Xb(),s.Xb(),s.Yb(8,"p-dialog",8),s.ic("visibleChange",function(e){return t.ShowPrintPaymentVoucherModel=e}),s.Sc(9,ee,2,1,"ng-template",6),s.Sc(10,te,2,7,"div",9),s.Xb(),s.Yb(11,"p-dialog",10),s.ic("visibleChange",function(e){return t.ShowPrintProfileModel=e}),s.Sc(12,ne,2,5,"div",9),s.Xb(),s.Yb(13,"p-dialog",11),s.ic("visibleChange",function(e){return t.ShowTransactionDetailsModel=e}),s.Sc(14,ie,2,5,"div",9),s.Xb(),s.Yb(15,"p-dialog",12),s.ic("visibleChange",function(e){return t.ShowEditTransactionDetailsModel=e}),s.Sc(16,oe,2,5,"div",9),s.Xb(),s.Yb(17,"p-dialog",13),s.ic("visibleChange",function(e){return t.ShowGroupMemberDetailsModel=e}),s.Yb(18,"div",14),s.Yb(19,"div",1),s.Yb(20,"p-table",2,15),s.Sc(22,re,6,0,"ng-template",4),s.Sc(23,ae,3,1,"ng-template",5),s.Sc(24,le,7,0,"ng-template",6),s.Sc(25,ce,7,7,"ng-template",7),s.Sc(26,se,5,0,"ng-template",16),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(27,"p-dialog",17),s.ic("visibleChange",function(e){return t.ShowSplitedPrintModel=e}),s.Sc(28,be,2,2,"div",9),s.Xb(),s.Yb(29,"p-dialog",18),s.ic("visibleChange",function(e){return t.ShowDialogSalesReturnModel=e}),s.Sc(30,de,2,2,"div",9),s.Xb()),2&e&&(s.Fb(2),s.tc("value",t.lstInvoice)("rowHover",!0)("globalFilterFields",s.yc(45,he))("scrollable",!0),s.Fb(6),s.tc("modal",!0)("visible",t.ShowPrintPaymentVoucherModel)("resizable",!0)("maximizable",!0),s.Fb(2),s.tc("ngIf",t.ShowPrintPaymentVoucherModel),s.Fb(1),s.Pc(s.yc(46,me)),s.tc("modal",!0)("visible",t.ShowPrintProfileModel)("maximizable",!0),s.Fb(1),s.tc("ngIf",t.ShowPrintProfileModel),s.Fb(1),s.Pc(s.yc(47,pe)),s.tc("modal",!0)("visible",t.ShowTransactionDetailsModel),s.Fb(1),s.tc("ngIf",t.ShowTransactionDetailsModel),s.Fb(1),s.Pc(s.yc(48,pe)),s.tc("modal",!0)("visible",t.ShowEditTransactionDetailsModel),s.Fb(1),s.tc("ngIf",t.ShowEditTransactionDetailsModel),s.Fb(1),s.Pc(s.yc(49,pe)),s.tc("modal",!0)("visible",t.ShowGroupMemberDetailsModel),s.Fb(3),s.tc("value",t.lstGroupMember)("rowHover",!0)("globalFilterFields",s.yc(50,he))("scrollable",!0),s.Fb(7),s.Pc(s.yc(51,me)),s.tc("modal",!0)("visible",t.ShowSplitedPrintModel)("maximizable",!0),s.Fb(1),s.tc("ngIf",t.ShowSplitedPrintModel),s.Fb(1),s.Pc(s.yc(52,me)),s.tc("modal",!0)("visible",t.ShowDialogSalesReturnModel)("maximizable",!0),s.Fb(1),s.tc("ngIf",t.ShowDialogSalesReturnModel))},directives:[h.c,m.i,p.a,f.p,T.a,v.a,S.a,I.a,x,L.a,D.o,D.r,_.a,j.a],pipes:[f.f,f.y],styles:[""]}),ue)},"e+Tu":function(e,t,i){"use strict";i.d(t,"a",function(){return S});var a=i("fXoL"),c=i("CwUn"),s=i("NLkC"),b=i("G+wY"),d=i("Nach"),u=i("3Pt+"),h=i("ofXK"),m=i("Ks7X"),p=i("jIHw"),f=function(){return{width:"100%"}};function T(e,t){if(1&e){var n=a.Zb();a.Yb(0,"tr"),a.Yb(1,"td"),a.Yb(2,"input",8),a.ic("ngModelChange",function(e){return t.$implicit.IsChecked=e}),a.Xb(),a.Xb(),a.Yb(3,"td"),a.Uc(4),a.Xb(),a.Yb(5,"td"),a.Uc(6),a.Xb(),a.Yb(7,"td"),a.Uc(8),a.Xb(),a.Yb(9,"td"),a.Uc(10),a.Xb(),a.Yb(11,"td"),a.Uc(12),a.Xb(),a.Yb(13,"td"),a.Uc(14),a.Xb(),a.Yb(15,"td"),a.Yb(16,"p-inputNumber",9),a.ic("ngModelChange",function(e){return t.$implicit.ReQty=e})("onInput",function(e){a.Lc(n);var i=t.index;return a.mc().CalculateItemTotal(e,i)})("onBlur",function(){a.Lc(n);var e=t.index;return a.mc().CalculateItemTotalNew(e)}),a.Xb(),a.Xb(),a.Yb(17,"td"),a.Uc(18),a.nc(19,"number"),a.Xb(),a.Yb(20,"td"),a.Uc(21),a.nc(22,"number"),a.Xb(),a.Yb(23,"td"),a.Uc(24),a.nc(25,"number"),a.Xb(),a.Yb(26,"td"),a.Uc(27),a.nc(28,"number"),a.Xb(),a.Yb(29,"td"),a.Uc(30),a.nc(31,"number"),a.Xb(),a.Xb()}if(2&e){var i=t.$implicit,o=t.index;a.Fb(2),a.tc("disabled",0==i.AvQty)("ngModel",i.IsChecked),a.Fb(2),a.Wc(" ",i.MCODE," "),a.Fb(2),a.Wc(" ",i.Description," "),a.Fb(2),a.Vc(i.MRP),a.Fb(2),a.Vc(i.SPRICE),a.Fb(2),a.Vc(i.SoldQty),a.Fb(2),a.Vc(i.AvQty),a.Fb(2),a.Pc(a.yc(36,f)),a.vc("name","txtItemWiseQty_",o+1,""),a.tc("disabled",1!=i.IsChecked)("ngModel",i.ReQty)("min",0)("max",i.AvQty)("maxlength",10),a.Fb(2),a.Vc(a.pc(19,21,i.GST,"1.1-2")),a.Fb(3),a.Wc(" ",a.pc(22,24,i.Taxable,"1.1-2")," "),a.Fb(3),a.Wc(" ",a.pc(25,27,i.DiscPer,"1.1-2")," "),a.Fb(3),a.Wc(" ",a.pc(28,30,i.DiscAmnt,"1.1-2")," "),a.Fb(3),a.Wc(" ",a.pc(31,33,i.NetPayble,"1.1-2")," ")}}function v(e,t){if(1&e){var n=a.Zb();a.Yb(0,"p-button",10),a.ic("onClick",function(e){a.Lc(n);var t=a.mc();return e.stopPropagation(),t.SaveSalesReturn()}),a.Uc(1," Save "),a.Xb()}}var S=function(){var e=function(e){r(i,e);var t=l(i);function i(e,o,r,l){var c;return n(this,i),(c=t.call(this))._UtilityService=e,c.cdRef=o,c._PatientServices=r,c._ConstantServices=l,c.SlotBookingIdSelected=null,c.VCHRNO=null,c.EmitSuccessSalesReturn=new a.o,c.lstItemDetails=[],c.selectAllItem=!1,c.ItemTotalDiscount=0,c.ItemTotalTaxable=0,c.ItemTotalGST=0,c.TotalDiscount=0,c.TotalGST=0,c.TotalTaxable=0,c.ItemCheckedTotal=0,c.TotalSoldQty=0,c.TotalAvQty=0,c.TotalReQty=0,c.TotalNetPayble=0,c}return o(i,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.LoadAvailableItem()}},{key:"LoadAvailableItem",value:function(){var e=this;this.lstItemDetails=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetTIProdItemDueForSRE(this.SlotBookingIdSelected,this.VCHRNO).subscribe(function(t){if(e._UtilityService.hideSpinner(),1==t.actionResult.success){var n=JSON.parse(t.actionResult.result);e.lstItemDetails=n=n||[],e.cdRef.detectChanges()}else e.lstItemDetails=[],e.cdRef.detectChanges()},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)}),this.cdRef.detectChanges()}},{key:"getSelectAllItem",value:function(){var e;if(1==this.selectAllItem)for(var t=0;t<(null===(e=this.lstItemDetails)||void 0===e?void 0:e.length);t++)this.lstItemDetails[t].IsChecked=!0;else for(t=0;t<this.lstItemDetails.length;t++)this.lstItemDetails[t].IsChecked=!1;this.cdRef.detectChanges()}},{key:"CalculateItemTotal",value:function(e,t){if(this._ConstantServices.nullToZeroConverter(e.value)>0){var n,i,o=this._ConstantServices.nullToZeroConverter(e.value),r=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].SPRICE),a=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].DiscPer);n=a>0?r*o*a/100:0,i=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].GSTRATE)>0?(r*o-n)*this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].GSTRATE)/100:0,this.lstItemDetails[t].ReQty=o,this.lstItemDetails[t].GST=i,this.lstItemDetails[t].DiscAmnt=n,this.lstItemDetails[t].PriceWithGST=r*o-n+i,this.lstItemDetails[t].NetPayble=r*o-n+i,this.lstItemDetails[t].Taxable=r*o-n}else this.lstItemDetails[t].GST=0,this.lstItemDetails[t].DiscAmnt=0,this.lstItemDetails[t].PriceWithGST=0,this.lstItemDetails[t].NetPayble=0,this.lstItemDetails[t].Taxable=0;this.CalculateTotalItemPrice(),this.cdRef.detectChanges()}},{key:"CalculateItemTotalNew",value:function(e){var t=this.lstItemDetails[e];if(this._ConstantServices.nullToZeroConverter(t.ReQty)>0){var n,i,o=this._ConstantServices.nullToZeroConverter(t.ReQty),r=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].SPRICE),a=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].DiscPer);n=a>0?r*o*a/100:0,i=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].GSTRATE)>0?(r*o-n)*this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].GSTRATE)/100:0,this.lstItemDetails[e].ReQty=o,this.lstItemDetails[e].GST=i,this.lstItemDetails[e].DiscAmnt=n,this.lstItemDetails[e].PriceWithGST=r*o-n+i,this.lstItemDetails[e].NetPayble=r*o-n+i}else this.lstItemDetails[e].GST=0,this.lstItemDetails[e].DiscAmnt=0,this.lstItemDetails[e].PriceWithGST=0,this.lstItemDetails[e].NetPayble=0;this.CalculateTotalItemPrice(),this.cdRef.detectChanges()}},{key:"CalculateTotalItemPrice",value:function(){var e=this;if(this.ItemTotalDiscount=0,this.ItemTotalTaxable=0,this.ItemTotalGST=0,this.TotalDiscount=0,this.TotalGST=0,this.TotalTaxable=0,this.TotalSoldQty=0,this.TotalAvQty=0,this.TotalReQty=0,this.TotalNetPayble=0,null!=this.lstItemDetails.filter(function(e){return 1==e.IsChecked&&e.ReQty>0})){var t=this.lstItemDetails.filter(function(e){return 1==e.IsChecked&&e.ReQty>0}),n=0;t.length>0&&(n=t.map(function(e){return e.PriceWithGST}).reduce(function(e,t){return e+t},0)),this.ItemCheckedTotal=n,t.map(function(t){e.ItemTotalDiscount=e.ItemTotalDiscount+e._ConstantServices.nullToZeroConverter(t.DiscAmnt),e.ItemTotalTaxable=e.ItemTotalTaxable+e._ConstantServices.nullToZeroConverter(t.Taxable),e.ItemTotalGST=e.ItemTotalGST+e._ConstantServices.nullToZeroConverter(t.GST),e.TotalSoldQty=e.TotalSoldQty+e._ConstantServices.nullToZeroConverter(t.SoldQty),e.TotalAvQty=e.TotalAvQty+e._ConstantServices.nullToZeroConverter(t.AvQty),e.TotalReQty=e.TotalReQty+e._ConstantServices.nullToZeroConverter(t.ReQty),e.TotalNetPayble=e.TotalNetPayble+e._ConstantServices.nullToZeroConverter(t.NetPayble)}),this.cdRef.detectChanges()}}},{key:"SaveSalesReturn",value:function(){var e,t=this;if(0!=(null===(e=this.lstItemDetails.filter(function(e){return 1==e.IsChecked&&e.ReQty>0}))||void 0===e?void 0:e.length))if(this.TotalNetPayble<=0)this._UtilityService.showWarningAlert("Return Amount less");else{var n={};n.lstReturnDTO=this.lstItemDetails.filter(function(e){return 1==e.IsChecked&&e.ReQty>0}),n.ModifiedBy=localStorage.getItem("userId"),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.SaveSalesReturn(n).subscribe(function(e){t._UtilityService.hideSpinner(),1==e.actionResult.success?(t.EmitSuccessSalesReturn.emit(!0),t._UtilityService.showSuccessAlert(e.actionResult.errMsg)):t._UtilityService.showWarningAlert(e.actionResult.errMsg)},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}else this._UtilityService.showWarningAlert("Please Check Any Item to return")}}]),i}(c.a);return e.\u0275fac=function(t){return new(t||e)(a.Sb(s.a),a.Sb(a.h),a.Sb(b.a),a.Sb(d.f))},e.\u0275cmp=a.Mb({type:e,selectors:[["app-sales-return"]],inputs:{SlotBookingIdSelected:"SlotBookingIdSelected",VCHRNO:"VCHRNO"},outputs:{EmitSuccessSalesReturn:"EmitSuccessSalesReturn"},features:[a.Cb,a.Db],decls:67,vars:31,consts:[[1,"row"],[1,"col-md-12"],[1,"table","table-striped","table-bordered",2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"col-md-10"],[1,"col-md-2",2,"text-align","right"],["type","button","class","print-prew",3,"onClick",4,"ngIf"],["type","checkbox","name","chkExtraItem",3,"disabled","ngModel","ngModelChange"],["mode","decimal",3,"disabled","name","ngModel","min","max","maxlength","ngModelChange","onInput","onBlur"],["type","button",1,"print-prew",3,"onClick"]],template:function(e,t){1&e&&(a.Yb(0,"div",0),a.Yb(1,"div",1),a.Yb(2,"table",2),a.Yb(3,"thead"),a.Yb(4,"tr"),a.Yb(5,"th"),a.Yb(6,"input",3),a.ic("ngModelChange",function(e){return t.selectAllItem=e})("change",function(){return t.getSelectAllItem()}),a.Xb(),a.Xb(),a.Yb(7,"th"),a.Uc(8,"Item Code"),a.Xb(),a.Yb(9,"th"),a.Uc(10,"Item Details"),a.Xb(),a.Yb(11,"th"),a.Uc(12,"Rate"),a.Xb(),a.Yb(13,"th"),a.Uc(14,"Selling Price"),a.Xb(),a.Yb(15,"th"),a.Uc(16,"Sold Qty"),a.Xb(),a.Yb(17,"th"),a.Uc(18,"Available Qty"),a.Xb(),a.Yb(19,"th"),a.Uc(20,"Return Qty"),a.Xb(),a.Yb(21,"th"),a.Uc(22,"GST"),a.Xb(),a.Yb(23,"th"),a.Uc(24,"Taxable"),a.Xb(),a.Yb(25,"th"),a.Uc(26,"Discount %"),a.Xb(),a.Yb(27,"th"),a.Uc(28,"Discount Amount"),a.Xb(),a.Yb(29,"th"),a.Uc(30,"Net Amount"),a.Xb(),a.Xb(),a.Xb(),a.Yb(31,"tbody"),a.Sc(32,T,32,37,"tr",4),a.Yb(33,"tr"),a.Tb(34,"td"),a.Tb(35,"td"),a.Yb(36,"td"),a.Yb(37,"b"),a.Uc(38,"Total"),a.Xb(),a.Xb(),a.Tb(39,"td"),a.Tb(40,"td"),a.Yb(41,"td"),a.Uc(42),a.nc(43,"number"),a.Xb(),a.Yb(44,"td"),a.Uc(45),a.nc(46,"number"),a.Xb(),a.Yb(47,"td"),a.Uc(48),a.nc(49,"number"),a.Xb(),a.Yb(50,"td"),a.Uc(51),a.nc(52,"number"),a.Xb(),a.Yb(53,"td"),a.Uc(54),a.nc(55,"number"),a.Xb(),a.Tb(56,"td"),a.Yb(57,"td"),a.Uc(58),a.nc(59,"number"),a.Xb(),a.Yb(60,"td"),a.Uc(61),a.nc(62,"number"),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(63,"div",0),a.Tb(64,"div",5),a.Yb(65,"div",6),a.Sc(66,v,2,0,"p-button",7),a.Xb(),a.Xb()),2&e&&(a.Fb(6),a.tc("ngModel",t.selectAllItem),a.Fb(26),a.tc("ngForOf",t.lstItemDetails),a.Fb(10),a.Vc(a.pc(43,10,t.TotalSoldQty,"1.1-2")),a.Fb(3),a.Vc(a.pc(46,13,t.TotalAvQty,"1.1-2")),a.Fb(3),a.Vc(a.pc(49,16,t.TotalReQty,"1.1-2")),a.Fb(3),a.Vc(a.pc(52,19,t.ItemTotalGST,"1.1-2")),a.Fb(3),a.Vc(a.pc(55,22,t.ItemTotalTaxable,"1.1-2")),a.Fb(4),a.Vc(a.pc(59,25,t.ItemTotalDiscount,"1.1-2")),a.Fb(3),a.Vc(a.pc(62,28,t.TotalNetPayble,"1.1-2")),a.Fb(5),a.tc("ngIf",t.TotalNetPayble>0))},directives:[u.a,u.o,u.r,h.o,h.p,m.a,u.j,p.a],pipes:[h.g],styles:[""]}),e}()},kcK2:function(e,t,i){"use strict";i.d(t,"a",function(){return Q});var o,r,a,l,c,s,b,d,u=i("ofXK"),h=i("tyNb"),m=i("btFH"),p=i("fXoL"),f=[{path:"",component:m.a}],T=((o=function e(){n(this,e)}).\u0275fac=function(e){return new(e||o)},o.\u0275mod=p.Qb({type:o}),o.\u0275inj=p.Pb({imports:[[h.l.forChild(f)],h.l]}),o),v=i("rEr+"),S=i("jIHw"),I=i("7kUa"),g=i("/RsI"),y=i("ELi9"),D=i("QbTu"),X=i("Qcri"),Y=[],C=((r=function e(){n(this,e)}).\u0275fac=function(e){return new(e||r)},r.\u0275mod=p.Qb({type:r}),r.\u0275inj=p.Pb({imports:[[h.l.forChild(Y)],h.l]}),r),N=i("Ks7X"),k=i("eO1q"),A=i("lVkt"),R=i("3Pt+"),P=((a=function e(){n(this,e)}).\u0275fac=function(e){return new(e||a)},a.\u0275mod=p.Qb({type:a}),a.\u0275inj=p.Pb({imports:[[u.c,C,R.i,v.f,S.c,I.b,g.b,N.b,k.b,A.b]]}),a),U=i("Ji6n"),F=[{path:"",component:i("ykst").a}],M=((l=function e(){n(this,e)}).\u0275fac=function(e){return new(e||l)},l.\u0275mod=p.Qb({type:l}),l.\u0275inj=p.Pb({imports:[[h.l.forChild(F)],h.l]}),l),w=i("m1XX"),B=i("9XlL"),O=i("ycwT"),V=i("QoE7"),x=((c=function e(){n(this,e)}).\u0275fac=function(e){return new(e||c)},c.\u0275mod=p.Qb({type:c}),c.\u0275inj=p.Pb({imports:[[u.c,M,w.b,B.a,O.a,V.a]]}),c),L=[{path:"",component:i("e+Tu").a}],_=((s=function e(){n(this,e)}).\u0275fac=function(e){return new(e||s)},s.\u0275mod=p.Qb({type:s}),s.\u0275inj=p.Pb({imports:[[h.l.forChild(L)],h.l]}),s),j=i("Q4Mo"),W=i("arFO"),G=i("Nf9I"),E=i("LuMj"),H=((d=function e(){n(this,e)}).\u0275fac=function(e){return new(e||d)},d.\u0275mod=p.Qb({type:d}),d.\u0275inj=p.Pb({imports:[[u.c,_,R.i,R.v,v.f,S.c,j.b,W.b,I.b,k.b,G.b,N.b,E.b]]}),d),Q=((b=function e(){n(this,e)}).\u0275fac=function(e){return new(e||b)},b.\u0275mod=p.Qb({type:b}),b.\u0275inj=p.Pb({imports:[[u.c,T,R.i,v.f,S.c,I.b,g.b,y.a,D.a,X.a,P,U.b,x,H]]}),b)},ykst:function(t,i,a){"use strict";a.d(i,"a",function(){return g});var c=a("CwUn"),s=a("Nach"),b=a("fXoL"),d=a("NLkC"),u=a("G+wY"),h=a("ofXK"),m=a("sCq/"),p=a("Q8Cd");function f(e,t){if(1&e){var n=b.Zb();b.Yb(0,"div"),b.Yb(1,"app-print-access-header",27),b.ic("onselectedLetterhead",function(e){return b.Lc(n),b.mc().onselectedLetterhead(e)}),b.Xb(),b.Xb()}if(2&e){var i=b.mc();b.Fb(1),b.tc("IsLetterhead",i.IsLetterhead)("IsNgxPrint",!0)}}function T(e,t){if(1&e&&(b.Yb(0,"tr"),b.Yb(1,"td",18),b.Uc(2),b.nc(3,"date"),b.Xb(),b.Yb(4,"td",18),b.Uc(5),b.Xb(),b.Yb(6,"td",18),b.Uc(7),b.Xb(),b.Yb(8,"td",18),b.Uc(9),b.nc(10,"number"),b.Xb(),b.Yb(11,"td",18),b.Uc(12),b.Xb(),b.Yb(13,"td",18),b.Uc(14),b.nc(15,"number"),b.Xb(),b.Yb(16,"td",18),b.Uc(17),b.nc(18,"number"),b.Xb(),b.Yb(19,"td",18),b.Uc(20),b.nc(21,"number"),b.Xb(),b.Xb()),2&e){var n=t.$implicit,i=b.mc();b.Fb(2),b.Wc(" ",b.pc(3,8,n.PurchaseDate,i.customDateFormat.DEF_DATE)," "),b.Fb(3),b.Wc(" ",n.MRNo," "),b.Fb(2),b.Wc(" ",n.Description,""),b.Fb(2),b.Wc(" ",b.pc(10,11,n.MRP,"1.1-2"),""),b.Fb(3),b.Wc(" ",n.Qty,""),b.Fb(2),b.Wc(" ",b.pc(15,14,n.PriceWithGST,"1.1-2"),""),b.Fb(3),b.Wc(" ",b.pc(18,17,n.DiscountAmount,"1.1-2")," "),b.Fb(3),b.Wc(" ",b.pc(21,20,n.NetPayble,"1.1-2")," ")}}function v(e,t){if(1&e&&(b.Yb(0,"tr"),b.Yb(1,"td",18),b.Uc(2),b.nc(3,"titlecase"),b.Xb(),b.Yb(4,"td",18),b.Uc(5),b.nc(6,"date"),b.Xb(),b.Yb(7,"td",18),b.Uc(8),b.nc(9,"titlecase"),b.Xb(),b.Yb(10,"td",18),b.Uc(11),b.nc(12,"titlecase"),b.Xb(),b.Yb(13,"td",18),b.Uc(14),b.nc(15,"number"),b.Xb(),b.Xb()),2&e){var n=t.$implicit,i=b.mc(2);b.Fb(2),b.Wc(" ",b.oc(3,5,n.TrnMode)," "),b.Fb(3),b.Wc(" ",b.pc(6,7,n.TrnDate,i.customDateFormat.DEF_DATE)," "),b.Fb(3),b.Wc(" ",b.oc(9,10,n.InvType)," "),b.Fb(3),b.Wc(" ",b.oc(12,12,n.TransactionId)," "),b.Fb(3),b.Wc(" ",b.pc(15,14,n.Amount,"1.1-2")," ")}}function S(e,t){if(1&e&&(b.Yb(0,"table",11),b.Yb(1,"thead",12),b.Yb(2,"tr",13),b.Yb(3,"th",14),b.Uc(4,"Payment Mode"),b.Xb(),b.Yb(5,"th",14),b.Uc(6,"Date"),b.Xb(),b.Yb(7,"th",14),b.Uc(8,"Type"),b.Xb(),b.Yb(9,"th",14),b.Uc(10,"TransactionId"),b.Xb(),b.Yb(11,"th",14),b.Uc(12,"Amount"),b.Xb(),b.Xb(),b.Xb(),b.Yb(13,"tbody",12),b.Sc(14,v,16,17,"tr",16),b.Yb(15,"tr"),b.Yb(16,"th",28),b.Uc(17," Total Receive"),b.Xb(),b.Yb(18,"th",29),b.Uc(19),b.nc(20,"number"),b.Xb(),b.Xb(),b.Yb(21,"tr"),b.Yb(22,"th",28),b.Uc(23," Total Refund"),b.Xb(),b.Yb(24,"th",29),b.Uc(25),b.nc(26,"number"),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&e){var n=b.mc();b.Fb(14),b.tc("ngForOf",n.TenderInfo),b.Fb(5),b.Wc(" ",b.pc(20,3,n.TotalReceive,"1.1-2"),""),b.Fb(6),b.Wc(" ",b.pc(26,6,n.TotalRefund,"1.1-2"),"")}}function I(e,t){if(1&e){var n=b.Zb();b.Yb(0,"div",30),b.Yb(1,"app-print-access-header",27),b.ic("onselectedLetterhead",function(e){return b.Lc(n),b.mc().onselectedLetterhead(e)}),b.Xb(),b.Xb()}if(2&e){var i=b.mc();b.Fb(1),b.tc("IsLetterhead",i.IsLetterhead)("IsNgxPrint",!0)}}var g=function(){var t=function(t){r(a,t);var i=l(a);function a(e,t){var o;return n(this,a),(o=i.call(this))._UtilityService=e,o._PatientServices=t,o.SlotBookingIdSelected=null,o.VCHRNO=null,o.IsLetterhead="false",o.RecordInput=0,o.ProdList=[],o.TenderInfo=[],o.lstTenderDetails=[],o.TotalReceive=0,o.TotalRefund=0,o.NetPayble=0,o.TotalQuantity=0,o.TotalAmount=0,o.ItemWiseTotalDisAmount=0,o.BillWiseDiscountPer=0,o.customDateFormat=s.h,o}return o(a,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){this.LoadSplitProdDetails()}},{key:"onselectedLetterhead",value:function(e){this.IsLetterhead=e}},{key:"LoadSplitProdDetails",value:function(){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetSplitedVoucherList(this.SlotBookingIdSelected,this.VCHRNO).subscribe({next:function(n){var i,o;if(t._UtilityService.hideSpinner(),1==n.actionResult.success){parseFloat(n.actionResult.stringVal);var r=JSON.parse(n.actionResult.result);if(t.ProdList=r=r||[],t.ProdList.map(function(e){t.TotalQuantity=t.TotalQuantity+e.Qty,t.TotalAmount=t.TotalAmount+e.PriceWithGST,t.ItemWiseTotalDisAmount=t.ItemWiseTotalDisAmount+e.DiscountAmount,t.NetPayble=t.NetPayble+e.NetPayble}),t.NetPayble=Math.round(t.NetPayble),null!=n.actionResult.result2&&null!=n.actionResult.result2&&(null===(i=n.actionResult.result2)||void 0===i?void 0:i.length)>0){var a=JSON.parse(n.actionResult.result2);if(t.TenderInfo=a=a||[],(null===(o=t.TenderInfo)||void 0===o?void 0:o.length)>0){t.TenderInfo=t.TenderInfo.filter(function(e){return"Receive"==e.InvType});var l,c=t.NetPayble,s=t.TenderInfo.map(function(e){return e.Amount}).reduce(function(e,t){return e+t}),b=c-s,d=e(t.TenderInfo);try{for(d.s();!(l=d.n()).done;){var u=l.value;u.Amount+=u.Amount/s*b}}catch(h){d.e(h)}finally{d.f()}t.TenderInfo.map(function(e){"Receive"==e.InvType&&(t.TotalReceive=t.TotalReceive+parseFloat(e.Amount)),"Refund"==e.InvType&&(t.TotalRefund=t.TotalRefund+parseFloat(e.Amount))})}}}else t.ProdList=[],t._UtilityService.showWarningAlert(n.actionResult.errMsg)},error:function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)}})}}]),a}(c.a);return t.\u0275fac=function(e){return new(e||t)(b.Sb(d.a),b.Sb(u.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-split-print-voucher"]],inputs:{SlotBookingIdSelected:"SlotBookingIdSelected",VCHRNO:"VCHRNO"},features:[b.Cb,b.Db],decls:125,vars:52,consts:[[1,"container"],[4,"ngIf"],["id","print-section",1,"row"],[1,"col-md-12"],[3,"slotBookingId","IsGST","IsLetterhead"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","font-size","15px"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box"],[2,"background-color","#d3d3d3"],[2,"padding","5px"],[2,"text-align","right","padding","5px"],[1,"mt-2"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","10px"],["align","Center"],[2,"background","#d3d3d3"],[2,"padding","6px"],[2,"padding","6px","text-align","right"],[4,"ngFor","ngForOf"],["colspan","4","align","right",2,"padding","2px"],[2,"padding","6px 0","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["style","width: 100%; margin: 0 auto; box-sizing: border-box; border: 1px solid #d3d3d3; margin-top: 10px;","cellpadding","0","cellspacing","0",4,"ngIf"],[1,"mt-5","text-center"],[2,"font-size","larger"],[1,"w-100","mt-10"],["width","50%",1,"text-left"],["width","50%",1,"text-right"],[1,"w-100","mt-15"],["class","mt-3",4,"ngIf"],[3,"IsLetterhead","IsNgxPrint","onselectedLetterhead"],["colspan","4",2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3","text-align","right"],[2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3"],[1,"mt-3"]],template:function(e,t){1&e&&(b.Yb(0,"article"),b.Yb(1,"div",0),b.Sc(2,f,2,2,"div",1),b.Yb(3,"div",2),b.Yb(4,"div",3),b.Tb(5,"app-print-header",4),b.Yb(6,"table",5),b.Yb(7,"tbody"),b.Yb(8,"tr"),b.Yb(9,"table",6),b.Yb(10,"tbody"),b.Yb(11,"tr",7),b.Yb(12,"td",8),b.Yb(13,"strong"),b.Uc(14," Bill No: "),b.Yb(15,"span"),b.Uc(16),b.Xb(),b.Xb(),b.Xb(),b.Yb(17,"td",9),b.Yb(18,"b"),b.Uc(19,"Bill Date: "),b.Xb(),b.Yb(20,"span"),b.Uc(21),b.nc(22,"date"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(23,"p",10),b.Yb(24,"strong"),b.Uc(25,"Detail of Charges"),b.Xb(),b.Xb(),b.Yb(26,"table",11),b.Yb(27,"thead",12),b.Yb(28,"tr",13),b.Yb(29,"th",14),b.Uc(30,"Date"),b.Xb(),b.Yb(31,"th",14),b.Uc(32,"MR No"),b.Xb(),b.Yb(33,"th",14),b.Uc(34,"Descriptions"),b.Xb(),b.Yb(35,"th",14),b.Uc(36,"Charges Rs"),b.Xb(),b.Yb(37,"th",14),b.Uc(38,"Qty"),b.Xb(),b.Yb(39,"th",14),b.Uc(40,"Amount Rs"),b.Xb(),b.Yb(41,"th",14),b.Uc(42,"Concession Rs"),b.Xb(),b.Yb(43,"th",15),b.Uc(44,"Total Amount Rs"),b.Xb(),b.Xb(),b.Xb(),b.Yb(45,"tbody",12),b.Sc(46,T,22,23,"tr",16),b.Yb(47,"tr"),b.Yb(48,"td",17),b.Yb(49,"b"),b.Uc(50,"No of item:"),b.Xb(),b.Xb(),b.Yb(51,"th",18),b.Uc(52),b.nc(53,"number"),b.Xb(),b.Yb(54,"th",18),b.Uc(55),b.nc(56,"number"),b.Xb(),b.Yb(57,"th",18),b.Uc(58),b.nc(59,"number"),b.Xb(),b.Yb(60,"th",18),b.Uc(61),b.nc(62,"number"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(63,"p",10),b.Yb(64,"strong"),b.Uc(65,"Detail of Receipts"),b.Xb(),b.Xb(),b.Sc(66,S,27,9,"table",19),b.Yb(67,"p",10),b.Yb(68,"strong"),b.Uc(69,"Brief Summary:"),b.Xb(),b.Xb(),b.Yb(70,"table",11),b.Yb(71,"thead",12),b.Yb(72,"tr",13),b.Yb(73,"th",14),b.Uc(74,"Charges Rs"),b.Xb(),b.Yb(75,"th",14),b.Uc(76,"Concession Rs"),b.Xb(),b.Yb(77,"th",14),b.Uc(78,"Total Due Rs"),b.Xb(),b.Yb(79,"th",14),b.Uc(80,"Deposited Rs"),b.Xb(),b.Yb(81,"th",14),b.Uc(82,"Refund Rs"),b.Xb(),b.Yb(83,"th",14),b.Uc(84,"Balance Rs"),b.Xb(),b.Xb(),b.Xb(),b.Yb(85,"tbody",12),b.Yb(86,"tr"),b.Yb(87,"td",18),b.Uc(88),b.nc(89,"number"),b.Xb(),b.Yb(90,"td",18),b.Uc(91),b.nc(92,"number"),b.Xb(),b.Yb(93,"td",18),b.Uc(94),b.nc(95,"number"),b.Xb(),b.Yb(96,"td",18),b.Uc(97),b.nc(98,"number"),b.Xb(),b.Yb(99,"td",18),b.Uc(100),b.nc(101,"number"),b.Xb(),b.Yb(102,"td",18),b.Uc(103),b.nc(104,"number"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(105,"p",20),b.Yb(106,"strong",21),b.Uc(107,"Bill is Fully Settled"),b.Xb(),b.Xb(),b.Yb(108,"table",22),b.Yb(109,"tr"),b.Yb(110,"td",23),b.Yb(111,"span"),b.Uc(112,"Health Seeker's Signature: ..........................."),b.Xb(),b.Xb(),b.Yb(113,"td",24),b.Yb(114,"span"),b.Uc(115,"Authorised Signatory: ..........................."),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(116,"table",25),b.Yb(117,"tr"),b.Yb(118,"td",23),b.Yb(119,"span"),b.Uc(120,"Prepared By: ..................................."),b.Xb(),b.Xb(),b.Yb(121,"td",24),b.Yb(122,"span"),b.Uc(123,"Checked By: ......................................."),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Sc(124,I,2,2,"div",26),b.Xb(),b.Xb()),2&e&&(b.Fb(2),b.tc("ngIf",0==t.RecordInput),b.Fb(3),b.tc("slotBookingId",t.SlotBookingIdSelected)("IsGST",!0)("IsLetterhead",t.IsLetterhead),b.Fb(11),b.Vc(null==t.ProdList[0]?null:t.ProdList[0].SONumber),b.Fb(5),b.Vc(b.pc(22,19,null==t.ProdList[0]?null:t.ProdList[0].BillDate,t.customDateFormat.DEF_DATE)),b.Fb(25),b.tc("ngForOf",t.ProdList),b.Fb(6),b.Vc(b.pc(53,22,t.TotalQuantity,"1.0-0")),b.Fb(3),b.Vc(b.pc(56,25,t.TotalAmount,"1.1-2")),b.Fb(3),b.Wc("",b.pc(59,28,t.ItemWiseTotalDisAmount,"1.1-2")," "),b.Fb(3),b.Vc(b.pc(62,31,t.NetPayble,"1.1-2")),b.Fb(5),b.tc("ngIf",t.TenderInfo.length>0),b.Fb(22),b.Wc(" \u20b9",b.pc(89,34,t.TotalAmount,"1.1-2")," "),b.Fb(3),b.Wc(" \u20b9",b.pc(92,37,t.ItemWiseTotalDisAmount,"1.1-2")," "),b.Fb(3),b.Wc(" \u20b9",b.pc(95,40,t.NetPayble,"1.1-2")," "),b.Fb(3),b.Wc(" \u20b9",b.pc(98,43,t.NetPayble,"1.1-2")," "),b.Fb(3),b.Wc(" \u20b9",b.pc(101,46,0,"1.1-2")," "),b.Fb(3),b.Wc(" \u20b9",b.pc(104,49,0,"1.1-2")," "),b.Fb(21),b.tc("ngIf",0==t.RecordInput))},directives:[h.p,m.a,h.o,p.a],pipes:[h.f,h.g,h.y],styles:[""]}),t}()}}])}();