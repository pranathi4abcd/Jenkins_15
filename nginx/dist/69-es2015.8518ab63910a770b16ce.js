(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{FhBl:function(e,t,i){"use strict";i.r(t),i.d(t,"CommonDashboardModule",function(){return yt});var o=i("ofXK"),n=i("tyNb"),s=i("Nach"),c=i("fXoL"),a=i("3Wt6"),r=i("Icee"),l=i("q2h3"),d=i("zXHC"),b=i("iVOs"),h=i("H2Dd"),u=i("CwUn"),p=i("A1d6"),m=i("NLkC"),g=i("eO1q"),S=i("3Pt+"),f=i("rEr+"),I=i("7zfz"),y=i("AAHA"),P=i("7kUa");const k=["calendar"];function v(e,t){if(1&e){const e=c.Zb();c.Yb(0,"div",2),c.Yb(1,"div",19),c.Yb(2,"label",20),c.Uc(3,"Center "),c.Yb(4,"span",6),c.Uc(5,"*"),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",21),c.Yb(7,"app-center-dropdown",22),c.ic("onclinicSelect",function(t){return c.Lc(e),c.mc().onclinicSelect(t)}),c.Xb(),c.Xb(),c.Xb()}2&e&&(c.Fb(7),c.tc("isCenterLabel",!1)("mode","get"))}function M(e,t){if(1&e){const e=c.Zb();c.Yb(0,"div",23),c.Yb(1,"span",24),c.Tb(2,"i",25),c.Yb(3,"input",26),c.ic("input",function(t){return c.Lc(e),c.mc(),c.Ic(18).filterGlobal(t.target.value,"contains")}),c.Xb(),c.Xb(),c.Xb()}}function R(e,t){if(1&e&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2," No records found "),c.Xb(),c.Xb()),2&e){const e=t.$implicit;c.Fb(1),c.Gb("colspan",null==e?null:e.length)}}function B(e,t){1&e&&(c.Yb(0,"tr"),c.Yb(1,"th"),c.Uc(2,"Patient Name"),c.Xb(),c.Yb(3,"th"),c.Uc(4,"Yoga Name"),c.Xb(),c.Yb(5,"th"),c.Uc(6,"Repeatation"),c.Xb(),c.Yb(7,"th"),c.Uc(8,"Duration"),c.Xb(),c.Yb(9,"th"),c.Uc(10,"Presc. Date"),c.Xb(),c.Yb(11,"th"),c.Uc(12,"Time Period"),c.Xb(),c.Yb(13,"th"),c.Uc(14,"Remarks"),c.Xb(),c.Xb())}function C(e,t){if(1&e&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2),c.Xb(),c.Yb(3,"td"),c.Uc(4),c.Xb(),c.Yb(5,"td"),c.Uc(6),c.Xb(),c.Yb(7,"td"),c.Uc(8),c.Xb(),c.Yb(9,"td"),c.Uc(10),c.nc(11,"date"),c.Xb(),c.Yb(12,"td"),c.Uc(13),c.nc(14,"date"),c.nc(15,"date"),c.Xb(),c.Yb(16,"td"),c.Uc(17),c.Xb(),c.Xb()),2&e){const e=t.$implicit,i=c.mc();c.Fb(2),c.Vc(e.PatientName),c.Fb(2),c.Vc(e.YogaName),c.Fb(2),c.Vc(e.Qty),c.Fb(2),c.Vc(e.Duration),c.Fb(2),c.Vc(c.pc(11,8,e.PrescriptionDate,i.customDateFormat.DEF_DATE)),c.Fb(3),c.Xc("",c.pc(14,11,e.PrescriptionFrom,"HH:mm")," - ",c.pc(15,14,e.PrescriptionUpto,"HH:mm"),""),c.Fb(4),c.Vc(e.Remarks)}}const U=function(){return{standalone:!0}},Y=function(){return["PatientName","YogaName","Remarks"]};let T=(()=>{class e extends u.a{constructor(e,t,i,o,n){super(),this.cdRef=e,this.datepipe=t,this._ClinicServices=i,this._ConstantsService=o,this._UtilityService=n,this.UserTypeCurre=localStorage.getItem("userTypeId"),this.userTypes=s.s,this.customDateFormat=s.h,this.ClinicIdSelected=null,this.rangeDates=[],this.MaxYear=(new Date).getFullYear()+2,this._ConstantsService.ActiveMenuName="Yoga Monitoring List"}ngOnInit(){var e=new Date;e.setMonth(e.getMonth()-1),this.dFrom=e,this.dTo=new Date,this.rangeDates=[this.dFrom,this.dTo],s.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId"),this.ShowYogaList())}onclinicSelect(e){this.ClinicIdSelected=e,this.ShowYogaList()}dateRangeChange(){this.rangeDates[0]&&this.rangeDates[1]&&(void 0!==this.calendar&&(this.calendar.overlayVisible=!1),this.ShowYogaList())}ShowYogaList(){this.dFrom=this.rangeDates[0],this.dTo=this.rangeDates[1],""!=this.ClinicIdSelected&&null!=this.ClinicIdSelected&&null!=this.ClinicIdSelected?""!=this.dFrom&&null!=this.dFrom&&null!=this.dFrom?""!=this.dTo&&null!=this.dTo&&null!=this.dTo?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._ClinicServices.GetYogaScheduleForPatient(this.ClinicIdSelected,this.datepipe.transform(this.dFrom,"MM-dd-yyyy"),this.datepipe.transform(this.dTo,"MM-dd-yyyy")).subscribe(e=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.lstYogaClinicSchedulePrescription=t=t||[],this.cdRef.detectChanges()}else this.lstYogaClinicSchedulePrescription=[],this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})):this._UtilityService.showWarningAlert("Please select To date"):this._UtilityService.showWarningAlert("Please select From date"):this._UtilityService.showWarningAlert("Please select center")}}return e.\u0275fac=function(t){return new(t||e)(c.Sb(c.h),c.Sb(o.f),c.Sb(p.a),c.Sb(s.f),c.Sb(m.a))},e.\u0275cmp=c.Mb({type:e,selectors:[["app-yoga-dashboard"]],viewQuery:function(e,t){if(1&e&&c.cd(k,1),2&e){let e;c.Hc(e=c.jc())&&(t.calendar=e.first)}},features:[c.Cb],decls:23,vars:16,consts:[[1,"card","mb-4"],[1,"card-body"],[1,"row","mb-2"],["class","row mb-2",4,"ngIf"],[1,"col-auto","mt-2","bold"],["for",""],[1,"required"],[1,"col-md-3"],["selectionMode","range","inputId","icon","name","rangeDates",3,"yearNavigator","monthNavigator","yearRange","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onSelect"],["calendar",""],["type","button",1,"btn","btn-new-primary",3,"click"],[1,"row","mb-6"],[1,"col-md-12"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","calc(100vh - 250px)",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],[1,"col","col-md-1","pr-0"],["for","",1,"pt-2"],[1,"col","col-md-3"],[3,"isCenterLabel","mode","onclinicSelect"],[1,"p-d-flex"],[1,"p-input-icon-left","p-ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"div",2),c.Sc(3,v,8,2,"div",3),c.Yb(4,"div",4),c.Yb(5,"label",5),c.Uc(6,"From / To"),c.Yb(7,"span",6),c.Uc(8,"*"),c.Xb(),c.Xb(),c.Xb(),c.Yb(9,"div",7),c.Yb(10,"p-calendar",8,9),c.ic("ngModelChange",function(e){return t.rangeDates=e})("onSelect",function(){return t.dateRangeChange()}),c.Xb(),c.Xb(),c.Yb(12,"div",7),c.Yb(13,"button",10),c.ic("click",function(){return t.ShowYogaList()}),c.Uc(14,"Search"),c.Xb(),c.Xb(),c.Xb(),c.Yb(15,"div",11),c.Yb(16,"div",12),c.Yb(17,"p-table",13,14),c.Sc(19,M,4,0,"ng-template",15),c.Sc(20,R,3,1,"ng-template",16),c.Sc(21,B,15,0,"ng-template",17),c.Sc(22,C,18,17,"ng-template",18),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&e&&(c.Fb(3),c.tc("ngIf",t.UserTypeCurre===t.userTypes.SuperAdmin),c.Fb(7),c.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),c.tc("yearNavigator",!0)("monthNavigator",!0)("ngModel",t.rangeDates)("ngModelOptions",c.yc(14,U))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!0),c.Fb(7),c.tc("value",t.lstYogaClinicSchedulePrescription)("rowHover",!0)("globalFilterFields",c.yc(15,Y))("scrollable",!0))},directives:[o.p,g.a,S.o,S.r,f.c,I.i,y.a,P.a],pipes:[o.f],styles:[""]}),e})();var w=i("mrSG"),X=i("G+wY"),F=i("dPl2"),x=i("/RsI"),D=i("5QKP"),O=i("yd5W"),A=i("Rtg/"),N=i("MHjV"),E=i("xjJ3"),L=i("9oqr"),G=i("Ty8P"),_=i("LuMj");function W(e,t){1&e&&(c.Yb(0,"div",9),c.Uc(1,"Blood Group:"),c.Xb())}function z(e,t){if(1&e&&(c.Yb(0,"div",10),c.Uc(1),c.Xb()),2&e){const e=c.mc();c.Fb(1),c.Wc(" ",e.objPatient.BllodGroup,"")}}function V(e,t){if(1&e){const e=c.Zb();c.Yb(0,"div",37),c.Yb(1,"span",38),c.Tb(2,"i",39),c.Yb(3,"input",40),c.ic("input",function(t){return c.Lc(e),c.mc(),c.Ic(44).filterGlobal(t.target.value,"contains")}),c.Xb(),c.Xb(),c.Xb()}}function H(e,t){1&e&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2," No records found "),c.Xb(),c.Xb()),2&e&&(c.Fb(1),c.Gb("colspan",9))}function j(e,t){1&e&&(c.Yb(0,"colgroup"),c.Tb(1,"col",41),c.Tb(2,"col",42),c.Tb(3,"col",43),c.Tb(4,"col",43),c.Tb(5,"col",44),c.Tb(6,"col",45),c.Tb(7,"col",46),c.Tb(8,"col",47),c.Tb(9,"col",48),c.Xb())}function Q(e,t){1&e&&(c.Yb(0,"tr"),c.Yb(1,"th"),c.Uc(2,"S.No"),c.Xb(),c.Yb(3,"th"),c.Uc(4,"Booking No"),c.Xb(),c.Yb(5,"th"),c.Uc(6,"Adm. Date"),c.Xb(),c.Yb(7,"th"),c.Uc(8,"Dis. Date"),c.Xb(),c.Yb(9,"th"),c.Uc(10,"Center"),c.Xb(),c.Yb(11,"th"),c.Uc(12,"Doctor Name"),c.Xb(),c.Yb(13,"th"),c.Uc(14,"Status"),c.Xb(),c.Yb(15,"th"),c.Uc(16,"Token"),c.Xb(),c.Yb(17,"th"),c.Uc(18,"Action"),c.Xb(),c.Xb())}function Z(e,t){if(1&e&&(c.Yb(0,"tr"),c.Yb(1,"td",58),c.Yb(2,"span"),c.Uc(3),c.Xb(),c.Xb(),c.Xb()),2&e){const e=c.mc().$implicit;c.Fb(3),c.Vc(e.GroupNumber)}}function q(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",59),c.ic("click",function(){c.Lc(e);const t=c.mc().$implicit;return c.mc().ShowBookingModel(t.SlotBookingId,t.UserId,t.ClinicId,t.IsGrouped,t.GroupCount,t.BookingType)}),c.Tb(1,"i",60),c.Uc(2,"Book Room"),c.Xb()}}function J(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",61),c.ic("click",function(){c.Lc(e);const t=c.mc().$implicit;return c.mc().OPDBookingPayment(t.SlotBookingId,t.BookingType)}),c.Tb(1,"i",62),c.Uc(2,"Pay Now"),c.Xb()}}function $(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",61),c.ic("click",function(){c.Lc(e);const t=c.mc().$implicit;return c.mc().ShowExtraItemPaymentModel(t.SlotBookingId,t.UserId,t.ClinicId)}),c.Tb(1,"i",62),c.Uc(2,"Pay Extras"),c.Xb()}}function K(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",63),c.ic("click",function(){c.Lc(e);const t=c.mc().$implicit;return c.mc().DownloadVoucher(t.SlotBookingId)}),c.Tb(1,"i",64),c.Uc(2,"Voucher"),c.Xb()}}function ee(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",65),c.ic("click",function(){c.Lc(e);const t=c.mc().$implicit;return c.mc().GetSlotRemarks(t.SlotBookingId)}),c.Tb(1,"i",66),c.Uc(2,"Remarks"),c.Xb()}}function te(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",67),c.ic("click",function(){c.Lc(e);const t=c.mc().$implicit;return c.mc().UploadFile(t.SlotBookingId,t.ClinicId)}),c.Tb(1,"i",68),c.Xb()}}function ie(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",69),c.ic("click",function(){c.Lc(e);const t=c.mc().$implicit;return c.mc().DownloadFile(t.SlotBookingId)}),c.Tb(1,"i",70),c.Xb()}}function oe(e,t){if(1&e&&(c.Sc(0,Z,4,1,"tr",27),c.Yb(1,"tr"),c.Yb(2,"td"),c.Uc(3),c.Xb(),c.Yb(4,"td"),c.Uc(5),c.Xb(),c.Yb(6,"td"),c.Uc(7),c.nc(8,"date"),c.nc(9,"date"),c.Xb(),c.Yb(10,"td"),c.Uc(11),c.nc(12,"date"),c.nc(13,"date"),c.Xb(),c.Yb(14,"td"),c.Uc(15),c.Xb(),c.Yb(16,"td"),c.Uc(17),c.Xb(),c.Yb(18,"td"),c.Yb(19,"span"),c.Uc(20),c.Xb(),c.Xb(),c.Yb(21,"td",49),c.Uc(22),c.Xb(),c.Yb(23,"td",50),c.Sc(24,q,3,0,"button",51),c.Sc(25,J,3,0,"button",52),c.Sc(26,$,3,0,"button",53),c.Sc(27,K,3,0,"button",54),c.Sc(28,ee,3,0,"button",55),c.Sc(29,te,2,0,"button",56),c.Sc(30,ie,2,0,"button",57),c.Xb(),c.Xb()),2&e){const e=t.$implicit,i=t.rowIndex,o=c.mc();c.tc("ngIf",o.rowGroupMetadata[e.GroupNumber].index==i),c.Fb(3),c.Vc(i+1),c.Fb(2),c.Vc(e.BookingNumber),c.Fb(2),c.Vc("0001"==c.pc(8,19,e.PeriodFrom,"yyyy")?"":c.pc(9,22,e.PeriodFrom,o.customDateFormat.DEF_DATE)),c.Fb(4),c.Vc("0001"==c.pc(12,25,e.PeriodUpto,"yyyy")?"":c.pc(13,28,e.PeriodUpto,o.customDateFormat.DEF_DATE)),c.Fb(4),c.Vc(e.ClinicName),c.Fb(2),c.Vc(e.DoctorName),c.Fb(2),c.Hb(e.BookingStatus),c.Fb(1),c.Vc(e.BookingStatus),c.Fb(2),c.Vc(e.TokenNumber),c.Fb(2),c.tc("ngIf","IPD"===e.BookingType&&1==e.IsEnabledPatientBooking&&(0==e.IsGrouped||1==e.IsGrouped&&1==e.IsGrouphead&&1==e.OtherGroupstatus)&&e.BookingStatus===o.bookingStatus[o.bookingStatus.Approved]),c.Fb(1),c.tc("ngIf","OPD"===e.BookingType&&1==e.IsEnabledPatientBooking&&e.BookingStatus===o.bookingStatus[o.bookingStatus.Booked]&&e.IsValidDate),c.Fb(1),c.tc("ngIf","IPD"===e.BookingType&&1==e.IsEnabledPatientBooking&&e.BookingStatus===o.bookingStatus[o.bookingStatus.Admitted]&&e.IsUnBillItem),c.Fb(1),c.tc("ngIf",e.IsBillItem&&"IPD"===e.BookingType&&(e.BookingStatus===o.bookingStatus[o.bookingStatus.Confirmed]||e.BookingStatus===o.bookingStatus[o.bookingStatus.Admitted]||e.BookingStatus===o.bookingStatus[o.bookingStatus.Discharged])),c.Fb(1),c.tc("ngIf",e.IsRemarks),c.Fb(1),c.tc("ngIf","IPD"===e.BookingType&&e.BookingStatus===o.bookingStatus[o.bookingStatus.Pending]),c.Fb(1),c.tc("ngIf","IPD"===e.BookingType)}}function ne(e,t){if(1&e){const e=c.Zb();c.Yb(0,"div",37),c.Yb(1,"span",38),c.Tb(2,"i",39),c.Yb(3,"input",40),c.ic("input",function(t){return c.Lc(e),c.mc(),c.Ic(52).filterGlobal(t.target.value,"contains")}),c.Xb(),c.Xb(),c.Xb()}}function se(e,t){1&e&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2," No records found "),c.Xb(),c.Xb()),2&e&&(c.Fb(1),c.Gb("colspan",8))}function ce(e,t){1&e&&(c.Yb(0,"colgroup"),c.Tb(1,"col",47),c.Tb(2,"col",45),c.Tb(3,"col",71),c.Tb(4,"col",72),c.Tb(5,"col",72),c.Tb(6,"col",44),c.Tb(7,"col",46),c.Tb(8,"col",47),c.Xb())}function ae(e,t){1&e&&(c.Yb(0,"tr"),c.Yb(1,"th"),c.Uc(2,"S.No"),c.Xb(),c.Yb(3,"th"),c.Uc(4,"Booking No"),c.Xb(),c.Yb(5,"th"),c.Uc(6,"Prescription Date"),c.Xb(),c.Yb(7,"th"),c.Uc(8,"Adm. Date"),c.Xb(),c.Yb(9,"th"),c.Uc(10,"Dis. Date"),c.Xb(),c.Yb(11,"th"),c.Uc(12,"Booking Type"),c.Xb(),c.Yb(13,"th"),c.Uc(14,"Center"),c.Xb(),c.Yb(15,"th"),c.Uc(16,"Action"),c.Xb(),c.Xb())}function re(e,t){if(1&e){const e=c.Zb();c.Yb(0,"i",75),c.ic("click",function(){c.Lc(e);const t=c.mc().$implicit;return c.mc().PrintPrescription(t.UserId,t.SlotBookingId,"IDS")}),c.Xb()}}function le(e,t){if(1&e){const e=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2),c.Xb(),c.Yb(3,"td"),c.Uc(4),c.Xb(),c.Yb(5,"td"),c.Uc(6),c.nc(7,"date"),c.Xb(),c.Yb(8,"td"),c.Uc(9),c.nc(10,"date"),c.nc(11,"date"),c.Xb(),c.Yb(12,"td"),c.Uc(13),c.nc(14,"date"),c.nc(15,"date"),c.Xb(),c.Yb(16,"td"),c.Uc(17),c.Xb(),c.Yb(18,"td"),c.Uc(19),c.Xb(),c.Yb(20,"td"),c.Yb(21,"i",73),c.ic("click",function(){c.Lc(e);const i=t.$implicit;return c.mc().PrintPrescription(i.UserId,i.SlotBookingId,i.BookingType)}),c.Xb(),c.Sc(22,re,1,0,"i",74),c.Xb(),c.Xb()}if(2&e){const e=t.$implicit,i=t.rowIndex,o=c.mc();c.Fb(2),c.Vc(i+1),c.Fb(2),c.Vc(e.BookingNumber),c.Fb(2),c.Vc(c.pc(7,8,e.CreatedOn,o.customDateFormat.DEF_DATE)),c.Fb(3),c.Vc("0001"==c.pc(10,11,e.PeriodFrom,"yyyy")?"":c.pc(11,14,e.PeriodFrom,o.customDateFormat.DEF_DATE)),c.Fb(4),c.Vc("0001"==c.pc(14,17,e.PeriodUpto,"yyyy")?"":c.pc(15,20,e.PeriodUpto,o.customDateFormat.DEF_DATE)),c.Fb(4),c.Vc(e.BookingType),c.Fb(2),c.Vc(e.ClinicName),c.Fb(3),c.tc("ngIf","IPD"==e.BookingType)}}function de(e,t){if(1&e){const e=c.Zb();c.Yb(0,"div",37),c.Yb(1,"span",38),c.Tb(2,"i",39),c.Yb(3,"input",40),c.ic("input",function(t){return c.Lc(e),c.mc(),c.Ic(52).filterGlobal(t.target.value,"contains")}),c.Xb(),c.Xb(),c.Xb()}}function be(e,t){1&e&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2," No records found "),c.Xb(),c.Xb()),2&e&&(c.Fb(1),c.Gb("colspan",8))}function he(e,t){1&e&&(c.Yb(0,"colgroup"),c.Tb(1,"col",47),c.Tb(2,"col",45),c.Tb(3,"col",47),c.Xb())}function ue(e,t){1&e&&(c.Yb(0,"tr"),c.Yb(1,"th"),c.Uc(2,"S.No"),c.Xb(),c.Yb(3,"th"),c.Uc(4,"Clinic Name"),c.Xb(),c.Yb(5,"th"),c.Uc(6,"Balance"),c.Xb(),c.Xb())}function pe(e,t){if(1&e&&(c.Yb(0,"Label"),c.Uc(1),c.Xb()),2&e){const e=c.mc().$implicit;c.Fb(1),c.Wc("(",e.BalanceType,")")}}function me(e,t){if(1&e&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2),c.Xb(),c.Yb(3,"td"),c.Uc(4),c.Xb(),c.Yb(5,"td"),c.Uc(6),c.nc(7,"number"),c.Sc(8,pe,2,1,"Label",27),c.Xb(),c.Xb()),2&e){const e=t.$implicit,i=t.rowIndex;c.Fb(2),c.Vc(i+1),c.Fb(2),c.Vc(e.ClinicName),c.Fb(2),c.Wc("",c.pc(7,4,e.Balance,"1.1-2")," "),c.Fb(2),c.tc("ngIf",e.BalanceType)}}function ge(e,t){if(1&e){const e=c.Zb();c.Yb(0,"div"),c.Yb(1,"app-room-book-public",76),c.ic("roomBookClick",function(t){return c.Lc(e),c.mc().roomBookClick(t)})("EmitSelectedPackage",function(t){return c.Lc(e),c.mc().EmitSelectedPackage(t)}),c.Xb(),c.Xb()}if(2&e){const e=c.mc();c.Fb(1),c.tc("ClinicId",e.ClinicIdSelected)("SlotId",e.SlotBookingIdSelectedId)("BookingSource",e.BookingSource)("GroupCount",e.GroupCount)("IsGrouped",e.IsGrouped)}}function Se(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",78),c.ic("click",function(){return c.Lc(e),c.mc(2).awaitBookRoomm()}),c.Uc(1,"Book Room"),c.Xb()}}function fe(e,t){if(1&e&&c.Sc(0,Se,2,0,"button",77),2&e){const e=c.mc();c.tc("ngIf",e.CanBook)}}function Ie(e,t){if(1&e){const e=c.Zb();c.Yb(0,"div"),c.Yb(1,"app-package-group-mapping",79),c.ic("PackgeMappingEmit",function(t){return c.Lc(e),c.mc().EmitSelectedMapping(t)}),c.Xb(),c.Xb()}if(2&e){const e=c.mc();c.Fb(1),c.tc("Packages",e.Package)("SlotBookingId",e.SlotBookingIdSelectedId)}}function ye(e,t){if(1&e){const e=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Yb(2,"input",83),c.ic("change",function(){return c.Lc(e),c.mc(2).CalculateTotalItemPrice()})("ngModelChange",function(e){return t.$implicit.IsChecked=e}),c.Xb(),c.Xb(),c.Yb(3,"td"),c.Uc(4),c.Xb(),c.Yb(5,"td"),c.Uc(6),c.Xb(),c.Yb(7,"td"),c.Uc(8),c.Xb(),c.Yb(9,"td"),c.Uc(10),c.Xb(),c.Yb(11,"td"),c.Uc(12),c.Xb(),c.Yb(13,"td"),c.Uc(14),c.Xb(),c.Yb(15,"td"),c.Uc(16),c.Xb(),c.Yb(17,"td"),c.Uc(18),c.Xb(),c.Xb()}if(2&e){const e=t.$implicit;c.Fb(2),c.tc("ngModel",e.IsChecked),c.Fb(2),c.Wc(" ",e.MCODE," "),c.Fb(2),c.Wc(" ",e.Description," "),c.Fb(2),c.Vc(e.MRP),c.Fb(2),c.Wc(" ",e.Qty," "),c.Fb(2),c.Vc(e.GST),c.Fb(2),c.Vc(e.DiscountAmount),c.Fb(2),c.Wc(" ",e.PriceWithGST," "),c.Fb(2),c.Wc(" ",e.UNIT," ")}}function Pe(e,t){if(1&e&&(c.Yb(0,"div"),c.Yb(1,"div",4),c.Yb(2,"div",80),c.Yb(3,"table",81),c.Yb(4,"thead"),c.Yb(5,"tr"),c.Tb(6,"th"),c.Yb(7,"th"),c.Uc(8,"MCODE"),c.Xb(),c.Yb(9,"th"),c.Uc(10,"Item Details"),c.Xb(),c.Yb(11,"th"),c.Uc(12,"Rate"),c.Xb(),c.Yb(13,"th"),c.Uc(14,"Quantity"),c.Xb(),c.Yb(15,"th"),c.Uc(16,"GST"),c.Xb(),c.Yb(17,"th"),c.Uc(18,"Discount Amount"),c.Xb(),c.Yb(19,"th"),c.Uc(20,"Net Amount"),c.Xb(),c.Yb(21,"th"),c.Uc(22,"UOM"),c.Xb(),c.Xb(),c.Xb(),c.Yb(23,"tbody"),c.Sc(24,ye,19,9,"tr",82),c.Yb(25,"tr"),c.Tb(26,"td"),c.Tb(27,"td"),c.Yb(28,"td"),c.Yb(29,"b"),c.Uc(30,"Total"),c.Xb(),c.Xb(),c.Yb(31,"td"),c.Uc(32),c.Xb(),c.Tb(33,"td"),c.Tb(34,"td"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&e){const e=c.mc();c.Fb(24),c.tc("ngForOf",e.AllItemPriceRes),c.Fb(8),c.Wc(" ",e.ItemCheckedTotal," ")}}function ke(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",78),c.ic("click",function(){return c.Lc(e),c.mc().PayExtraItem()}),c.Uc(1,"Pay Extra Item"),c.Xb()}}function ve(e,t){if(1&e){const e=c.Zb();c.Yb(0,"div"),c.Yb(1,"div",4),c.Yb(2,"div",80),c.Yb(3,"app-razorpay",84),c.ic("GetPaymentStatusEmit",function(t){return c.Lc(e),c.mc().GetPaymentStatusEmit(t)}),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&e){const e=c.mc();c.Fb(3),c.tc("OrderRes",e.OrderRes)("ItemPriceRes",e.ItemPriceRes)("PackageMapping",e.PackageMapping)("SlotBookingIdSelected",e.SlotBookingIdSelectedId)("IsSelectedItem",e.IsSelectedItem)("UserRes",e.UserRes)("BillWiseDiscountPer",e.BillWiseDiscountPer)("ReferredBy",e.ReferredBy)("PayRequestFrom",e.PayRequestFrom)}}function Me(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",86),c.ic("click",function(){c.Lc(e);const t=c.mc(2);return t.ChangeRoom(t.SlotBookingIdSelectedId)}),c.Uc(1,"Change Room"),c.Xb()}}function Re(e,t){if(1&e&&c.Sc(0,Me,2,0,"button",85),2&e){const e=c.mc();c.tc("ngIf",e.IsIPD)}}function Be(e,t){if(1&e){const e=c.Zb();c.Yb(0,"div"),c.Yb(1,"div",4),c.Yb(2,"div",80),c.Yb(3,"app-worldline",87),c.ic("GetPaymentStatusEmit",function(t){return c.Lc(e),c.mc().GetWLPaymentStatusEmit(t)}),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&e){const e=c.mc();c.Fb(3),c.tc("WLOrderRes",e.OrderRes)("ItemPriceRes",e.ItemPriceRes)("PackageMapping",e.PackageMapping)("SlotBookingIdSelected",e.SlotBookingIdSelectedId)("IsSelectedItem",e.IsSelectedItem)("UserRes",e.UserRes)("BillWiseDiscountPer",e.BillWiseDiscountPer)("ReferredBy",e.ReferredBy)("PayRequestFrom",e.PayRequestFrom)}}function Ce(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",86),c.ic("click",function(){c.Lc(e);const t=c.mc(2);return t.ChangeRoom(t.SlotBookingIdSelectedId)}),c.Uc(1,"Change Room"),c.Xb()}}function Ue(e,t){if(1&e&&c.Sc(0,Ce,2,0,"button",85),2&e){const e=c.mc();c.tc("ngIf",e.IsIPD)}}function Ye(e,t){if(1&e&&(c.Yb(0,"div"),c.Tb(1,"app-individual-change-status-remarks",88),c.Xb()),2&e){const e=c.mc();c.Fb(1),c.tc("slotBookingId",e.SlotBookingIdSelectedId)}}function Te(e,t){if(1&e&&(c.Yb(0,"h3"),c.Uc(1),c.Xb()),2&e){const e=c.mc();c.Fb(1),c.Vc(e.HeaderName)}}function we(e,t){if(1&e){const e=c.Zb();c.Yb(0,"div"),c.Yb(1,"app-file-upload",89),c.ic("FileSuccess",function(t){return c.Lc(e),c.mc().FileSuccessUpload(t)}),c.Xb(),c.Xb()}if(2&e){const e=c.mc();c.Fb(1),c.tc("FormType",e.FormType)("SlotBookingId",e.SlotBookingIdSelectedId)("clinicId",e.ClinicIdSelected)("UploadMode","PendingToUnderReview")}}function Xe(e,t){if(1&e&&(c.Yb(0,"h3"),c.Uc(1),c.Xb()),2&e){const e=c.mc();c.Fb(1),c.Vc(e.HeaderName)}}function Fe(e,t){if(1&e&&(c.Yb(0,"div"),c.Tb(1,"app-file-download",90),c.Xb()),2&e){const e=c.mc();c.Fb(1),c.tc("FormType",e.FormType)("SlotBookingId",e.SlotBookingIdSelectedId)}}function xe(e,t){if(1&e){const e=c.Zb();c.Yb(0,"div"),c.Yb(1,"div",91),c.Yb(2,"div",92),c.Yb(3,"p-radioButton",93),c.ic("ngModelChange",function(t){return c.Lc(e),c.mc().selectPaymentMode=t}),c.Xb(),c.Yb(4,"label",94),c.Uc(5,"RazorPay"),c.Xb(),c.Yb(6,"p-radioButton",95),c.ic("ngModelChange",function(t){return c.Lc(e),c.mc().selectPaymentMode=t}),c.Xb(),c.Yb(7,"label",94),c.Uc(8,"WorldLine"),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&e){const e=c.mc();c.Fb(3),c.tc("ngModel",e.selectPaymentMode),c.Fb(3),c.tc("ngModel",e.selectPaymentMode)}}function De(e,t){if(1&e){const e=c.Zb();c.Yb(0,"button",78),c.ic("click",function(){return c.Lc(e),c.mc().BookSlot()}),c.Uc(1,"Next"),c.Xb()}}const Oe=function(){return["GroupNumber","BookingNumber","BookingType","ClinicName","DoctorName","BookingStatus"]},Ae=function(){return["BookingNumber","BookingType","ClinicName"]},Ne=function(){return[]},Ee=function(){return{width:"90vw"}},Le=function(){return{width:"50vw"}},Ge=function(){return{width:"70vw"}};let _e=(()=>{class e extends u.a{constructor(e,t,i,o,n){super(),this.cdRef=e,this._ConstantServices=t,this._PatientServices=i,this.datepipe=o,this._UtilityService=n,this.CurrDate=new Date,this.IsIPD=!1,this.CanBook=!1,this.userTypeId=null,this.userTypes=s.s,this.customDateFormat=s.h,this.defaultItemMCODE=s.i,this.ProfileImage=null,this.IsSelectedItem=!1,this.ItemCheckedTotal=0,this.ExtraItemList=[],this.slotBookingMaster={},this.bookingMainModel={},this.SlotBookingIdSelectedId=null,this.UserIdSelectedId=null,this.GroupCount=1,this.IsGrouped=!1,this.roomBookIngMaster=[],this.ClinicIdSelected=null,this.UserMaster={},this.RoomBookMaster={},this.LstPatientPrescriptionMain=[],this.objPatient={},this.abcFlag=!1,this.OrderRes={},this.UserRes={},this.AllItemPriceRes=[],this.ItemPriceRes=[],this.PayRequestFrom="Patient",this.DivisionSelected=null,this.BookingSource="Patient",this.BillWiseDiscountPer=0,this.ReferredBy="",this.bookingStatus=s.d,this.lstCustomerBalance=[],this.ShowRoomBookingModel=!1,this.ShowRemarksModel=!1,this.ShowExtraItemModel=!1,this.ShowRazorPayModel=!1,this.ShowWLPayModel=!1,this.Package={},this.ShowPackageModel=!1,this.PackageMapping=[],this.ShowAttachedFormModel=!1,this.ShowDownloadFormModel=!1,this.FormType=0,this.HeaderName=null,this.lstOnlinePayModAccess=[],this.selectPaymentMode="ATONLN",this.ShowPaymentModeModel=!1,this.IsPaymentMode=!1,this.bookingType=null,this.ClinicNameContact=null}ngOnInit(){this.userTypeId=localStorage.getItem("userTypeId"),this._ConstantServices.ActiveMenuName="Patient Details",this.userTypeId==this.userTypes.Patient&&(this.GetUserMasterById(localStorage.getItem("userId")),this.GetPatientTimeSlotsById(localStorage.getItem("userId")),this.GetPrescriptionListByUserId(localStorage.getItem("userId")),this.LoadCustomerBalanceDomainWise())}GetUserMasterById(e){this.unsubscribe.add=this._PatientServices.PaitentRegistrtionDetailsByUserId(e).subscribe(e=>{if(1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.objPatient=t=t||[],null!=this.objPatient.ProfileImage&&null!=this.objPatient.ProfileImage&&""!=this.objPatient.ProfileImage&&(this.ProfileImage=this._ConstantServices.BaseURIFileServer+"ProfileImage/"+this.objPatient.ProfileImage),this.cdRef.detectChanges(),this.abcFlag=!0}else this.objPatient={};this.cdRef.detectChanges()})}GetPatientTimeSlotsById(e){this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetPatientTimeSlotsById(e).subscribe(e=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.LstRoomBookMaster=t=t||[],this.updateRowGroupMetaData()}else this.LstRoomBookMaster=[],this.rowGroupMetadata={};this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}updateRowGroupMetaData(){if(this.rowGroupMetadata={},this.LstRoomBookMaster)for(let e=0;e<this.LstRoomBookMaster.length;e++){let t=this.LstRoomBookMaster[e].GroupNumber;0==e?this.rowGroupMetadata[t]={index:0,size:1}:t===this.LstRoomBookMaster[e-1].GroupNumber?this.rowGroupMetadata[t].size++:this.rowGroupMetadata[t]={index:e,size:1}}this.cdRef.detectChanges()}GetPrescriptionListByUserId(e){this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetPrescriptionListByUserId(e).subscribe(e=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.LstPatientPrescriptionMain=t=t||[]}else this.LstPatientPrescriptionMain=[];this.cdRef.detectChanges()})}LoadCustomerBalanceDomainWise(){this.lstCustomerBalance=[],this.cdRef.detectChanges(),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetCustomerBalanecDomainWise(localStorage.getItem("userId")).subscribe(e=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.lstCustomerBalance=t=t||[]}else this.lstCustomerBalance=[];this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}GetPaymentStatusEmit(e){e.includes("~")&&"Success"===e.split("~")[0]&&(this.ShowRazorPayModel=!1,this.ShowPaymentModeModel=!1,this.GetPatientTimeSlotsById(localStorage.getItem("userId")))}GetWLPaymentStatusEmit(e){e.includes("~")&&"Success"===e.split("~")[0]&&(this.ShowWLPayModel=!1,this.ShowPaymentModeModel=!1,this.GetPatientTimeSlotsById(localStorage.getItem("userId")))}roomBookClick(e){if(null==e)this.roomBookIngMaster=[];else if(0==e.Status||0==e.RequiredRooms||null==e.RequiredRooms)this.roomBookIngMaster=this.roomBookIngMaster.filter(t=>t.Index!==e.Index);else if(e.RequiredRooms>0&&(0==e.RequiredExtraBed||null==e.RequiredExtraBed)){this.upsert(this.roomBookIngMaster,e);var t=this.roomBookIngMaster.findIndex(t=>t.Index==e.Index);null!=t&&null!=t&&(this.roomBookIngMaster[t].RequiredExtraBed=0)}else e.RequiredRooms>0&&this.upsert(this.roomBookIngMaster,e)}upsert(e,t){const i=e.findIndex(e=>e.Index===t.Index);i>-1?e[i]=t:e.push(t)}ShowExtraItemPaymentModel(e,t,i){this.ExtraItemList=[],this.ItemCheckedTotal=0,this._UtilityService.showSpinner(),this._PatientServices.GetUnbilledItemBySlot(e).subscribe(o=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==o.actionResult.success){var n=JSON.parse(o.actionResult.result);this.ExtraItemList=n=n||[];for(var s=[],c=0;c<this.ExtraItemList.length;c++)s.push({BillItemId:this.ExtraItemList[c].BillItemId,MCODE:this.ExtraItemList[c].MCODE,Quantity:this.ExtraItemList[c].Qty,UNIT:this.ExtraItemList[c].UOMS});this._UtilityService.showSpinner(),this._PatientServices.GetItemPriceWithGSTCommon(s,e).subscribe(o=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==o.actionResult.success){this.AllItemPriceRes=[],this.ItemPriceRes=[];var n=JSON.parse(o.actionResult.result);this.AllItemPriceRes=n=n||[];var s=JSON.parse(o.actionResult.result2);s=s||[],this.ClinicIdSelected=i,this.SlotBookingIdSelectedId=e,this.UserIdSelectedId=t,this.ShowExtraItemModel=!0}else this._UtilityService.showWarningAlert(o.actionResult.errMsg)},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}else this.ExtraItemList=[],this._UtilityService.showWarningAlert(o.actionResult.errMsg)},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}PayExtraItem(){null!=this.AllItemPriceRes.filter(e=>1==e.IsChecked)?(this.ItemPriceRes=this.AllItemPriceRes.filter(e=>1==e.IsChecked),this.PayExtraItemNew(this.ItemPriceRes,this.UserIdSelectedId,this.SlotBookingIdSelectedId)):this._UtilityService.showWarningAlert("Please select Item for Bill")}CalculateTotalItemPrice(){if(null!=this.AllItemPriceRes.filter(e=>1==e.IsChecked)){var e=this.AllItemPriceRes.filter(e=>1==e.IsChecked),t=0;e.length>0&&e.map(e=>{t+=e.PriceWithGST}),this.ItemCheckedTotal=t,this.cdRef.detectChanges()}}ShowBookingModel(e,t,i,o=!1,n=1,s){var c;this.bookingType=s,this.ClinicIdSelected=i,this.SlotBookingIdSelectedId=e,this.UserIdSelectedId=t,this.IsGrouped=!1,this.GroupCount=1,this.IsGrouped=o,this.GroupCount=n,this.CanBook=!0;var a=this.LstRoomBookMaster.find(t=>t.SlotBookingId==e);this.lstOnlinePayModAccess=(null==a?void 0:a.lstOnlinePaymentModes)||[],0!=(null===(c=this.lstOnlinePayModAccess)||void 0===c?void 0:c.length)?this.ShowRoomBookingModel=!0:this._UtilityService.showWarningAlert("Online room booking is not available. Please contact with "+(null==a?void 0:a.ClinicName)+" "+(null==a?void 0:a.ClinicContactNo))}awaitBookRoomm(){var e,t;this.PackageMapping=[],(null===(e=this.Package)||void 0===e?void 0:e.length)>0&&this.IsGrouped?this.ShowPackageModel=!0:(null===(t=this.Package)||void 0===t?void 0:t.length)>0&&!this.IsGrouped?(this.Package.forEach(e=>{let t={};t.MemberSlotId=this.SlotBookingIdSelectedId,t.MCODE=e.pckg.MCODE,this.PackageMapping.push(t)}),this.BookRoom()):this.BookRoom()}EmitSelectedMapping(e){this._UtilityService.showSuccessAlert("Assigned Package Successfully."),this.PackageMapping=e,this.ShowPackageModel=!1,this.BookRoom()}BookRoom(){var e,t,i;return Object(w.a)(this,void 0,void 0,function*(){this.IsIPD=!1;var o=1,n=0;this.LstRoomBookMaster.find(e=>e.SlotBookingId==this.SlotBookingIdSelectedId);{const e=yield this._PatientServices.GetTotalGroupMemberBySlotId(this.SlotBookingIdSelectedId).toPromise();1==e.actionResult.success&&(o=e.actionResult.stringVal)}if(this.roomBookIngMaster.map(e=>{n=n+(e.RequiredRooms*e.DefaultBed||0)+(e.RequiredExtraBed||0)}),null!=this.roomBookIngMaster&&null!=this.roomBookIngMaster)if(0!=(null===(e=this.roomBookIngMaster)||void 0===e?void 0:e.length))if((null===(t=this.roomBookIngMaster)||void 0===t?void 0:t.length)>1)this._UtilityService.showWarningAlert("Please select room only one category for booking");else if(this.roomBookIngMaster[0].DaysCount<7)this._UtilityService.showWarningAlert("IPD Should be minimum 7 Days");else if(n<o)this._UtilityService.showWarningAlert("Selected bed ("+n+") count is less than applied occupancy ("+o+").");else if(0==this.IsPaymentMode&&this.AvailablePaymentMode())this.ShowPaymentModel();else{this.slotBookingMaster.SlotBookingId=this.SlotBookingIdSelectedId,this.slotBookingMaster.SlotBookedBy=this.UserIdSelectedId,this.slotBookingMaster.PeriodFrom=new Date(Date.parse(this.datepipe.transform(this.roomBookIngMaster[0].RoomBookFromDate,"yyyy-MM-dd"))),this.slotBookingMaster.PeriodUpto=new Date(Date.parse(this.datepipe.transform(this.roomBookIngMaster[0].RoomBookToDate,"yyyy-MM-dd"))),this.bookingMainModel.ClinicId=this.ClinicIdSelected,this.bookingMainModel.RoomBooking=this.roomBookIngMaster;var c=[];c.push(this.slotBookingMaster),this.bookingMainModel.SlotBooking=c,this.bookingMainModel.PayMode="Online","ATONLN"==this.selectPaymentMode?this.bookingMainModel.PayMode="Online":"ATWLONLN"==this.selectPaymentMode&&(this.bookingMainModel.PayMode="WLOnline");var a=0;null!=this.Package&&(null===(i=this.Package)||void 0===i?void 0:i.length)>0&&this.Package.map(e=>{a=this._ConstantServices.nullToZeroConverter(a)+this._ConstantServices.nullToZeroConverter(e.pckg.SellingPrice*e.pckg.Qty)}),this.bookingMainModel.PackageAmnt=a,this._UtilityService.showSpinner(),this._PatientServices.SaveRoomBookingDetails(this.bookingMainModel).subscribe(e=>{var t,i;if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){this.IsPaymentMode=!1,this.ShowPaymentModeModel=!1,this.ShowRoomBookingModel=!1;var n=JSON.parse(e.actionResult.result);if(n=n||[],this.ItemPriceRes=JSON.parse(JSON.stringify(n)),(null===(t=this.ItemPriceRes)||void 0===t?void 0:t.length)>0){var c=0;n.forEach(e=>{0==c&&0!=e.IPDRegPriceWithGST&&null!=e.IPDRegPriceWithGST&&null!=e.IPDRegPriceWithGST&&this.ItemPriceRes.push({BillItemId:"",MCODE:s.i.IPDRegistrationCharge,Description:"Registration Charges",Qty:o,UNIT:"PCS",MRP:e.IPDRegPriceWithGST,GST:0,PriceWithGST:e.IPDRegPriceWithGST*o,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:e.IPDRegPriceWithGST*o}),0!=e.RoomOtherCharges&&null!=e.RoomOtherCharges&&null!=e.RoomOtherCharges&&(this.ItemPriceRes.splice(c+=1,0,{BillItemId:"",MCODE:s.i.TreatmentOtherCharge,Description:"Treatment, Therapies & Medicated Food Charges~"+e.MCODE,Qty:e.Qty,UNIT:"PCS",MRP:e.RoomOtherCharges,GST:e.GST,PriceWithGST:e.RoomOtherCharges*e.Qty,DiscountAmount:e.DiscountAmount,IsChecked:!0,DiscountPer:0,NETAMOUNT:e.RoomOtherCharges*e.Qty}),this.ItemPriceRes[c-1].MRP=this.ItemPriceRes[c-1].MRP-this.ItemPriceRes[c-1].RoomOtherCharges,this.ItemPriceRes[c-1].PriceWithGST=this.ItemPriceRes[c-1].MRP*this.ItemPriceRes[c-1].Qty,this.ItemPriceRes[c-1].NETAMOUNT=this.ItemPriceRes[c-1].MRP*this.ItemPriceRes[c-1].Qty);var t=this.roomBookIngMaster.find(t=>t.MCODE==e.MCODE);null!=t&&null!=t&&0!=(null==t?void 0:t.RequiredExtraBed)&&null!=(null==t?void 0:t.RequiredExtraBed)&&null!=(null==t?void 0:t.RequiredExtraBed)&&(this.ItemPriceRes.splice(c+=1,0,{BillItemId:"",MCODE:t.ExbedMCODE,Description:"Extra Bed Charges~"+e.MCODE,Qty:t.DaysCount*t.RequiredExtraBed,UNIT:"PCS",MRP:t.ExbedPriceWithGST-t.RoomOtherChargesExb,GST:0,PriceWithGST:(t.ExbedPriceWithGST-t.RoomOtherChargesExb)*t.DaysCount*t.RequiredExtraBed,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:(t.ExbedPriceWithGST-t.RoomOtherChargesExb)*t.DaysCount*t.RequiredExtraBed}),0!=(null==t?void 0:t.RoomOtherChargesExb)&&null!=(null==t?void 0:t.RoomOtherChargesExb)&&null!=(null==t?void 0:t.RoomOtherChargesExb)&&this.ItemPriceRes.splice(c+=1,0,{BillItemId:"",MCODE:s.i.TreatmentOtherCharge,Description:"Treatment, Therapies & Medicated Food Charges~"+e.MCODE+","+t.ExbedMCODE,Qty:t.DaysCount*t.RequiredExtraBed,UNIT:"PCS",MRP:t.RoomOtherChargesExb,GST:0,PriceWithGST:t.RoomOtherChargesExb*t.DaysCount*t.RequiredExtraBed,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:t.RoomOtherChargesExb*t.DaysCount*t.RequiredExtraBed})),c+=1})}null!=this.Package&&(null===(i=this.Package)||void 0===i?void 0:i.length)>0&&this.Package.map(e=>{this.ItemPriceRes.push({BillItemId:"",MCODE:e.pckg.MCODE,Description:e.pckg.PackageName,Qty:e.pckg.Qty,UNIT:"PCS",MRP:e.pckg.SellingPrice,GST:0,PriceWithGST:e.pckg.Qty*e.pckg.SellingPrice,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:e.pckg.SellingPrice})});var a=JSON.parse(e.actionResult.result2);this.OrderRes=a=a||[],this.IsIPD=!0;var r=JSON.parse(e.actionResult.result3);this.UserRes=r=r||[],"ATONLN"==this.selectPaymentMode?this.HitforPayment():"ATWLONLN"==this.selectPaymentMode&&this.HitforWLPayment()}else this.ShowRoomBookingModel=!1,this.GetPatientTimeSlotsById(localStorage.getItem("userId")),this._UtilityService.showWarningAlert(e.actionResult.errMsg)})}else this._UtilityService.showWarningAlert("Please Select Any Room for Booking");else this._UtilityService.showWarningAlert("Please Select Any Room for Booking")})}ShowPaymentModel(){this.ShowPaymentModeModel=!0}BookSlot(){this.IsPaymentMode=!0,"OPD"==this.bookingType?this.OPDBookingPayment(this.SlotBookingIdSelectedId,this.bookingType):"IPD"==this.bookingType&&this.BookRoom()}AvailablePaymentMode(){var e,t;return 1==(null===(e=this.lstOnlinePayModAccess)||void 0===e?void 0:e.length)?(this.selectPaymentMode=this.lstOnlinePayModAccess[0],!1):(null===(t=this.lstOnlinePayModAccess)||void 0===t?void 0:t.length)>1||void 0}OPDBookingPayment(e,t){var i,o=this.LstRoomBookMaster.find(t=>t.SlotBookingId==e);if(this.lstOnlinePayModAccess=o.lstOnlinePaymentModes||[],0!=(null===(i=this.lstOnlinePayModAccess)||void 0===i?void 0:i.length))if(this.bookingType=t,this.SlotBookingIdSelectedId=e,0==this.IsPaymentMode&&this.AvailablePaymentMode())this.ShowPaymentModel();else{var n="Other";"ATONLN"==this.selectPaymentMode?n="Online":"ATWLONLN"==this.selectPaymentMode&&(n="WLOnline"),this._UtilityService.showSpinner(),this._PatientServices.OPDBookingPayment(this.SlotBookingIdSelectedId,n).subscribe(e=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),this.IsPaymentMode=!1,1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.ItemPriceRes=t=t||[];var i=JSON.parse(e.actionResult.result2);this.OrderRes=i=i||[];var o=JSON.parse(e.actionResult.result3);this.UserRes=o=o||[],"ATONLN"==this.selectPaymentMode?this.HitforPayment():"ATWLONLN"==this.selectPaymentMode&&this.HitforWLPayment(),this.ClinicNameContact=e.actionResult.stringVal}else this._UtilityService.showWarningAlert(e.actionResult.errMsg)},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}else this._UtilityService.showWarningAlert("Online room booking is not available. Please contact with "+(null==o?void 0:o.ClinicName)+" "+(null==o?void 0:o.ClinicContactNo))}ChangeRoom(e){this.ShowRazorPayModel=!1,this.ShowWLPayModel=!1,this.ShowBookingModel(e,localStorage.getItem("userId"),this.ClinicIdSelected,this.IsGrouped,this.GroupCount,this.bookingType)}PayExtraItemNew(e,t,i){this._UtilityService.showSpinner(),this._PatientServices.AddRazorOrderDetailsWellnessSelectedItem(i,this.ItemCheckedTotal.toString()).subscribe(e=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.OrderRes=t=t||[];var o=JSON.parse(e.actionResult.result2);this.UserRes=o=o||[],this.IsSelectedItem=!0,this.SlotBookingIdSelectedId=i,this.ShowExtraItemModel=!1,this.HitforPayment()}},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}HitforPayment(){this.Package={},this.ShowRazorPayModel=!0}HitforWLPayment(){this.Package={},this.ShowWLPayModel=!0}GetSlotRemarks(e){this.SlotBookingIdSelectedId=e,this.ShowRemarksModel=!0}PrintPrescription(e,t,i){"IPD"==i?window.open("#/print/ipd-print-prescription?UserId="+e+"&SlotBookingId="+t+"&tag="+i):window.open("#/print/patient-print-prescription?UserId="+e+"&SlotBookingId="+t+"&tag="+i)}DownloadVoucher(e){this._UtilityService.showSpinner(),this._PatientServices.DownloadBookingVoucher(e),this._UtilityService.hideSpinner()}EmitSelectedPackage(e){this.Package=e.Package,this.cdRef.detectChanges(),console.log("Package Details ",this.Package)}UploadFile(e,t){this.SlotBookingIdSelectedId=e,this.ClinicIdSelected=t,this.FormType=s.k.MedicalReport,this.HeaderName="Upload Medical Report",this.ShowAttachedFormModel=!0}FileSuccessUpload(e){this.SlotBookingIdSelectedId=null,this.ClinicIdSelected=null,this.ShowAttachedFormModel=!1,this.FormType=0,this.HeaderName=null,this._UtilityService.showSuccessAlert(e),this.GetPrescriptionListByUserId(localStorage.getItem("userId"))}DownloadFile(e){this.SlotBookingIdSelectedId=e,this.FormType=s.k.MedicalReport,this.HeaderName="Download Medical Report",this.ShowDownloadFormModel=!0}closeDialog(){this.SlotBookingIdSelectedId=null,this.FormType=0,this.HeaderName=null}}return e.\u0275fac=function(t){return new(t||e)(c.Sb(c.h),c.Sb(s.f),c.Sb(X.a),c.Sb(o.f),c.Sb(m.a))},e.\u0275cmp=c.Mb({type:e,selectors:[["app-patient-dashboard"]],features:[c.Cb],decls:91,vars:91,consts:[[1,"row","mb-3","mt25"],[1,"col"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-2","col-12","symbol","symbol-60","symbol-xxl-100","align-self-start","align-self-xxl-center","profileImgCon"],[1,"symbol-label","img-fluid","p-pic"],[1,"col","col-md-10","col-12","patient-det"],[1,"row","mb-4"],[1,"col-md-2","col-sm-2","col-6","bold"],[1,"col-md-4","col-sm-4","col-6"],["class","col-md-2 col-sm-2 col-6 bold",4,"ngIf"],["class","col-md-4 col-sm-4 col-6",4,"ngIf"],["header","Booking Details"],["dataKey","GroupNumber","scrollHeight","250px","responsiveLayout","scroll",1,"ColumnFilterTable",3,"value","rowHover","globalFilterFields","scrollable"],["dt1",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["header","Prescription List"],["styleClass","p-datatable-striped","scrollHeight","calc(100vh - 360px)","responsiveLayout","scroll",3,"value","rowHover","globalFilterFields","scrollable"],["dt2",""],["header","Clinic Wise Balance"],["dt5",""],["header","Room Booking",3,"modal","visible","visibleChange"],[4,"ngIf"],["pTemplate","footer"],["header","Assign Package",3,"modal","visible","visibleChange"],["header","Pay for Extra Item",3,"modal","visible","visibleChange"],["header","Initiate Payment RazorPay",3,"modal","visible","visibleChange"],["header","Initiate Payment WorldLine",3,"modal","visible","visibleChange"],["header","Remarks",3,"modal","visible","visibleChange"],["id","ShowAttachedFormModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","onHide","visibleChange"],["id","ShowDownloadFormModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","onHide","visibleChange"],["header","Select Payment Mode",3,"modal","visible","visibleChange"],[1,"p-d-flex"],[1,"p-input-icon-left","p-ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","40px"],[2,"width","120px"],[2,"width","80px"],[2,"width","150px"],[2,"width","130px"],[2,"width","90px"],[2,"width","60px"],[2,"width","300px"],[2,"font-size","10px"],[2,"text-align","left"],["type","button","class","btn mr4","style","width:95px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #2DB163 ; color: #fff;",3,"click",4,"ngIf"],["type","button","class","btn mr4","style","width:85px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #24D2B5; color: #fff;",3,"click",4,"ngIf"],["type","button","class","btn mr4","style","width: 85px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #24D2B5; color: #fff;",3,"click",4,"ngIf"],["type","button","class","btn mr4","style","width: 95px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #FF9041; color: #fff;",3,"click",4,"ngIf"],["type","button","class","btn","style","width: 75px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #49bde8; color: #fff;",3,"click",4,"ngIf"],["type","button","title","Upload Medical Report","class","btn ml-2","style","width: 40px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #2DB163; color: #fff;",3,"click",4,"ngIf"],["type","button","title","Download Medical Report","class","btn ml-2","style","width: 40px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #2DB163; color: #fff;",3,"click",4,"ngIf"],["colspan","9",2,"background-color","#ebedf3","font-weight","bold"],["type","button",1,"btn","mr4",2,"width","95px","padding","3px 6px","font-size","12px","border-radius","20px","background","#2DB163","color","#fff",3,"click"],[1,"pi","pi-book",2,"font-size","11px","color","#fff","padding-right","3px"],["type","button",1,"btn","mr4",2,"width","85px","padding","3px 6px","font-size","12px","border-radius","20px","background","#24D2B5","color","#fff",3,"click"],[1,"pi","pi-credit-card",2,"font-size","12px","color","#fff","padding-right","3px"],["type","button",1,"btn","mr4",2,"width","95px","padding","3px 6px","font-size","12px","border-radius","20px","background","#FF9041","color","#fff",3,"click"],[1,"pi","pi-book",2,"font-size","12px","color","#fff","padding-right","3px"],["type","button",1,"btn",2,"width","75px","padding","3px 6px","font-size","12px","border-radius","20px","background","#49bde8","color","#fff",3,"click"],[1,"pi","pi-comment",2,"font-size","12px","color","#fff","padding-right","3px"],["type","button","title","Upload Medical Report",1,"btn","ml-2",2,"width","40px","padding","3px 6px","font-size","12px","border-radius","20px","background","#2DB163","color","#fff",3,"click"],[1,"pi","pi-upload",2,"font-size","12px","color","#fff","padding-right","3px"],["type","button","title","Download Medical Report",1,"btn","ml-2",2,"width","40px","padding","3px 6px","font-size","12px","border-radius","20px","background","#2DB163","color","#fff",3,"click"],[1,"pi","pi-download",2,"font-size","12px","color","#fff","padding-right","3px"],[2,"width","115px"],[2,"width","95px"],["title","Print Prescription",1,"fa","fa-print","mr-2",2,"font-size","1.5rem !important",3,"click"],["title","Print Discharge Summary","class","pi pi-print","style","font-size:1.5rem !important",3,"click",4,"ngIf"],["title","Print Discharge Summary",1,"pi","pi-print",2,"font-size","1.5rem !important",3,"click"],[3,"ClinicId","SlotId","BookingSource","GroupCount","IsGrouped","roomBookClick","EmitSelectedPackage"],["type","button","class","btn btn-new-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-new-primary",3,"click"],[3,"Packages","SlotBookingId","PackgeMappingEmit"],[1,"col-md-12"],[1,"table","table-striped","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"],["type","checkbox","name","chkExtraItem",3,"ngModel","change","ngModelChange"],[3,"OrderRes","ItemPriceRes","PackageMapping","SlotBookingIdSelected","IsSelectedItem","UserRes","BillWiseDiscountPer","ReferredBy","PayRequestFrom","GetPaymentStatusEmit"],["type","button","class","btn btn-new-secondary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-new-secondary",3,"click"],[3,"WLOrderRes","ItemPriceRes","PackageMapping","SlotBookingIdSelected","IsSelectedItem","UserRes","BillWiseDiscountPer","ReferredBy","PayRequestFrom","GetPaymentStatusEmit"],[3,"slotBookingId"],[3,"FormType","SlotBookingId","clinicId","UploadMode","FileSuccess"],[3,"FormType","SlotBookingId"],[1,"flex","flex-wrap","gap-3",2,"text-align","center"],[1,"field-radiobutton"],["name","rdmode","value","ATONLN",3,"ngModel","ngModelChange"],[1,"pl-2","mr-2","radiolabel"],["name","rdmode","value","ATWLONLN",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"div",2),c.Yb(3,"div",3),c.Yb(4,"div",4),c.Yb(5,"div",5),c.Tb(6,"div",6),c.Xb(),c.Yb(7,"div",7),c.Yb(8,"div",8),c.Yb(9,"div",9),c.Uc(10,"Name:"),c.Xb(),c.Yb(11,"div",10),c.Uc(12),c.Xb(),c.Yb(13,"div",9),c.Uc(14,"DOB:"),c.Xb(),c.Yb(15,"div",10),c.Uc(16),c.nc(17,"date"),c.Xb(),c.Xb(),c.Yb(18,"div",8),c.Yb(19,"div",9),c.Uc(20,"MR Number:"),c.Xb(),c.Yb(21,"div",10),c.Uc(22),c.Xb(),c.Yb(23,"div",9),c.Uc(24,"Gender:"),c.Xb(),c.Yb(25,"div",10),c.Uc(26),c.Xb(),c.Xb(),c.Yb(27,"div",8),c.Yb(28,"div",9),c.Uc(29,"Contact Number:"),c.Xb(),c.Yb(30,"div",10),c.Uc(31),c.Xb(),c.Sc(32,W,2,0,"div",11),c.Sc(33,z,2,1,"div",12),c.Xb(),c.Yb(34,"div",8),c.Yb(35,"div",9),c.Uc(36,"Address:"),c.Xb(),c.Yb(37,"div",10),c.Uc(38),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(39,"div",4),c.Yb(40,"div",1),c.Yb(41,"p-tabView"),c.Yb(42,"p-tabPanel",13),c.Yb(43,"p-table",14,15),c.Sc(45,V,4,0,"ng-template",16),c.Sc(46,H,3,1,"ng-template",17),c.Sc(47,j,10,0,"ng-template",18),c.Sc(48,Q,19,0,"ng-template",19),c.Sc(49,oe,31,31,"ng-template",20),c.Xb(),c.Xb(),c.Yb(50,"p-tabPanel",21),c.Yb(51,"p-table",22,23),c.Sc(53,ne,4,0,"ng-template",16),c.Sc(54,se,3,1,"ng-template",17),c.Sc(55,ce,9,0,"ng-template",18),c.Sc(56,ae,17,0,"ng-template",19),c.Sc(57,le,23,23,"ng-template",20),c.Xb(),c.Xb(),c.Yb(58,"p-tabPanel",24),c.Yb(59,"p-table",22,25),c.Sc(61,de,4,0,"ng-template",16),c.Sc(62,be,3,1,"ng-template",17),c.Sc(63,he,4,0,"ng-template",18),c.Sc(64,ue,7,0,"ng-template",19),c.Sc(65,me,9,7,"ng-template",20),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(66,"p-dialog",26),c.ic("visibleChange",function(e){return t.ShowRoomBookingModel=e}),c.Sc(67,ge,2,5,"div",27),c.Sc(68,fe,1,1,"ng-template",28),c.Xb(),c.Yb(69,"p-dialog",29),c.ic("visibleChange",function(e){return t.ShowPackageModel=e}),c.Sc(70,Ie,2,2,"div",27),c.Xb(),c.Yb(71,"p-dialog",30),c.ic("visibleChange",function(e){return t.ShowExtraItemModel=e}),c.Sc(72,Pe,35,2,"div",27),c.Sc(73,ke,2,0,"ng-template",28),c.Xb(),c.Yb(74,"p-dialog",31),c.ic("visibleChange",function(e){return t.ShowRazorPayModel=e}),c.Sc(75,ve,4,9,"div",27),c.Sc(76,Re,1,1,"ng-template",28),c.Xb(),c.Yb(77,"p-dialog",32),c.ic("visibleChange",function(e){return t.ShowWLPayModel=e}),c.Sc(78,Be,4,9,"div",27),c.Sc(79,Ue,1,1,"ng-template",28),c.Xb(),c.Yb(80,"p-dialog",33),c.ic("visibleChange",function(e){return t.ShowRemarksModel=e}),c.Sc(81,Ye,2,1,"div",27),c.Xb(),c.Yb(82,"p-dialog",34),c.ic("onHide",function(){return t.closeDialog()})("visibleChange",function(e){return t.ShowAttachedFormModel=e}),c.Sc(83,Te,2,1,"ng-template",19),c.Sc(84,we,2,4,"div",27),c.Xb(),c.Yb(85,"p-dialog",35),c.ic("onHide",function(){return t.closeDialog()})("visibleChange",function(e){return t.ShowDownloadFormModel=e}),c.Sc(86,Xe,2,1,"ng-template",19),c.Sc(87,Fe,2,2,"div",27),c.Xb(),c.Yb(88,"p-dialog",36),c.ic("visibleChange",function(e){return t.ShowPaymentModeModel=e}),c.Sc(89,xe,9,2,"div",27),c.Sc(90,De,2,0,"ng-template",28),c.Xb()),2&e&&(c.Fb(6),c.Qc("background: url(",t.ProfileImage,");"),c.Fb(6),c.Xc("",t.objPatient.FirstName," ",t.objPatient.LastName,""),c.Fb(4),c.Wc(" ",c.pc(17,77,t.objPatient.DateOfBirth,t.customDateFormat.DEF_DATE),""),c.Fb(6),c.Vc(t.objPatient.MRNo),c.Fb(4),c.Vc(t.objPatient.Gender),c.Fb(5),c.Vc(t.objPatient.ContactNumber),c.Fb(1),c.tc("ngIf",t.objPatient.BllodGroup),c.Fb(1),c.tc("ngIf",t.objPatient.BllodGroup),c.Fb(5),c.Wc("",t.objPatient.Address," "),c.Fb(5),c.tc("value",t.LstRoomBookMaster)("rowHover",!0)("globalFilterFields",c.yc(80,Oe))("scrollable",!0),c.Fb(8),c.tc("value",t.LstPatientPrescriptionMain)("rowHover",!0)("globalFilterFields",c.yc(81,Ae))("scrollable",!0),c.Fb(8),c.tc("value",t.lstCustomerBalance)("rowHover",!0)("globalFilterFields",c.yc(82,Ne))("scrollable",!0),c.Fb(7),c.Pc(c.yc(83,Ee)),c.tc("modal",!0)("visible",t.ShowRoomBookingModel),c.Fb(1),c.tc("ngIf",t.ShowRoomBookingModel),c.Fb(2),c.Pc(c.yc(84,Le)),c.tc("modal",!0)("visible",t.ShowPackageModel),c.Fb(1),c.tc("ngIf",t.ShowPackageModel),c.Fb(1),c.Pc(c.yc(85,Ee)),c.tc("modal",!0)("visible",t.ShowExtraItemModel),c.Fb(1),c.tc("ngIf",t.ShowExtraItemModel),c.Fb(2),c.Pc(c.yc(86,Ee)),c.tc("modal",!0)("visible",t.ShowRazorPayModel),c.Fb(1),c.tc("ngIf",t.ShowRazorPayModel),c.Fb(2),c.Pc(c.yc(87,Ee)),c.tc("modal",!0)("visible",t.ShowWLPayModel),c.Fb(1),c.tc("ngIf",t.ShowWLPayModel),c.Fb(2),c.Pc(c.yc(88,Ee)),c.tc("modal",!0)("visible",t.ShowRemarksModel),c.Fb(1),c.tc("ngIf",t.ShowRemarksModel),c.Fb(1),c.Pc(c.yc(89,Ge)),c.tc("visible",t.ShowAttachedFormModel)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!0)("draggable",!1)("resizable",!0),c.Fb(2),c.tc("ngIf",t.ShowAttachedFormModel),c.Fb(1),c.Pc(c.yc(90,Ge)),c.tc("visible",t.ShowDownloadFormModel)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!0)("draggable",!1)("resizable",!0),c.Fb(2),c.tc("ngIf",t.ShowDownloadFormModel),c.Fb(1),c.tc("modal",!0)("visible",t.ShowPaymentModeModel),c.Fb(1),c.tc("ngIf",t.ShowPaymentModeModel))},directives:[o.p,F.b,F.a,f.c,I.i,x.a,P.a,D.a,O.a,o.o,S.a,S.o,S.r,A.a,N.a,E.a,L.a,G.a,_.a],pipes:[o.f,o.g],styles:[".healthCareTeam[_ngcontent-%COMP%]{border:1px solid #dea422;border-radius:10px;background:#fbedcd}.healthCareTeam[_ngcontent-%COMP%]   .profileImgCon[_ngcontent-%COMP%]{border:1px solid #dea422;border-radius:5px;width:70px;height:79px;justify-content:center}.healthcareProfileImg[_ngcontent-%COMP%], .healthCareTeam[_ngcontent-%COMP%]   .profileImgCon[_ngcontent-%COMP%]{display:flex;align-items:center}.healthcareProfileImg[_ngcontent-%COMP%]   .profileImgCon[_ngcontent-%COMP%]{margin-right:15px;background:#fff}.healthcareProfileImg[_ngcontent-%COMP%]   .profileImgCon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5px}.healthcareProfileImg[_ngcontent-%COMP%]   .profileImgCon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;color:#dea422}"]}),e})();function We(e,t){1&e&&c.Tb(0,"app-admin-dashboard")}function ze(e,t){1&e&&c.Tb(0,"app-doctor-dashboard")}function Ve(e,t){1&e&&c.Tb(0,"app-extra-item-consumption")}function He(e,t){1&e&&c.Tb(0,"app-therapy-dashboard")}function je(e,t){1&e&&c.Tb(0,"app-diet-prescription-report")}function Qe(e,t){1&e&&c.Tb(0,"app-yoga-dashboard")}function Ze(e,t){1&e&&c.Tb(0,"app-patient-dashboard")}const qe=[{path:"",component:(()=>{class e{constructor(e,t,i){this.router=e,this._AuthServices=t,this.cdRef=i,this.userTypeId=null,this.userTypes=s.s,this.ActionList=s.a,this.lstIAccess=[],this.lstIAccessStr=[],this.MenuAccess=[]}ngOnInit(){this._AuthServices.CheckSession(),this.userTypeId=localStorage.getItem("userTypeId"),this.cdRef.detectChanges()}ngAfterViewChecked(){var e;0==(null===(e=this.MenuAccess)||void 0===e?void 0:e.length)&&this.getPageLevelAccess()}getPageLevelAccess(){var e,t,i,o,n,s;if(this.MenuAccess=JSON.parse(localStorage.getItem("UerRoleAccess"))||[],(null===(e=this.MenuAccess)||void 0===e?void 0:e.length)>0)if(this.userTypeId===this.userTypes.SuperAdmin){var c=null===(t=this.MenuAccess)||void 0===t?void 0:t.find(e=>""!==e.MenuItemURL&&null!=e.MenuItemURL);console.log("MenuAccess2",null===(i=this.MenuAccess)||void 0===i?void 0:i.find(e=>""!==e.MenuItemURL&&null!=e.MenuItemURL)),(null===(o=this.MenuAccess)||void 0===o?void 0:o.find(e=>"/dashboard"===e.MenuItemURL))?this.router.navigateByUrl("/dashboard"):null!=c&&this.router.navigateByUrl(c.MenuItemURL)}else this.userTypeId===this.userTypes.CallCenter&&(c=null===(n=this.MenuAccess)||void 0===n?void 0:n.find(e=>""!==e.MenuItemURL&&null!=e.MenuItemURL),(null===(s=this.MenuAccess)||void 0===s?void 0:s.find(e=>"/patient/health-seekeer-registration"===e.MenuItemURL))?this.router.navigateByUrl("/patient/health-seekeer-registration"):null!=c&&this.router.navigateByUrl(c.MenuItemURL))}}return e.\u0275fac=function(t){return new(t||e)(c.Sb(n.i),c.Sb(a.a),c.Sb(c.h))},e.\u0275cmp=c.Mb({type:e,selectors:[["app-common-dashboard"]],decls:7,vars:7,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(c.Sc(0,We,1,0,"app-admin-dashboard",0),c.Sc(1,ze,1,0,"app-doctor-dashboard",0),c.Sc(2,Ve,1,0,"app-extra-item-consumption",0),c.Sc(3,He,1,0,"app-therapy-dashboard",0),c.Sc(4,je,1,0,"app-diet-prescription-report",0),c.Sc(5,Qe,1,0,"app-yoga-dashboard",0),c.Sc(6,Ze,1,0,"app-patient-dashboard",0)),2&e&&(c.tc("ngIf",t.userTypeId===t.userTypes.Admin),c.Fb(1),c.tc("ngIf",t.userTypeId==t.userTypes.Doctor),c.Fb(1),c.tc("ngIf",t.userTypeId==t.userTypes.Billing),c.Fb(1),c.tc("ngIf",t.userTypeId==t.userTypes.Therapist),c.Fb(1),c.tc("ngIf",t.userTypeId==t.userTypes.Cafeteria),c.Fb(1),c.tc("ngIf",t.userTypeId==t.userTypes.Meditation),c.Fb(1),c.tc("ngIf",t.userTypeId==t.userTypes.Patient))},directives:[o.p,r.a,l.a,d.a,b.a,h.a,T,_e],styles:[""]}),e})()}];let Je=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({imports:[[n.l.forChild(qe)],n.l]}),e})();var $e=i("Qf39"),Ke=i("IRX0"),et=i("QQvb");const tt=[{path:"",component:T}];let it=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({imports:[[n.l.forChild(tt)],n.l]}),e})();var ot=i("jIHw"),nt=i("arFO"),st=i("T2Aj");let ct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({imports:[[o.c,it,S.i,f.f,ot.c,nt.b,P.b,g.b,st.a]]}),e})();const at=[{path:"",component:_e}];let rt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({imports:[[n.l.forChild(at)],n.l]}),e})();var lt=i("fCr0"),dt=i("JpZ1"),bt=i("4Tty"),ht=i("OUA+"),ut=i("V/Gj"),pt=i("Jg0Z");let mt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({imports:[[o.c,rt,S.i,f.f,ot.c,nt.b,P.b,g.b,x.b,F.c,lt.CommonModuleModule,dt.a,bt.a,ht.a,ut.a,pt.a,_.b]]}),e})();var gt=i("c5et"),St=i("hQ1B"),ft=i("Let+"),It=i("so6c");let yt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Qb({type:e}),e.\u0275inj=c.Pb({imports:[[o.c,Je,$e.AdminDashboardModule,Ke.DoctorDashboardModule,et.TherapyDashboardModule,ct,mt,gt.HealthSeekeerRegistrationModule,St.ExtraItemConsumptionModule,ft.PatientBillingReportModule,It.DietPrescriptionReportModule]]}),e})()}}]);