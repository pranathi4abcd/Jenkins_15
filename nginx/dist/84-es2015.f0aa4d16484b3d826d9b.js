(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{"wG+T":function(e,t,s){"use strict";s.r(t),s.d(t,"DiseaseMasterModule",function(){return N});var i=s("ofXK"),c=s("tyNb"),n=s("Nach"),a=s("CwUn"),l=s("fXoL"),o=s("dcBc"),r=s("NLkC"),d=s("rEr+"),b=s("7zfz"),u=s("7kUa"),p=s("jIHw"),h=s("3Pt+"),m=s("arFO");const f=["myForm"],g=["dt"],S=["filtr"];function M(e,t){if(1&e){const e=l.Zb();l.Yb(0,"button",20),l.ic("click",function(){return l.Lc(e),l.mc(3).AddNewDisease()}),l.Xb()}}function v(e,t){if(1&e){const e=l.Zb();l.Yb(0,"button",21),l.ic("click",function(){return l.Lc(e),l.mc(3).exportToItemExcel()}),l.Xb()}}function X(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",11),l.Sc(1,M,1,0,"button",12),l.Yb(2,"span",13),l.Uc(3),l.Xb(),l.Yb(4,"span",14),l.Sc(5,v,1,0,"button",15),l.Yb(6,"span",16),l.Tb(7,"i",17),l.Yb(8,"input",18,19),l.ic("input",function(t){return l.Lc(e),l.mc(),l.Ic(5).filterGlobal(t.target.value,"contains")}),l.Xb(),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc(2);l.Fb(1),l.tc("ngIf",null==e.lstIAccessStr?null:e.lstIAccessStr.includes(e.ActionList.ReadWrite.toString())),l.Fb(2),l.Wc(" ",(null==e.LstDiseaseMaster?null:e.LstDiseaseMaster.length)>0?"Total Records: "+e.filteredValuesLength:""," "),l.Fb(2),l.tc("ngIf",null==e.lstIAccessStr?null:e.lstIAccessStr.includes(e.ActionList.Download.toString()))}}function D(e,t){if(1&e&&(l.Yb(0,"tr"),l.Yb(1,"td"),l.Uc(2," No records found "),l.Xb(),l.Xb()),2&e){const e=t.$implicit;l.Fb(1),l.Gb("colspan",null==e?null:e.length)}}function Y(e,t){1&e&&(l.Yb(0,"tr"),l.Yb(1,"th"),l.Uc(2,"Disease Head Name"),l.Xb(),l.Yb(3,"th"),l.Uc(4,"Disease Name"),l.Xb(),l.Yb(5,"th"),l.Uc(6,"Sequence"),l.Xb(),l.Yb(7,"th"),l.Uc(8,"Status"),l.Xb(),l.Yb(9,"th"),l.Uc(10,"Action"),l.Xb(),l.Xb())}function I(e,t){if(1&e){const e=l.Zb();l.Yb(0,"tr"),l.Yb(1,"td"),l.Uc(2),l.Xb(),l.Yb(3,"td"),l.Uc(4),l.Xb(),l.Yb(5,"td"),l.Uc(6),l.Xb(),l.Yb(7,"td"),l.Uc(8),l.Xb(),l.Yb(9,"td"),l.Yb(10,"a",22),l.ic("click",function(){l.Lc(e);const s=t.$implicit;return l.mc(2).LoadDiseaseDetasilsById(s.DiseaseId)}),l.Tb(11,"img",23),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=t.$implicit;l.Fb(2),l.Vc(e.DiseaseHeadName),l.Fb(2),l.Vc(e.DiseaseName),l.Fb(2),l.Vc(e.Sequence),l.Fb(2),l.Vc(1==e.Status?"Active":"Inactive")}}const w=function(){return["DiseaseHeadName","DiseaseName","Sequence"]};function y(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",1),l.Yb(1,"div",2),l.Yb(2,"div",3),l.Yb(3,"div",4),l.Yb(4,"p-table",5,6),l.ic("onFilter",function(t){l.Lc(e);const s=l.Ic(5);return l.mc().onFilter(t,s)}),l.Sc(6,X,10,3,"ng-template",7),l.Sc(7,D,3,1,"ng-template",8),l.Sc(8,Y,11,0,"ng-template",9),l.Sc(9,I,12,4,"ng-template",10),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(4),l.tc("value",e.LstDiseaseMaster)("rowHover",!0)("globalFilterFields",l.yc(4,w))("scrollable",!0)}}function L(e,t){if(1&e){const e=l.Zb();l.Yb(0,"button",38),l.ic("click",function(){return l.Lc(e),l.mc(2).Save()}),l.Uc(1,"Submit"),l.Xb()}if(2&e){l.mc();const e=l.Ic(5);l.tc("disabled",!e.form.valid)}}const U=function(){return{width:"100%"}};function A(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",1),l.Yb(1,"div",24),l.Yb(2,"div",3),l.Yb(3,"div",4),l.Yb(4,"form",null,25),l.Yb(6,"div",26),l.Yb(7,"div",27),l.Yb(8,"div",28),l.Yb(9,"label"),l.Uc(10,"Disease Head"),l.Xb(),l.Yb(11,"p-dropdown",29,30),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().objMaster.DiseaseHeadMasterId=t}),l.Xb(),l.Xb(),l.Xb(),l.Yb(13,"div",27),l.Yb(14,"div",28),l.Yb(15,"label"),l.Uc(16,"Disease Name"),l.Xb(),l.Yb(17,"span",31),l.Uc(18,"*"),l.Xb(),l.Yb(19,"input",32),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().objMaster.DiseaseName=t}),l.Xb(),l.Xb(),l.Xb(),l.Yb(20,"div",27),l.Yb(21,"div",28),l.Yb(22,"label"),l.Uc(23,"Sequence"),l.Xb(),l.Yb(24,"span",31),l.Uc(25,"*"),l.Xb(),l.Yb(26,"input",33),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().objMaster.Sequence=t}),l.Xb(),l.Xb(),l.Xb(),l.Yb(27,"div",27),l.Yb(28,"label"),l.Uc(29,"Status"),l.Xb(),l.Yb(30,"span",31),l.Uc(31,"*"),l.Xb(),l.Yb(32,"p-dropdown",34),l.ic("ngModelChange",function(t){return l.Lc(e),l.mc().objMaster.Status=t}),l.Xb(),l.Xb(),l.Xb(),l.Yb(33,"div",35),l.Sc(34,L,2,1,"button",36),l.Yb(35,"button",37),l.ic("click",function(){return l.Lc(e),l.mc().CloseModal()}),l.Uc(36,"Close"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb()}if(2&e){const e=l.mc();l.Fb(11),l.Pc(l.yc(14,U)),l.tc("options",e.lstDiseaseHeadMaster)("ngModel",e.objMaster.DiseaseHeadMasterId)("filter",!0)("showClear",!0),l.Fb(8),l.tc("ngModel",e.objMaster.DiseaseName),l.Fb(7),l.tc("ngModel",e.objMaster.Sequence),l.Fb(6),l.Pc(l.yc(15,U)),l.tc("options",e.stlststatus)("ngModel",e.objMaster.Status)("filter",!0),l.Fb(2),l.tc("ngIf",null==e.lstIAccessStr?null:e.lstIAccessStr.includes(e.ActionList.ReadWrite.toString()))}}const F=[{path:"",component:(()=>{class e extends a.a{constructor(e,t,s,i,c){super(),this.router=e,this._MasterServices=t,this._ConstantServices=s,this.cdRef=i,this._UtilityService=c,this.UserTypeCurre=localStorage.getItem("userTypeId"),this.userTypes=n.s,this.filteredValuesLength=0,this.DisMode=null,this.objMaster={},this.lstDiseaseHeadMaster=[],this.stlststatus=[],this.ActionList=n.a,this.lstIAccess=[],this.lstIAccessStr=[],this.stlststatus=[{name:"Active",code:1},{name:"Inactive",code:0}],this.getPageLevelAccess()}getPageLevelAccess(){var e,t,s=this.router.url,i=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==i?void 0:i.find(e=>e.MenuItemURL===s))&&(this.lstIAccess=null===(e=i.find(e=>e.MenuItemURL===s))||void 0===e?void 0:e.ActionIAccess,(null===(t=this.lstIAccess)||void 0===t?void 0:t.length)>0&&this.lstIAccess.map(e=>{this.lstIAccessStr.push(e.ActionId.toString())}))}ngOnInit(){this._ConstantServices.ActiveMenuName="Disease Master",this.GetDiseaseMaster(),this.LoadDiseaseHead()}LoadDiseaseHead(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetDiseaseHeadMaster().subscribe(e=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.lstDiseaseHeadMaster=t=t||[],this.cdRef.detectChanges()}else this.lstDiseaseHeadMaster=null})}GetDiseaseMaster(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetDiseaseMaster(!1).subscribe(e=>{var t;if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){var s=JSON.parse(e.actionResult.result);this.LstDiseaseMaster=s=s||[],void 0!==this.filtr&&(this.filtr.nativeElement.value="",this.dataTable.reset(),this.filteredValuesLength=null===(t=this.LstDiseaseMaster)||void 0===t?void 0:t.length),this.cdRef.detectChanges()}else this.LstDiseaseMaster=null})}ResetModel(){this.objMaster={},this.objMaster.Status=1}AddNewDisease(){this.ResetModel(),this.DisMode="Add",this.cdRef.detectChanges(),this.myForm.resetForm()}Save(){this._UtilityService.showSpinner(),this.objMaster.CreatedBy=localStorage.getItem("userId"),this.objMaster.ModifiedBy=localStorage.getItem("userId"),this.unsubscribe.add=this._MasterServices.AddUpdateDiseaseMaster(this.objMaster).subscribe(e=>{this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),this._UtilityService.showSuccessAlert(e.actionResult.errMsg),1==e.actionResult.success&&(this.GetDiseaseMaster(),this.DisMode=null)},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}CloseModal(){this.DisMode=null}LoadDiseaseDetasilsById(e){this.unsubscribe.add=this._MasterServices.GetDiseaseMasterById(e).subscribe(e=>{if(1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.objMaster=t=t||[],this.DisMode="update",this.cdRef.detectChanges()}})}onFilter(e,t){this.filteredValuesLength=e.filteredValue.length}exportToItemExcel(){this._MasterServices.downloadReport({reportname:"disease",filename:"disease"})}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(c.i),l.Sb(o.a),l.Sb(n.f),l.Sb(l.h),l.Sb(r.a))},e.\u0275cmp=l.Mb({type:e,selectors:[["app-disease-master"]],viewQuery:function(e,t){if(1&e&&(l.cd(f,1),l.cd(g,1),l.cd(S,1)),2&e){let e;l.Hc(e=l.jc())&&(t.myForm=e.first),l.Hc(e=l.jc())&&(t.dataTable=e.first),l.Hc(e=l.jc())&&(t.filtr=e.first)}},features:[l.Cb],decls:2,vars:2,consts:[["class","row mt25",4,"ngIf"],[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","calc(100vh - 165px)",3,"value","rowHover","globalFilterFields","scrollable","onFilter"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["pButton","","title","New","label","Add New","class","p-button-outlined mr-2","icon","pi pi-plus",3,"click",4,"ngIf"],[1,"p-ml-left","pt-3"],[1,"p-ml-auto"],["pButton","","title","Export Data","label"," ","class","p-button-outlined mr-2","icon","pi pi-download",3,"click",4,"ngIf"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["filtr",""],["pButton","","title","New","label","Add New","icon","pi pi-plus",1,"p-button-outlined","mr-2",3,"click"],["pButton","","title","Export Data","label"," ","icon","pi pi-download",1,"p-button-outlined","mr-2",3,"click"],["matTooltip","View/Edit",3,"click"],["src","./assets/custom-icons/view.svg",1,"custom-ico","mr4",2,"width","24px !important"],[1,"col"],["myForm","ngForm"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["name","ddlDiseaseHead","optionLabel","DiseaseHeadName","optionValue","DiseaseHeadMasterId","placeholder","Please Select Head",3,"options","ngModel","filter","showClear","ngModelChange"],["ddlDiseaseHead","ngModel"],[1,"required"],["type","text","required","","name","txtDiseaseName",1,"form-control",3,"ngModel","ngModelChange"],["type","number","required","","name","txtSequence","min","0",1,"form-control",3,"ngModel","ngModelChange"],["required","true","name","ddlStatus","optionLabel","name","optionValue","code","placeholder","-Select-",3,"options","ngModel","filter","ngModelChange"],[1,"row","justify-content-center"],["type","button","class","btn btn-new-primary mr-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn-new-secondary",3,"click"],["type","button",1,"btn","btn-new-primary","mr-2",3,"disabled","click"]],template:function(e,t){1&e&&(l.Sc(0,y,10,5,"div",0),l.Sc(1,A,37,16,"div",0)),2&e&&(l.tc("ngIf",null==t.DisMode),l.Fb(1),l.tc("ngIf",null!=t.DisMode))},directives:[i.p,d.c,b.i,u.a,p.b,h.z,h.p,h.q,m.a,h.o,h.r,h.b,h.w,h.t],styles:[""]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({imports:[[c.l.forChild(F)],c.l]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({imports:[[i.c,C,h.i,d.f,p.c,m.b,u.b]]}),e})()}}]);