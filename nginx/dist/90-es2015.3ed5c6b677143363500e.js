(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{L3a7:function(e,t,i){"use strict";i.r(t),i.d(t,"MedicineMasterModule",function(){return w});var c=i("ofXK"),s=i("tyNb"),n=i("CwUn"),l=i("Nach"),r=i("fXoL"),a=i("NLkC"),o=i("dcBc"),d=i("rEr+"),u=i("7zfz"),b=i("7kUa"),p=i("jIHw");const h=["dt"],f=["filtr"];function m(e,t){if(1&e){const e=r.Zb();r.Yb(0,"button",18),r.ic("click",function(){return r.Lc(e),r.mc(2).exportToItemExcel()}),r.Xb()}}function v(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",10),r.Yb(1,"span",11),r.Uc(2),r.Xb(),r.Yb(3,"span",12),r.Sc(4,m,1,0,"button",13),r.Yb(5,"span",14),r.Tb(6,"i",15),r.Yb(7,"input",16,17),r.ic("input",function(t){return r.Lc(e),r.mc(),r.Ic(5).filterGlobal(t.target.value,"contains")}),r.Xb(),r.Xb(),r.Xb(),r.Xb()}if(2&e){const e=r.mc();r.Fb(2),r.Wc(" ",(null==e.listMedicineMaster?null:e.listMedicineMaster.length)>0?"Total Records: "+e.filteredValuesLength:"",""),r.Fb(2),r.tc("ngIf",(null==e.lstIAccessStr?null:e.lstIAccessStr.includes(e.ActionList.Download.toString()))&&(null==e.listMedicineMaster?null:e.listMedicineMaster.length)>0)}}function S(e,t){if(1&e&&(r.Yb(0,"tr"),r.Yb(1,"td"),r.Uc(2," No records found "),r.Xb(),r.Xb()),2&e){const e=t.$implicit;r.Fb(1),r.Gb("colspan",null==e?null:e.length)}}function g(e,t){1&e&&(r.Yb(0,"tr"),r.Yb(1,"th"),r.Uc(2,"Group"),r.Xb(),r.Yb(3,"th"),r.Uc(4,"Name"),r.Xb(),r.Yb(5,"th"),r.Uc(6,"MCODE"),r.Xb(),r.Xb())}function M(e,t){if(1&e&&(r.Yb(0,"tr"),r.Yb(1,"td"),r.Uc(2),r.Xb(),r.Yb(3,"td"),r.Uc(4),r.Xb(),r.Yb(5,"td"),r.Uc(6),r.Xb(),r.Xb()),2&e){const e=t.$implicit;r.Fb(2),r.Vc(e.GroupName),r.Fb(2),r.Vc(e.MedicineName),r.Fb(2),r.Vc(e.MCODE)}}const I=function(){return["GroupName","MedicineName","MCODE"]},L=[{path:"",component:(()=>{class e extends n.a{constructor(e,t,i,c,s){super(),this.router=e,this.cdRef=t,this._UtilityService=i,this._ConstantServices=c,this._MasterServices=s,this.filteredValuesLength=0,this.UserTypeCurre=localStorage.getItem("userTypeId"),this.userTypes=l.s,this.ActionList=l.a,this.lstIAccess=[],this.lstIAccessStr=[],this._ConstantServices.ActiveMenuName="Medicine Master",this.getPageLevelAccess()}getPageLevelAccess(){var e,t,i=this.router.url,c=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==c?void 0:c.find(e=>e.MenuItemURL===i))&&(this.lstIAccess=null===(e=c.find(e=>e.MenuItemURL===i))||void 0===e?void 0:e.ActionIAccess,(null===(t=this.lstIAccess)||void 0===t?void 0:t.length)>0&&this.lstIAccess.map(e=>{this.lstIAccessStr.push(e.ActionId.toString())}))}ngOnInit(){l.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId")),this.LoadMedicineMasterList()}onclinicSelect(e){this.ClinicIdSelected=e,this.LoadMedicineMasterList()}LoadMedicineMasterList(){this.unsubscribe.add=this._MasterServices.GetMedicineMaster(this.ClinicIdSelected).subscribe(e=>{var t;if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);this.listMedicineMaster=i=i||[],void 0!==this.filtr&&(this.filtr.nativeElement.value="",this.dataTable.reset(),this.filteredValuesLength=null===(t=this.listMedicineMaster)||void 0===t?void 0:t.length),this.cdRef.detectChanges()}},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}onFilter(e,t){this.filteredValuesLength=e.filteredValue.length}exportToItemExcel(){let e={reportname:"medicine",filename:"medicine"};this.UserTypeCurre!==l.s.SuperAdmin?e.ClinicId=this.ClinicIdSelected:e.clinicId="",this._MasterServices.downloadReport(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Sb(s.i),r.Sb(r.h),r.Sb(a.a),r.Sb(l.f),r.Sb(o.a))},e.\u0275cmp=r.Mb({type:e,selectors:[["app-medicine-master"]],viewQuery:function(e,t){if(1&e&&(r.cd(h,1),r.cd(f,1)),2&e){let e;r.Hc(e=r.jc())&&(t.dataTable=e.first),r.Hc(e=r.jc())&&(t.filtr=e.first)}},features:[r.Cb],decls:10,vars:5,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","calc(100vh - 190px)",3,"value","rowHover","globalFilterFields","scrollable","onFilter"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],[1,"p-ml-left","pt-3"],[1,"p-ml-auto"],["pButton","","title","Export Data","label"," ","class","p-button-outlined mr-2","icon","pi pi-download",3,"click",4,"ngIf"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["filtr",""],["pButton","","title","Export Data","label"," ","icon","pi pi-download",1,"p-button-outlined","mr-2",3,"click"]],template:function(e,t){if(1&e){const e=r.Zb();r.Yb(0,"div",0),r.Yb(1,"div",1),r.Yb(2,"div",2),r.Yb(3,"div",3),r.Yb(4,"p-table",4,5),r.ic("onFilter",function(i){r.Lc(e);const c=r.Ic(5);return t.onFilter(i,c)}),r.Sc(6,v,9,2,"ng-template",6),r.Sc(7,S,3,1,"ng-template",7),r.Sc(8,g,7,0,"ng-template",8),r.Sc(9,M,7,3,"ng-template",9),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb()}2&e&&(r.Fb(4),r.tc("value",t.listMedicineMaster)("rowHover",!0)("globalFilterFields",r.yc(4,I))("scrollable",!0))},directives:[d.c,u.i,c.p,b.a,p.b],styles:[""]}),e})()}];let X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({imports:[[s.l.forChild(L)],s.l]}),e})();var y=i("3Pt+"),A=i("arFO"),Y=i("T2Aj");let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Qb({type:e}),e.\u0275inj=r.Pb({imports:[[c.c,X,y.i,d.f,p.c,A.b,b.b,Y.a]]}),e})()}}]);