(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{zu78:function(t,e,o){"use strict";o.r(e),o.d(e,"PathologyTestMasterModule",function(){return J});var s=o("ofXK"),n=o("tyNb"),l=o("CwUn"),a=o("Nach"),i=o("+z1p"),c=o("fXoL"),r=o("dcBc"),b=o("NLkC"),d=o("rEr+"),h=o("7zfz"),g=o("7kUa"),u=o("jIHw"),p=o("3Pt+"),m=o("arFO"),M=o("Ji6n"),y=o("Ks7X"),f=o("zioG");const P=["myForm"],v=["dt"],T=["filtr"];function Y(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",21),c.ic("click",function(){return c.Lc(t),c.mc(3).AddNewTest()}),c.Xb()}}function X(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",22),c.ic("click",function(){return c.Lc(t),c.mc(3).exportToItemExcel()}),c.Xb()}}function I(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",12),c.Sc(1,Y,1,0,"button",13),c.Yb(2,"span",14),c.Uc(3),c.Xb(),c.Yb(4,"span",15),c.Sc(5,X,1,0,"button",16),c.Yb(6,"span",17),c.Tb(7,"i",18),c.Yb(8,"input",19,20),c.ic("input",function(e){return c.Lc(t),c.mc(),c.Ic(5).filterGlobal(e.target.value,"contains")}),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(1),c.tc("ngIf",null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.ReadWrite.toString())),c.Fb(2),c.Wc(" ",(null==t.lstPathologyTestMaster?null:t.lstPathologyTestMaster.length)>0?"Total Records: "+t.filteredValuesLength:""," "),c.Fb(2),c.tc("ngIf",null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.Download.toString()))}}function S(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2," No records found "),c.Xb(),c.Xb()),2&t){const t=e.$implicit;c.Fb(1),c.Gb("colspan",null==t?null:t.length)}}function C(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",23),c.Uc(2,"Action"),c.Xb(),c.Yb(3,"th",24),c.Uc(4,"Category"),c.Xb(),c.Yb(5,"th",25),c.Uc(6,"Test Name"),c.Xb(),c.Yb(7,"th",23),c.Uc(8,"MCODE"),c.Xb(),c.Yb(9,"th",26),c.Uc(10,"Lab CODE"),c.Xb(),c.Yb(11,"th",27),c.Uc(12,"Unit"),c.Xb(),c.Yb(13,"th",24),c.Uc(14,"Normal Range"),c.Xb(),c.Yb(15,"th",23),c.Uc(16,"Is Billable"),c.Xb(),c.Yb(17,"th",26),c.Uc(18,"Is Dropdown"),c.Xb(),c.Yb(19,"th",23),c.Uc(20,"Is Formula"),c.Xb(),c.Yb(21,"th",28),c.Uc(22,"Level"),c.Xb(),c.Yb(23,"th",23),c.Uc(24,"Sequence"),c.Xb(),c.Yb(25,"th",23),c.Uc(26,"Status"),c.Xb(),c.Xb())}const U=function(t){return{"font-weight":t}};function L(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td",23),c.Yb(2,"a",29),c.ic("click",function(){c.Lc(t);const o=e.$implicit;return c.mc(2).LoadPathologyTestDetasilsById(o.PathologyTestMasterId)}),c.Tb(3,"i",30),c.Xb(),c.Xb(),c.Yb(4,"td",24),c.Uc(5),c.Xb(),c.Yb(6,"td",25),c.Yb(7,"span",31),c.Uc(8),c.Xb(),c.Xb(),c.Yb(9,"td",23),c.Uc(10),c.Xb(),c.Yb(11,"td",26),c.Uc(12),c.Xb(),c.Yb(13,"td",27),c.Uc(14),c.Xb(),c.Yb(15,"td",24),c.Uc(16),c.Xb(),c.Yb(17,"td",23),c.Uc(18),c.Xb(),c.Yb(19,"td",26),c.Uc(20),c.Xb(),c.Yb(21,"td",23),c.Uc(22),c.Xb(),c.Yb(23,"td",28),c.Uc(24),c.Xb(),c.Yb(25,"td",23),c.Uc(26),c.Xb(),c.Yb(27,"td",23),c.Uc(28),c.Xb(),c.Xb()}if(2&t){const t=e.$implicit;c.Fb(5),c.Vc(t.Category),c.Fb(2),c.tc("ngStyle",c.zc(14,U,t.IsParent?"bold":"normal")),c.Fb(1),c.Xc("",null==t.ParentTestName?"":t.ParentTestName+" > "," ",t.TestName,""),c.Fb(2),c.Vc(t.MCODE),c.Fb(2),c.Vc(t.LabCode),c.Fb(2),c.Vc(t.Unit),c.Fb(2),c.Vc(t.NormalRange),c.Fb(2),c.Vc(1==t.IsBillable?"Yes":"No"),c.Fb(2),c.Vc(1==t.IsDropdown?"Yes":"No"),c.Fb(2),c.Vc(1==t.IsFormula?"Yes":"No"),c.Fb(2),c.Vc(t.Level),c.Fb(2),c.Vc(t.Sequence),c.Fb(2),c.Vc(1==t.Status?"Active":"Inactive")}}const F=function(){return["Category","TestName","MCODE","Sequence"]};function w(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",2),c.Yb(1,"div",3),c.Yb(2,"div",4),c.Yb(3,"div",5),c.Yb(4,"p-table",6,7),c.ic("onFilter",function(e){c.Lc(t);const o=c.Ic(5);return c.mc().onFilter(e,o)}),c.Sc(6,I,10,3,"ng-template",8),c.Sc(7,S,3,1,"ng-template",9),c.Sc(8,C,27,0,"ng-template",10),c.Sc(9,L,29,16,"ng-template",11),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.Fb(4),c.tc("value",t.lstPathologyTestMaster)("rowHover",!0)("globalFilterFields",c.yc(4,F))("scrollable",!0)}}function O(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",35),c.Yb(1,"div",38),c.Yb(2,"label"),c.Uc(3,"Condition"),c.Xb(),c.Yb(4,"input",65),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).PathologyTestMaster.Condition=e}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(4),c.tc("ngModel",t.PathologyTestMaster.Condition)}}function x(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",41),c.Yb(1,"div",42),c.Yb(2,"p-checkbox",66),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).PathologyTestMaster.IsFormula=e}),c.Xb(),c.Yb(3,"label",44),c.Uc(4,"Is Formula"),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(2),c.tc("binary",!0)("ngModel",t.PathologyTestMaster.IsFormula)}}function A(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",41),c.Yb(1,"div",42),c.Yb(2,"p-checkbox",67),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).PathologyTestMaster.IsDropdown=e}),c.Xb(),c.Yb(3,"label",44),c.Uc(4,"Is Dropdown"),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(2),c.tc("binary",!0)("ngModel",t.PathologyTestMaster.IsDropdown)}}function k(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",41),c.Yb(1,"div",42),c.Yb(2,"p-checkbox",68),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).PathologyTestMaster.IsReadOnly=e}),c.Xb(),c.Yb(3,"label",44),c.Uc(4,"Read Only"),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(2),c.tc("binary",!0)("ngModel",t.PathologyTestMaster.IsReadOnly)}}function N(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",40),c.Yb(1,"div",42),c.Yb(2,"p-checkbox",69),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).PathologyTestMaster.IsCalendar=e}),c.Xb(),c.Yb(3,"label",44),c.Uc(4,"Is Calendar"),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(2),c.tc("binary",!0)("ngModel",t.PathologyTestMaster.IsCalendar)}}function R(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",35),c.Yb(1,"div",38),c.Yb(2,"label"),c.Uc(3,"Formula"),c.Xb(),c.Yb(4,"input",70),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).PathologyTestMaster.Formula=e}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(4),c.tc("ngModel",t.PathologyTestMaster.Formula)}}function D(t,e){1&t&&c.Ub(0)}function q(t,e){if(1&t&&(c.Yb(0,"div",34),c.Yb(1,"div",71),c.Sc(2,D,1,0,"ng-container",72),c.Xb(),c.Xb()),2&t){c.mc(2);const t=c.Ic(3);c.Fb(2),c.tc("ngTemplateOutlet",t)}}function _(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",73),c.ic("click",function(){return c.Lc(t),c.mc(2).SaveTest()}),c.Uc(1,"Submit"),c.Xb()}if(2&t){c.mc();const t=c.Ic(5);c.tc("disabled",!t.form.valid)}}const V=function(){return{width:"100%"}};function E(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",2),c.Yb(1,"div",32),c.Yb(2,"div",4),c.Yb(3,"div",5),c.Yb(4,"form",null,33),c.Yb(6,"div",34),c.Yb(7,"div",35),c.Yb(8,"label"),c.Uc(9,"Category"),c.Xb(),c.Yb(10,"span",36),c.Uc(11,"*"),c.Xb(),c.Yb(12,"p-dropdown",37),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.Category=e}),c.Xb(),c.Xb(),c.Yb(13,"div",35),c.Yb(14,"div",38),c.Yb(15,"label"),c.Uc(16,"Test Name"),c.Xb(),c.Yb(17,"span",36),c.Uc(18,"*"),c.Xb(),c.Yb(19,"input",39),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.TestName=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(20,"div",40),c.Yb(21,"div",34),c.Yb(22,"div",41),c.Yb(23,"div",42),c.Yb(24,"p-checkbox",43),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.IsParent=e}),c.Xb(),c.Yb(25,"label",44),c.Uc(26,"Is Parent"),c.Xb(),c.Xb(),c.Xb(),c.Yb(27,"div",41),c.Yb(28,"div",42),c.Yb(29,"p-checkbox",45),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.IsBillable=e}),c.Xb(),c.Yb(30,"label",44),c.Uc(31,"Is Billable"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(32,"div",35),c.Yb(33,"label"),c.Uc(34,"Level"),c.Xb(),c.Yb(35,"span",36),c.Uc(36,"*"),c.Xb(),c.Yb(37,"p-dropdown",46),c.ic("onChange",function(){return c.Lc(t),c.mc().onChangeLevel()})("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.Level=e}),c.Xb(),c.Xb(),c.Yb(38,"div",35),c.Yb(39,"div",38),c.Yb(40,"label"),c.Uc(41,"Parent Pathology Test"),c.Xb(),c.Yb(42,"span",36),c.Uc(43,"*"),c.Xb(),c.Yb(44,"p-dropdown",47),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.ParentPathologyTestId=e}),c.Xb(),c.Xb(),c.Xb(),c.Sc(45,O,5,1,"div",48),c.Yb(46,"div",40),c.Yb(47,"div",34),c.Sc(48,x,5,2,"div",49),c.Sc(49,A,5,2,"div",49),c.Sc(50,k,5,2,"div",49),c.Xb(),c.Xb(),c.Sc(51,N,5,2,"div",50),c.Sc(52,R,5,1,"div",48),c.Yb(53,"div",35),c.Yb(54,"div",38),c.Yb(55,"label"),c.Uc(56,"Sequence"),c.Xb(),c.Yb(57,"span",36),c.Uc(58,"*"),c.Xb(),c.Yb(59,"input",51),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.Sequence=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(60,"div",35),c.Yb(61,"label"),c.Uc(62,"Min Length"),c.Xb(),c.Yb(63,"p-inputNumber",52),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.Minlength=e}),c.Xb(),c.Xb(),c.Yb(64,"div",35),c.Yb(65,"label"),c.Uc(66,"Max Length"),c.Xb(),c.Yb(67,"p-inputNumber",53),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.Maxlength=e}),c.Xb(),c.Xb(),c.Yb(68,"div",3),c.Yb(69,"div",38),c.Yb(70,"label"),c.Uc(71,"Alert Message"),c.Xb(),c.Yb(72,"textarea",54),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.AlertMsg=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(73,"div",3),c.Yb(74,"div",38),c.Yb(75,"label"),c.Uc(76,"Description"),c.Xb(),c.Yb(77,"ckeditor",55),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.Description=e}),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(78,"div",34),c.Yb(79,"div",35),c.Yb(80,"div",38),c.Yb(81,"label"),c.Uc(82,"MCODE"),c.Xb(),c.Yb(83,"input",56),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.MCODE=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(84,"div",35),c.Yb(85,"div",38),c.Yb(86,"label"),c.Uc(87,"Lab Code"),c.Xb(),c.Yb(88,"input",57),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.LabCode=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(89,"div",35),c.Yb(90,"label"),c.Uc(91,"Unit"),c.Xb(),c.Yb(92,"p-dropdown",58),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.Unit=e}),c.Xb(),c.Xb(),c.Yb(93,"div",35),c.Yb(94,"div",38),c.Yb(95,"label"),c.Uc(96,"Normal Range"),c.Xb(),c.Yb(97,"input",59),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.NormalRange=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(98,"div",35),c.Yb(99,"label"),c.Uc(100,"Status"),c.Xb(),c.Yb(101,"span",36),c.Uc(102,"*"),c.Xb(),c.Yb(103,"p-dropdown",60),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().PathologyTestMaster.Status=e}),c.Xb(),c.Xb(),c.Sc(104,q,3,1,"div",61),c.Xb(),c.Yb(105,"div",62),c.Sc(106,_,2,1,"button",63),c.Yb(107,"button",64),c.ic("click",function(){return c.Lc(t),c.mc().CloseModal()}),c.Uc(108,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.Fb(12),c.Pc(c.yc(55,V)),c.tc("required",!0)("options",t.stlstcategory)("ngModel",t.PathologyTestMaster.Category)("filter",!0),c.Fb(7),c.tc("ngModel",t.PathologyTestMaster.TestName),c.Fb(5),c.tc("binary",!0)("ngModel",t.PathologyTestMaster.IsParent),c.Fb(5),c.tc("binary",!0)("ngModel",t.PathologyTestMaster.IsBillable),c.Fb(8),c.Pc(c.yc(56,V)),c.tc("required",!0)("options",t.stlstlevel)("ngModel",t.PathologyTestMaster.Level)("filter",!0),c.Fb(7),c.Pc(c.yc(57,V)),c.tc("options",t.lstParentPathologyTest)("ngModel",t.PathologyTestMaster.ParentPathologyTestId)("filter",!0),c.Fb(1),c.tc("ngIf",t.PathologyTestMaster.IsParent),c.Fb(3),c.tc("ngIf",!t.PathologyTestMaster.IsParent&&!t.PathologyTestMaster.IsDropdown),c.Fb(1),c.tc("ngIf",!t.PathologyTestMaster.IsParent&&!t.PathologyTestMaster.IsFormula),c.Fb(1),c.tc("ngIf",t.PathologyTestMaster.IsFormula),c.Fb(1),c.tc("ngIf",!t.PathologyTestMaster.IsParent&&!t.PathologyTestMaster.IsFormula&&!t.PathologyTestMaster.IsDropdown),c.Fb(1),c.tc("ngIf",t.PathologyTestMaster.IsFormula),c.Fb(7),c.tc("ngModel",t.PathologyTestMaster.Sequence),c.Fb(4),c.tc("ngModel",t.PathologyTestMaster.Minlength)("maxlength",10),c.Fb(4),c.tc("ngModel",t.PathologyTestMaster.Maxlength)("maxlength",10),c.Fb(5),c.tc("ngModel",t.PathologyTestMaster.AlertMsg),c.Fb(5),c.tc("editor",t.Editor)("config",t.config)("ngModel",t.PathologyTestMaster.Description),c.Fb(6),c.tc("ngModel",t.PathologyTestMaster.MCODE)("disabled",!t.PathologyTestMaster.IsBillable),c.Fb(5),c.tc("ngModel",t.PathologyTestMaster.LabCode),c.Fb(4),c.Pc(c.yc(58,V)),c.tc("options",t.stlstunit)("ngModel",t.PathologyTestMaster.Unit)("filter",!0)("disabled",t.PathologyTestMaster.IsParent),c.Fb(5),c.tc("ngModel",t.PathologyTestMaster.NormalRange)("disabled",t.PathologyTestMaster.IsParent),c.Fb(6),c.Pc(c.yc(59,V)),c.tc("options",t.stlststatus)("ngModel",t.PathologyTestMaster.Status)("filter",!0),c.Fb(1),c.tc("ngIf",t.PathologyTestMaster.IsDropdown),c.Fb(2),c.tc("ngIf",null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.ReadWrite.toString()))}}function B(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"th"),c.Uc(2,"Key"),c.Xb(),c.Yb(3,"th"),c.Uc(4,"Value"),c.Xb(),c.Yb(5,"th"),c.Uc(6,"Action"),c.Xb(),c.Xb())}function G(t,e){if(1&t){const t=c.Zb();c.Yb(0,"a",77),c.ic("click",function(){c.Lc(t);const e=c.mc().rowIndex,o=c.mc(2);return o.RemoveOptions(o.lstOptions[e].Sequence)}),c.Tb(1,"i",81),c.Xb()}}function Z(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Yb(2,"input",76),c.ic("ngModelChange",function(o){c.Lc(t);const s=e.rowIndex;return c.mc(2).lstOptions[s].key=o}),c.Xb(),c.Xb(),c.Yb(3,"td"),c.Yb(4,"input",76),c.ic("ngModelChange",function(o){c.Lc(t);const s=e.rowIndex;return c.mc(2).lstOptions[s].value=o}),c.Xb(),c.Xb(),c.Yb(5,"td"),c.Yb(6,"a",77),c.ic("click",function(){return c.Lc(t),c.mc(2).AddOptions()}),c.Tb(7,"i",78),c.Xb(),c.Sc(8,G,2,0,"a",79),c.Yb(9,"i",80),c.ic("click",function(){c.Lc(t);const o=e.rowIndex,s=c.mc(2);return s.ResetOptions(s.lstOptions[o].Sequence)}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=e.rowIndex,o=c.mc(2);c.Fb(2),c.vc("name","Qty_",o.lstOptions[t].Sequence,""),c.tc("ngModel",o.lstOptions[t].key),c.Fb(2),c.vc("name","Qty_",o.lstOptions[t].Sequence,""),c.tc("ngModel",o.lstOptions[t].value),c.Fb(4),c.tc("ngIf",1!==o.lstOptions[t].Sequence)}}function H(t,e){if(1&t&&(c.Yb(0,"p-table",74,75),c.Sc(2,B,7,0,"ng-template",10),c.Sc(3,Z,10,5,"ng-template",11),c.Xb()),2&t){const t=c.mc();c.tc("value",t.lstOptions)("rowHover",!0)("scrollable",!0)}}const j=[{path:"",component:(()=>{class t extends l.a{constructor(t,e,o,s,n){super(),this.router=t,this._MasterServices=e,this._ConstantServices=o,this.cdRef=s,this._UtilityService=n,this.UserTypeCurre=localStorage.getItem("userTypeId"),this.userTypes=a.s,this.filteredValuesLength=0,this.Editor=i,this.mode=null,this.PathologyTestMaster={},this.lstPathologyTestMaster=[],this.lstParentPathologyTest=[],this.stlstcategory=[],this.stlstunit=[],this.stlstlevel=[],this.stlststatus=[],this.ActionList=a.a,this.lstIAccess=[],this.lstIAccessStr=[],this.lstOptions=[],this.optionRowCounter=0,this._ConstantServices.ActiveMenuName="Pathology Test Master",this.getPageLevelAccess(),this.config={toolbar:{items:["bold","italic","|","undo","redo","|","numberedList","bulletedList"],shouldNotGroupWhenFull:!0}},this.ddlParent=[{name:"Yes",code:!0},{name:"No",code:!1}],this.stlstcategory=[{name:"PATHOLOGY",code:"PATHOLOGY"},{name:"RADIOLOGY",code:"RADIOLOGY"}],this.stlstlevel=[{name:"0",code:0},{name:"1",code:1},{name:"2",code:2},{name:"3",code:3}],this.stlststatus=[{name:"Active",code:1},{name:"Inactive",code:0}]}getPageLevelAccess(){var t,e,o=this.router.url,s=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==s?void 0:s.find(t=>t.MenuItemURL===o))&&(this.lstIAccess=null===(t=s.find(t=>t.MenuItemURL===o))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(t=>{this.lstIAccessStr.push(t.ActionId.toString())}))}ngOnInit(){this.GetPathologyTestMaster(),this.GetLabUnitMasterList()}GetPathologyTestMaster(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetPathologyTestMaster(!1).subscribe(t=>{var e;if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==t.actionResult.success){var o=JSON.parse(t.actionResult.result);this.lstPathologyTestMaster=o=o||[],this.onChangeLevel(),void 0!==this.filtr&&(this.filtr.nativeElement.value="",this.dataTable.reset(),this.filteredValuesLength=null===(e=this.lstPathologyTestMaster)||void 0===e?void 0:e.length),this.cdRef.detectChanges()}else this.lstPathologyTestMaster=null})}GetLabUnitMasterList(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetLabUnitMasterList(!0).subscribe({next:t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.stlstunit=e=e||[]}else this.stlstunit=[]},error:t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.Message)}})}onChangeLevel(){if(0==this.PathologyTestMaster.Level||null==this.PathologyTestMaster.Level||null==this.PathologyTestMaster.Level)this.PathologyTestMaster.ParentPathologyTestId=null,this.PathologyTestMaster.ParentTestName=null,this.lstParentPathologyTest=[];else{var t=this.PathologyTestMaster.Level-1;this.lstParentPathologyTest=this.lstPathologyTestMaster.filter(e=>1==e.IsParent&&e.Level==t&&1==e.Status).map(t=>Object.assign(Object.assign({},t),{DisplayTestName:null==t.ParentTestName?t.TestName:t.ParentTestName+" > "+t.TestName}))}}ResetModel(){this.PathologyTestMaster={},this.PathologyTestMaster.Status=1,this.PathologyTestMaster.Category="PATHOLOGY"}AddNewTest(){var t;this.ResetModel(),this.mode="Add",this.lstOptions=[],this.optionRowCounter=0,0==(null===(t=this.lstOptions)||void 0===t?void 0:t.length)&&this.AddOptions(),this.myForm.resetForm()}SaveTest(){var t,e,o,s=[],n=!0;this.lstOptions.forEach(t=>{""!=t.key&&null!=t.key&&""!=t.value&&null!=t.value?s.push({key:t.key,value:t.value}):n=!1}),!n&&this.PathologyTestMaster.IsDropdown&&(null===(t=this.lstOptions)||void 0===t?void 0:t.length)>1?this._UtilityService.showWarningAlert("Please select all Option Details"):(this.PathologyTestMaster.options=this.PathologyTestMaster.IsDropdown?s:[],this._UtilityService.showSpinner(),this.PathologyTestMaster.CreatedBy=localStorage.getItem("userId"),this.PathologyTestMaster.ModifiedBy=localStorage.getItem("userId"),this.PathologyTestMaster.IsSelectable=!0,this.PathologyTestMaster.TestName=this.PathologyTestMaster.TestName.toUpperCase(),this.PathologyTestMaster.IsParent&&(this.PathologyTestMaster.IsDropdown=!1,this.PathologyTestMaster.IsFormula=!1,this.PathologyTestMaster.IsReadOnly=!1,this.PathologyTestMaster.Formula=null,this.PathologyTestMaster.IsCalendar=!1),this.PathologyTestMaster.IsFormula?(this.PathologyTestMaster.IsDropdown=!1,this.PathologyTestMaster.IsCalendar=!1):this.PathologyTestMaster.IsReadOnly=!1,this.PathologyTestMaster.IsDropdown&&(this.PathologyTestMaster.IsCalendar=!1,this.PathologyTestMaster.IsFormula=!1,this.PathologyTestMaster.IsReadOnly=!1,this.PathologyTestMaster.Formula=null),this.PathologyTestMaster.IsCalendar&&(this.PathologyTestMaster.IsDropdown=!1),(null===(e=this.lstParentPathologyTest)||void 0===e?void 0:e.length)>0&&(this.PathologyTestMaster.ParentTestName=null===(o=this.lstParentPathologyTest.find(t=>t.PathologyTestMasterId==this.PathologyTestMaster.ParentPathologyTestId))||void 0===o?void 0:o.TestName),this.unsubscribe.add=this._MasterServices.AddUpdatePathologyTestMaster(this.PathologyTestMaster).subscribe(t=>{this._UtilityService.hideSpinner(),t.actionResult.success?this._UtilityService.showSuccessAlert(t.actionResult.errMsg):this._UtilityService.showWarningAlert(t.actionResult.errMsg),1==t.actionResult.success&&(this.GetPathologyTestMaster(),this.mode=null)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}))}AddOptions(){this.optionRowCounter=this.optionRowCounter+1,this.lstOptions.push({Sequence:this.optionRowCounter,key:"",value:""})}RemoveOptions(t){1!=t&&(this.lstOptions=this.lstOptions.filter(e=>e.Sequence!==t))}ResetOptions(t){this.lstOptions[t-1].key="",this.lstOptions[t-1].value=""}CloseModal(){this.mode=null}LoadPathologyTestDetasilsById(t){this.unsubscribe.add=this._MasterServices.GetPathologyTestMasterById(t).subscribe({next:t=>{var e,o;if(1==t.actionResult.success){var s=JSON.parse(t.actionResult.result);this.PathologyTestMaster=s=s||[],(null===(e=null==s?void 0:s.options)||void 0===e?void 0:e.length)>0?(this.lstOptions=null==s?void 0:s.options,this.lstOptions.forEach((t,e)=>{t.Sequence=e+1})):(this.lstOptions=[],this.optionRowCounter=0,0==(null===(o=this.lstOptions)||void 0===o?void 0:o.length)&&this.AddOptions()),this.onChangeLevel(),this.mode="update"}else this.lstOptions=[]},error:t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.Message)}})}onFilter(t,e){this.filteredValuesLength=t.filteredValue.length}exportToItemExcel(){this._MasterServices.downloadReport({reportname:"PathologyTest",filename:"PathologyTest"})}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(n.i),c.Sb(r.a),c.Sb(a.f),c.Sb(c.h),c.Sb(b.a))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-pathology-test-master"]],viewQuery:function(t,e){if(1&t&&(c.cd(P,1),c.cd(v,1),c.cd(T,1)),2&t){let t;c.Hc(t=c.jc())&&(e.myForm=t.first),c.Hc(t=c.jc())&&(e.dataTable=t.first),c.Hc(t=c.jc())&&(e.filtr=t.first)}},features:[c.Cb],decls:4,vars:2,consts:[["class","row mt25",4,"ngIf"],["tabContent",""],[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","calc(100vh - 165px)",3,"value","rowHover","globalFilterFields","scrollable","onFilter"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["pButton","","title","New","label","Add New","class","p-button-outlined mr-2","icon","pi pi-plus",3,"click",4,"ngIf"],[1,"p-ml-left","pt-3"],[1,"p-ml-auto"],["pButton","","title","Export Data","label"," ","class","p-button-outlined mr-2","icon","pi pi-download",3,"click",4,"ngIf"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["filtr",""],["pButton","","title","New","label","Add New","icon","pi pi-plus",1,"p-button-outlined","mr-2",3,"click"],["pButton","","title","Export Data","label"," ","icon","pi pi-download",1,"p-button-outlined","mr-2",3,"click"],[2,"width","80px"],[2,"width","120px"],[2,"width","300px"],[2,"width","100px"],[2,"width","50px"],[2,"width","70px"],["matTooltip","View/Edit",3,"click"],["aria-hidden","true",1,"fa","fa-eye"],[3,"ngStyle"],[1,"col"],["myForm","ngForm"],[1,"row"],[1,"col-md-3"],[1,"required"],["name","ddlCategory","optionLabel","name","optionValue","code","placeholder","Please Select Category",3,"required","options","ngModel","filter","ngModelChange"],[1,"form-group"],["type","text","required","","name","txtTestName",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-3","mt-8"],[1,"col-auto"],[1,"field-checkbox"],["name","chkIsParent","id","chkIsParent1",3,"binary","ngModel","ngModelChange"],["for","ny",1,"form-label","ml-2"],["name","chkIsBillable","id","chkIsBillable1",3,"binary","ngModel","ngModelChange"],["name","ddlLevel","optionLabel","name","optionValue","code","placeholder","Please Select Level",3,"required","options","ngModel","filter","onChange","ngModelChange"],["name","ddlParentMenuName","optionLabel","TestName","optionValue","PathologyTestMasterId","placeholder","Please Select Parent Pathology Test",3,"options","ngModel","filter","ngModelChange"],["class","col-md-3",4,"ngIf"],["class","col-auto",4,"ngIf"],["class","col-md-3 mt-8",4,"ngIf"],["type","number","required","","name","txtSequence","min","0",1,"form-control",3,"ngModel","ngModelChange"],["name","txtminlength","mode","decimal",3,"ngModel","maxlength","ngModelChange"],["name","txtmaxlength","mode","decimal",3,"ngModel","maxlength","ngModelChange"],["rows","1","name","txtAlertMsg",1,"form-control",3,"ngModel","ngModelChange"],["name","txtDescription",3,"editor","config","ngModel","ngModelChange"],["type","text","name","txtMCODE","maxlength","7",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","text","name","txtLabCode","maxlength","15",1,"form-control",3,"ngModel","ngModelChange"],["name","ddlUnit","optionLabel","UnitName","optionValue","ShortName","placeholder","Please Select Unit",3,"options","ngModel","filter","disabled","ngModelChange"],["type","text","name","txtNormalRange",1,"form-control",3,"ngModel","disabled","ngModelChange"],["required","true","name","ddlStatus","optionLabel","name","optionValue","code","placeholder","Please Select Status",3,"options","ngModel","filter","ngModelChange"],["class","row",4,"ngIf"],[1,"row","justify-content-center"],["type","button","class","btn btn-new-primary mr-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn-new-secondary",3,"click"],["type","text","name","txtCondition",1,"form-control",3,"ngModel","ngModelChange"],["name","chkIsFormula","id","chkIsFormula1",3,"binary","ngModel","ngModelChange"],["name","chkIsDropdown","id","chkIsDropdown1",3,"binary","ngModel","ngModelChange"],["name","chkIsReadOnly","id","chkIsReadOnly1",3,"binary","ngModel","ngModelChange"],["name","chkIsCalendar","id","chkIsCalendar1",3,"binary","ngModel","ngModelChange"],["type","text","name","txtFormula",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12"],[4,"ngTemplateOutlet"],["type","button",1,"btn","btn-new-primary","mr-2",3,"disabled","click"],["responsiveLayout","scroll","scrollHeight","250px",3,"value","rowHover","scrollable"],["dt1",""],["pInputText","","type","text","required","",1,"form-control",3,"name","ngModel","ngModelChange"],["href","javascript: void(0);",1,"add-btn","mr-2",3,"click"],[1,"fa","fa-plus"],["class","add-btn mr-2","href","javascript: void(0);",3,"click",4,"ngIf"],["title","Reset Option",1,"pi","pi-refresh",3,"click"],[1,"fa","fa-minus"]],template:function(t,e){1&t&&(c.Sc(0,w,10,5,"div",0),c.Sc(1,E,109,60,"div",0),c.Sc(2,H,4,3,"ng-template",null,1,c.Tc)),2&t&&(c.tc("ngIf",null==e.mode),c.Fb(1),c.tc("ngIf",null!=e.mode))},directives:[s.p,d.c,h.i,g.a,u.b,s.q,p.z,p.p,p.q,m.a,p.w,p.o,p.r,p.b,M.a,p.t,y.a,p.j,f.a,s.t],styles:[""]}),t})()}];let z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[n.l.forChild(j)],n.l]}),t})(),J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[s.c,z,p.i,d.f,u.c,m.b,g.b,M.b,y.b,f.b]]}),t})()}}]);