(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{VLyU:function(t,e,i){"use strict";i.r(e),i.d(e,"PatientRegistrationModule",function(){return x});var n=i("ofXK"),c=i("tyNb"),a=i("Nach"),o=i("CwUn"),l=i("fXoL"),s=i("eRWq"),r=i("dcBc"),b=i("NLkC"),d=i("3Pt+"),h=i("eO1q"),u=i("rEr+"),p=i("7zfz"),m=i("AAHA"),g=i("7kUa"),f=i("jIHw");const S=["calendar"],v=["dt1"],y=["filtr"];function Y(t,e){1&t&&(l.Yb(0,"div",25),l.Yb(1,"label",9),l.Uc(2,"Center "),l.Xb(),l.Yb(3,"span",10),l.Uc(4,"*"),l.Xb(),l.Xb())}function X(t,e){if(1&t){const t=l.Zb();l.Yb(0,"div",26),l.Yb(1,"app-center-dropdown",27),l.ic("onclinicSelect",function(e){return l.Lc(t),l.mc().onclinicSelect(e)}),l.Xb(),l.Xb()}2&t&&(l.Fb(1),l.tc("isCenterLabel",!1)("mode","get"))}function U(t,e){if(1&t){const t=l.Zb();l.Yb(0,"button",36),l.ic("click",function(){return l.Lc(t),l.mc(2).exportToItemExcel()}),l.Xb()}}function I(t,e){if(1&t){const t=l.Zb();l.Yb(0,"div",28),l.Yb(1,"span",29),l.Uc(2),l.Xb(),l.Yb(3,"span",30),l.Sc(4,U,1,0,"button",31),l.Yb(5,"span",32),l.Tb(6,"i",33),l.Yb(7,"input",34,35),l.ic("input",function(e){return l.Lc(t),l.mc(),l.Ic(24).filterGlobal(e.target.value,"contains")}),l.Xb(),l.Xb(),l.Xb(),l.Xb()}if(2&t){const t=l.mc();l.Fb(2),l.Wc(" ",(null==t.lstUserMaster?null:t.lstUserMaster.length)>0?"Total Records: "+t.filteredValuesLength:""," "),l.Fb(2),l.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.Download.toString()))&&(null==t.lstUserMaster?null:t.lstUserMaster.length)>0)}}function w(t,e){1&t&&(l.Yb(0,"tr"),l.Yb(1,"td"),l.Uc(2," No records found "),l.Xb(),l.Xb()),2&t&&(l.Fb(1),l.Gb("colspan",13))}function F(t,e){1&t&&(l.Yb(0,"colgroup"),l.Tb(1,"col",37),l.Tb(2,"col",38),l.Tb(3,"col",39),l.Tb(4,"col",40),l.Tb(5,"col",41),l.Tb(6,"col",38),l.Tb(7,"col",42),l.Tb(8,"col",43),l.Tb(9,"col",42),l.Tb(10,"col",37),l.Tb(11,"col",43),l.Tb(12,"col",37),l.Tb(13,"col",37),l.Xb())}function D(t,e){1&t&&(l.Yb(0,"tr"),l.Yb(1,"th"),l.Uc(2,"Preferred Center"),l.Xb(),l.Yb(3,"th"),l.Uc(4,"Name"),l.Xb(),l.Yb(5,"th"),l.Uc(6,"MR No."),l.Xb(),l.Yb(7,"th"),l.Uc(8,"Contact No."),l.Xb(),l.Yb(9,"th"),l.Uc(10,"Email"),l.Xb(),l.Yb(11,"th"),l.Uc(12,"ID Proof"),l.Xb(),l.Yb(13,"th"),l.Uc(14,"ID Proof No"),l.Xb(),l.Yb(15,"th"),l.Uc(16,"City/State"),l.Xb(),l.Yb(17,"th"),l.Uc(18,"Registered On"),l.Xb(),l.Yb(19,"th"),l.Uc(20,"Center"),l.Xb(),l.Yb(21,"th"),l.Uc(22,"Booking No"),l.Xb(),l.Yb(23,"th"),l.Uc(24,"Status"),l.Xb(),l.Yb(25,"th"),l.Uc(26,"Booked On"),l.Xb(),l.Xb())}function C(t,e){if(1&t&&(l.Yb(0,"tr"),l.Yb(1,"td"),l.Uc(2),l.Xb(),l.Yb(3,"td"),l.Uc(4),l.Xb(),l.Yb(5,"td"),l.Uc(6),l.Xb(),l.Yb(7,"td"),l.Uc(8),l.Xb(),l.Yb(9,"td"),l.Uc(10),l.Xb(),l.Yb(11,"td"),l.Uc(12),l.Xb(),l.Yb(13,"td"),l.Uc(14),l.Xb(),l.Yb(15,"td"),l.Uc(16),l.Xb(),l.Yb(17,"td"),l.Uc(18),l.nc(19,"date"),l.Xb(),l.Yb(20,"td"),l.Uc(21),l.Xb(),l.Yb(22,"td"),l.Uc(23),l.Xb(),l.Yb(24,"td"),l.Yb(25,"span"),l.Uc(26),l.Xb(),l.Xb(),l.Yb(27,"td",44),l.nc(28,"date"),l.Uc(29),l.nc(30,"date"),l.Xb(),l.Tb(31,"td"),l.Xb()),2&t){const t=e.$implicit,i=l.mc();l.Fb(2),l.Vc(t.PrefClinicName),l.Fb(2),l.Vc(t.FullName),l.Fb(2),l.Vc(t.MRNo),l.Fb(2),l.Vc(t.ContactNumber),l.Fb(2),l.Vc(t.Email),l.Fb(2),l.Vc(t.IdProofName),l.Fb(2),l.Vc(t.IdProofNumber),l.Fb(2),l.Xc("",t.City,"/",t.State,""),l.Fb(2),l.Vc(l.pc(19,18,t.CreatedOn,i.customDateFormat.DEF_DATE_TIME)),l.Fb(3),l.Vc(t.ClinicName),l.Fb(2),l.Vc(t.BookingNumber),l.Fb(2),l.Hb(t.BookingStatus),l.Fb(1),l.Vc(t.BookingStatus),l.Fb(1),l.uc("title",l.pc(28,21,t.SlotBookedOn,i.customDateFormat.DEF_DATE_TIME)),l.Fb(2),l.Wc(" ",l.pc(30,24,t.SlotBookedOn,i.customDateFormat.DEF_DATE),"")}}const T=function(){return{standalone:!0}},M=function(){return["PrefClinicName","FullName","MRNo","Gender","DateOfBirth","ContactNumber","Email","IdProofName","IdProofNumber","City","State","CreatedOn","ClinicName","BookingNumber","BookingStatus"]},A=[{path:"",component:(()=>{class t extends o.a{constructor(t,e,i,n,c,o,l){super(),this.cdRef=t,this.router=e,this.datePipe=i,this._ConstantsService=n,this._RegistrationServices=c,this._MasterServices=o,this._UtilityService=l,this.filteredValuesLength=0,this.customDateFormat=a.h,this.UserTypeCurre=localStorage.getItem("userTypeId"),this.userTypes=a.s,this.rangeDates=[],this.today=new Date,this.MaxYear=(new Date).getFullYear(),this.maxFrom=new Date,this.maxUpto=new Date,this.ActionList=a.a,this.lstIAccess=[],this.lstIAccessStr=[],this.getPageLevelAccess()}getPageLevelAccess(){var t,e,i=this.router.url,n=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==n?void 0:n.find(t=>t.MenuItemURL===i))&&(this.lstIAccess=null===(t=n.find(t=>t.MenuItemURL===i))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(t=>{this.lstIAccessStr.push(t.ActionId.toString())}))}ngOnInit(){this._ConstantsService.ActiveMenuName="Registration Details",a.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId"));var t=new Date;t.setMonth(t.getMonth()-1),this.rangeDates=[new Date,new Date],this.ShowAvailability(),this.cdRef.detectChanges()}onclinicSelect(t){this.ClinicIdSelected=t,this.ShowAvailability()}dateRangeChange(){this.rangeDates[0]&&this.rangeDates[1]&&(void 0!==this.calendar&&(this.calendar.overlayVisible=!1),this.ShowAvailability())}ShowAvailability(){null!=this.rangeDates[0]&&null!=this.rangeDates[0]?null!=this.rangeDates[1]&&null!=this.rangeDates[1]?this.GetPatientRegistrationDetails(this.rangeDates[0],this.rangeDates[1]):this._UtilityService.showWarningAlert("Please select To date"):this._UtilityService.showWarningAlert("Please select From date")}GetPatientRegistrationDetails(t,e){null!=this.ClinicIdSelected&&null!=this.ClinicIdSelected&&""!=this.ClinicIdSelected||(this.ClinicIdSelected=""),this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.GetPatientRegistrationDetails(this.datePipe.transform(t,"MM-dd-yyyy"),this.datePipe.transform(e,"MM-dd-yyyy"),this.ClinicIdSelected).subscribe(t=>{var e;if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);this.lstUserMaster=i=i||[],void 0!==this.filtr&&(this.filtr.nativeElement.value="",this.dataTable.reset(),this.filteredValuesLength=null===(e=this.lstUserMaster)||void 0===e?void 0:e.length),this.cdRef.detectChanges()}else this._UtilityService.hideSpinner(),this.lstUserMaster=null,this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}onFilter(t,e){this.filteredValuesLength=t.filteredValue.length}exportToItemExcel(){let t={reportname:"PatientRegistration",filename:"PatientRegistration"};t.clinicId=this.ClinicIdSelected,t.dFrom=new Date(this.datePipe.transform(this.rangeDates[0],"yyyy-MM-dd")),t.dTo=new Date(this.datePipe.transform(this.rangeDates[1],"yyyy-MM-dd")),this._MasterServices.downloadReport(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Sb(l.h),l.Sb(c.i),l.Sb(n.f),l.Sb(a.f),l.Sb(s.a),l.Sb(r.a),l.Sb(b.a))},t.\u0275cmp=l.Mb({type:t,selectors:[["app-patient-registration"]],viewQuery:function(t,e){if(1&t&&(l.cd(S,1),l.cd(v,1),l.cd(y,1)),2&t){let t;l.Hc(t=l.jc())&&(e.calendar=t.first),l.Hc(t=l.jc())&&(e.dataTable=t.first),l.Hc(t=l.jc())&&(e.filtr=t.first)}},features:[l.Cb],decls:30,vars:18,consts:[[1,"row","mt25"],[1,"col","col-md-12"],[1,"card"],[1,"card-body"],["action",""],[1,"row"],["class","col col-md-1 col-12 mt-2 mt0",4,"ngIf"],["class","col col-md-3 col-12",4,"ngIf"],[1,"col","col-md-3","col-12","mt-2","mt0"],["for",""],[1,"required"],[1,"col","col-md-auto","col-12"],[1,"form-group"],["appendTo","body","selectionMode","range","inputId","icon","name","rangeDates",3,"yearNavigator","monthNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onSelect"],["calendar",""],[1,"col","col-md-2","col-12","mt0"],["type","submit",1,"btn-con","btn","btn-new-primary",3,"click"],[1,"row","mt-2"],["styleClass","p-datatable-striped","scrollHeight","calc(100vh - 235px)","responsiveLayout","scroll",3,"value","rowHover","globalFilterFields","scrollable","onFilter"],["dt1",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],[1,"col","col-md-1","col-12","mt-2","mt0"],[1,"col","col-md-3","col-12"],[3,"isCenterLabel","mode","onclinicSelect"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],["pButton","","title","Export Data","label"," ","class","p-button-outlined mr-2","icon","pi pi-download",3,"click",4,"ngIf"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["filtr",""],["pButton","","title","Export Data","label"," ","icon","pi pi-download",1,"p-button-outlined","mr-2",3,"click"],[2,"width","130px"],[2,"width","100px"],[2,"width","125px"],[2,"width","90px"],[2,"width","180px"],[2,"width","120px"],[2,"width","140px"],[3,"title"]],template:function(t,e){if(1&t){const t=l.Zb();l.Yb(0,"div",0),l.Yb(1,"div",1),l.Yb(2,"div",2),l.Yb(3,"div",3),l.Yb(4,"form",4),l.Yb(5,"div",5),l.Sc(6,Y,5,0,"div",6),l.Sc(7,X,2,2,"div",7),l.Yb(8,"div",8),l.Yb(9,"label",9),l.Uc(10,"Registration From / Registration Upto "),l.Yb(11,"span",10),l.Uc(12,"*"),l.Xb(),l.Xb(),l.Xb(),l.Yb(13,"div",11),l.Yb(14,"div",12),l.Yb(15,"p-calendar",13,14),l.ic("ngModelChange",function(t){return e.rangeDates=t})("onSelect",function(){return e.dateRangeChange()}),l.Xb(),l.Xb(),l.Xb(),l.Yb(17,"div",15),l.Yb(18,"div",12),l.Yb(19,"button",16),l.ic("click",function(){return e.ShowAvailability()}),l.Uc(20,"Show "),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(21,"div",17),l.Yb(22,"div",1),l.Yb(23,"p-table",18,19),l.ic("onFilter",function(i){l.Lc(t);const n=l.Ic(24);return e.onFilter(i,n)}),l.Sc(25,I,9,2,"ng-template",20),l.Sc(26,w,3,1,"ng-template",21),l.Sc(27,F,14,0,"ng-template",22),l.Sc(28,D,27,0,"ng-template",23),l.Sc(29,C,32,27,"ng-template",24),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Xb()}2&t&&(l.Fb(6),l.tc("ngIf",e.UserTypeCurre===e.userTypes.SuperAdmin),l.Fb(1),l.tc("ngIf",e.UserTypeCurre===e.userTypes.SuperAdmin),l.Fb(8),l.wc("yearRange","",e.customDateFormat.MinYear,":",e.MaxYear,""),l.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",e.today)("ngModel",e.rangeDates)("ngModelOptions",l.yc(16,T))("showIcon",!0)("dateFormat",e.customDateFormat.CalendarFormat)("readonlyInput",!0),l.Fb(8),l.tc("value",e.lstUserMaster)("rowHover",!0)("globalFilterFields",l.yc(17,M))("scrollable",!0))},directives:[d.z,d.p,d.q,n.p,h.a,d.o,d.r,u.c,p.i,m.a,g.a,f.b],pipes:[n.f],styles:[""]}),t})()}];let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Qb({type:t}),t.\u0275inj=l.Pb({imports:[[c.l.forChild(A)],c.l]}),t})();var R=i("arFO"),P=i("T2Aj");let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Qb({type:t}),t.\u0275inj=l.Pb({imports:[[n.c,N,d.i,u.f,f.c,R.b,g.b,h.b,P.a]]}),t})()}}]);