(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{mwxg:function(t,e,o){"use strict";o.r(e),o.d(e,"DoctorConsultStatusModule",function(){return R});var c=o("ofXK"),l=o("tyNb"),n=o("CwUn"),i=o("Nach"),s=o("fXoL"),r=o("dcBc"),a=o("ReGW"),u=o("NLkC"),b=o("rEr+"),d=o("7zfz"),p=o("AAHA"),h=o("jIHw"),S=o("7kUa");function m(t,e){1&t&&(s.Yb(0,"div",16),s.Yb(1,"label",17),s.Uc(2,"Center "),s.Xb(),s.Yb(3,"span",18),s.Uc(4,"*"),s.Xb(),s.Xb())}function f(t,e){if(1&t){const t=s.Zb();s.Yb(0,"div",19),s.Yb(1,"app-center-dropdown",20),s.ic("onclinicSelect",function(e){return s.Lc(t),s.mc().onclinicSelect(e)}),s.Xb(),s.Xb()}2&t&&(s.Fb(1),s.tc("isCenterLabel",!1)("mode","get"))}function g(t,e){if(1&t){const t=s.Zb();s.Yb(0,"div",21),s.Yb(1,"button",22),s.ic("click",function(){return s.Lc(t),s.mc().LoadDoctorConsultStatus()}),s.Uc(2," Search "),s.Xb(),s.Xb()}}function C(t,e){if(1&t){const t=s.Zb();s.Yb(0,"button",32),s.ic("click",function(){return s.Lc(t),s.mc(2).exportToItemExcel()}),s.Xb()}}function v(t,e){if(1&t){const t=s.Zb();s.Yb(0,"div",23),s.Yb(1,"span",24),s.Uc(2),s.Xb(),s.Yb(3,"span",25),s.Sc(4,C,1,0,"button",26),s.Yb(5,"button",27),s.ic("click",function(){return s.Lc(t),s.mc().ngOnChanges()}),s.Xb(),s.Yb(6,"span",28),s.Tb(7,"i",29),s.Yb(8,"input",30,31),s.ic("input",function(e){return s.Lc(t),s.mc(),s.Ic(11).filterGlobal(e.target.value,"contains")}),s.Xb(),s.Xb(),s.Xb(),s.Xb()}if(2&t){const t=s.mc();s.Fb(2),s.Wc(" ",(null==t.lstDoctorConSultReport?null:t.lstDoctorConSultReport.length)>0?"Total Records: "+t.filteredValuesLength:""," "),s.Fb(2),s.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.Download.toString()))&&(null==t.lstDoctorConSultReport?null:t.lstDoctorConSultReport.length)>0)}}function I(t,e){1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2," No records found "),s.Xb(),s.Xb()),2&t&&(s.Fb(1),s.Gb("colspan",9))}function X(t,e){1&t&&(s.Yb(0,"colgroup"),s.Tb(1,"col",33),s.Tb(2,"col",34),s.Tb(3,"col",34),s.Tb(4,"col",35),s.Xb())}function Y(t,e){1&t&&(s.Yb(0,"tr"),s.Yb(1,"th"),s.Uc(2,"Doctor Name"),s.Xb(),s.Yb(3,"th"),s.Uc(4,"Total"),s.Xb(),s.Yb(5,"th"),s.Uc(6,"Completed"),s.Xb(),s.Yb(7,"th"),s.Uc(8,"Pending"),s.Xb(),s.Xb())}function T(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Uc(4),s.Xb(),s.Yb(5,"td"),s.Uc(6),s.Xb(),s.Yb(7,"td"),s.Uc(8),s.Xb(),s.Xb()),2&t){const t=e.$implicit;s.Fb(2),s.Vc(t.DoctorName),s.Fb(2),s.Vc(t.TotalCount),s.Fb(2),s.Vc(t.CompleteCount),s.Fb(2),s.Vc(t.PendingCount)}}const y=function(){return["DoctorName","TotalCount","CompleteCount","PendingCount"]},U=[{path:"",component:(()=>{class t extends n.a{constructor(t,e,o,c,l,n){super(),this.cdRef=t,this.router=e,this._ConstantServices=o,this._MasterServices=c,this._DoctorService=l,this._UtilityService=n,this.UserTypeCurre=localStorage.getItem("userTypeId"),this.userTypes=i.s,this.ClinicIdSelected=null,this.lstDoctorConSultReport=[],this.filteredValuesLength=0,this.totalRecord=0,this.ActionList=i.a,this.lstIAccess=[],this.lstIAccessStr=[],this.getPageLevelAccess()}getPageLevelAccess(){var t,e,o=this.getUrlWithoutParams(),c=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==c?void 0:c.find(t=>t.MenuItemURL===o))&&(this.lstIAccess=null===(t=c.find(t=>t.MenuItemURL===o))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(t=>{this.lstIAccessStr.push(t.ActionId.toString())}))}getUrlWithoutParams(){let t=this.router.parseUrl(this.router.url);return t.queryParams={},t.fragment=null,t.toString()}ngOnInit(){this._ConstantServices.ActiveMenuName="Doctor Consult Status",i.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId"),this.LoadDoctorConsultStatus())}ngOnChanges(){i.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId"),this.LoadDoctorConsultStatus())}onclinicSelect(t){this.ClinicIdSelected=t,this.LoadDoctorConsultStatus()}LoadDoctorConsultStatus(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorService.GetDoctorConsultTokenStatus(this.ClinicIdSelected).subscribe(t=>{var e;if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==t.actionResult.success){var o=JSON.parse(t.actionResult.result);this.lstDoctorConSultReport=o=o||[],this.filteredValuesLength=null===(e=this.lstDoctorConSultReport)||void 0===e?void 0:e.length,this.cdRef.detectChanges()}else this.lstDoctorConSultReport=[],this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}exportToItemExcel(){let t={reportname:"DoctorConsultStatus",filename:"DoctorConsultStatus"};t.clinicId=this.ClinicIdSelected,this._MasterServices.downloadReport(t)}onFilter(t,e){this.filteredValuesLength=t.filteredValue.length;var o=t.filteredValue.map(t=>t.RoomNumber.split(",")),c=[];o.forEach(t=>t.forEach(t=>c.push(t))),this.totalRecord=new Set(c).size}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(s.h),s.Sb(l.i),s.Sb(i.f),s.Sb(r.a),s.Sb(a.a),s.Sb(u.a))},t.\u0275cmp=s.Mb({type:t,selectors:[["app-doctor-consult-status"]],features:[s.Cb,s.Db],decls:17,vars:8,consts:[[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],["class","col col-md-1 col-12 mt-2",4,"ngIf"],["class","col col-md-3 col-12",4,"ngIf"],["class","col col-md-1",4,"ngIf"],[1,"row"],["scrollHeight","calc(100vh - 275px)","responsiveLayout","scroll",3,"value","rowHover","globalFilterFields","scrollable","onFilter"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],[1,"col","col-md-1","col-12","mt-2"],["for",""],[1,"required"],[1,"col","col-md-3","col-12"],[3,"isCenterLabel","mode","onclinicSelect"],[1,"col","col-md-1"],["type","button","matTooltip","Search",1,"btn","btn-new-primary",3,"click"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],["pButton","","title","Export Data","label"," ","class","p-button-outlined mr-2","icon","pi pi-download",3,"click",4,"ngIf"],["pButton","","matTooltip","Refresh","label"," ","icon","pi pi-refresh",1,"p-button-outlined","mr-2",3,"click"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["filtr",""],["pButton","","title","Export Data","label"," ","icon","pi pi-download",1,"p-button-outlined","mr-2",3,"click"],[2,"width","130px"],[2,"width","135px"],[2,"width","125px"]],template:function(t,e){if(1&t){const t=s.Zb();s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"div",2),s.Yb(3,"div",3),s.Yb(4,"div",4),s.Sc(5,m,5,0,"div",5),s.Sc(6,f,2,2,"div",6),s.Sc(7,g,3,0,"div",7),s.Xb(),s.Yb(8,"div",8),s.Yb(9,"div",1),s.Yb(10,"p-table",9,10),s.ic("onFilter",function(o){s.Lc(t);const c=s.Ic(11);return e.onFilter(o,c)}),s.Sc(12,v,10,2,"ng-template",11),s.Sc(13,I,3,1,"ng-template",12),s.Sc(14,X,5,0,"ng-template",13),s.Sc(15,Y,9,0,"ng-template",14),s.Sc(16,T,9,4,"ng-template",15),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()}2&t&&(s.Fb(5),s.tc("ngIf",e.UserTypeCurre===e.userTypes.SuperAdmin),s.Fb(1),s.tc("ngIf",e.UserTypeCurre===e.userTypes.SuperAdmin),s.Fb(1),s.tc("ngIf",e.UserTypeCurre===e.userTypes.SuperAdmin),s.Fb(3),s.tc("value",e.lstDoctorConSultReport)("rowHover",!0)("globalFilterFields",s.yc(7,y))("scrollable",!0))},directives:[c.p,b.c,d.i,p.a,h.b,S.a],styles:[""]}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Qb({type:t}),t.\u0275inj=s.Pb({imports:[[l.l.forChild(U)],l.l]}),t})();var D=o("3Pt+"),A=o("arFO"),L=o("T2Aj");let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Qb({type:t}),t.\u0275inj=s.Pb({imports:[[c.c,w,D.i,b.f,h.c,A.b,S.b,L.a]]}),t})()}}]);