(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{rKr6:function(e,t,i){"use strict";i.r(t),i.d(t,"DownloadReportsModule",function(){return Re});var n=i("ofXK"),o=i("tyNb"),s=i("CwUn"),l=i("Nach"),a=i("fXoL"),c=i("dcBc"),r=i("ReGW"),d=i("NLkC"),p=i("PtJb"),h=i("rEr+"),u=i("7zfz"),m=i("AAHA"),g=i("arFO"),b=i("3Pt+"),f=i("eO1q"),y=i("R0Ic"),S=i("7kUa"),v=i("jIHw"),I=i("Q4Mo"),C=i("YyRF"),D=i("t2ka");const w=["container"],R=["in"],M=["multiIn"],k=["multiContainer"],L=["ddBtn"],x=function(e,t){return{"p-autocomplete-dd-input":e,"p-disabled":t}};function E(e,t){if(1&e){const e=a.Zb();a.Yb(0,"input",7,8),a.ic("click",function(t){return a.Lc(e),a.mc().onInputClick(t)})("input",function(t){return a.Lc(e),a.mc().onInput(t)})("keydown",function(t){return a.Lc(e),a.mc().onKeydown(t)})("keyup",function(t){return a.Lc(e),a.mc().onKeyup(t)})("focus",function(t){return a.Lc(e),a.mc().onInputFocus(t)})("blur",function(t){return a.Lc(e),a.mc().onInputBlur(t)})("change",function(t){return a.Lc(e),a.mc().onInputChange(t)})("paste",function(t){return a.Lc(e),a.mc().onInputPaste(t)}),a.Xb()}if(2&e){const e=a.mc();a.Hb(e.inputStyleClass),a.tc("ngStyle",e.inputStyle)("autocomplete",e.autocomplete)("ngClass",a.Ac(23,x,e.dropdown,e.disabled))("value",e.inputFieldValue)("readonly",e.readonly)("disabled",e.disabled),a.Gb("type",e.type)("id",e.inputId)("required",e.required)("name",e.name)("aria-controls",e.listId)("aria-expanded",e.overlayVisible)("aria-activedescendant","p-highlighted-option")("autofocus",e.autofocus)("placeholder",e.placeholder)("size",e.size)("maxlength",e.maxlength)("tabindex",e.tabindex)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)}}function F(e,t){1&e&&a.Ub(0)}function T(e,t){if(1&e&&(a.Yb(0,"span",20),a.Uc(1),a.Xb()),2&e){const e=a.mc().$implicit,t=a.mc(2);a.Fb(1),a.Vc(t.resolveFieldData(e))}}function Y(e,t){if(1&e){const e=a.Zb();a.Yb(0,"span",21),a.ic("click",function(){a.Lc(e),a.mc();const t=a.Ic(1);return a.mc(2).removeItem(t)}),a.Xb()}}const P=function(e){return{$implicit:e}};function X(e,t){if(1&e&&(a.Yb(0,"li",15,16),a.Sc(2,F,1,0,"ng-container",17),a.Sc(3,T,2,1,"span",18),a.Sc(4,Y,1,0,"span",19),a.Xb()),2&e){const e=t.$implicit,i=a.mc(2);a.Fb(2),a.tc("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",a.zc(4,P,e)),a.Fb(1),a.tc("ngIf",!i.selectedItemTemplate),a.Fb(1),a.tc("ngIf",!i.disabled)}}const O=function(e,t){return{"p-disabled":e,"p-focus":t}};function U(e,t){if(1&e){const e=a.Zb();a.Yb(0,"ul",9,10),a.ic("click",function(){return a.Lc(e),a.Ic(5).focus()}),a.Sc(2,X,5,6,"li",11),a.Yb(3,"li",12),a.Yb(4,"input",13,14),a.ic("input",function(t){return a.Lc(e),a.mc().onInput(t)})("click",function(t){return a.Lc(e),a.mc().onInputClick(t)})("keydown",function(t){return a.Lc(e),a.mc().onKeydown(t)})("keyup",function(t){return a.Lc(e),a.mc().onKeyup(t)})("focus",function(t){return a.Lc(e),a.mc().onInputFocus(t)})("blur",function(t){return a.Lc(e),a.mc().onInputBlur(t)})("change",function(t){return a.Lc(e),a.mc().onInputChange(t)})("paste",function(t){return a.Lc(e),a.mc().onInputPaste(t)}),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.tc("ngClass",a.Ac(20,O,e.disabled,e.focus)),a.Fb(2),a.tc("ngForOf",e.value),a.Fb(2),a.Hb(e.inputStyleClass),a.tc("disabled",e.disabled)("readonly",e.readonly)("autocomplete",e.autocomplete)("ngStyle",e.inputStyle),a.Gb("type",e.type)("id",e.inputId)("placeholder",e.value&&e.value.length?null:e.placeholder)("tabindex",e.tabindex)("maxlength",e.maxlength)("autofocus",e.autofocus)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-controls",e.listId)("aria-expanded",e.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function N(e,t){1&e&&a.Tb(0,"i",22)}function A(e,t){if(1&e){const e=a.Zb();a.Yb(0,"button",23,24),a.ic("click",function(t){return a.Lc(e),a.mc().handleDropdownClick(t)}),a.Xb()}if(2&e){const e=a.mc();a.tc("icon",e.dropdownIcon)("disabled",e.disabled),a.Gb("tabindex",e.tabindex)}}function _(e,t){if(1&e&&(a.Yb(0,"span"),a.Uc(1),a.Xb()),2&e){const e=a.mc().$implicit,t=a.mc(2);a.Fb(1),a.Vc(t.resolveFieldData(e))}}function H(e,t){1&e&&a.Ub(0)}const B=function(e){return{"p-highlight":e}},W=function(e,t){return{$implicit:e,index:t}};function V(e,t){if(1&e){const e=a.Zb();a.Yb(0,"li",29),a.ic("click",function(){a.Lc(e);const i=t.$implicit;return a.mc(2).selectItem(i)}),a.Sc(1,_,2,1,"span",30),a.Sc(2,H,1,0,"ng-container",17),a.Xb()}if(2&e){const e=t.$implicit,i=t.index,n=a.mc(2);a.tc("ngClass",a.zc(5,B,e===n.highlightOption))("id",n.highlightOption==e?"p-highlighted-option":""),a.Fb(1),a.tc("ngIf",!n.itemTemplate),a.Fb(1),a.tc("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",a.Ac(7,W,e,i))}}function Z(e,t){if(1&e&&(a.Yb(0,"li",31),a.Uc(1),a.Xb()),2&e){const e=a.mc(2);a.Fb(1),a.Vc(e.emptyMessage)}}const j=function(){return["p-autocomplete-panel p-component"]},z=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},q=function(e){return{value:"visible",params:e}};function K(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",0,25),a.ic("@overlayAnimation.start",function(t){return a.Lc(e),a.mc().onOverlayAnimationStart(t)}),a.Yb(2,"ul",26),a.Sc(3,V,3,10,"li",27),a.Sc(4,Z,2,1,"li",28),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Hb(e.panelStyleClass),a.Rc("max-height",e.scrollHeight),a.tc("ngClass",a.yc(10,j))("ngStyle",e.panelStyle)("@overlayAnimation",a.zc(14,q,a.Ac(11,z,e.showTransitionOptions,e.hideTransitionOptions))),a.Fb(2),a.Gb("id",e.listId),a.Fb(1),a.tc("ngForOf",e.suggestions),a.Fb(1),a.tc("ngIf",e.noResults&&e.emptyMessage)}}const G=function(e,t){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":e,"p-autocomplete-multiple":t}},$={provide:b.m,useExisting:Object(a.X)(()=>J),multi:!0};let J=(()=>{class e{constructor(e,t,i,n){this.el=e,this.renderer=t,this.cd=i,this.differs=n,this.minLength=1,this.delay=300,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.completeMethod=new a.o,this.onSelect=new a.o,this.onUnselect=new a.o,this.onFocus=new a.o,this.onBlur=new a.o,this.onDropdownClick=new a.o,this.onClear=new a.o,this.onKeyUp=new a.o,this.onShow=new a.o,this.onHide=new a.o,this.scrollHeight="200px",this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.differ=n.find([]).create(null),this.listId=Object(D.b)()+"_list"}get suggestions(){return this._suggestions}set suggestions(e){this._suggestions=e,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay){let e=C.b.findSingle(this.overlay,"li.p-highlight");e&&C.b.scrollInView(this.overlay,e)}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.emptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;default:this.itemTemplate=e.template}})}writeValue(e){this.value=e,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInput(e){if(!this.inputKeyDown&&C.b.isIE())return;this.timeout&&clearTimeout(this.timeout);let t=e.target.value;this.multiple||this.forceSelection||this.onModelChange(t),0!==t.length||this.multiple||(this.hide(),this.onClear.emit(e),this.onModelChange(t)),t.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(e,t)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(e){this.documentClickListener&&(this.inputClick=!0)}search(e,t){null!=t&&(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:t}))}selectItem(e,t=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],this.isSelected(e)&&this.unique||(this.value=[...this.value,e],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.field?D.a.resolveFieldData(e,this.field)||"":e,this.value=e,this.onModelChange(this.value)),this.onSelect.emit(e),this.updateFilledState(),t&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let e=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&e&&(this.overlayVisible=!0)}}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++C.b.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(e);break;case"void":this.onOverlayHide()}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):C.b.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=C.b.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(e){return this.field?D.a.resolveFieldData(e,this.field):e}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?C.b.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):C.b.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(e){if(this.overlayVisible)this.hide();else{this.focusInput();let t=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(e,""):"current"===this.dropdownMode&&this.search(e,t),this.onDropdownClick.emit({originalEvent:e,query:t})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}removeItem(e){let t=C.b.index(e),i=this.value[t];this.value=this.value.filter((e,i)=>i!=t),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(i)}onKeydown(e){if(this.overlayVisible){let i=this.findOptionIndex(this.highlightOption);switch(e.which){case 40:if(-1!=i){var t=i+1;t!=this.suggestions.length&&(this.highlightOption=this.suggestions[t],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0];e.preventDefault();break;case 38:i>0&&(this.highlightOption=this.suggestions[i-1],this.highlightOptionChanged=!0),e.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),e.preventDefault();break;case 27:this.hide(),e.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}}else 40===e.which&&this.suggestions&&this.search(e,e.target.value);if(this.multiple)switch(e.which){case 8:if(this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const e=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(e)}}this.inputKeyDown=!0}onKeyup(e){this.onKeyUp.emit(e)}onInputFocus(e){!this.itemClicked&&this.completeOnFocus&&this.search(e,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(e),this.itemClicked=!1}onInputBlur(e){this.focus=!1,this.onModelTouched(),this.onBlur.emit(e)}onInputChange(e){if(this.forceSelection){let t=!1,i=e.target.value.trim();if(this.suggestions)for(let e of this.suggestions){let n=this.field?D.a.resolveFieldData(e,this.field):e;if(n&&i===n.trim()){t=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(e,!1)},250);break}}t||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(e),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(e){this.onKeydown(e)}isSelected(e){let t=!1;if(this.value&&this.value.length)for(let i=0;i<this.value.length;i++)if(D.a.equals(this.value[i],e,this.dataKey)){t=!0;break}return t}findOptionIndex(e){let t=-1;if(this.suggestions)for(let i=0;i<this.suggestions.length;i++)if(D.a.equals(e,this.suggestions[i])){t=i;break}return t}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let e=this.value?this.field?D.a.resolveFieldData(this.value,this.field)||"":this.value:"";this.inputFieldValue=e,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=e),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",e=>{3!==e.which&&(this.inputClick||this.isDropdownClick(e)||this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(e){if(this.dropdown){let t=e.target;return t===this.dropdownButton.nativeElement||t.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new C.a(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onHide.emit()}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide()}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(a.m),a.Sb(a.H),a.Sb(a.h),a.Sb(a.v))},e.\u0275cmp=a.Mb({type:e,selectors:[["p-autoComplete"]],contentQueries:function(e,t,i){if(1&e&&a.Lb(i,u.i,0),2&e){let e;a.Hc(e=a.jc())&&(t.templates=e)}},viewQuery:function(e,t){if(1&e&&(a.cd(w,1),a.cd(R,1),a.cd(M,1),a.cd(k,1),a.cd(L,1)),2&e){let e;a.Hc(e=a.jc())&&(t.containerEL=e.first),a.Hc(e=a.jc())&&(t.inputEL=e.first),a.Hc(e=a.jc())&&(t.multiInputEL=e.first),a.Hc(e=a.jc())&&(t.multiContainerEL=e.first),a.Hc(e=a.jc())&&(t.dropdownButton=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&a.Kb("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focus&&!t.disabled)},inputs:{minLength:"minLength",delay:"delay",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",dropdownIcon:"dropdownIcon",unique:"unique",completeOnFocus:"completeOnFocus",scrollHeight:"scrollHeight",dropdownMode:"dropdownMode",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",suggestions:"suggestions",disabled:"disabled",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",field:"field",dropdown:"dropdown",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",autofocus:"autofocus"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide"},features:[a.Eb([$])],decls:7,vars:12,consts:[[3,"ngClass","ngStyle"],["container",""],["class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class",4,"ngIf"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",1,"p-autocomplete-input","p-inputtext","p-component",3,"ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],["panel",""],["role","listbox",1,"p-autocomplete-items"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngClass","id","click",4,"ngFor","ngForOf"],["class","p-autocomplete-emptymessage p-autocomplete-item",4,"ngIf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","id","click"],[4,"ngIf"],[1,"p-autocomplete-emptymessage","p-autocomplete-item"]],template:function(e,t){1&e&&(a.Yb(0,"span",0,1),a.Sc(2,E,2,26,"input",2),a.Sc(3,U,6,23,"ul",3),a.Sc(4,N,1,0,"i",4),a.Sc(5,A,2,3,"button",5),a.Sc(6,K,5,16,"div",6),a.Xb()),2&e&&(a.Hb(t.styleClass),a.tc("ngClass",a.Ac(9,G,t.dropdown,t.multiple))("ngStyle",t.style),a.Fb(2),a.tc("ngIf",!t.multiple),a.Fb(1),a.tc("ngIf",t.multiple),a.Fb(1),a.tc("ngIf",t.loading),a.Fb(1),a.tc("ngIf",t.dropdown),a.Fb(1),a.tc("ngIf",t.overlayVisible))},directives:[n.n,n.q,n.p,n.o,n.t,v.b,I.a],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{margin-top:-.5rem;position:absolute;top:50%}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-bottom-right-radius:0;border-top-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-bottom-left-radius:0;border-top-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%}.p-autocomplete-panel{overflow:auto;position:absolute}.p-autocomplete-items{list-style-type:none;margin:0;padding:0}.p-autocomplete-item{cursor:pointer;overflow:hidden;position:relative;white-space:nowrap}.p-autocomplete-multiple-container{align-items:center;cursor:text;display:flex;flex-wrap:wrap;list-style-type:none;margin:0;overflow:hidden;padding:0}.p-autocomplete-token{align-items:center;cursor:default;display:inline-flex;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{display:inline-flex;flex:1 1 auto}.p-autocomplete-input-token input{background-color:transparent;border:0;border-radius:0;box-shadow:none;margin:0;outline:0 none;padding:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}"],encapsulation:2,data:{animation:[Object(y.m)("overlayAnimation",[Object(y.l)(":enter",[Object(y.k)({opacity:0,transform:"scaleY(0.8)"}),Object(y.e)("{{showTransitionParams}}")]),Object(y.l)(":leave",[Object(y.e)("{{hideTransitionParams}}",Object(y.k)({opacity:0}))])])]},changeDetection:0}),e})(),Q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({imports:[[n.c,S.b,v.c,u.j,I.b],u.j]}),e})();const ee=["dt"],te=["filtr"],ie=["calendar"];function ne(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",7),a.Yb(1,"div",17),a.Yb(2,"app-center-dropdown",18),a.ic("onselectedClinic",function(t){return a.Lc(e),a.mc().onselectedClinic(t)}),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(2),a.tc("ClinicIdSelected",e.ClinicIdSelected)("isCenterAll",e.isCenterAll)("mode","get")}}const oe=function(){return{width:"100%"}},se=function(){return{standalone:!0}};function le(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",19),a.Yb(1,"div",17),a.Yb(2,"label",20),a.Uc(3,"Select Year "),a.Xb(),a.Yb(4,"p-dropdown",21),a.ic("ngModelChange",function(t){return a.Lc(e),a.mc().year=t}),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(4),a.Pc(a.yc(5,oe)),a.tc("options",e.stlstYear)("ngModel",e.year)("ngModelOptions",a.yc(6,se))}}function ae(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",19),a.Yb(1,"div",17),a.Yb(2,"label",20),a.Uc(3,"Select Category "),a.Xb(),a.Yb(4,"p-dropdown",22),a.ic("ngModelChange",function(t){return a.Lc(e),a.mc().selectedItemCatg=t}),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(4),a.Pc(a.yc(5,oe)),a.tc("options",e.lstCategoryMaster)("ngModel",e.selectedItemCatg)("ngModelOptions",a.yc(6,se))}}function ce(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",19),a.Yb(1,"div",23),a.Yb(2,"label",20),a.Uc(3,"Booking Type "),a.Yb(4,"span",24),a.Uc(5,"*"),a.Xb(),a.Xb(),a.Yb(6,"p-dropdown",21),a.ic("ngModelChange",function(t){return a.Lc(e),a.mc().bookingtype=t}),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(6),a.Pc(a.yc(5,oe)),a.tc("options",e.stlstbookingtype)("ngModel",e.bookingtype)("ngModelOptions",a.yc(6,se))}}function re(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",19),a.Yb(1,"div",23),a.Yb(2,"label",20),a.Uc(3,"Booking Status"),a.Yb(4,"span",24),a.Uc(5,"*"),a.Xb(),a.Xb(),a.Yb(6,"p-dropdown",21),a.ic("ngModelChange",function(t){return a.Lc(e),a.mc().SerachStatusbooking=t}),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(6),a.Pc(a.yc(5,oe)),a.tc("options",e.stlstbookingstatus)("ngModel",e.SerachStatusbooking)("ngModelOptions",a.yc(6,se))}}function de(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",19),a.Yb(1,"div",23),a.Yb(2,"label",20),a.Uc(3,"Patient Condition"),a.Yb(4,"span",24),a.Uc(5,"*"),a.Xb(),a.Xb(),a.Yb(6,"p-dropdown",25),a.ic("ngModelChange",function(t){return a.Lc(e),a.mc().SelectedPatientCondition=t}),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(6),a.Pc(a.yc(5,oe)),a.tc("options",e.stlstpatientcondition)("ngModel",e.SelectedPatientCondition)("ngModelOptions",a.yc(6,se))}}function pe(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",7),a.Yb(1,"div",17),a.Yb(2,"label",26),a.Uc(3,"Select Date"),a.Yb(4,"span",24),a.Uc(5,"*"),a.Xb(),a.Xb(),a.Yb(6,"div"),a.Yb(7,"p-calendar",27,28),a.ic("ngModelChange",function(t){return a.Lc(e),a.mc().selectToday=t}),a.Xb(),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(7),a.wc("yearRange","",e.customDateFormat.MinYear,":",e.maxYear,""),a.tc("monthNavigator",!0)("yearNavigator",!0)("maxDate",e.today)("ngModel",e.selectToday)("ngModelOptions",a.yc(10,se))("showIcon",!0)("dateFormat",e.customDateFormat.CalendarFormat)("readonlyInput",!1)}}function he(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",19),a.Yb(1,"div",23),a.Yb(2,"label",20),a.Uc(3,"Departament "),a.Xb(),a.Yb(4,"p-dropdown",29),a.ic("ngModelChange",function(t){return a.Lc(e),a.mc().DepartmentSelected=t}),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(4),a.Pc(a.yc(5,oe)),a.tc("options",e.lstDeptItem)("ngModel",e.DepartmentSelected)("filter",!0)}}function ue(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",19),a.Yb(1,"div",23),a.Yb(2,"label",20),a.Uc(3,"Doctor "),a.Xb(),a.Yb(4,"p-dropdown",30),a.ic("ngModelChange",function(t){return a.Lc(e),a.mc().DoctorId=t}),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(4),a.Pc(a.yc(5,oe)),a.tc("options",e.lstDoctorMster)("ngModel",e.DoctorId)("filter",!0)}}function me(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",17),a.Yb(1,"label",20),a.Uc(2,"From / To"),a.Yb(3,"span",24),a.Uc(4,"*"),a.Xb(),a.Xb(),a.Yb(5,"div"),a.Yb(6,"p-calendar",31,28),a.ic("ngModelChange",function(t){return a.Lc(e),a.mc().rangeDates=t})("onSelect",function(){return a.Lc(e),a.mc().dateRangeChange()}),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(6),a.wc("yearRange","",e.customDateFormat.MinYear,":",e.maxYear,""),a.tc("monthNavigator",!0)("yearNavigator",!0)("maxDate",e.today)("ngModel",e.rangeDates)("ngModelOptions",a.yc(10,se))("showIcon",!0)("dateFormat",e.customDateFormat.CalendarFormat)("readonlyInput",!0)}}function ge(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",1),a.Yb(1,"div",17),a.Yb(2,"label",20),a.Uc(3,"Select Disease"),a.Yb(4,"span",24),a.Uc(5,"*"),a.Xb(),a.Xb(),a.Yb(6,"div"),a.Yb(7,"p-autoComplete",32),a.ic("ngModelChange",function(t){return a.Lc(e),a.mc().selectedDisease=t})("completeMethod",function(t){return a.Lc(e),a.mc().SearchDiseaseMaster(t)}),a.Xb(),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(7),a.tc("ngModel",e.selectedDisease)("suggestions",e.results)("minLength",3)("forceSelection",!0)("multiple",!0)}}function be(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",33),a.Yb(1,"span",34),a.Uc(2),a.Xb(),a.Yb(3,"span",35),a.Yb(4,"span",36),a.Tb(5,"i",37),a.Yb(6,"input",38,39),a.ic("input",function(t){return a.Lc(e),a.mc(),a.Ic(20).filterGlobal(t.target.value,"contains")}),a.Xb(),a.Xb(),a.Xb(),a.Xb()}if(2&e){const e=a.mc();a.Fb(2),a.Wc(" ",(null==e.reportList?null:e.reportList.length)>0?"Total Records: "+e.filteredValuesLength:""," ")}}function fe(e,t){if(1&e&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2," No records found "),a.Xb(),a.Xb()),2&e){const e=t.$implicit;a.Fb(1),a.Gb("colspan",null==e?null:e.length)}}function ye(e,t){1&e&&(a.Yb(0,"tr"),a.Yb(1,"th"),a.Uc(2,"S.No"),a.Xb(),a.Yb(3,"th"),a.Uc(4,"Report Name"),a.Xb(),a.Yb(5,"th"),a.Uc(6,"Action"),a.Xb(),a.Xb())}function Se(e,t){if(1&e){const e=a.Zb();a.Yb(0,"button",42),a.ic("click",function(t){a.Lc(e);const i=a.mc().$implicit,n=a.mc();return t.stopPropagation(),n.DownloadReport(i.filename)}),a.Xb()}}function ve(e,t){if(1&e){const e=a.Zb();a.Yb(0,"tr",40),a.ic("click",function(){a.Lc(e);const i=t.$implicit,n=t.rowIndex;return a.mc().onRowSelect(i,n)}),a.Yb(1,"td"),a.Uc(2),a.Xb(),a.Yb(3,"td"),a.Uc(4),a.Xb(),a.Yb(5,"td"),a.Sc(6,Se,1,0,"button",41),a.Xb(),a.Xb()}if(2&e){const e=t.$implicit,i=t.rowIndex;a.Fb(1),a.Hb(e.isSelected?"SelectedRowClass":""),a.Fb(1),a.Vc(i+1),a.Fb(1),a.Hb(e.isSelected?"SelectedRowClass":""),a.Fb(1),a.Vc(e.displayfilename),a.Fb(1),a.Hb(e.isSelected?"SelectedRowClass":""),a.Fb(1),a.tc("ngIf",e.isSelected)}}const Ie=function(){return["displayfilename"]},Ce=[{path:"",component:(()=>{class e extends s.a{constructor(e,t,i,n,o,s,a){super(),this._MasterServices=e,this._DoctorServices=t,this.cdRef=i,this._ConstantServices=n,this._UtilityService=o,this._ReportService=s,this.datepipe=a,this.UserTypeCurre=localStorage.getItem("userTypeId"),this.userTypes=l.s,this.clinicType=null,this.ClinicIdSelected=null,this.today=new Date,this.rangeDates=[],this.maxYear=(new Date).getFullYear(),this.customDateFormat=l.h,this.filteredValuesLength=0,this.reportList=[],this.selectedReport=[],this.stlstYear=[],this.selectedReportName=null,this.selectedItemCatg="Treatment",this.lstCategoryMaster=[],this.Isdisabled=!1,this.bookingtype=null,this.bookingStatus=l.d,this.SerachStatusbooking=6,this.SelectedPatientCondition="CP",this.stlstpatientcondition=[],this.results=[],this.lstDoctorMster=[],this.DoctorId="",this.isCenterAll=!1,this.domainName=null,this.lstDeptItem=[],this.DepartmentSelected=null,this._ConstantServices.ActiveMenuName="Download Reports",this.stlstbookingtype=JSON.parse(localStorage.getItem("IsChikitsalaya"))?[{name:"OPD",code:"OPD"}]:[{name:"IPD",code:"IPD"},{name:"OPD",code:"OPD"}],this.stlstbookingstatus=[{name:this.bookingStatus[this.bookingStatus.Admitted],code:this.bookingStatus.Admitted},{name:this.bookingStatus[this.bookingStatus.Discharged],code:this.bookingStatus.Discharged}],this.stlstpatientcondition=[{PatientCondition:"All",PatientConditionCode:"All"},{PatientCondition:"Critical Patient",PatientConditionCode:"CP"},{PatientCondition:"Wheel Chair Patient",PatientConditionCode:"WCP"},{PatientCondition:"Need Assistance",PatientConditionCode:"NA"},{PatientCondition:"Detoxification",PatientConditionCode:"DETOX"}];for(var c=2022,r=(new Date).getFullYear()+2;r>=c;)this.stlstYear.push({name:c,code:c}),c+=1;this.year=(new Date).getFullYear(),this.maxYear=this.today.getFullYear()}ngOnInit(){l.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId")),this.GetItemCatgMaster(),this.selectToday=new Date,this.rangeDates=[new Date,new Date],this.GetDownloadReportMaster(),this.LoadAllDepartmentItem()}dateRangeChange(){this.rangeDates[0]&&this.rangeDates[1]&&void 0!==this.calendar&&(this.calendar.overlayVisible=!1)}onselectedClinic(e){this.ClinicIdSelected=e.ClinicId,this.domainName=e.DomainName,"DoctorConsultationPatientDetailsReport"===this.selectedReportName&&null!=this.ClinicIdSelected&&null!=this.ClinicIdSelected&&""!=this.ClinicIdSelected&&this.LoadAllDoctorListByClinic()}GetItemCatgMaster(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetItemCatgMaster().subscribe(e=>{if(this._UtilityService.hideSpinner(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.lstCategoryMaster=t=t||[],this.cdRef.detectChanges()}else this.lstCategoryMaster=[],this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}GetDownloadReportMaster(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._ReportService.GetDownloadReportMaster(!0,localStorage.getItem("userId")).subscribe(e=>{var t;if(this._UtilityService.hideSpinner(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);this.reportList=i=i||[],void 0!==this.filtr&&(this.filtr.nativeElement.value="",this.dataTable.reset(),this.filteredValuesLength=null===(t=this.reportList)||void 0===t?void 0:t.length),this.cdRef.detectChanges()}else this.reportList=[],this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}DownloadReport(e){var t;if(this.selectedReport=this.reportList.filter(t=>t.filename==e),this.selectedReportName=this.selectedReport[0].reportname,"BookingAgainstRegistration"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.bookingType="IPD",e.year=this.year,this.exportToItemExcel(e)}else if("ExportDomainWiseItemPrice"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.DomainName=""===this.ClinicIdSelected?"0":this.domainName,e.Category=this.selectedItemCatg,e.year=this.year,this.exportToItemExcel(e)}else if("ExportPatientPrescriptionReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");if(!this.dateRangeValidation(this.rangeDates[0],this.rangeDates[1],30))return void this._UtilityService.showWarningAlert("Date range should be maximum 30 days");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),e.bookingType="IPD",this.exportToItemExcel(e)}else if("ExportPatientDietMedicineReportByDate"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.dFrom=this.datepipe.transform(this.selectToday,"yyyy-MM-dd"),e.Category=this.SelectedPatientCondition,e.bookingType="IPD",this.exportToItemExcel(e)}else if("ExportPatientPathologyReportByDate"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),e.bookingType=this.bookingtype,this.exportToItemExcel(e)}else if("ExportTreatmentListByType"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.bookingType=this.bookingtype,this.exportToItemExcel(e)}else if("ExportMembershipReportByDate"==this.selectedReport[0].reportname){let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),this.exportToItemExcel(e)}else if("ExportPatientConditionReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected||"0"==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),e.bookingStatus=this.SerachStatusbooking,e.Category=this.SelectedPatientCondition,this.exportToItemExcel(e)}else if("ExportMyReferredPatients"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.userTypeId=this.UserTypeCurre,e.clinicId=this.ClinicIdSelected,e.doctorId=1==JSON.parse(localStorage.getItem("IsChikitsalaya"))?localStorage.getItem("userId"):null,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),this.exportToItemExcel(e)}else if("ExportDiseaseWiseReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");if(0==this.selectedDisease.length)return void this._UtilityService.showWarningAlert("Please Select Disease");for(var i=[],n=0;n<(null===(t=this.selectedDisease)||void 0===t?void 0:t.length);n++)i.push({id:this.selectedDisease[n].DiseaseId});let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.bookingType=this.bookingtype,e.bookingStatus=this.SerachStatusbooking,e.lstCommonId=i,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),this.exportToItemExcel(e)}else if("DoctorConsultationPatientDetailsReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected||"0"==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");l.s.Doctor===localStorage.getItem("userTypeId")&&(this.DoctorId=localStorage.getItem("userId"));let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.doctorId=this.DoctorId,e.dFrom=new Date(this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd")),e.dTo=new Date(this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd")),this._MasterServices.downloadReport(e)}else if("ExportReferToDentistReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected||"0"==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),this.exportToItemExcel(e)}else if("DepartmentWiseItemReport"==this.selectedReport[0].reportname){if(null==this.ClinicIdSelected||null==this.ClinicIdSelected||""==this.ClinicIdSelected||"0"==this.ClinicIdSelected)return void this._UtilityService.showWarningAlert("Please select center");let e={};e.reportname=this.selectedReport[0].reportname,e.filename=this.selectedReport[0].filename,e.clinicId=this.ClinicIdSelected,e.Category=this.DepartmentSelected,e.dFrom=this.datepipe.transform(this.rangeDates[0],"yyyy-MM-dd"),e.dTo=this.datepipe.transform(this.rangeDates[1],"yyyy-MM-dd"),this.exportToItemExcel(e)}}onRowSelect(e,t){this.today=new Date,this.selectToday=new Date,this.rangeDates=[new Date,new Date],this.isCenterAll=!1,this.reportList.map(e=>{e.isSelected=!1}),this.reportList[t].isSelected=!0,this.selectedReportName=e.reportname,this.selectedDisease=[],"ExportPatientPrescriptionReport"!=this.selectedReportName&&"ExportPatientDietMedicineReportByDate"!=this.selectedReportName||(this.today=new Date,this.today.setMonth(this.today.getMonth()+1)),this.stlstbookingstatus="ExportDiseaseWiseReport"===this.selectedReportName?[{name:"All",code:0},{name:this.bookingStatus[this.bookingStatus.Admitted],code:this.bookingStatus.Admitted},{name:this.bookingStatus[this.bookingStatus.Discharged],code:this.bookingStatus.Discharged}]:[{name:this.bookingStatus[this.bookingStatus.Admitted],code:this.bookingStatus.Admitted},{name:this.bookingStatus[this.bookingStatus.Discharged],code:this.bookingStatus.Discharged}],"ExportDomainWiseItemPrice"===this.selectedReportName?(this.isCenterAll=!0,this.ClinicIdSelected=""):"ExportPatientPathologyReportByDate"===this.selectedReportName||"ExportTreatmentListByType"===this.selectedReportName||"ExportDiseaseWiseReport"===this.selectedReportName?this.bookingtype="IPD":"DoctorConsultationPatientDetailsReport"===this.selectedReportName?null!=this.ClinicIdSelected&&null!=this.ClinicIdSelected&&""!=this.ClinicIdSelected&&this.LoadAllDoctorListByClinic():this.ClinicIdSelected=l.s.SuperAdmin!==localStorage.getItem("userTypeId")?localStorage.getItem("ClinicId"):null,this.cdRef.detectChanges()}SearchDiseaseMaster(e){this.unsubscribe.add=this._MasterServices.SearchDiseaseMaster(e.query).subscribe(e=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.results=t=t||[],this.cdRef.detectChanges()}else this.results=[]})}LoadAllDoctorListByClinic(){this._UtilityService.showSpinner(),this._DoctorServices.GetDoctorListByClinicId(this.ClinicIdSelected).subscribe(e=>{if(this._UtilityService.hideSpinner(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.lstDoctorMster=t=t||[],this.lstDoctorMster.unshift({UserId:"",FullName:"All"}),this.DoctorId="",this.cdRef.detectChanges()}else this.lstDoctorMster=[],this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}LoadAllDepartmentItem(){this.lstDeptItem=[],this._UtilityService.showSpinner(),this._MasterServices.GetDepartmentMasterItem().subscribe(e=>{if(this._UtilityService.hideSpinner(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);this.lstDeptItem=t=t||[],this.cdRef.detectChanges()}else this.lstDeptItem=[],this.cdRef.detectChanges()},e=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(e.message)})}onFilter(e,t){this.filteredValuesLength=e.filteredValue.length}exportToItemExcel(e={}){this._MasterServices.downloadReport(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(c.a),a.Sb(r.a),a.Sb(a.h),a.Sb(l.f),a.Sb(d.a),a.Sb(p.a),a.Sb(n.f))},e.\u0275cmp=a.Mb({type:e,selectors:[["app-download-reports"]],viewQuery:function(e,t){if(1&e&&(a.cd(ee,1),a.cd(te,1),a.cd(ie,1)),2&e){let e;a.Hc(e=a.jc())&&(t.dataTable=e.first),a.Hc(e=a.jc())&&(t.filtr=e.first),a.Hc(e=a.jc())&&(t.calendar=e.first)}},features:[a.Cb],decls:25,vars:16,consts:[[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2","m-0"],["class","col-md-3",4,"ngIf"],["class","col-md-2",4,"ngIf"],[1,"col-md-3"],["class","form-group",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"row"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","calc(100vh - 165px)",3,"value","rowHover","globalFilterFields","scrollable","onFilter"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],[1,"form-group"],[3,"ClinicIdSelected","isCenterAll","mode","onselectedClinic"],[1,"col-md-2"],["for",""],["optionLabel","name","optionValue","code",3,"options","ngModel","ngModelOptions","ngModelChange"],["optionLabel","CategoryName","optionValue","CategoryName",3,"options","ngModel","ngModelOptions","ngModelChange"],[1,"form-group","mb-0"],[1,"required"],["optionLabel","PatientCondition","optionValue","PatientConditionCode",3,"options","ngModel","ngModelOptions","ngModelChange"],[1,"mr-2"],["inputId","icon",3,"monthNavigator","yearNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["calendar",""],["name","ddllstDeptItem","appendTo","body","optionLabel","Department","optionValue","Department","placeholder","Select Depertment",3,"options","ngModel","filter","ngModelChange"],["name","ddlDoctorList","appendTo","body","optionLabel","FullName","optionValue","UserId","placeholder","Select Doctor",3,"options","ngModel","filter","ngModelChange"],["selectionMode","range","inputId","icon","name","rangeDates",3,"monthNavigator","yearNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onSelect"],["appendTo","body","field","DiseaseName",3,"ngModel","suggestions","minLength","forceSelection","multiple","ngModelChange","completeMethod"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["filtr",""],[3,"click"],["pButton","","matTooltip","Export Report","label"," ","class"," mr-2","icon","pi pi-download",3,"click",4,"ngIf"],["pButton","","matTooltip","Export Report","label"," ","icon","pi pi-download",1,"mr-2",3,"click"]],template:function(e,t){if(1&e){const e=a.Zb();a.Yb(0,"div",0),a.Yb(1,"div",1),a.Yb(2,"div",2),a.Yb(3,"div",3),a.Yb(4,"div",4),a.Sc(5,ne,3,3,"div",5),a.Sc(6,le,5,7,"div",6),a.Sc(7,ae,5,7,"div",6),a.Sc(8,ce,7,7,"div",6),a.Sc(9,re,7,7,"div",6),a.Sc(10,de,7,7,"div",6),a.Sc(11,pe,9,11,"div",5),a.Sc(12,he,5,6,"div",6),a.Sc(13,ue,5,6,"div",6),a.Yb(14,"div",7),a.Sc(15,me,8,11,"div",8),a.Xb(),a.Sc(16,ge,8,5,"div",9),a.Xb(),a.Yb(17,"div",10),a.Yb(18,"div",1),a.Yb(19,"p-table",11,12),a.ic("onFilter",function(i){a.Lc(e);const n=a.Ic(20);return t.onFilter(i,n)}),a.Sc(21,be,8,1,"ng-template",13),a.Sc(22,fe,3,1,"ng-template",14),a.Sc(23,ye,7,0,"ng-template",15),a.Sc(24,ve,7,12,"ng-template",16),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb()}2&e&&(a.Fb(5),a.tc("ngIf",t.UserTypeCurre===t.userTypes.SuperAdmin||"ExportDomainWiseItemPrice"===t.selectedReportName),a.Fb(1),a.tc("ngIf","BookingAgainstRegistration"===t.selectedReportName),a.Fb(1),a.tc("ngIf","ExportDomainWiseItemPrice"===t.selectedReportName),a.Fb(1),a.tc("ngIf","ExportPatientPathologyReportByDate"===t.selectedReportName||"ExportTreatmentListByType"===t.selectedReportName||"ExportDiseaseWiseReport"===t.selectedReportName),a.Fb(1),a.tc("ngIf",("ExportPatientConditionReport"===t.selectedReportName||"ExportDiseaseWiseReport"===t.selectedReportName)&&"IPD"==t.bookingtype),a.Fb(1),a.tc("ngIf","ExportPatientConditionReport"===t.selectedReportName||"ExportPatientDietMedicineReportByDate"===t.selectedReportName),a.Fb(1),a.tc("ngIf","ExportPatientDietMedicineReportByDate"===t.selectedReportName),a.Fb(1),a.tc("ngIf","DepartmentWiseItemReport"===t.selectedReportName),a.Fb(1),a.tc("ngIf",t.UserTypeCurre!=t.userTypes.Doctor&&"DoctorConsultationPatientDetailsReport"===t.selectedReportName),a.Fb(2),a.tc("ngIf","ExportPatientPrescriptionReport"===t.selectedReportName||"ExportPatientPathologyReportByDate"===t.selectedReportName||"ExportMembershipReportByDate"===t.selectedReportName||"ExportPatientConditionReport"===t.selectedReportName||"ExportMyReferredPatients"===t.selectedReportName||"ExportDiseaseWiseReport"===t.selectedReportName||"DoctorConsultationPatientDetailsReport"===t.selectedReportName||"ExportReferToDentistReport"===t.selectedReportName||"DepartmentWiseItemReport"===t.selectedReportName),a.Fb(1),a.tc("ngIf","ExportDiseaseWiseReport"===t.selectedReportName),a.Fb(3),a.tc("value",t.reportList)("rowHover",!0)("globalFilterFields",a.yc(15,Ie))("scrollable",!0))},directives:[n.p,h.c,u.i,m.a,g.a,b.o,b.r,f.a,J,S.a,v.b],styles:[".SelectedRowClass[_ngcontent-%COMP%]{background-color:#d3d3d3;color:#000;font-weight:700}"]}),e})()}];let De=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({imports:[[o.l.forChild(Ce)],o.l]}),e})();var we=i("T2Aj");let Re=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Qb({type:e}),e.\u0275inj=a.Pb({imports:[[n.c,De,b.i,h.f,v.c,g.b,S.b,f.b,Q,we.a]]}),e})()}}]);