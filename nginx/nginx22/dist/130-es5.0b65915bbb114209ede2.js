!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,o=c(t);if(e){var l=c(this).constructor;n=Reflect.construct(o,arguments,l)}else n=o.apply(this,arguments);return r(this,n)}}function r(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{VCvj:function(r,c,l){"use strict";l.r(c),l.d(c,"RegistrationReportModule",function(){return j});var i=l("ofXK"),a=l("tyNb"),u=l("CwUn"),b=l("Nach"),s=l("fXoL"),p=l("dcBc"),d=l("PtJb"),f=l("NLkC"),h=l("arFO"),m=l("3Pt+"),g=l("rEr+"),M=l("7zfz"),v=l("AAHA"),Y=l("jIHw");function X(t,e){if(1&t){var n=s.Zb();s.Yb(0,"div",6),s.Yb(1,"app-center-dropdown",20),s.ic("onclinicSelect",function(t){return s.Lc(n),s.mc().onclinicSelect(t)}),s.Xb(),s.Xb()}2&t&&(s.Fb(1),s.tc("mode","get"))}function R(t,e){if(1&t){var n=s.Zb();s.Yb(0,"button",25),s.ic("click",function(){return s.Lc(n),s.mc(2).exportToItemExcel()}),s.Xb()}}function U(t,e){if(1&t&&(s.Yb(0,"div",21),s.Yb(1,"span",22),s.Uc(2),s.Xb(),s.Yb(3,"span",23),s.Sc(4,R,1,0,"button",24),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(2),s.Wc(" ",(null==n.lstReport?null:n.lstReport.length)>0?"Total Records: "+n.filteredValuesLength:""," "),s.Fb(2),s.tc("ngIf",(null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.Download.toString()))&&(null==n.lstReport?null:n.lstReport.length)>0)}}function y(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2," No records found "),s.Xb(),s.Xb()),2&t){var n=e.$implicit;s.Fb(1),s.Gb("colspan",null==n?null:n.length)}}function S(t,e){1&t&&(s.Yb(0,"colgroup"),s.Tb(1,"col",26),s.Tb(2,"col",27),s.Tb(3,"col",27),s.Tb(4,"col",27),s.Tb(5,"col",27),s.Tb(6,"col",27),s.Tb(7,"col",27),s.Tb(8,"col",27),s.Tb(9,"col",27),s.Tb(10,"col",27),s.Tb(11,"col",27),s.Tb(12,"col",27),s.Tb(13,"col",27),s.Xb())}function w(t,e){1&t&&(s.Yb(0,"tr"),s.Yb(1,"th"),s.Uc(2,"Date"),s.Xb(),s.Yb(3,"th"),s.Uc(4,"Jan"),s.Xb(),s.Yb(5,"th"),s.Uc(6,"Feb"),s.Xb(),s.Yb(7,"th"),s.Uc(8,"March"),s.Xb(),s.Yb(9,"th"),s.Uc(10,"April"),s.Xb(),s.Yb(11,"th"),s.Uc(12,"May"),s.Xb(),s.Yb(13,"th"),s.Uc(14,"June"),s.Xb(),s.Yb(15,"th"),s.Uc(16,"July"),s.Xb(),s.Yb(17,"th"),s.Uc(18,"Aug"),s.Xb(),s.Yb(19,"th"),s.Uc(20,"Sep"),s.Xb(),s.Yb(21,"th"),s.Uc(22,"Oct"),s.Xb(),s.Yb(23,"th"),s.Uc(24,"Nov"),s.Xb(),s.Yb(25,"th"),s.Uc(26,"Dec"),s.Xb(),s.Xb())}function F(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Uc(4),s.Xb(),s.Yb(5,"td"),s.Uc(6),s.Xb(),s.Yb(7,"td"),s.Uc(8),s.Xb(),s.Yb(9,"td"),s.Uc(10),s.Xb(),s.Yb(11,"td"),s.Uc(12),s.Xb(),s.Yb(13,"td"),s.Uc(14),s.Xb(),s.Yb(15,"td"),s.Uc(16),s.Xb(),s.Yb(17,"td"),s.Uc(18),s.Xb(),s.Yb(19,"td"),s.Uc(20),s.Xb(),s.Yb(21,"td"),s.Uc(22),s.Xb(),s.Yb(23,"td"),s.Uc(24),s.Xb(),s.Yb(25,"td"),s.Uc(26),s.Xb(),s.Xb()),2&t){var n=e.$implicit;s.Fb(2),s.Vc(n.DateVal),s.Fb(2),s.Vc(n.Month1),s.Fb(2),s.Vc(n.Month2),s.Fb(2),s.Vc(n.Month3),s.Fb(2),s.Vc(n.Month4),s.Fb(2),s.Vc(n.Month5),s.Fb(2),s.Vc(n.Month6),s.Fb(2),s.Vc(n.Month7),s.Fb(2),s.Vc(n.Month8),s.Fb(2),s.Vc(n.Month9),s.Fb(2),s.Vc(n.Month10),s.Fb(2),s.Vc(n.Month11),s.Fb(2),s.Vc(n.Month12)}}function I(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Uc(4),s.Xb(),s.Yb(5,"td"),s.Uc(6),s.Xb(),s.Yb(7,"td"),s.Uc(8),s.Xb(),s.Yb(9,"td"),s.Uc(10),s.Xb(),s.Yb(11,"td"),s.Uc(12),s.Xb(),s.Yb(13,"td"),s.Uc(14),s.Xb(),s.Yb(15,"td"),s.Uc(16),s.Xb(),s.Yb(17,"td"),s.Uc(18),s.Xb(),s.Yb(19,"td"),s.Uc(20),s.Xb(),s.Yb(21,"td"),s.Uc(22),s.Xb(),s.Yb(23,"td"),s.Uc(24),s.Xb(),s.Yb(25,"td"),s.Uc(26),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(2),s.Wc("Total \xa0 ",(null==n.lstReport?null:n.lstReport.length)>0?"("+n.totalYearCount+")":"",""),s.Fb(2),s.Vc(n.totalMonth1),s.Fb(2),s.Vc(n.totalMonth2),s.Fb(2),s.Vc(n.totalMonth3),s.Fb(2),s.Vc(n.totalMonth4),s.Fb(2),s.Vc(n.totalMonth5),s.Fb(2),s.Vc(n.totalMonth6),s.Fb(2),s.Vc(n.totalMonth7),s.Fb(2),s.Vc(n.totalMonth8),s.Fb(2),s.Vc(n.totalMonth9),s.Fb(2),s.Vc(n.totalMonth10),s.Fb(2),s.Vc(n.totalMonth11),s.Fb(2),s.Vc(n.totalMonth12)}}var T,V,A,C=function(){return{width:"100%"}},L=function(){return{standalone:!0}},_=[{path:"",component:(T=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(u,r);var c,l,i,a=o(u);function u(e,n,o,r,c,l){var i;t(this,u),(i=a.call(this)).cdRef=e,i.router=n,i._ConstantServices=o,i._MasterServices=r,i._ReportServices=c,i._UtilityService=l,i.stlstYear=[],i.UserTypeCurre=localStorage.getItem("userTypeId"),i.ClinicIdSelected=null,i.userTypes=b.s,i.filteredValuesLength=0,i.totalYearCount=0,i.ActionList=b.a,i.lstIAccess=[],i.lstIAccessStr=[],i._ConstantServices.ActiveMenuName="Registration Report";for(var s=2022,p=(new Date).getFullYear();p>=s;)i.stlstYear.push({name:s,code:s}),s+=1;return i.year=(new Date).getFullYear(),i.getPageLevelAccess(),i}return c=u,(l=[{key:"getPageLevelAccess",value:function(){var t,e,n=this,o=this.getUrlWithoutParams(),r=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==r?void 0:r.find(function(t){return t.MenuItemURL===o}))&&(this.lstIAccess=null===(t=r.find(function(t){return t.MenuItemURL===o}))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(function(t){n.lstIAccessStr.push(t.ActionId.toString())}))}},{key:"getUrlWithoutParams",value:function(){var t=this.router.parseUrl(this.router.url);return t.queryParams={},t.fragment=null,t.toString()}},{key:"ngOnInit",value:function(){b.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId"),this.LoadRegistrationReport())}},{key:"onclinicSelect",value:function(t){this.ClinicIdSelected=t,this.LoadRegistrationReport()}},{key:"LoadRegistrationReport",value:function(){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._ReportServices.GetRegistrationReport(this.ClinicIdSelected,this.year).subscribe(function(e){var n;if(t._UtilityService.hideSpinner(),1==e.actionResult.success){var o=JSON.parse(e.actionResult.result);t.lstReport=o=o||[],t.totalMonth1=t.lstReport.map(function(t){return t.Month1}).reduce(function(t,e){return t+e}),t.totalMonth2=t.lstReport.map(function(t){return t.Month2}).reduce(function(t,e){return t+e}),t.totalMonth3=t.lstReport.map(function(t){return t.Month3}).reduce(function(t,e){return t+e}),t.totalMonth4=t.lstReport.map(function(t){return t.Month4}).reduce(function(t,e){return t+e}),t.totalMonth5=t.lstReport.map(function(t){return t.Month5}).reduce(function(t,e){return t+e}),t.totalMonth6=t.lstReport.map(function(t){return t.Month6}).reduce(function(t,e){return t+e}),t.totalMonth7=t.lstReport.map(function(t){return t.Month7}).reduce(function(t,e){return t+e}),t.totalMonth8=t.lstReport.map(function(t){return t.Month8}).reduce(function(t,e){return t+e}),t.totalMonth9=t.lstReport.map(function(t){return t.Month9}).reduce(function(t,e){return t+e}),t.totalMonth10=t.lstReport.map(function(t){return t.Month10}).reduce(function(t,e){return t+e}),t.totalMonth11=t.lstReport.map(function(t){return t.Month11}).reduce(function(t,e){return t+e}),t.totalMonth12=t.lstReport.map(function(t){return t.Month12}).reduce(function(t,e){return t+e}),t.totalYearCount=t.lstReport.map(function(t){return t.TotalMonth}).reduce(function(t,e){return t+e}),t.filteredValuesLength=null===(n=t.lstReport)||void 0===n?void 0:n.length,t.cdRef.detectChanges()}else t.lstReport=[],t.totalMonth1=0,t.totalMonth2=0,t.totalMonth3=0,t.totalMonth4=0,t.totalMonth5=0,t.totalMonth6=0,t.totalMonth7=0,t.totalMonth8=0,t.totalMonth9=0,t.totalMonth10=0,t.totalMonth11=0,t.totalMonth12=0,t.cdRef.detectChanges()},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"exportToItemExcel",value:function(){var t={reportname:"RegistrationReport",filename:"RegistrationReport"};t.clinicId=this.ClinicIdSelected,t.bookingStatus=this.year,this._MasterServices.downloadReport(t)}}])&&e(c.prototype,l),i&&e(c,i),u}(u.a),T.\u0275fac=function(t){return new(t||T)(s.Sb(s.h),s.Sb(a.i),s.Sb(b.f),s.Sb(p.a),s.Sb(d.a),s.Sb(f.a))},T.\u0275cmp=s.Mb({type:T,selectors:[["app-registration-report"]],features:[s.Cb],decls:23,vars:11,consts:[[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],["class","col-md-3",4,"ngIf"],[1,"col-md-3"],[1,"form-group"],["for",""],[1,"required"],["optionLabel","name","optionValue","code",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],[1,"row"],["scrollHeight","calc(100vh - 250px)","responsiveLayout","scroll",3,"value","rowHover","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[3,"mode","onclinicSelect"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],["pButton","","title","Export Data","label"," ","class","p-button-outlined mr-2","icon","pi pi-download",3,"click",4,"ngIf"],["pButton","","title","Export Data","label"," ","icon","pi pi-download",1,"p-button-outlined","mr-2",3,"click"],[2,"width","140px"],[2,"width","100px"]],template:function(t,e){1&t&&(s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"div",2),s.Yb(3,"div",3),s.Yb(4,"div",4),s.Sc(5,X,2,1,"div",5),s.Yb(6,"div",6),s.Yb(7,"div",7),s.Yb(8,"label",8),s.Uc(9,"Select Year "),s.Yb(10,"span",9),s.Uc(11,"*"),s.Xb(),s.Xb(),s.Yb(12,"p-dropdown",10),s.ic("ngModelChange",function(t){return e.year=t})("onChange",function(){return e.LoadRegistrationReport()}),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(13,"div",11),s.Yb(14,"div",1),s.Yb(15,"p-table",12,13),s.Sc(17,U,5,2,"ng-template",14),s.Sc(18,y,3,1,"ng-template",15),s.Sc(19,S,14,0,"ng-template",16),s.Sc(20,w,27,0,"ng-template",17),s.Sc(21,F,27,13,"ng-template",18),s.Sc(22,I,27,13,"ng-template",19),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t&&(s.Fb(5),s.tc("ngIf",e.UserTypeCurre===e.userTypes.SuperAdmin),s.Fb(7),s.Pc(s.yc(9,C)),s.tc("options",e.stlstYear)("ngModel",e.year)("ngModelOptions",s.yc(10,L)),s.Fb(3),s.tc("value",e.lstReport)("rowHover",!0)("scrollable",!0))},directives:[i.p,h.a,m.o,m.r,g.c,M.i,v.a,Y.b],styles:[""]}),T)}],O=((V=function e(){t(this,e)}).\u0275fac=function(t){return new(t||V)},V.\u0275mod=s.Qb({type:V}),V.\u0275inj=s.Pb({imports:[[a.l.forChild(_)],a.l]}),V),P=l("7kUa"),k=l("T2Aj"),j=((A=function e(){t(this,e)}).\u0275fac=function(t){return new(t||A)},A.\u0275mod=s.Qb({type:A}),A.\u0275inj=s.Pb({imports:[[i.c,O,m.i,g.f,Y.c,h.b,P.b,k.a]]}),A)}}])}();