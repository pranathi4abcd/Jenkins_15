(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"7LiV":function(t,e,i){"use strict";i.d(e,"a",function(){return D}),i.d(e,"b",function(){return C}),i.d(e,"c",function(){return k});var o=i("fXoL"),s=i("R0Ic"),n=i("ofXK"),r=i("7zfz");function a(t,e){if(1&t&&(o.Yb(0,"span",9),o.Uc(1),o.Xb()),2&t){const t=o.mc();o.Fb(1),o.Wc(" ",t.header," ")}}function c(t,e){1&t&&o.Ub(0)}function l(t,e){1&t&&o.rc(0,1,["*ngIf","hasHeaderFacet"])}function d(t,e){1&t&&o.Ub(0)}function h(t,e){if(1&t&&(o.Wb(0),o.Sc(1,d,1,0,"ng-container",5),o.Vb()),2&t){const t=o.mc();o.Fb(1),o.tc("ngTemplateOutlet",t.contentTemplate)}}const b=["*",[["p-header"]]],u=function(t){return{"p-accordion-tab-active":t}},g=function(t,e){return{"p-highlight":t,"p-disabled":e}},m=function(t){return{transitionParams:t}},p=function(t){return{value:"visible",params:t}},f=function(t){return{value:"hidden",params:t}},S=["*","p-header"],I=["*"];let y=0,k=(()=>{class t{constructor(t,e){this.changeDetector=e,this.cache=!0,this.selectedChange=new o.o,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+y++,this.accordion=t}get selected(){return this._selected}set selected(t){this._selected=t,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.markForCheck())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;default:this.contentTemplate=t.template}})}toggle(t){if(this.disabled)return!1;let e=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:t,index:e});else{if(!this.accordion.multiple)for(var i=0;i<this.accordion.tabs.length;i++)this.accordion.tabs[i].selected=!1,this.accordion.tabs[i].selectedChange.emit(!1),this.accordion.tabs[i].changeDetector.markForCheck();this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:t,index:e})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),t.preventDefault()}findTabIndex(){let t=-1;for(var e=0;e<this.accordion.tabs.length;e++)if(this.accordion.tabs[e]==this){t=e;break}return t}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(t){32!==t.which&&13!==t.which||(this.toggle(t),t.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(Object(o.X)(()=>D)),o.Sb(o.h))},t.\u0275cmp=o.Mb({type:t,selectors:[["p-accordionTab"]],contentQueries:function(t,e,i){if(1&t&&(o.Lb(i,r.f,0),o.Lb(i,r.i,0)),2&t){let t;o.Hc(t=o.jc())&&(e.headerFacet=t),o.Hc(t=o.jc())&&(e.templates=t)}},inputs:{cache:"cache",transitionOptions:"transitionOptions",selected:"selected",header:"header",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:S,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(t,e){1&t&&(o.sc(b),o.Yb(0,"div",0),o.Yb(1,"div",1),o.Yb(2,"a",2),o.ic("click",function(t){return e.toggle(t)})("keydown",function(t){return e.onKeydown(t)}),o.Tb(3,"span",3),o.Sc(4,a,2,1,"span",4),o.Sc(5,c,1,0,"ng-container",5),o.Sc(6,l,1,0,"ng-content",6),o.Xb(),o.Xb(),o.Yb(7,"div",7),o.Yb(8,"div",8),o.rc(9),o.Sc(10,h,2,1,"ng-container",6),o.Xb(),o.Xb(),o.Xb()),2&t&&(o.tc("ngClass",o.zc(15,u,e.selected)),o.Fb(1),o.tc("ngClass",o.Ac(17,g,e.selected,e.disabled)),o.Fb(1),o.Gb("tabindex",e.disabled?null:0)("id",e.id)("aria-controls",e.id+"-content")("aria-expanded",e.selected),o.Fb(1),o.tc("ngClass",e.selected?e.accordion.collapseIcon:e.accordion.expandIcon),o.Fb(1),o.tc("ngIf",!e.hasHeaderFacet),o.Fb(1),o.tc("ngTemplateOutlet",e.headerTemplate),o.Fb(1),o.tc("ngIf",e.hasHeaderFacet),o.Fb(1),o.tc("@tabContent",e.selected?o.zc(22,p,o.zc(20,m,e.transitionOptions)):o.zc(26,f,o.zc(24,m,e.transitionOptions))),o.Gb("id",e.id+"-content")("aria-hidden",!e.selected)("aria-labelledby",e.id),o.Fb(3),o.tc("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected)))},directives:[n.n,n.p,n.t],styles:[".p-accordion-header-link{-ms-user-select:none;-webkit-user-select:none;align-items:center;cursor:pointer;display:flex;position:relative;text-decoration:none;user-select:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}"],encapsulation:2,data:{animation:[Object(s.m)("tabContent",[Object(s.j)("hidden",Object(s.k)({height:"0",overflow:"hidden"})),Object(s.j)("visible",Object(s.k)({height:"*"})),Object(s.l)("visible <=> hidden",[Object(s.k)({overflow:"hidden"}),Object(s.e)("{{transitionParams}}")]),Object(s.l)("void => *",Object(s.e)(0))])]},changeDetection:0}),t})(),D=(()=>{class t{constructor(t,e){this.el=t,this.changeDetector=e,this.onClose=new o.o,this.onOpen=new o.o,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new o.o,this.tabs=[]}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(t=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let t=0;t<this.tabs.length;t++){let e=this.multiple?this._activeIndex.includes(t):t===this._activeIndex;e!==this.tabs[t].selected&&(this.tabs[t].selected=e,this.tabs[t].selectedChange.emit(e),this.tabs[t].changeDetector.markForCheck())}}updateActiveIndex(){let t=this.multiple?[]:null;this.tabs.forEach((e,i)=>{if(e.selected){if(!this.multiple)return void(t=i);t.push(i)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(t)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(o.m),o.Sb(o.h))},t.\u0275cmp=o.Mb({type:t,selectors:[["p-accordion"]],contentQueries:function(t,e,i){if(1&t&&o.Lb(i,k,0),2&t){let t;o.Hc(t=o.jc())&&(e.tabList=t)}},inputs:{expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex",multiple:"multiple",style:"style",styleClass:"styleClass"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:I,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(t,e){1&t&&(o.sc(),o.Yb(0,"div",0),o.rc(1),o.Xb()),2&t&&(o.Hb(e.styleClass),o.tc("ngClass","p-accordion p-component")("ngStyle",e.style))},directives:[n.n,n.q],encapsulation:2,changeDetection:0}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Qb({type:t}),t.\u0275inj=o.Pb({imports:[[n.c],r.j]}),t})()},IRX0:function(t,e,i){"use strict";i.r(e),i.d(e,"DoctorDashboardModule",function(){return M});var o=i("ofXK"),s=i("tyNb"),n=i("q2h3"),r=i("fXoL");const a=[{path:"",component:n.a}];let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({imports:[[s.l.forChild(a)],s.l]}),t})();var l=i("3Pt+"),d=i("rEr+"),h=i("jIHw"),b=i("arFO"),u=i("7kUa"),g=i("7LiV"),m=i("dPl2"),p=i("zioG"),f=i("Ji6n"),S=i("g9iH"),I=i("eO1q"),y=i("LuMj"),k=i("B16f"),D=i("/RsI"),C=i("V/Gj"),P=i("Jg0Z"),v=i("Ql+Z"),w=i("X/Io"),F=i("305l"),B=i("Om0Y");let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({imports:[[o.c,c,l.i,d.f,h.c,b.b,u.b,f.b,g.b,m.c,p.b,S.b,I.b,y.b,k.b,D.b,C.a,P.a,v.a,w.a,F.AuthModule,B.a]]}),t})()},"X/Io":function(t,e,i){"use strict";i.d(e,"a",function(){return g});var o=i("ofXK"),s=i("tyNb"),n=i("x5zU"),r=i("fXoL");const a=[{path:"",component:n.a}];let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({imports:[[s.l.forChild(a)],s.l]}),t})();var l=i("3Pt+"),d=i("rEr+"),h=i("jIHw"),b=i("/RsI"),u=i("vcJ/");let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Qb({type:t}),t.\u0275inj=r.Pb({imports:[[o.c,c,l.i,d.f,h.c,b.b,u.a]]}),t})()},q2h3:function(t,e,i){"use strict";i.d(e,"a",function(){return Ft});var o=i("dLU1"),s=i("Nach"),n=i("CwUn"),r=i("fXoL"),a=i("ofXK"),c=i("tyNb"),l=i("dcBc"),d=i("ReGW"),h=i("eRWq"),b=i("NLkC"),u=i("7zfz"),g=i("/RsI"),m=i("arFO"),p=i("3Pt+"),f=i("eO1q"),S=i("dPl2"),I=i("rEr+"),y=i("LuMj"),k=i("jIHw"),D=i("B16f"),C=i("9oqr"),P=i("Ty8P"),v=i("mcUO"),w=i("x5zU"),F=i("58k3"),B=i("Bj//");const M=["dt"],T=["filtr"];function X(t,e){1&t&&r.Ub(0)}function R(t,e){1&t&&r.Ub(0)}function Y(t,e){if(1&t){const t=r.Zb();r.Yb(0,"div",23),r.Yb(1,"div",24),r.Yb(2,"div",25),r.Yb(3,"div",26),r.Yb(4,"div",27),r.Yb(5,"div",28),r.Yb(6,"div",25),r.Yb(7,"p-tabView",29),r.ic("activeIndexChange",function(e){return r.Lc(t),r.mc().selectedTab=e})("onChange",function(e){return r.Lc(t),r.mc().tabClick(e)}),r.Yb(8,"p-tabPanel",30),r.Sc(9,X,1,0,"ng-container",31),r.Xb(),r.Yb(10,"p-tabPanel",32),r.Sc(11,R,1,0,"ng-container",31),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb(),r.Xb()}if(2&t){const t=r.mc(),e=r.Ic(2);r.Fb(7),r.tc("activeIndex",t.selectedTab),r.Fb(2),r.tc("ngTemplateOutlet",e),r.Fb(2),r.tc("ngTemplateOutlet",e)}}function U(t,e){1&t&&(r.Yb(0,"div",46),r.Yb(1,"label",47),r.Uc(2,"Booking Type "),r.Yb(3,"span",16),r.Uc(4,"*"),r.Xb(),r.Xb(),r.Xb())}const L=function(){return{width:"100%"}},N=function(){return{standalone:!0}};function A(t,e){if(1&t){const t=r.Zb();r.Yb(0,"p-dropdown",50),r.ic("ngModelChange",function(e){return r.Lc(t),r.mc(4).bookingtype=e})("onChange",function(){return r.Lc(t),r.mc(4).OnChangeBookingType()}),r.Xb()}if(2&t){const t=r.mc(4);r.Pc(r.yc(5,L)),r.tc("options",t.stlstbookingtype)("ngModel",t.bookingtype)("ngModelOptions",r.yc(6,N))}}function O(t,e){if(1&t&&(r.Yb(0,"div",46),r.Yb(1,"div",48),r.Sc(2,A,1,7,"p-dropdown",49),r.Xb(),r.Xb()),2&t){const t=r.mc(3);r.Fb(2),r.tc("ngIf","BOTH"==(null==t.clinicType?null:t.clinicType.toUpperCase()))}}function x(t,e){if(1&t){const t=r.Zb();r.Yb(0,"div",52),r.Yb(1,"p-radioButton",53),r.ic("ngModelChange",function(e){return r.Lc(t),r.mc(4).IsAllGrouped=e})("onClick",function(){return r.Lc(t),r.mc(4).ListPatientsByDoctor(0,10)}),r.Xb(),r.Yb(2,"label",54),r.Uc(3,"All"),r.Xb(),r.Yb(4,"p-radioButton",53),r.ic("ngModelChange",function(e){return r.Lc(t),r.mc(4).IsAllGrouped=e})("onClick",function(){return r.Lc(t),r.mc(4).ListPatientsByDoctor(0,10)}),r.Xb(),r.Yb(5,"label",54),r.Uc(6,"Individual"),r.Xb(),r.Yb(7,"p-radioButton",53),r.ic("ngModelChange",function(e){return r.Lc(t),r.mc(4).IsAllGrouped=e})("onClick",function(){return r.Lc(t),r.mc(4).ListPatientsByDoctor(0,10)}),r.Xb(),r.Yb(8,"label",55),r.Uc(9,"Grouping"),r.Xb(),r.Xb()}if(2&t){const t=r.mc(4);r.Fb(1),r.tc("value",0)("ngModel",t.IsAllGrouped),r.Fb(3),r.tc("value",1)("ngModel",t.IsAllGrouped),r.Fb(3),r.tc("value",2)("ngModel",t.IsAllGrouped)}}function V(t,e){if(1&t&&(r.Yb(0,"div",46),r.Sc(1,x,10,6,"div",51),r.Xb()),2&t){const t=r.mc(3);r.Fb(1),r.tc("ngIf","IPD"==t.bookingtype)}}function _(t,e){if(1&t&&(r.Yb(0,"div",56),r.Yb(1,"div",57),r.Yb(2,"div",27),r.Yb(3,"div",14),r.Yb(4,"label",15),r.Uc(5,"Completed: "),r.Xb(),r.Xb(),r.Yb(6,"div",17),r.Uc(7),r.Xb(),r.Xb(),r.Xb(),r.Xb()),2&t){const t=r.mc(3);r.Fb(7),r.Wc(" ",t.todayCompletedCons," ")}}function H(t,e){if(1&t&&(r.Yb(0,"div",39),r.Tb(1,"span",40),r.Xb(),r.Yb(2,"div",41),r.Yb(3,"div",42),r.Yb(4,"span",43),r.Uc(5),r.Xb(),r.Xb(),r.Sc(6,U,5,0,"div",44),r.Sc(7,O,3,1,"div",44),r.Sc(8,V,2,1,"div",44),r.Sc(9,_,8,1,"div",45),r.Xb()),2&t){const t=r.mc(2);r.Fb(5),r.Wc(" ",(null==t.list?null:t.list.length)>0?"Total Records: "+t.TotalRecords:""," "),r.Fb(1),r.tc("ngIf","BOTH"==(null==t.clinicType?null:t.clinicType.toUpperCase())),r.Fb(1),r.tc("ngIf","BOTH"==(null==t.clinicType?null:t.clinicType.toUpperCase())),r.Fb(1),r.tc("ngIf","BOTH"==(null==t.clinicType?null:t.clinicType.toUpperCase())||"IPD"==t.bookingtype),r.Fb(1),r.tc("ngIf",t.todayCompletedCons>0)}}function z(t,e){1&t&&(r.Yb(0,"tr"),r.Yb(1,"td"),r.Uc(2," No records found "),r.Xb(),r.Xb()),2&t&&(r.Fb(1),r.Gb("colspan",10))}function E(t,e){1&t&&r.Tb(0,"col",62)}function G(t,e){1&t&&r.Tb(0,"col",69)}function j(t,e){1&t&&r.Tb(0,"col",70)}function W(t,e){if(1&t&&(r.Yb(0,"colgroup"),r.Tb(1,"col",58),r.Tb(2,"col",59),r.Tb(3,"col",60),r.Tb(4,"col",61),r.Tb(5,"col",62),r.Tb(6,"col",62),r.Sc(7,E,1,0,"col",63),r.Tb(8,"col",64),r.Sc(9,G,1,0,"col",65),r.Sc(10,j,1,0,"col",66),r.Tb(11,"col",67),r.Tb(12,"col",67),r.Tb(13,"col",68),r.Xb()),2&t){const t=r.mc(2);r.Fb(7),r.tc("ngIf","IPD"===t.bookingtype),r.Fb(2),r.tc("ngIf","IPD"===t.bookingtype),r.Fb(1),r.tc("ngIf",t.IsAllDoctor)}}function Z(t,e){1&t&&(r.Yb(0,"th"),r.Uc(1,"Dis. Date"),r.Xb())}function q(t,e){1&t&&(r.Yb(0,"th"),r.Uc(1,"Cond."),r.Xb())}function J(t,e){1&t&&(r.Yb(0,"th"),r.Uc(1,"Dr."),r.Xb())}function $(t,e){if(1&t){const t=r.Zb();r.Yb(0,"th"),r.Yb(1,"div",77),r.Yb(2,"p-calendar",82,79),r.ic("ngModelChange",function(e){return r.Lc(t),r.mc(3).SerachPeriodToDate=e})("onClose",function(){return r.Lc(t),r.mc(3).ListPatientsByDoctor(0,10)})("onSelect",function(){return r.Lc(t),r.mc(3).ListPatientsByDoctor(0,10)}),r.Xb(),r.Xb(),r.Xb()}if(2&t){const t=r.mc(3);r.Fb(2),r.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),r.tc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.SerachPeriodToDate)("disabled",0==t.SerachStatusbooking)("ngModelOptions",r.yc(10,N))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!1)}}function Q(t,e){if(1&t&&(r.Yb(0,"option",83),r.Uc(1),r.Xb()),2&t){const t=e.$implicit;r.tc("ngValue",t.code),r.Fb(1),r.Vc(t.name)}}function K(t,e){1&t&&r.Tb(0,"th")}function tt(t,e){1&t&&r.Tb(0,"th")}function et(t,e){if(1&t){const t=r.Zb();r.Yb(0,"tr"),r.Yb(1,"th"),r.Uc(2,"Actions"),r.Xb(),r.Yb(3,"th"),r.Uc(4,"Booking No"),r.Xb(),r.Yb(5,"th"),r.Uc(6,"Patient Name"),r.Xb(),r.Yb(7,"th"),r.Uc(8,"MR NO"),r.Xb(),r.Yb(9,"th"),r.Uc(10,"Contact No"),r.Xb(),r.Yb(11,"th"),r.Uc(12),r.Xb(),r.Sc(13,Z,2,0,"th",4),r.Yb(14,"th"),r.Uc(15,"Status"),r.Xb(),r.Sc(16,q,2,0,"th",4),r.Sc(17,J,2,0,"th",4),r.Yb(18,"th"),r.Uc(19,"Refer to Dentist"),r.Xb(),r.Yb(20,"th"),r.Uc(21,"Refer to Physio"),r.Xb(),r.Yb(22,"th"),r.Uc(23,"Token"),r.Xb(),r.Xb(),r.Yb(24,"tr"),r.Yb(25,"th"),r.Yb(26,"button",71),r.ic("click",function(){return r.Lc(t),r.mc(2).ClearFilter()}),r.Xb(),r.Xb(),r.Yb(27,"th"),r.Yb(28,"input",72),r.ic("ngModelChange",function(e){return r.Lc(t),r.mc(2).SearchBookingNumber=e})("change",function(){return r.Lc(t),r.mc(2).ListPatientsByDoctor(0,10)}),r.Xb(),r.Yb(29,"span",73),r.ic("click",function(){return r.Lc(t),r.mc(2).ListPatientsByDoctor(0,10)}),r.Uc(30," filter_alt "),r.Xb(),r.Xb(),r.Yb(31,"th"),r.Yb(32,"input",74),r.ic("ngModelChange",function(e){return r.Lc(t),r.mc(2).SearchFirstName=e})("change",function(){return r.Lc(t),r.mc(2).ListPatientsByDoctor(0,10)}),r.Xb(),r.Yb(33,"span",73),r.ic("click",function(){return r.Lc(t),r.mc(2).ListPatientsByDoctor(0,10)}),r.Uc(34," filter_alt "),r.Xb(),r.Xb(),r.Yb(35,"th"),r.Yb(36,"input",75),r.ic("ngModelChange",function(e){return r.Lc(t),r.mc(2).SearchMRNo=e})("change",function(){return r.Lc(t),r.mc(2).ListPatientsByDoctor(0,10)}),r.Xb(),r.Yb(37,"span",73),r.ic("click",function(){return r.Lc(t),r.mc(2).ListPatientsByDoctor(0,10)}),r.Uc(38," filter_alt "),r.Xb(),r.Xb(),r.Yb(39,"th"),r.Yb(40,"input",76),r.ic("ngModelChange",function(e){return r.Lc(t),r.mc(2).SearchContactNumber=e})("change",function(){return r.Lc(t),r.mc(2).ListPatientsByDoctor(0,10)}),r.Xb(),r.Yb(41,"span",73),r.ic("click",function(){return r.Lc(t),r.mc(2).ListPatientsByDoctor(0,10)}),r.Uc(42," filter_alt "),r.Xb(),r.Xb(),r.Yb(43,"th"),r.Yb(44,"div",77),r.Yb(45,"p-calendar",78,79),r.ic("ngModelChange",function(e){return r.Lc(t),r.mc(2).SerachPeriodFromDate=e})("onClose",function(){return r.Lc(t),r.mc(2).ListPatientsByDoctor(0,10)})("onSelect",function(){return r.Lc(t),r.mc(2).ListPatientsByDoctor(0,10)}),r.Xb(),r.Xb(),r.Xb(),r.Sc(48,$,5,11,"th",4),r.Yb(49,"th"),r.Yb(50,"select",80),r.ic("ngModelChange",function(e){return r.Lc(t),r.mc(2).SerachStatusbooking=e})("change",function(){return r.Lc(t),r.mc(2).ListPatientsByDoctor(0,10)}),r.Sc(51,Q,2,2,"option",81),r.Xb(),r.Xb(),r.Sc(52,K,1,0,"th",4),r.Sc(53,tt,1,0,"th",4),r.Tb(54,"th"),r.Tb(55,"th"),r.Tb(56,"th"),r.Xb()}if(2&t){const t=r.mc(2);r.Fb(12),r.Wc("","IPD"===t.bookingtype?"Adm. Date":"Booking For"," "),r.Fb(1),r.tc("ngIf","IPD"===t.bookingtype),r.Fb(3),r.tc("ngIf","IPD"===t.bookingtype),r.Fb(1),r.tc("ngIf",t.IsAllDoctor),r.Fb(11),r.tc("ngModel",t.SearchBookingNumber),r.Fb(1),r.Hb(null==t.SearchBookingNumber||null==t.SearchBookingNumber||""==t.SearchBookingNumber?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),r.Fb(3),r.tc("ngModel",t.SearchFirstName),r.Fb(1),r.Hb(null==t.SearchFirstName||null==t.SearchFirstName||""==t.SearchFirstName?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),r.Fb(3),r.tc("ngModel",t.SearchMRNo),r.Fb(1),r.Hb(null==t.SearchMRNo||null==t.SearchMRNo||""==t.SearchMRNo?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),r.Fb(3),r.tc("ngModel",t.SearchContactNumber),r.Fb(1),r.Hb(null==t.SearchContactNumber||null==t.SearchContactNumber||""==t.SearchContactNumber?"material-icons Columnfilter":"material-icons ColumnfilterIconColorDefult"),r.Fb(4),r.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),r.tc("monthNavigator",!0)("yearNavigator",!0)("ngModel",t.SerachPeriodFromDate)("disabled",0==t.SerachStatusbooking)("ngModelOptions",r.yc(35,N))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!1),r.Fb(3),r.tc("ngIf","IPD"===t.bookingtype),r.Fb(2),r.tc("ngModel",t.SerachStatusbooking),r.Fb(1),r.tc("ngForOf",t.stColbookingstatus),r.Fb(1),r.tc("ngIf","IPD"===t.bookingtype),r.Fb(1),r.tc("ngIf",t.IsAllDoctor)}}function it(t,e){if(1&t&&(r.Yb(0,"tr"),r.Yb(1,"td",89),r.Yb(2,"span"),r.Uc(3),r.Xb(),r.Xb(),r.Xb()),2&t){const t=r.mc().$implicit,e=r.mc(2);r.Fb(1),r.tc("colSpan",0==e.IsAllDoctor?"12":"13"),r.Fb(2),r.Vc(t.GroupNumber)}}function ot(t,e){if(1&t){const t=r.Zb();r.Yb(0,"a",90),r.ic("click",function(e){r.Lc(t);const i=r.mc().$implicit,o=r.Ic(5);return r.mc(2).toggleTieredMenu(o,e,i.SlotBookingId)}),r.Tb(1,"i",91),r.Xb()}}function st(t,e){if(1&t&&(r.Yb(0,"td"),r.Uc(1),r.nc(2,"date"),r.nc(3,"date"),r.Xb()),2&t){const t=r.mc().$implicit,e=r.mc(2);r.Fb(1),r.Vc("0001"==r.pc(2,1,t.PeriodUpto,"yyyy")?"":r.qc(3,4,t.PeriodUpto,e.customDateFormat.DEF_DATE,e.customDateFormat.DEF_TIMEZONE))}}function nt(t,e){if(1&t&&(r.Yb(0,"td"),r.Uc(1),r.Xb()),2&t){const t=r.mc().$implicit;r.Fb(1),r.Vc(t.PatientConditionCode)}}function rt(t,e){if(1&t&&(r.Yb(0,"td"),r.Uc(1),r.Xb()),2&t){const t=r.mc().$implicit;r.Fb(1),r.Vc(t.DoctorName)}}const at=function(t,e){return{color:t,"font-weight":e}},ct=function(t){return{"font-weight":t}};function lt(t,e){if(1&t&&(r.Sc(0,it,4,2,"tr",4),r.Yb(1,"tr"),r.Yb(2,"td"),r.Sc(3,ot,2,0,"a",84),r.Tb(4,"p-tieredMenu",85,86),r.Xb(),r.Yb(6,"td"),r.Yb(7,"span",87),r.Uc(8),r.Xb(),r.Xb(),r.Yb(9,"td"),r.Yb(10,"span",87),r.Uc(11),r.Xb(),r.Xb(),r.Yb(12,"td"),r.Uc(13),r.Xb(),r.Yb(14,"td"),r.Uc(15),r.Xb(),r.Yb(16,"td"),r.Uc(17),r.nc(18,"date"),r.nc(19,"date"),r.Xb(),r.Sc(20,st,4,8,"td",4),r.Yb(21,"td"),r.Yb(22,"span"),r.Uc(23),r.Xb(),r.Xb(),r.Sc(24,nt,2,1,"td",4),r.Sc(25,rt,2,1,"td",4),r.Yb(26,"td"),r.Uc(27),r.Xb(),r.Yb(28,"td"),r.Uc(29),r.Xb(),r.Yb(30,"td",88),r.Uc(31),r.Xb(),r.Xb()),2&t){const t=e.$implicit,i=e.rowIndex,o=r.mc(2);r.tc("ngIf","IPD"===o.bookingtype&&o.rowGroupMetadata[t.GroupNumber].index==i),r.Fb(3),r.tc("ngIf",!("OPD"==t.BookingType&&t.BookingStatus==o.bookingStatus[o.bookingStatus.Booked])),r.Fb(1),r.tc("model",o.items)("popup",!0),r.Fb(3),r.tc("ngStyle",r.Ac(28,at,t.IsCGHS?"green":"#495057",t.IsCGHS?"bold":"normal")),r.Fb(1),r.Vc(t.BookingNumber),r.Fb(2),r.tc("ngStyle",r.zc(31,ct,t.IsGrouphead?"bold":"normal")),r.Fb(1),r.Vc(t.PaitentName),r.Fb(2),r.Vc(t.MRNo),r.Fb(2),r.Vc(t.ContactNumber),r.Fb(2),r.Vc("0001"==r.pc(18,21,t.PeriodFrom,"yyyy")?"":r.qc(19,24,t.PeriodFrom,o.customDateFormat.DEF_DATE,o.customDateFormat.DEF_TIMEZONE)),r.Fb(3),r.tc("ngIf","IPD"===o.bookingtype),r.Fb(2),r.Hb(t.BookingStatus),r.Fb(1),r.Vc(t.BookingStatus),r.Fb(1),r.tc("ngIf","IPD"===o.bookingtype),r.Fb(1),r.tc("ngIf",o.IsAllDoctor),r.Fb(2),r.Vc(1==t.IsDentalTreatment?"Yes":""),r.Fb(2),r.Vc(1==t.IsPhysioTreatment?"Yes":""),r.Fb(2),r.Vc(t.TokenNumber)}}const dt=function(){return["GroupNumber","BookingNumber","BookingType","PaitentName","MRNo","ContactNumber","DoctorName"]};function ht(t,e){if(1&t){const t=r.Zb();r.Yb(0,"p-table",33,34),r.ic("onLazyLoad",function(e){return r.Lc(t),r.mc().loadPatientList(e)})("onFilter",function(e){r.Lc(t);const i=r.Ic(1);return r.mc().onFilter(e,i)})("firstChange",function(e){return r.Lc(t),r.mc().first=e}),r.Sc(2,H,10,5,"ng-template",35),r.Sc(3,z,3,1,"ng-template",36),r.Sc(4,W,14,3,"ng-template",37),r.Sc(5,et,57,36,"ng-template",3),r.Sc(6,lt,32,33,"ng-template",38),r.Xb()}if(2&t){const t=r.mc();r.tc("value",t.list)("lazy",!0)("rowHover",!0)("lazyLoadOnInit",!1)("globalFilterFields",r.yc(10,dt))("scrollable",!0)("paginator",!0)("rows",10)("totalRecords",t.TotalRecords)("first",t.first)}}function bt(t,e){if(1&t&&(r.Yb(0,"h3"),r.Uc(1),r.Xb()),2&t){const t=r.mc();r.Fb(1),r.Vc(t.HeaderName)}}function ut(t,e){if(1&t){const t=r.Zb();r.Yb(0,"div"),r.Yb(1,"app-file-upload",92),r.ic("FileSuccess",function(e){return r.Lc(t),r.mc().FileSuccessUpload(e)}),r.Xb(),r.Xb()}if(2&t){const t=r.mc();r.Fb(1),r.tc("FormType",t.FormType)("SlotBookingId",t.SlotBookingIdSelectedId)}}function gt(t,e){if(1&t&&(r.Yb(0,"h3"),r.Uc(1),r.Xb()),2&t){const t=r.mc();r.Fb(1),r.Vc(t.HeaderName)}}function mt(t,e){if(1&t&&(r.Yb(0,"div"),r.Tb(1,"app-file-download",93),r.Xb()),2&t){const t=r.mc();r.Fb(1),r.tc("FormType",t.FormType)("SlotBookingId",t.SlotBookingIdSelectedId)}}function pt(t,e){if(1&t){const t=r.Zb();r.Yb(0,"div"),r.Yb(1,"app-allot-doctor",94),r.ic("AllotSuccess",function(e){return r.Lc(t),r.mc().AllotSuccess(e)}),r.Xb(),r.Xb()}if(2&t){const t=r.mc();r.Fb(1),r.tc("slotBookingId",t.SlotBookingIdSelectedId)("clinicId",t.ClinicIdSelected)("dentistId",t.dentistId)("physioId",t.physioId)}}function ft(t,e){if(1&t&&(r.Yb(0,"h5"),r.Uc(1),r.Xb()),2&t){const t=r.mc();r.Fb(1),r.Wc("Visit History - Total Visits ",t.totalVisitPrescriptionCount,"")}}function St(t,e){if(1&t){const t=r.Zb();r.Yb(0,"div"),r.Yb(1,"app-patient-all-prescription-history",95),r.ic("TotalVisitPrescriptionCount",function(e){return r.Lc(t),r.mc().VisitPrescriptionCount(e)}),r.Xb(),r.Xb()}if(2&t){const t=r.mc();r.Fb(1),r.tc("PatientId",t.selectedPatientId)}}function It(t,e){if(1&t){const t=r.Zb();r.Yb(0,"button",96),r.ic("click",function(){return r.Lc(t),r.mc().hidePrescriptionHistory()}),r.Uc(1," Close "),r.Xb()}}function yt(t,e){if(1&t){const t=r.Zb();r.Yb(0,"a",97),r.ic("click",function(){return r.Lc(t),r.mc().CloseModal()}),r.Tb(1,"i",98),r.Xb()}}function kt(t,e){if(1&t&&(r.Yb(0,"div",27),r.Tb(1,"app-registration",99),r.Xb()),2&t){const t=r.mc();r.Fb(1),r.tc("RegistrationMainModel",t.RegistrationMainModel)("InputType",t.InputType)("IsValidDate",t.isValidDate)}}function Dt(t,e){if(1&t&&(r.Yb(0,"div"),r.Tb(1,"app-prescription-save-details",100),r.Xb()),2&t){const t=r.mc();r.Fb(1),r.tc("slotBookingId",t.SlotBookingIdSelectedId)}}function Ct(t,e){1&t&&(r.Yb(0,"h5"),r.Uc(1,"Referr To Wellness Center"),r.Xb())}function Pt(t,e){if(1&t){const t=r.Zb();r.Yb(0,"button",101),r.ic("click",function(){return r.Lc(t),r.mc().SubmitReferred()}),r.Xb(),r.Yb(1,"button",102),r.ic("click",function(){return r.Lc(t),r.mc().CloseRefferWellness()}),r.Xb()}}const vt=function(){return{width:"70vw"}},wt=function(){return{width:"90vw"}};let Ft=(()=>{class t extends n.a{constructor(t,e,i,n,r,a,c,l,d){var h,b;super(),this.cdRef=t,this.datepipe=e,this.route=i,this._ConstantsService=n,this._MasterServices=r,this._DoctorServices=a,this._RegistrationServices=c,this._UtilityService=l,this.confirmationService=d,this.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,this.bookingStatus=s.d,this.customDateFormat=s.h,this.userTypes=s.s,this.OtherActionList=s.n,this.userTypeId=localStorage.getItem("userTypeId"),this.ClinicIdSelected=localStorage.getItem("ClinicId"),this.list=[],this.statusbooking=0,this.IsGrouped=!1,this.IsAllGrouped=0,this.tag="",this.dFrom=null,this.dTo=null,this.MaxYear=(new Date).getFullYear()+2,this.searchtxt=null,this.IsAllDoctor=!0,this.selectedTab=0,this.filteredValuesLength=0,this.loading=!1,this.SearchBookingNumber=null,this.SearchFirstName=null,this.SearchLastName=null,this.SearchMRNo=null,this.SearchContactNumber=null,this.SerachStatusbooking=0,this.first=0,this.SlotBookingIdSelectedId=null,this.todayCompletedCons=0,this.todayPendingCons=0,this.mode=null,this.InputType=3,this.isValidDate=!0,this.RegistrationMainModel={},this.ShowAttachedFormModel=!1,this.ShowDownloadFormModel=!1,this.FormType=0,this.HeaderName=null,this.departmentId=localStorage.getItem("departmentId"),this.IsDentist=!1,this.dentistId=null,this.IsPhysio=!1,this.physioId=null,this.totalVisitPrescriptionCount=0,this.showModalPrescriptionHistory=!1,this.selectedPatientId=null,this.showReferrWellnessCenterModel=!1,this.lstClinicReffered=[],this.ReferNewPtContact=null,this.IsDisabledContact=!1,this.today=new Date,this.ShowAllotDoctorModel=!1,this.ShowPrescriptionSaveModel=!1,this.lstUserAuthorizationOtherAction=[],this.clinicType=null===(h=this.lsobjClinicMaster)||void 0===h?void 0:h.ClinicType,this.bookingtype="BOTH"==(null===(b=this.clinicType)||void 0===b?void 0:b.toUpperCase())?"IPD":this.clinicType,this.DoctorId=localStorage.getItem("userId"),this.stlstbookingtype=[{name:"IPD",code:"IPD"},{name:"OPD",code:"OPD"}],this.dFrom=this.datepipe.transform(new Date,"yyyy-MM-dd"),this.dTo=this.datepipe.transform(Object(o.a)(new Date,1),"yyyy-MM-dd"),this.SerachPeriodFromDate=new Date(this.dFrom),this.SerachPeriodToDate=new Date(this.dTo),this._ConstantsService.ActiveMenuName="Patient List",this.dentalDepartmentId=this._ConstantsService.DentalDepartmentId,this.physioDepartmentId=this._ConstantsService.PhysioDepartmentId;var u=new Array,g=localStorage.getItem("UserAuthorizationOtherAction");"null"!=g&&"undefined"!=g&&(u=g.split(",").map(Number),this.lstUserAuthorizationOtherAction=u)}ngOnInit(){this.unsubscribe.add=this.route.queryParams.subscribe(t=>{"OPD"!=t.tag&&"IPD"!=t.tag||(this.tag=t.tag)}),null!=this.tag&&""!=this.tag&&null!=this.tag&&(this.bookingtype=this.tag),null!=localStorage.getItem("DRBookingType")&&(this.bookingtype=localStorage.getItem("DRBookingType")),this.IsDentist=!1,this.IsPhysio=!1,this.dentalDepartmentId==this.departmentId?this.IsDentist=!0:this.physioDepartmentId==this.departmentId&&(this.IsPhysio=!0),this.BookingStatus(),this.LoadClinicList(),this.cdRef.detectChanges()}ngOnChanges(){null!=this.statusbooking&&null!=this.statusbooking||(this.statusbooking=0),this.ListPatientsByDoctor(0,10)}tabClick(t){0==t.index&&(this.IsAllDoctor=!0),1==t.index&&(this.IsAllDoctor=!1),void 0!==this.filtr&&(this.filtr.nativeElement.value=""),this.ListPatientsByDoctor(0,10)}toggleTieredMenu(t,e,i){var o;this.items=[],this.filteritems=[],this.filteritems=this.list.filter(t=>t.SlotBookingId==i),1!=this.filteritems[0].IsPrint||"IPD"!==this.bookingtype&&"OPD"!==this.bookingtype||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]||(this.items=[...this.items,{label:"Allot Doctor",icon:"pi pi-user-edit",command:()=>{this.IsDentist?this.AllotDoctor(this.filteritems[0].SlotBookingId,this.filteritems[0].DentalDoctorId):this.IsPhysio?this.AllotDoctor(this.filteritems[0].SlotBookingId,this.filteritems[0].PhysioDoctorId):this.AllotDoctor(this.filteritems[0].SlotBookingId)}}]),1==this.filteritems[0].IsValid&&1==this.filteritems[0].IsPrint&&("OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]||"IPD"==this.filteritems[0].BookingType&&(this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Discharged]))&&(this.items=[...this.items,{label:"Add Prescription",icon:"pi pi-file-o",command:()=>{this.ShowPatientDetails(this.filteritems[0].UserId,i,this.filteritems[0].BookingType)}}]),this.IsPhysio||this.IsDentist||1!=this.filteritems[0].IsValid||1!=this.filteritems[0].IsPrint||"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[...this.items,{label:"Add Discharge Summary",icon:"pi pi-id-card",command:()=>{this.ShowPatientDetails(this.filteritems[0].UserId,i,"IDS")}}]),this.IsPhysio||this.IsDentist||1!=this.filteritems[0].IsPrint||("OPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed])&&("IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged])||(this.items=[...this.items,{label:"View Prescription",icon:"pi pi-print",command:()=>{this.PrintPrescription(this.filteritems[0].UserId,this.filteritems[0].SlotBookingId,this.filteritems[0].BookingType)}},{label:"View OPD Prescription",icon:"pi pi-print",command:()=>{this.PrintPrescription(this.filteritems[0].UserId,this.filteritems[0].SlotBookingId,"OPDIPD")}}]),this.IsPhysio||this.IsDentist||"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[...this.items,{label:"View Discharge Summary",icon:"pi pi-print",command:()=>{this.PrintPrescription(this.filteritems[0].UserId,this.filteritems[0].SlotBookingId,"IDS")}}]),1==this.filteritems[0].IsDentalTreatment&&(this.items=[...this.items,{label:"View Dental Prescription",icon:"pi pi-print",command:()=>{window.open("#/print/print-dental-prescription?SlotBookingId="+i+"&tag="+this.filteritems[0].BookingType)}}]),1==this.filteritems[0].IsPhysioTreatment&&(this.items=[...this.items,{label:"View Physio Prescription",icon:"pi pi-print",command:()=>{window.open("#/print/print-physiotherpy-prescription?SlotBookingId="+i+"&tag="+this.filteritems[0].BookingType)}}]),this.IsPhysio||this.IsDentist||(this.items=[...this.items,{label:"View History",icon:"pi pi-calendar-times",command:()=>{this.showPatientPrescriptionHistory(this.filteritems[0].UserId)}}]),this.IsPhysio||this.IsDentist||1!=this.filteritems[0].IsValid||("IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted])&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]||(this.items=[...this.items,{label:"View/Edit",icon:"pi pi-eye",command:()=>{this.LoadPaitentDetails(i+"-"+this.filteritems[0].UserId,!0)}}]),this.IsPhysio||this.IsDentist||"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[...this.items,{label:"Patient Record",icon:"pi pi-user-edit",command:()=>{window.open("#/print/patient-record?UserId="+this.filteritems[0].UserId+"&SlotBookingId="+this.filteritems[0].SlotBookingId+"&tag="+this.filteritems[0].BookingType)}}]);var n=[];(this.IsPhysio||this.IsDentist||"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged])&&("OPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed])||(n=[...n,{label:"Consent Form",icon:"pi pi-file-o",items:[{label:"Download Consent Form",icon:"pi pi-user-edit",command:()=>{window.open("#/print/consent-form?UserId="+this.filteritems[0].UserId+"&SlotBookingId="+this.filteritems[0].SlotBookingId)}},{label:"Attached Signed Consent Form",icon:"pi pi-user-edit",command:()=>{this.AttachedSignedForm(this.filteritems[0].SlotBookingId,s.k.ConsentForm,"Upload Signed Consent Form")}},{label:"Download Signed Consent Form",icon:"pi pi-user-edit",command:()=>{this.LoadAttachedSignedForm(this.filteritems[0].SlotBookingId,s.k.ConsentForm,"Download Signed Consent Form")}}]}]),this.IsPhysio||this.IsDentist||"IPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(n=[...n,{label:"Case Sheet",icon:"pi pi-file-o",items:[{label:"Print Case Sheet",icon:"pi pi-eye",command:()=>{window.open("#/print/print-ipd-registration-form?UserId="+this.filteritems[0].UserId+"&SlotBookingId="+this.filteritems[0].SlotBookingId)}},{label:"Attached Signed Case Sheet",icon:"pi pi-user-edit",command:()=>{this.AttachedSignedForm(this.filteritems[0].SlotBookingId,s.k.IPDForm,"Upload Signed Case Sheet")}},{label:"Download Signed Case Sheet",icon:"pi pi-user-edit",command:()=>{this.LoadAttachedSignedForm(this.filteritems[0].SlotBookingId,s.k.IPDForm,"Download Signed Case Sheet")}}]},{label:"Pain Assessment",icon:"pi pi-file-o",items:[{label:"View Pain Ass ",icon:"pi pi-print",command:()=>{window.open("#/print/print-pain-assessment?SlotBookingId="+this.filteritems[0].SlotBookingId+"&tag="+this.filteritems[0].BookingType)}},{label:"Attached Pain Ass Form",icon:"pi pi-user-edit",command:()=>{this.AttachedSignedForm(this.filteritems[0].SlotBookingId,s.k.PainAssessmentForm,"Upload Signed Pain Assessment Form")}},{label:"Download Signed Ass Form",icon:"pi pi-user-edit",command:()=>{this.LoadAttachedSignedForm(this.filteritems[0].SlotBookingId,s.k.PainAssessmentForm,"Download Signed Pain Assessment Form")}}]}]),n.length>0&&(this.items=[...this.items,{label:"Form",icon:"pi pi-file-o",items:n}]),"IPD"!==this.bookingtype||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Admitted]&&this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Discharged]||(this.items=[...this.items,{label:"Medical Certificate",icon:"pi pi-star",command:()=>{window.open("#/print/print-medical-certificate?SlotBookingId="+i)}}]),this.IsPhysio||this.IsDentist||"IPD"!==this.bookingtype&&("OPD"!==this.bookingtype||"OPD"!=this.filteritems[0].BookingType||this.filteritems[0].BookingStatus!==this.bookingStatus[this.bookingStatus.Confirmed])||(this.items=[...this.items,{label:"Download IPD Adm Form",icon:"pi pi-user-edit",command:()=>{window.open("#/print/print-ipd-admission-form?SlotBookingId="+this.filteritems[0].SlotBookingId)}}]),"OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]&&"true"==localStorage.getItem("IsChikitsalaya")&&(this.items=[...this.items,{label:"Refer to Wellness Center",icon:"pi pi-user-edit",command:()=>{this.ShowModelRefferToWellnessCenter(this.filteritems[0].UserId,this.filteritems[0].SlotBookingId,this.filteritems[0].ContactNumber)}}]),this.IsDentist||"true"==localStorage.getItem("IsChikitsalaya")||this.filteritems[0].IsDentalTreatment||1!=this.filteritems[0].IsValid||!("IPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||"OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])||(this.items=[...this.items,{label:"Refer to Dentist",icon:"pi pi-user-edit",command:()=>{this.ReferToDentist(this.filteritems[0].SlotBookingId)}}]),this.lsobjClinicMaster.IsPhysioPanel&&!this.IsPhysio&&"true"!=localStorage.getItem("IsChikitsalaya")&&!this.filteritems[0].IsPhysioTreatment&&1==this.filteritems[0].IsValid&&("IPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||"OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed])&&(this.items=[...this.items,{label:"Refer to Physio",icon:"pi pi-user-edit",command:()=>{this.ReferToPhysio(this.filteritems[0].SlotBookingId)}}]),(null===(o=this.lstUserAuthorizationOtherAction)||void 0===o?void 0:o.length)>0&&this.lstUserAuthorizationOtherAction.includes(this.OtherActionList.IsDoctorLogs)&&(this.items=[...this.items,{label:"View Doctor Logs",icon:"pi pi-comments",command:()=>{this.GetPrescriptionSaveDetails(i)}}]),t.toggle(e)}BookingStatus(){this.stlstbookingstatus=[],"IPD"==this.bookingtype?(this.stlstbookingstatus=[{name:"All",code:0},{name:this.bookingStatus[this.bookingStatus.Confirmed],code:this.bookingStatus.Confirmed},{name:this.bookingStatus[this.bookingStatus.Admitted],code:this.bookingStatus.Admitted},{name:this.bookingStatus[this.bookingStatus.Discharged],code:this.bookingStatus.Discharged},{name:this.bookingStatus[this.bookingStatus.Cancelled],code:this.bookingStatus.Cancelled}],null!=localStorage.getItem("DRStatusbooking")?(this.statusbooking=Number(localStorage.getItem("DRStatusbooking")),this.SerachStatusbooking=Number(localStorage.getItem("DRStatusbooking")),this.selectedTab=1,this.IsAllDoctor=!1):(this.statusbooking=this.bookingStatus.Admitted,this.SerachStatusbooking=this.bookingStatus.Admitted)):"OPD"==this.bookingtype?(this.stlstbookingstatus=[{name:"All",code:0},{name:this.bookingStatus[this.bookingStatus.Booked],code:this.bookingStatus.Booked},{name:this.bookingStatus[this.bookingStatus.Confirmed],code:this.bookingStatus.Confirmed}],null!=localStorage.getItem("DRStatusbooking")?(this.statusbooking=Number(localStorage.getItem("DRStatusbooking")),this.SerachStatusbooking=Number(localStorage.getItem("DRStatusbooking"))):(this.statusbooking=this.bookingStatus.Confirmed,this.SerachStatusbooking=this.bookingStatus.Confirmed)):this.stlstbookingstatus=[],this.stColbookingstatus=JSON.parse(JSON.stringify(this.stlstbookingstatus)),this.ListPatientsByDoctor(0,10)}OnChangeBookingType(){localStorage.removeItem("DRStatusbooking"),this.BookingStatus(),this.cdRef.detectChanges()}ListPatientsByDoctor(t,e){this.statusbooking=this.SerachStatusbooking,this.first=parseInt(t);let i={};i.doctorId=this.DoctorId,i.clinicId=this.ClinicIdSelected,i.bookingtype=this.bookingtype,i.dFrom=new Date(this.datepipe.transform(this.dFrom,"yyyy-MM-dd")),i.dTo=new Date(this.datepipe.transform(this.dTo,"yyyy-MM-dd")),i.IsAllGrouped=this.IsAllGrouped,i.bookingStatus=this.statusbooking,i.searchtxt=this.searchtxt,i.isAllDoctor=this.IsAllDoctor,i.first=t.toString(),i.rows=e.toString(),0==this.SerachStatusbooking&&(this.SerachPeriodFromDate=null,this.SerachPeriodToDate=null);let o=[];null!=this.SearchBookingNumber&&null!=this.SearchBookingNumber&&""!=this.SearchBookingNumber&&o.push({SearchBy:"BookingNumber",SearchVal:this.SearchBookingNumber.trim()}),null!=this.SearchFirstName&&null!=this.SearchFirstName&&""!=this.SearchFirstName&&o.push({SearchBy:"FullName",SearchVal:this.SearchFirstName.trim()}),null!=this.SearchMRNo&&null!=this.SearchMRNo&&""!=this.SearchMRNo&&o.push({SearchBy:"MRNo",SearchVal:this.SearchMRNo.trim()}),null!=this.SearchContactNumber&&null!=this.SearchContactNumber&&""!=this.SearchContactNumber&&o.push({SearchBy:"ContactNumber",SearchVal:this.SearchContactNumber.trim()}),null!=this.SerachPeriodFromDate&&null!=this.SerachPeriodFromDate&&o.push({SearchBy:"PeriodFrom",SearchVal:this.datepipe.transform(this.SerachPeriodFromDate,"yyyy-MM-dd")}),null!=this.SerachPeriodToDate&&null!=this.SerachPeriodToDate&&"IPD"==this.bookingtype&&o.push({SearchBy:"PeriodUpto",SearchVal:this.datepipe.transform(this.SerachPeriodToDate,"yyyy-MM-dd")}),null!=this.SerachStatusbooking&&null!=this.SerachStatusbooking&&0!=this.SerachStatusbooking&&o.push({SearchBy:"BookingStatus",SearchVal:this.SerachStatusbooking.toString()}),i.SearchList=o;var s=this._DoctorServices.ListPatientsByDoctor(i);this.IsDentist?s=this._DoctorServices.ListDentalPatientByDoctor(i):this.IsPhysio&&(s=this._DoctorServices.ListPhysioPatientByDoctor(i)),this._UtilityService.showSpinner(),this.unsubscribe.add=s.subscribe(i=>{var o;this._UtilityService.hideSpinner(),i.actionResult.result.length>0?(this.list=JSON.parse(i.actionResult.result[0]),this.TotalRecords=JSON.parse(i.actionResult.result[1]),this.updateRowGroupMetaData(t,e)):(this.TotalRecords=0,this.list=[],this.filteredValuesLength=null===(o=this.list)||void 0===o?void 0:o.length,this.rowGroupMetadata={},this.cdRef.detectChanges())},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}updateRowGroupMetaData(t,e){var i;if(this.rowGroupMetadata={},this.list)for(let s=0;s<this.list.length;s++){let e=this.list[s].GroupNumber;0==s?this.rowGroupMetadata[e]={index:t,size:1}:e===this.list[s-1].GroupNumber?this.rowGroupMetadata[e].size++:this.rowGroupMetadata[e]={index:Number(t)+s,size:1}}if(void 0!==this.filtr){var o=this.filtr.nativeElement.value;this.filtr.nativeElement.value="",null!=o&&null!=o&&""!=o&&(this.filtr.nativeElement.value=o,this.dataTable.filterGlobal(o,"contains")),this.filteredValuesLength=null===(i=this.list)||void 0===i?void 0:i.length}this.cdRef.detectChanges()}loadPatientList(t){this.list&&this.ListPatientsByDoctor(t.first,t.rows)}ShowPatientDetails(t,e,i=""){var o;if(localStorage.removeItem("DRStatusbooking"),localStorage.setItem("DRStatusbooking",null===(o=this.statusbooking)||void 0===o?void 0:o.toString()),localStorage.removeItem("DRBookingType"),localStorage.setItem("DRBookingType",this.bookingtype),this.IsDentist)window.open("#/doctor/dental-prescription?PatientId="+t+"&SlotBookingId="+e+"&tag="+i,"_self");else if(this.IsPhysio)window.open("#/doctor/physiotherpy-prescription?PatientId="+t+"&SlotBookingId="+e+"&tag="+i,"_self");else if("IPD"==i)window.open("#/doctor/ipd-new-prescription?PatientId="+t+"&SlotBookingId="+e+"&tag="+i,"_self");else if("OPD"==i)window.open("#/doctor/opd-prescription?PatientId="+t+"&SlotBookingId="+e+"&tag="+i,"_self");else if("IDS"==i){var s=encodeURIComponent(btoa("PatientId="+t+"&SlotBookingId="+e+"&tag="+i));window.open("#/doctor/ids-prescription?q="+s,"_self")}}LoadPaitentDetails(t,e){this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.GetOnlineRegistrationDetailsById(t.split("-")[0],t.split("-")[1]).subscribe(i=>{var o,s,n;if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==i.actionResult.success){this.isValidDate=e,this.InputType="OPD"==this.bookingtype?4:3;var r=JSON.parse(i.actionResult.result);this.RegistrationMainModel=r=r||[],null!=(null===(o=this.RegistrationMainModel)||void 0===o?void 0:o.DateOfBirth)&&null!=(null===(s=this.RegistrationMainModel)||void 0===s?void 0:s.DateOfBirth)&&(this.RegistrationMainModel.DateOfBirth=new Date(null===(n=this.RegistrationMainModel)||void 0===n?void 0:n.DateOfBirth)),this.RegistrationMainModel.SlotBookingId=t.split("-")[0],this.mode="update",this.cdRef.detectChanges()}},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}CloseModal(){this.mode=null}AttachedSignedForm(t,e,i){this.FormType=e,this.HeaderName=i,this.SlotBookingIdSelectedId=t,this.ShowAttachedFormModel=!0}FileSuccessUpload(t){this.ShowAttachedFormModel=!1,this.FormType=0,this.HeaderName=null,this.SlotBookingIdSelectedId=null,this._UtilityService.showSuccessAlert(t)}LoadAttachedSignedForm(t,e,i){this.FormType=e,this.HeaderName=i,this.SlotBookingIdSelectedId=t,this.ShowDownloadFormModel=!0}closeDialog(){this.FormType=0,this.HeaderName=null,this.SlotBookingIdSelectedId=null}AllotDoctor(t,e=""){this.SlotBookingIdSelectedId=t,this.IsDentist?this.dentistId=e:this.IsPhysio&&(this.physioId=e),this.ShowAllotDoctorModel=!0}AllotSuccess(t){var e,i=!1;this.filteritems=[],this.filteritems=this.list.filter(t=>t.SlotBookingId==this.SlotBookingIdSelectedId),this.SlotBookingIdSelectedId=null,this.dentistId=null,this.physioId=null,this.ShowAllotDoctorModel=!1,this._UtilityService.showSuccessAlert(null==t?void 0:t.Message),this.ListPatientsByDoctor(0,10),null!=(null==t?void 0:t.lstSelectedDoctor)&&null!=(null==t?void 0:t.lstSelectedDoctor)&&(null===(e=null==t?void 0:t.lstSelectedDoctor)||void 0===e?void 0:e.length)>0&&t.lstSelectedDoctor.includes(localStorage.getItem("userId"))&&(i=!0),i&&1==this.filteritems[0].IsPrint&&("OPD"==this.filteritems[0].BookingType&&this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Confirmed]||"IPD"==this.filteritems[0].BookingType&&(this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Admitted]||this.filteritems[0].BookingStatus===this.bookingStatus[this.bookingStatus.Discharged]))&&this.confirmationService.confirm({target:t.target,header:"Confirmation",message:"Do you want to add prescription?",icon:"pi pi-exclamation-triangle",accept:()=>{this.ShowPatientDetails(this.filteritems[0].UserId,this.filteritems[0].SlotBookingId,this.filteritems[0].BookingType)}})}LoadDoctorConsultCount(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.GetDoctorConsultCountToday(localStorage.getItem("userId")).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success?(this.todayCompletedCons=+t.actionResult.result,this.todayPendingCons=+t.actionResult.result2):(this.todayCompletedCons=0,this.todayPendingCons=0),this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}),this.cdRef.detectChanges()}showPatientPrescriptionHistory(t){this.selectedPatientId=t,this.showModalPrescriptionHistory=!0}hidePrescriptionHistory(){this.selectedPatientId=null,this.showModalPrescriptionHistory=!1}VisitPrescriptionCount(t){this.totalVisitPrescriptionCount=t}PrintPrescription(t,e,i){"OPDIPD"==i?window.open("#/print/opd-ipd-print-prescription?SlotBookingId="+e):"IPD"==i?window.open("#/print/ipd-print-prescription?UserId="+t+"&SlotBookingId="+e+"&tag="+i):window.open("#/print/patient-print-prescription?UserId="+t+"&SlotBookingId="+e+"&tag="+i)}GetPrescriptionSaveDetails(t){this.SlotBookingIdSelectedId=t,this.ShowPrescriptionSaveModel=!0}ReferToDentist(t){this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.ReferToDentist(!0,t,this.DoctorId).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success?(this._UtilityService.showSuccessAlert(t.actionResult.errMsg),this.ListPatientsByDoctor(0,10)):this._UtilityService.showWarningAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}ReferToPhysio(t){this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.ReferToPhysio(!0,t,this.DoctorId).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success?(this._UtilityService.showSuccessAlert(t.actionResult.errMsg),this.ListPatientsByDoctor(0,10)):this._UtilityService.showWarningAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}onFilter(t,e){this.filteredValuesLength=t.filteredValue.length}ClearFilter(){this.SearchBookingNumber=null,this.SearchFirstName=null,this.SearchLastName=null,this.SearchMRNo=null,this.SearchContactNumber=null,this.SerachPeriodFromDate=null,this.SerachPeriodToDate=null,this.SerachStatusbooking=0,this.ListPatientsByDoctor(0,10)}ClearFilterOnly(){this.SearchBookingNumber=null,this.SearchFirstName=null,this.SearchLastName=null,this.SearchMRNo=null,this.SearchContactNumber=null,this.SerachPeriodFromDate=null,this.SerachPeriodToDate=null,this.SerachStatusbooking=0}keyPress(t){let e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||t.preventDefault()}ShowModelRefferToWellnessCenter(t,e,i){this.SlotBookingIdSelectedId=e,this.UserIdSelected=t,""!=i&&null!=i&&(this.IsDisabledContact=!0),this.ReferNewPtContact=i,this.SelectedReferredCenter=null,this.ReferredReason=null,this.ExpectedVisitDate=null,this.showReferrWellnessCenterModel=!0,this.cdRef.detectChanges()}SubmitReferred(){if(null==this.SelectedReferredCenter||null==this.SelectedReferredCenter)return void this._UtilityService.showWarningAlert("Please select Center");if(null==this.ReferNewPtContact||null==this.ReferNewPtContact||""==this.ReferNewPtContact)return void this._UtilityService.showWarningAlert("Please Enter Contact Number");if(10!=this.ReferNewPtContact.replace(/ /g,"").length)return void this._UtilityService.showWarningAlert("Please Enter Valid Contact Number");if(null==this.ReferredReason||null==this.ReferredReason||0==this.ReferredReason.trim().length)return void this._UtilityService.showWarningAlert("Please Enter Reason");this.IsDisabledContact&&(this.ReferNewPtContact="");let t={};t.SlotBookingId=this.SlotBookingIdSelectedId,t.PatientId=this.UserIdSelected,t.ReferredReason=this.ReferredReason.trim(),t.ReferredFromClinic=this.ClinicIdSelected,t.ReferredToClinic=this.SelectedReferredCenter,t.ReferredBy=localStorage.getItem("userId"),t.ReferredOn=new Date(this.datepipe.transform(new Date,"yyyy-MM-dd")),null!=this.ExpectedVisitDate&&(t.ExpectedVisitDate=new Date(this.datepipe.transform(this.ExpectedVisitDate,"yyyy-MM-dd"))),this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.AddreferredDetails(t,this.ReferNewPtContact).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success?(this._UtilityService.showSuccessAlert(t.actionResult.errMsg),this.showReferrWellnessCenterModel=!1,this.ListPatientsByDoctor(0,10)):(this._UtilityService.showWarningAlert(t.actionResult.errMsg),this.showReferrWellnessCenterModel=!1)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}CloseRefferWellness(){this.showReferrWellnessCenterModel=!1,this.IsDisabledContact=!1}LoadClinicList(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetClinicMaster(!0,!1).subscribe(t=>{var e;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);this.lstClinicReffered=i=i||[],(null===(e=this.lstClinicReffered)||void 0===e?void 0:e.length)>0&&(this.lstClinicReffered=this.lstClinicReffered.filter(t=>t.ClinicId!==this.ClinicIdSelected))}else this.lstClinicReffered=[]},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.h),r.Sb(a.f),r.Sb(c.a),r.Sb(s.f),r.Sb(l.a),r.Sb(d.a),r.Sb(h.a),r.Sb(b.a),r.Sb(u.a))},t.\u0275cmp=r.Mb({type:t,selectors:[["app-doctor-dashboard"]],viewQuery:function(t,e){if(1&t&&(r.cd(M,1),r.cd(T,1)),2&t){let t;r.Hc(t=r.jc())&&(e.dataTable=t.first),r.Hc(t=r.jc())&&(e.filtr=t.first)}},features:[r.Cb,r.Db],decls:53,vars:78,consts:[["class","row ml-0 mr-0 mt25",4,"ngIf"],["tabContent",""],["id","ShowAttachedFormModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","onHide","visibleChange"],["pTemplate","header"],[4,"ngIf"],["id","ShowDownloadFormModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","onHide","visibleChange"],["header","Allot Doctor",3,"modal","visible","visibleChange"],[3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","visibleChange"],["pTemplate","footer"],[1,"row","d-flex"],["class","ml-auto close",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["header","Doctor Logs",3,"modal","visible","visibleChange"],[1,"row","mt-3"],[1,"col-md-3"],[1,"bold"],[1,"required"],[1,"col-md-9"],["appendTo","body","optionLabel","ClinicName","optionValue","ClinicId","placeholder","Select Wellness Center",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","required","","placeholder","Mobile Number","name","ContactNo","maxlength","10","minlength","10",1,"form-control",3,"disabled","ngModel","keypress","ngModelChange"],["appendTo","body","inputId","icon","name","pFrom",3,"minDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["calendar",""],["rows","3","name","TEDRefferedReason","pInputTextarea","",3,"ngModel","ngModelChange"],[1,"row","ml-0","mr-0","mt25"],[1,"col","pl-0","pr-0"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[3,"activeIndex","activeIndexChange","onChange"],["header","All Patient"],[4,"ngTemplateOutlet"],["header","My Patient"],["responsiveLayout","scroll","datakey","GroupNumber","scrollHeight","calc(100vh - 360px)",1,"ColumnFilterTable",3,"value","lazy","rowHover","lazyLoadOnInit","globalFilterFields","scrollable","paginator","rows","totalRecords","first","onLazyLoad","onFilter","firstChange"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","body"],[1,"p-d-flex",2,"display","none"],[1,"p-ml-auto"],[1,"row","mb-2"],[1,"col-md-2"],[1,"p-ml-left","pl-2"],["class","col-auto",4,"ngIf"],["class","col-auto text-right",4,"ngIf"],[1,"col-auto"],["for",""],[1,"form-group","mb-0"],["optionLabel","name","optionValue","code",3,"options","ngModel","ngModelOptions","style","ngModelChange","onChange",4,"ngIf"],["optionLabel","name","optionValue","code",3,"options","ngModel","ngModelOptions","ngModelChange","onChange"],["class","field-radiobutton mb10",4,"ngIf"],[1,"field-radiobutton","mb10"],["name","rbIsAllGrouped",3,"value","ngModel","ngModelChange","onClick"],[1,"pl-2","mr-2","radiolabel"],[1,"pl-2","radiolabel"],[1,"col-auto","text-right"],[1,"field","mb10","text-right","ml-40","mt-2"],[2,"width","60px"],[2,"width","140px"],[2,"width","130px"],[2,"width","115px"],[2,"width","100px"],["style","width:100px",4,"ngIf"],[2,"width","110px"],["style","width:75px",4,"ngIf"],["style","width:80px",4,"ngIf"],[2,"width","120px"],[2,"width","50px"],[2,"width","75px"],[2,"width","80px"],["pButton","","matTooltip","Clear","label","","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],["type","text","name","txtsearchBookingNumber",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["matTooltip","Filter",3,"click"],["type","text","name","txtsearchFirstName",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["type","text","name","txtsearchMRNo",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],["type","text","name","txtsearchContactNumber",1,"form-control","mr-1",3,"ngModel","ngModelChange","change"],[1,"input-group","date"],["appendTo","body","name","SerachPeriodFromDate","inputId","icon",3,"monthNavigator","yearNavigator","yearRange","ngModel","disabled","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onClose","onSelect"],["calendar","","dobref","ngModel"],["name","ddlSearchStatus",1,"form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],["appendTo","body","name","SerachPeriodToDate","inputId","icon",3,"monthNavigator","yearNavigator","yearRange","ngModel","disabled","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onClose","onSelect"],[3,"ngValue"],["matTooltip","Action",3,"click",4,"ngIf"],["appendTo","body",3,"model","popup"],["menu",""],[3,"ngStyle"],[2,"font-size","10px"],[2,"background-color","#ebedf3","font-weight","bold",3,"colSpan"],["matTooltip","Action",3,"click"],[1,"fas","fa-ellipsis-h"],[3,"FormType","SlotBookingId","FileSuccess"],[3,"FormType","SlotBookingId"],[3,"slotBookingId","clinicId","dentistId","physioId","AllotSuccess"],[3,"PatientId","TotalVisitPrescriptionCount"],["type","button",1,"btn","btn-new-secondary",3,"click"],[1,"ml-auto","close",3,"click"],[1,"fas","fa-window-close"],[3,"RegistrationMainModel","InputType","IsValidDate"],[3,"slotBookingId"],["pButton","","type","button","label","Submit",1,"btn","btn-new-primary","mt-2",3,"click"],["pButton","","type","button","label","Close",1,"btn","btn-new-secondary","mt-2",3,"click"]],template:function(t,e){1&t&&(r.Sc(0,Y,12,3,"div",0),r.Sc(1,ht,7,11,"ng-template",null,1,r.Tc),r.Yb(3,"p-dialog",2),r.ic("onHide",function(){return e.closeDialog()})("visibleChange",function(t){return e.ShowAttachedFormModel=t}),r.Sc(4,bt,2,1,"ng-template",3),r.Sc(5,ut,2,2,"div",4),r.Xb(),r.Yb(6,"p-dialog",5),r.ic("onHide",function(){return e.closeDialog()})("visibleChange",function(t){return e.ShowDownloadFormModel=t}),r.Sc(7,gt,2,1,"ng-template",3),r.Sc(8,mt,2,2,"div",4),r.Xb(),r.Yb(9,"p-dialog",6),r.ic("visibleChange",function(t){return e.ShowAllotDoctorModel=t}),r.Sc(10,pt,2,4,"div",4),r.Xb(),r.Yb(11,"p-dialog",7),r.ic("visibleChange",function(t){return e.showModalPrescriptionHistory=t}),r.Sc(12,ft,2,1,"ng-template",3),r.Sc(13,St,2,1,"div",4),r.Sc(14,It,2,0,"ng-template",8),r.Xb(),r.Yb(15,"div",9),r.Sc(16,yt,2,0,"a",10),r.Xb(),r.Sc(17,kt,2,3,"div",11),r.Yb(18,"p-dialog",12),r.ic("visibleChange",function(t){return e.ShowPrescriptionSaveModel=t}),r.Sc(19,Dt,2,1,"div",4),r.Xb(),r.Yb(20,"p-dialog",7),r.ic("visibleChange",function(t){return e.showReferrWellnessCenterModel=t}),r.Sc(21,Ct,2,0,"ng-template",3),r.Yb(22,"div",13),r.Yb(23,"div",14),r.Yb(24,"label",15),r.Uc(25,"Select Referred Wellness Center"),r.Yb(26,"span",16),r.Uc(27,"*"),r.Xb(),r.Xb(),r.Xb(),r.Yb(28,"div",17),r.Yb(29,"p-dropdown",18),r.ic("ngModelChange",function(t){return e.SelectedReferredCenter=t}),r.Xb(),r.Xb(),r.Xb(),r.Yb(30,"div",13),r.Yb(31,"div",14),r.Yb(32,"label",15),r.Uc(33,"Patient Contact No."),r.Yb(34,"span",16),r.Uc(35,"*"),r.Xb(),r.Xb(),r.Xb(),r.Yb(36,"div",14),r.Yb(37,"input",19),r.ic("keypress",function(t){return e.keyPress(t)})("ngModelChange",function(t){return e.ReferNewPtContact=t}),r.Xb(),r.Xb(),r.Yb(38,"div",14),r.Yb(39,"label",15),r.Uc(40,"Expected date of admission"),r.Xb(),r.Xb(),r.Yb(41,"div",14),r.Yb(42,"p-calendar",20,21),r.ic("ngModelChange",function(t){return e.ExpectedVisitDate=t}),r.Xb(),r.Xb(),r.Xb(),r.Yb(44,"div",13),r.Yb(45,"div",14),r.Yb(46,"label",15),r.Uc(47,"Referred Reason"),r.Yb(48,"span",16),r.Uc(49,"*"),r.Xb(),r.Xb(),r.Xb(),r.Yb(50,"div",17),r.Yb(51,"textarea",22),r.ic("ngModelChange",function(t){return e.ReferredReason=t}),r.Xb(),r.Xb(),r.Xb(),r.Sc(52,Pt,2,0,"ng-template",8),r.Xb()),2&t&&(r.tc("ngIf","update"!=e.mode),r.Fb(3),r.Pc(r.yc(69,vt)),r.tc("visible",e.ShowAttachedFormModel)("modal",!0)("maximizable",!0)("closeOnEscape",!0)("closable",!0)("draggable",!1)("resizable",!0),r.Fb(2),r.tc("ngIf",e.ShowAttachedFormModel),r.Fb(1),r.Pc(r.yc(70,vt)),r.tc("visible",e.ShowDownloadFormModel)("modal",!0)("maximizable",!0)("closeOnEscape",!0)("closable",!0)("draggable",!1)("resizable",!0),r.Fb(2),r.tc("ngIf",e.ShowDownloadFormModel),r.Fb(1),r.Pc(r.yc(71,wt)),r.tc("modal",!0)("visible",e.ShowAllotDoctorModel),r.Fb(1),r.tc("ngIf",e.ShowAllotDoctorModel),r.Fb(1),r.Pc(r.yc(72,vt)),r.tc("visible",e.showModalPrescriptionHistory)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!1)("draggable",!1)("resizable",!1),r.Fb(2),r.tc("ngIf",e.showModalPrescriptionHistory),r.Fb(3),r.tc("ngIf","update"==e.mode),r.Fb(1),r.tc("ngIf","update"==e.mode),r.Fb(1),r.Pc(r.yc(73,wt)),r.tc("modal",!0)("visible",e.ShowPrescriptionSaveModel),r.Fb(1),r.tc("ngIf",e.ShowPrescriptionSaveModel),r.Fb(1),r.Pc(r.yc(74,wt)),r.tc("visible",e.showReferrWellnessCenterModel)("modal",!0)("maximizable",!1)("closeOnEscape",!1)("closable",!1)("draggable",!1)("resizable",!1),r.Fb(9),r.Pc(r.yc(75,L)),r.tc("options",e.lstClinicReffered)("ngModel",e.SelectedReferredCenter)("filter",!0)("showClear",!0),r.Fb(8),r.tc("disabled",e.IsDisabledContact)("ngModel",e.ReferNewPtContact),r.Fb(5),r.tc("minDate",e.today)("ngModel",e.ExpectedVisitDate)("ngModelOptions",r.yc(76,N))("showIcon",!0)("dateFormat",e.customDateFormat.CalendarFormat)("readonlyInput",!1),r.Fb(9),r.Pc(r.yc(77,L)),r.tc("ngModel",e.ReferredReason))},directives:[a.p,g.a,u.i,m.a,p.o,p.r,p.b,p.w,p.j,p.k,f.a,S.b,S.a,a.t,I.c,y.a,k.b,p.x,a.o,p.s,p.A,D.a,a.q,C.a,P.a,v.a,w.a,F.a,B.a],pipes:[a.f],styles:[".table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background:#f7f7f7!important}"]}),t})()},x5zU:function(t,e,i){"use strict";i.d(e,"a",function(){return k});var o=i("fXoL"),s=i("CwUn"),n=i("Nach"),r=i("ReGW"),a=i("NLkC"),c=i("rEr+"),l=i("7zfz"),d=i("/RsI"),h=i("ofXK"),b=i("Xj43");function u(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td"),o.Uc(2," No records found "),o.Xb(),o.Xb()),2&t){const t=e.$implicit;o.Fb(1),o.Gb("colspan",null==t?null:t.length)}}function g(t,e){1&t&&(o.Yb(0,"colgroup"),o.Tb(1,"col",12),o.Tb(2,"col",12),o.Tb(3,"col",12),o.Tb(4,"col",12),o.Tb(5,"col",13),o.Tb(6,"col",14),o.Tb(7,"col",15),o.Xb())}function m(t,e){1&t&&(o.Yb(0,"tr"),o.Yb(1,"th"),o.Uc(2,"Center"),o.Xb(),o.Yb(3,"th"),o.Uc(4,"Booking No"),o.Xb(),o.Yb(5,"th"),o.Uc(6,"Adm. Date"),o.Xb(),o.Yb(7,"th"),o.Uc(8,"Dis. Date"),o.Xb(),o.Yb(9,"th"),o.Uc(10,"Status"),o.Xb(),o.Yb(11,"th"),o.Uc(12,"Dr."),o.Xb(),o.Yb(13,"th"),o.Uc(14,"Actions"),o.Xb(),o.Xb())}function p(t,e){if(1&t){const t=o.Zb();o.Yb(0,"i",18),o.ic("click",function(){o.Lc(t);const e=o.mc().$implicit;return o.mc().DownloadLabReport(e.BookingNumber)}),o.Xb()}}function f(t,e){if(1&t){const t=o.Zb();o.Yb(0,"tr"),o.Yb(1,"td"),o.Uc(2),o.Xb(),o.Yb(3,"td"),o.Uc(4),o.Xb(),o.Yb(5,"td"),o.Uc(6),o.nc(7,"date"),o.nc(8,"date"),o.Xb(),o.Yb(9,"td"),o.Uc(10),o.nc(11,"date"),o.nc(12,"date"),o.Xb(),o.Yb(13,"td"),o.Yb(14,"span"),o.Uc(15),o.Xb(),o.Xb(),o.Yb(16,"td"),o.Uc(17),o.Xb(),o.Yb(18,"td"),o.Yb(19,"i",16),o.ic("click",function(){o.Lc(t);const i=e.$implicit;return o.mc().PrintHistoryPrescription(i.SlotBookingId,i.BookingType)}),o.Xb(),o.Sc(20,p,1,0,"i",17),o.Xb(),o.Xb()}if(2&t){const t=e.$implicit,i=o.mc();o.Fb(2),o.Vc(t.ClinicName),o.Fb(2),o.Vc(t.BookingNumber),o.Fb(2),o.Vc("0001"==o.pc(7,10,t.PeriodFrom,"yyyy")?"":o.pc(8,13,t.PeriodFrom,i.customDateFormat.DEF_DATE)),o.Fb(4),o.Vc("0001"==o.pc(11,16,t.PeriodUpto,"yyyy")?"":o.pc(12,19,t.PeriodUpto,i.customDateFormat.DEF_DATE)),o.Fb(4),o.Hb(t.BookingStatus),o.Fb(1),o.Vc(t.BookingStatus),o.Fb(2),o.Vc(t.DoctorName),o.Fb(3),o.tc("ngIf",i.lsobjClinicMaster.IsLIMS)}}function S(t,e){1&t&&(o.Yb(0,"h4"),o.Uc(1,"Patient Lab / Report Document"),o.Xb())}function I(t,e){if(1&t&&(o.Yb(0,"div"),o.Tb(1,"app-lab-report-queue",19),o.Xb()),2&t){const t=o.mc();o.Fb(1),o.tc("bookingNumber",t.bookingNumber)}}const y=function(){return{width:"70vw"}};let k=(()=>{class t extends s.a{constructor(t,e,i){super(),this.cdRef=t,this._DoctorServices=e,this._UtilityService=i,this.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,this.PatientId=null,this.TotalVisitPrescriptionCount=new o.o,this.bookingStatus=n.d,this.customDateFormat=n.h,this.first=0,this.lstPatientHistory=[],this.TotalVisit=0,this.ShowLabReportModel=!1,this.bookingNumber=null}ngOnInit(){}ngOnChanges(t){this.LoadPatientAllPrescriptionHistory(0,5)}LoadPatientAllPrescriptionHistory(t,e){let i={};i.patientId=this.PatientId,i.first=t.toString(),i.rows=e.toString(),this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.PatientAllPrescriptionHistory(i).subscribe(t=>{this._UtilityService.hideSpinner(),t.actionResult.result.length>0?(this.lstPatientHistory=JSON.parse(t.actionResult.result[0]),this.TotalVisit=JSON.parse(t.actionResult.result[1]),this.cdRef.detectChanges()):(this.TotalVisit=0,this.lstPatientHistory=[],this.cdRef.detectChanges()),this.TotalVisitPrescriptionCount.emit(this.TotalVisit)})}loadPatientList(t){this.lstPatientHistory&&this.LoadPatientAllPrescriptionHistory(t.first,t.rows)}PrintHistoryPrescription(t,e){"IPD"==e?window.open("#/print/ipd-print-prescription?UserId="+this.PatientId+"&SlotBookingId="+t+"&tag="+e):window.open("#/print/patient-print-prescription?UserId="+this.PatientId+"&SlotBookingId="+t+"&tag="+e)}DownloadLabReport(t){this.bookingNumber=t,this.ShowLabReportModel=!0}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(o.h),o.Sb(r.a),o.Sb(a.a))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-patient-all-prescription-history"]],inputs:{PatientId:"PatientId"},outputs:{TotalVisitPrescriptionCount:"TotalVisitPrescriptionCount"},features:[o.Cb,o.Db],decls:13,vars:20,consts:[[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],["responsiveLayout","scroll","scrollHeight","calc(100vh - 360px)",1,"ColumnFilterTable",3,"value","lazy","rowHover","lazyLoadOnInit","scrollable","paginator","rows","totalRecords","first","onLazyLoad","firstChange"],["dtHistory",""],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["modal","true","appendTo","body","id","ShowLabReportModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","visibleChange"],[4,"ngIf"],[2,"width","100px"],[2,"width","110px"],[2,"width","80px"],[2,"width","65px"],["title","Print Prescription",1,"pi","pi-print","mt-4","mr-2",2,"font-size","18px",3,"click"],["title","View Report","class","fa fa-print",3,"click",4,"ngIf"],["title","View Report",1,"fa","fa-print",3,"click"],[3,"bookingNumber"]],template:function(t,e){1&t&&(o.Yb(0,"div",0),o.Yb(1,"div",1),o.Yb(2,"div",2),o.Yb(3,"div",3),o.Yb(4,"p-table",4,5),o.ic("onLazyLoad",function(t){return e.loadPatientList(t)})("firstChange",function(t){return e.first=t}),o.Sc(6,u,3,1,"ng-template",6),o.Sc(7,g,8,0,"ng-template",7),o.Sc(8,m,15,0,"ng-template",8),o.Sc(9,f,21,22,"ng-template",9),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Yb(10,"p-dialog",10),o.ic("visibleChange",function(t){return e.ShowLabReportModel=t}),o.Sc(11,S,2,0,"ng-template",8),o.Sc(12,I,2,1,"div",11),o.Xb()),2&t&&(o.Fb(4),o.tc("value",e.lstPatientHistory)("lazy",!0)("rowHover",!0)("lazyLoadOnInit",!1)("scrollable",!0)("paginator",!0)("rows",5)("totalRecords",e.TotalVisit)("first",e.first),o.Fb(6),o.Pc(o.yc(19,y)),o.tc("visible",e.ShowLabReportModel)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!0)("draggable",!1)("resizable",!0),o.Fb(2),o.tc("ngIf",e.ShowLabReportModel))},directives:[c.c,l.i,d.a,h.p,b.a],pipes:[h.f],styles:[""]}),t})()}}]);