(window.webpackJsonp=window.webpackJsonp||[]).push([[18,147],{dPl2:function(t,e,i){"use strict";i.d(e,"a",function(){return M}),i.d(e,"b",function(){return A}),i.d(e,"c",function(){return R});var n=i("fXoL"),s=i("ofXK"),o=i("xlun"),l=i("Q4Mo"),c=i("7zfz"),r=i("YyRF");function a(t,e){1&t&&n.Ub(0)}function d(t,e){if(1&t&&(n.Wb(0),n.Sc(1,a,1,0,"ng-container",3),n.Vb()),2&t){const t=n.mc(2);n.Fb(1),n.tc("ngTemplateOutlet",t.contentTemplate)}}function b(t,e){if(1&t&&(n.Yb(0,"div",1),n.rc(1),n.Sc(2,d,2,1,"ng-container",2),n.Xb()),2&t){const t=n.mc();n.tc("hidden",!t.selected),n.Gb("id",t.id)("aria-hidden",!t.selected)("aria-labelledby",t.id+"-label"),n.Fb(2),n.tc("ngIf",t.contentTemplate&&(t.cache?t.loaded:t.selected))}}const u=["*"],h=["navbar"],m=["inkbar"];function p(t,e){if(1&t&&n.Tb(0,"span",16),2&t){const t=n.mc(3).$implicit;n.tc("ngClass",t.leftIcon)}}function g(t,e){if(1&t&&n.Tb(0,"span",17),2&t){const t=n.mc(3).$implicit;n.tc("ngClass",t.rightIcon)}}function I(t,e){if(1&t&&(n.Wb(0),n.Sc(1,p,1,1,"span",13),n.Yb(2,"span",14),n.Uc(3),n.Xb(),n.Sc(4,g,1,1,"span",15),n.Vb()),2&t){const t=n.mc(2).$implicit;n.Fb(1),n.tc("ngIf",t.leftIcon),n.Fb(2),n.Vc(t.header),n.Fb(1),n.tc("ngIf",t.rightIcon)}}function f(t,e){1&t&&n.Ub(0)}function v(t,e){if(1&t){const t=n.Zb();n.Yb(0,"span",18),n.ic("click",function(e){n.Lc(t);const i=n.mc(2).$implicit;return n.mc().close(e,i)}),n.Xb()}}const C=function(t,e){return{"p-highlight":t,"p-disabled":e}};function S(t,e){if(1&t){const t=n.Zb();n.Yb(0,"li",8),n.Yb(1,"a",9),n.ic("click",function(e){n.Lc(t);const i=n.mc().$implicit;return n.mc().open(e,i)})("keydown.enter",function(e){n.Lc(t);const i=n.mc().$implicit;return n.mc().open(e,i)}),n.Sc(2,I,5,3,"ng-container",10),n.Sc(3,f,1,0,"ng-container",11),n.Sc(4,v,1,0,"span",12),n.Xb(),n.Xb()}if(2&t){const t=n.mc().$implicit;n.Hb(t.headerStyleClass),n.tc("ngClass",n.Ac(16,C,t.selected,t.disabled))("ngStyle",t.headerStyle),n.Fb(1),n.tc("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),n.Gb("id",t.id+"-label")("aria-selected",t.selected)("aria-controls",t.id)("aria-selected",t.selected)("tabindex",t.disabled?null:"0"),n.Fb(1),n.tc("ngIf",!t.headerTemplate),n.Fb(1),n.tc("ngTemplateOutlet",t.headerTemplate),n.Fb(1),n.tc("ngIf",t.closable)}}function T(t,e){1&t&&n.Sc(0,S,5,19,"li",7),2&t&&n.tc("ngIf",!e.$implicit.closed)}let y=0,M=(()=>{class t{constructor(t,e,i){this.viewContainer=e,this.cd=i,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+y++,this.tabView=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"content":default:this.contentTemplate=t.template}})}get selected(){return this._selected}set selected(t){this._selected=t,this.loaded||this.cd.detectChanges(),t&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.tabView.cd.markForCheck()}get header(){return this._header}set header(t){this._header=t,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return t.\u0275fac=function(e){return new(e||t)(n.Sb(Object(n.X)(()=>A)),n.Sb(n.S),n.Sb(n.h))},t.\u0275cmp=n.Mb({type:t,selectors:[["p-tabPanel"]],contentQueries:function(t,e,i){if(1&t&&n.Lb(i,c.i,0),2&t){let t;n.Hc(t=n.jc())&&(e.templates=t)}},inputs:{cache:"cache",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",selected:"selected",disabled:"disabled",header:"header",closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",leftIcon:"leftIcon",rightIcon:"rightIcon",tooltip:"tooltip",tooltipStyleClass:"tooltipStyleClass"},ngContentSelectors:u,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(t,e){1&t&&(n.sc(),n.Sc(0,b,3,5,"div",0)),2&t&&n.tc("ngIf",!e.closed)},directives:[s.p,s.t],encapsulation:2}),t})(),A=(()=>{class t{constructor(t,e){this.el=t,this.cd=e,this.orientation="top",this.onChange=new n.o,this.onClose=new n.o,this.activeIndexChange=new n.o}ngAfterContentInit(){this.initTabs(),this.tabPanels.changes.subscribe(t=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(t,e){if(e.disabled)t&&t.preventDefault();else{if(!e.selected){let i=this.findSelectedTab();i&&(i.selected=!1),this.tabChanged=!0,e.selected=!0;let n=this.findTabIndex(e);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(n),this.onChange.emit({originalEvent:t,index:n})}t&&t.preventDefault()}}close(t,e){this.controlClose?this.onClose.emit({originalEvent:t,index:this.findTabIndex(e),close:()=>{this.closeTab(e)}}):(this.closeTab(e),this.onClose.emit({originalEvent:t,index:this.findTabIndex(e)})),t.stopPropagation()}closeTab(t){if(!t.disabled){if(t.selected){this.tabChanged=!0,t.selected=!1;for(let e=0;e<this.tabs.length;e++){let i=this.tabs[e];if(!i.closed&&!t.disabled){i.selected=!0;break}}}t.closed=!0}}findSelectedTab(){for(let t=0;t<this.tabs.length;t++)if(this.tabs[t].selected)return this.tabs[t];return null}findTabIndex(t){let e=-1;for(let i=0;i<this.tabs.length;i++)if(this.tabs[i]==t){e=i;break}return e}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0)}updateInkBar(){let t=r.b.findSingle(this.navbar.nativeElement,"li.p-highlight");this.inkbar.nativeElement.style.width=r.b.getWidth(t)+"px",this.inkbar.nativeElement.style.left=r.b.getOffset(t).left-r.b.getOffset(this.navbar.nativeElement).left+"px"}}return t.\u0275fac=function(e){return new(e||t)(n.Sb(n.m),n.Sb(n.h))},t.\u0275cmp=n.Mb({type:t,selectors:[["p-tabView"]],contentQueries:function(t,e,i){if(1&t&&n.Lb(i,M,0),2&t){let t;n.Hc(t=n.jc())&&(e.tabPanels=t)}},viewQuery:function(t,e){if(1&t&&(n.cd(h,1),n.cd(m,1)),2&t){let t;n.Hc(t=n.jc())&&(e.navbar=t.first),n.Hc(t=n.jc())&&(e.inkbar=t.first)}},inputs:{orientation:"orientation",activeIndex:"activeIndex",style:"style",styleClass:"styleClass",controlClose:"controlClose"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:u,decls:8,vars:5,consts:[[3,"ngClass","ngStyle"],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],[1,"p-tabview-panels"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"]],template:function(t,e){1&t&&(n.sc(),n.Yb(0,"div",0),n.Yb(1,"ul",1,2),n.Sc(3,T,1,1,"ng-template",3),n.Tb(4,"li",4,5),n.Xb(),n.Yb(6,"div",6),n.rc(7),n.Xb(),n.Xb()),2&t&&(n.Hb(e.styleClass),n.tc("ngClass","p-tabview p-component")("ngStyle",e.style),n.Fb(3),n.tc("ngForOf",e.tabs))},directives:[s.n,s.q,s.o,s.p,l.a,o.a,s.t],styles:[".p-tabview-nav{display:flex;flex-wrap:wrap;list-style-type:none;margin:0;padding:0}.p-tabview-nav-link{-ms-user-select:none;-webkit-user-select:none;align-items:center;cursor:pointer;display:flex;overflow:hidden;position:relative;text-decoration:none;user-select:none}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1}.p-tabview-close{z-index:1}"],encapsulation:2,changeDetection:0}),t})(),R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Qb({type:t}),t.\u0275inj=n.Pb({imports:[[s.c,c.j,o.b,l.b],c.j]}),t})()},hQ1B:function(t,e,i){"use strict";i.r(e),i.d(e,"ExtraItemConsumptionModule",function(){return O});var n=i("ofXK"),s=i("tyNb"),o=i("zXHC"),l=i("fXoL");const c=[{path:"",component:o.a}];let r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Qb({type:t}),t.\u0275inj=l.Pb({imports:[[s.l.forChild(c)],s.l]}),t})();var a=i("3Pt+"),d=i("rEr+"),b=i("jIHw"),u=i("Q4Mo"),h=i("arFO"),m=i("7kUa"),p=i("eO1q"),g=i("/RsI"),I=i("Nf9I"),f=i("Ks7X"),v=i("LuMj"),C=i("z8Lm"),S=i("1SLH"),T=i("lVkt"),y=i("ELi9"),M=i("Qcri"),A=i("QbTu"),R=i("fCr0"),D=i("g9iH"),Y=i("BpGo"),P=i("T2Aj"),X=i("dPl2"),U=i("9XlL"),x=i("ycwT"),N=i("kcK2");const B=[{path:"",component:i("t9DX").a}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Qb({type:t}),t.\u0275inj=l.Pb({imports:[[s.l.forChild(B)],s.l]}),t})();var E=i("m1XX"),L=i("QoE7");let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Qb({type:t}),t.\u0275inj=l.Pb({imports:[[n.c,w,E.b,U.a,x.a,L.a]]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Qb({type:t}),t.\u0275inj=l.Pb({imports:[[n.c,r,a.i,a.v,d.f,b.c,u.b,h.b,m.b,p.b,g.b,I.b,f.b,v.b,C.b,S.b,T.b,y.a,M.a,A.a,R.CommonModuleModule,D.b,Y.a,P.a,X.c,U.a,x.a,N.a,k]]}),t})()},t9DX:function(t,e,i){"use strict";i.d(e,"a",function(){return X});var n=i("Nach"),s=i("CwUn"),o=i("fXoL"),l=i("dcBc"),c=i("G+wY"),r=i("NLkC"),a=i("Q8Cd"),d=i("sCq/"),b=i("ofXK"),u=i("Yh3i");function h(t,e){1&t&&(o.Yb(0,"th",8),o.Uc(1,"Dis %"),o.Xb())}function m(t,e){1&t&&(o.Yb(0,"th",8),o.Uc(1," Dis Amount"),o.Xb())}function p(t,e){if(1&t&&(o.Yb(0,"td",27),o.Uc(1),o.nc(2,"number"),o.Xb()),2&t){const t=o.mc().$implicit;o.Fb(1),o.Wc(" ",o.pc(2,1,t.IDiscountPercentage,"1.1-2"),"")}}function g(t,e){if(1&t&&(o.Yb(0,"td",27),o.Uc(1),o.nc(2,"number"),o.Xb()),2&t){const t=o.mc().$implicit;o.Fb(1),o.Wc(" ",o.pc(2,1,t.IDiscountAmount,"1.1-2")," ")}}function I(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",27),o.Uc(2),o.Xb(),o.Yb(3,"td",27),o.Uc(4),o.Xb(),o.Yb(5,"td",27),o.Uc(6),o.Xb(),o.Yb(7,"td",27),o.Uc(8),o.Xb(),o.Yb(9,"td",27),o.Uc(10),o.nc(11,"number"),o.Xb(),o.Sc(12,p,3,4,"td",28),o.Sc(13,g,3,4,"td",28),o.Yb(14,"td",27),o.Uc(15),o.nc(16,"number"),o.Xb(),o.Xb()),2&t){const t=e.$implicit,i=e.index,n=o.mc();o.Fb(2),o.Wc(" ",i+1,""),o.Fb(2),o.Wc(" ",t.HSNCODE,""),o.Fb(2),o.Wc(" ",null==t.FGENERIC||null==t.FGENERIC||"0 x 0"==t.FGENERIC||0==n.IsRoomDesc?t.Description:"Treatment ("+t.Description+")",""),o.Fb(2),o.Wc(" ",t.Qty,""),o.Fb(2),o.Wc(" ",o.pc(11,8,t.MRP,"1.1-2"),""),o.Fb(2),o.tc("ngIf",n.ItemWiseTotalDisAmount>0),o.Fb(1),o.tc("ngIf",n.ItemWiseTotalDisAmount>0),o.Fb(2),o.Wc(" ",o.pc(16,11,t.MRP*t.Qty-t.IDiscountAmount,"1.1-2"),"")}}function f(t,e){1&t&&o.Tb(0,"td",29)}function v(t,e){1&t&&o.Tb(0,"td",29)}function C(t,e){1&t&&(o.Yb(0,"th",33),o.Uc(1,"Transaction By"),o.Xb())}function S(t,e){if(1&t&&(o.Yb(0,"td",38),o.Uc(1),o.Xb()),2&t){const t=o.mc().$implicit;o.Fb(1),o.Wc(" ",t.DepositPatient," ")}}function T(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",38),o.Uc(2),o.nc(3,"titlecase"),o.Xb(),o.Yb(4,"td",38),o.Uc(5),o.nc(6,"titlecase"),o.Xb(),o.Sc(7,S,2,1,"td",39),o.Yb(8,"td",38),o.Uc(9),o.Xb(),o.Yb(10,"td",38),o.Uc(11),o.nc(12,"date"),o.Xb(),o.Yb(13,"td",38),o.Uc(14),o.nc(15,"date"),o.Xb(),o.Yb(16,"td",38),o.Uc(17),o.nc(18,"number"),o.Xb(),o.Xb()),2&t){const t=e.$implicit,i=o.mc(3);o.Fb(2),o.Xc(" ",o.oc(3,8,t.TrnMode)," ","Bank Transfer"==t.TrnMode&&null!=t.BankName?" - "+t.BankName:""," "),o.Fb(3),o.Wc(" ",o.oc(6,10,t.InvType)," "),o.Fb(2),o.tc("ngIf",1==i.lsobjClinicMaster.IsShowTranPatient),o.Fb(2),o.Wc(" ",t.TransactionId," "),o.Fb(2),o.Wc(" ",o.pc(12,12,t.TrnDate,i.customDateFormat.DEF_DATE)," "),o.Fb(3),o.Wc(" ",o.pc(15,15,t.CreatedOn,i.customDateFormat.DEF_DATE)," "),o.Fb(3),o.Wc(" ",o.pc(18,18,"Refund"==t.InvType?-t.Amount:t.Amount,"1.1-2")," ")}}function y(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"th",40),o.Uc(2," Total Refund"),o.Xb(),o.Yb(3,"th",37),o.Uc(4),o.nc(5,"number"),o.Xb(),o.Xb()),2&t){const t=o.mc(3);o.Fb(1),o.tc("colSpan",1==t.lsobjClinicMaster.IsShowTranPatient?6:5),o.Fb(3),o.Wc(" ",o.pc(5,2,t.TotalRefund,"1.1-2"),"")}}function M(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"th",40),o.Uc(2," Total Balance"),o.Xb(),o.Yb(3,"th",37),o.Uc(4),o.nc(5,"number"),o.Xb(),o.Xb()),2&t){const t=o.mc(3);o.Fb(1),o.tc("colSpan",1==t.lsobjClinicMaster.IsShowTranPatient?6:5),o.Fb(3),o.Wc(" ",o.pc(5,2,t.TotalReceive-(t.TotalReceive-(null==t.TrnMain[0]?null:t.TrnMain[0].NETAMNT)+(null==t.TrnMain[0]?null:t.TrnMain[0].NETAMNT)),"1.1-2"),"")}}function A(t,e){if(1&t&&(o.Yb(0,"table",31),o.Yb(1,"thead",6),o.Yb(2,"tr",32),o.Yb(3,"th",33),o.Uc(4,"Payment Mode"),o.Xb(),o.Yb(5,"th",33),o.Uc(6,"Type"),o.Xb(),o.Sc(7,C,2,0,"th",34),o.Yb(8,"th",33),o.Uc(9,"TransactionId"),o.Xb(),o.Yb(10,"th",33),o.Uc(11,"Transaction Date"),o.Xb(),o.Yb(12,"th",33),o.Uc(13,"Receipt Date"),o.Xb(),o.Yb(14,"th",33),o.Uc(15,"Amount"),o.Xb(),o.Xb(),o.Xb(),o.Yb(16,"tbody",6),o.Sc(17,T,19,21,"tr",11),o.Yb(18,"tr"),o.Yb(19,"th",35),o.Uc(20,"\xa0"),o.Xb(),o.Xb(),o.Yb(21,"tr"),o.Yb(22,"th",36),o.Uc(23," Total Receive"),o.Xb(),o.Yb(24,"th",37),o.Uc(25),o.nc(26,"number"),o.Xb(),o.Xb(),o.Sc(27,y,6,5,"tr",19),o.Sc(28,M,6,5,"tr",19),o.Xb(),o.Xb()),2&t){const t=o.mc(2);o.Fb(7),o.tc("ngIf",1==t.lsobjClinicMaster.IsShowTranPatient),o.Fb(10),o.tc("ngForOf",t.TenderInfo),o.Fb(2),o.tc("colSpan",1==t.lsobjClinicMaster.IsShowTranPatient?7:6),o.Fb(3),o.tc("colSpan",1==t.lsobjClinicMaster.IsShowTranPatient?6:5),o.Fb(3),o.Wc(" ",o.pc(26,7,t.TotalReceive,"1.1-2"),""),o.Fb(2),o.tc("ngIf",t.TotalRefund>0&&!t.lsobjClinicMaster.IsTIBriefSummary),o.Fb(1),o.tc("ngIf",t.TenderInfo.length>0&&t.lsobjClinicMaster.IsTIBriefSummary)}}function R(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",30),o.Sc(2,A,29,10,"table",21),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(2),o.tc("ngIf",t.TenderInfo.length>0)}}function D(t,e){1&t&&(o.Yb(0,"table",22),o.Yb(1,"tbody"),o.Yb(2,"tr"),o.Yb(3,"td",33),o.Yb(4,"strong"),o.Uc(5,"Brief Summary"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb())}function Y(t,e){if(1&t&&(o.Yb(0,"table",31),o.Yb(1,"thead",6),o.Yb(2,"tr",32),o.Yb(3,"th",33),o.Uc(4,"Added Rs"),o.Xb(),o.Yb(5,"th",33),o.Uc(6,"Concession Rs"),o.Xb(),o.Yb(7,"th",33),o.Uc(8,"Total Due Rs"),o.Xb(),o.Yb(9,"th",33),o.Uc(10,"Deposited Rs"),o.Xb(),o.Yb(11,"th",33),o.Uc(12,"Refund Rs"),o.Xb(),o.Yb(13,"th",33),o.Uc(14,"Balance Rs"),o.Xb(),o.Xb(),o.Xb(),o.Yb(15,"tbody",6),o.Yb(16,"tr"),o.Yb(17,"td",38),o.Uc(18),o.nc(19,"number"),o.Xb(),o.Yb(20,"td",38),o.Uc(21),o.nc(22,"number"),o.Xb(),o.Yb(23,"td",38),o.Uc(24),o.nc(25,"number"),o.Xb(),o.Yb(26,"td",38),o.Uc(27),o.nc(28,"number"),o.Xb(),o.Yb(29,"td",38),o.Uc(30," 0.0 "),o.Xb(),o.Yb(31,"td",38),o.Uc(32),o.nc(33,"number"),o.Xb(),o.Xb(),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(18),o.Wc(" ",o.pc(19,5,t.TotalAmount+t.TotalDiscount,"1.1-2")," "),o.Fb(3),o.Wc(" ",o.pc(22,8,t.TotalDiscount,"1.1-2")," "),o.Fb(3),o.Wc(" ",o.pc(25,11,t.TotalAmount,"1.1-2")," "),o.Fb(3),o.Wc(" ",o.pc(28,14,t.TotalReceive,"1.1-2")," "),o.Fb(5),o.Wc(" ",o.pc(33,17,t.TotalReceive-(t.TotalReceive-t.TotalAmount+t.TotalAmount),"1.1-2")," ")}}function P(t,e){1&t&&(o.Yb(0,"table",22),o.Yb(1,"tbody"),o.Yb(2,"tr"),o.Yb(3,"td",41),o.Yb(4,"strong"),o.Uc(5,"Bill Is Provisional"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb())}let X=(()=>{class t extends s.a{constructor(t,e,i,s){super(),this.cdRef=t,this._MasterServices=e,this._PatientServices=i,this._UtilityService=s,this.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,this.customDateFormat=n.h,this.IsVisitor=!1,this.RemainingAmount=0,this.TrnMain=[],this.ProdList=[],this.ShowBatchExpiry=!1,this.lstItem=[],this.TotalAmount=0,this.ItemWiseTotalDisAmount=0,this.BillWiseDiscountPer=0,this.TenderInfo=[],this.TotalFlatDiscount=0,this.TotalDiscount=0,this.RoomNumber=0,this.LstRoomCountByMCode=[],this.IsRoomDesc=!0,this.TotalReceive=0,this.TotalRefund=0,this.IsLetterhead="false",this.TotalQuantity=0}ngOnInit(){}ngOnChanges(t){this.LoadInvoiceData()}onselectedLetterhead(t){this.IsLetterhead=t}LoadInvoiceData(){this.TotalReceive=0,this.TotalRefund=0,this.TenderInfo=[],this.TrnMain=[],this.ProdList=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.getViewPerformaForHMSCombinedGrouped(this.SlotBookingIdSelected).subscribe(t=>{var e,i,n;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var s=JSON.parse(t.actionResult.result);if(this.ProdList=s=s||[],(null===(e=this.ProdList.filter(t=>"Treatment/Medicated food charges"==t.DESCRIPTION||"Treatment Charges"==t.DESCRIPTION))||void 0===e?void 0:e.length)>0&&(this.IsRoomDesc=!1),this.TotalAmount=0,this.cdRef.detectChanges(),this.ProdList.map(t=>{this.TotalQuantity=this.TotalQuantity+t.Qty,this.TotalAmount=this.TotalAmount+(t.MRP*t.Qty-t.IDiscountAmount),this.ItemWiseTotalDisAmount=this.ItemWiseTotalDisAmount+t.IDiscountAmount}),this.BillWiseDiscountPer=100*this.TotalFlatDiscount/this.TotalAmount,this.TotalDiscount=this.ItemWiseTotalDisAmount+this.TotalFlatDiscount,null!=t.actionResult.result3&&null!=t.actionResult.result3&&(null===(i=t.actionResult.result3)||void 0===i?void 0:i.length)>0){var o=JSON.parse(t.actionResult.result3);this.TenderInfo=o=o||[],(null===(n=this.TenderInfo)||void 0===n?void 0:n.length)>0&&(this.TenderInfo.map(t=>{"Receive"==t.InvType&&(this.TotalReceive=this.TotalReceive+parseFloat(t.Amount)),"Refund"==t.InvType&&(this.TotalRefund=this.TotalRefund+parseFloat(t.Amount))}),this.cdRef.detectChanges())}}this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(o.h),o.Sb(l.a),o.Sb(c.a),o.Sb(r.a))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-pre-invoice-print"]],inputs:{SlotBookingIdSelected:"SlotBookingIdSelected",RemainingAmount:"RemainingAmount"},features:[o.Cb,o.Db],decls:76,vars:33,consts:[[3,"IsLetterhead","IsNgxPrint","onselectedLetterhead"],["id","print-section",1,"row"],[1,"col-md-12"],[3,"IsVisitor","slotBookingId","IsGroup","IsGST","IsLetterhead"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","font-size","15px"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","10px","overflow-x","scroll"],["align","Center"],[2,"background-color","#d3d3d3"],[2,"padding","6px","border-left","1px solid #d3d3d3"],["style","padding: 6px;border-left: 1px solid #d3d3d3;",4,"ngIf"],[2,"padding","6px","border-left","1px solid #d3d3d3","border-right","1px solid #d3d3d3"],[4,"ngFor","ngForOf"],["colspan","3","align","right",2,"padding","2px"],[2,"padding","2px"],["colspan","2",4,"ngIf"],["align","right",2,"padding","2px"],["colspan","4","align","left",2,"padding","2px"],["align","right",2,"padding","2px","font-size","medium"],[2,"font-size","medium"],[4,"ngIf"],["style","width: 100%; margin: 0 auto; box-sizing: border-box;","cellpadding","0","cellspacing","0",4,"ngIf"],["style","width: 100%; margin: 0 auto; box-sizing: border-box; border: 1px solid #d3d3d3; margin-top: 5px;","cellpadding","0","cellspacing","0",4,"ngIf"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box"],[2,"width","100%","line-height","80px"],[2,"width","60%"],[2,"width","40%"],[1,"mt-3"],[2,"padding","6px 0","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3"],["style","padding: 6px 0; border-left: 1px solid #d3d3d3; border-bottom: 1px solid #d3d3d3;border-top: 1px solid #d3d3d3;",4,"ngIf"],["colspan","2"],["colspan","8"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","5px"],[2,"background","#d3d3d3"],[2,"padding","6px"],["style","padding: 6px;",4,"ngIf"],[3,"colSpan"],[2,"padding","6px 10px","border-left","1px solid #d5d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3","text-align","right",3,"colSpan"],[2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3"],[2,"padding","6px 0","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["style","padding: 6px 0; border-left: 1px solid #d3d3d3; border-bottom: 1px solid #d3d3d3;",4,"ngIf"],[2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3","text-align","right",3,"colSpan"],["align","Center",2,"padding","6px"]],template:function(t,e){1&t&&(o.Yb(0,"app-print-access-header",0),o.ic("onselectedLetterhead",function(t){return e.onselectedLetterhead(t)}),o.Xb(),o.Yb(1,"div",1),o.Yb(2,"div",2),o.Tb(3,"app-print-header",3),o.Yb(4,"table",4),o.Yb(5,"tbody"),o.Yb(6,"tr"),o.Yb(7,"table",5),o.Yb(8,"thead",6),o.Yb(9,"tr",7),o.Yb(10,"th",8),o.Uc(11,"S.No"),o.Xb(),o.Yb(12,"th",8),o.Uc(13,"HSN/SAC"),o.Xb(),o.Yb(14,"th",8),o.Uc(15,"Description"),o.Xb(),o.Yb(16,"th",8),o.Uc(17,"QTY"),o.Xb(),o.Yb(18,"th",8),o.Uc(19,"MRP"),o.Xb(),o.Sc(20,h,2,0,"th",9),o.Sc(21,m,2,0,"th",9),o.Yb(22,"th",10),o.Uc(23," Amount"),o.Xb(),o.Xb(),o.Xb(),o.Yb(24,"tbody",6),o.Sc(25,I,17,14,"tr",11),o.Yb(26,"tr"),o.Yb(27,"td",12),o.Yb(28,"b"),o.Uc(29,"No of item:"),o.Xb(),o.Xb(),o.Yb(30,"td",13),o.Uc(31),o.nc(32,"number"),o.Xb(),o.Sc(33,f,1,0,"td",14),o.Yb(34,"td",15),o.Yb(35,"b"),o.Uc(36,"Total Amount:"),o.Xb(),o.Xb(),o.Yb(37,"td"),o.Uc(38),o.nc(39,"number"),o.Xb(),o.Xb(),o.Yb(40,"tr"),o.Yb(41,"td",16),o.Yb(42,"b"),o.Uc(43,"Amount in words:"),o.Xb(),o.Uc(44),o.nc(45,"amountToWord"),o.Xb(),o.Sc(46,v,1,0,"td",14),o.Yb(47,"td",17),o.Yb(48,"b"),o.Uc(49,"Total Remaining:"),o.Xb(),o.Xb(),o.Yb(50,"td",18),o.Yb(51,"b"),o.Uc(52),o.nc(53,"number"),o.Xb(),o.Xb(),o.Xb(),o.Sc(54,R,3,1,"tr",19),o.Xb(),o.Xb(),o.Sc(55,D,6,0,"table",20),o.Sc(56,Y,34,20,"table",21),o.Sc(57,P,6,0,"table",20),o.Yb(58,"table",22),o.Yb(59,"tbody"),o.Yb(60,"tr",23),o.Yb(61,"td",24),o.Yb(62,"b"),o.Uc(63,"Health Seeker's Signature: ................................"),o.Xb(),o.Xb(),o.Yb(64,"td",25),o.Yb(65,"b"),o.Uc(66,"Authorised Signatory: ................................"),o.Xb(),o.Xb(),o.Xb(),o.Yb(67,"tr"),o.Yb(68,"td",24),o.Yb(69,"b"),o.Uc(70,"Prepared By: .........................................................."),o.Xb(),o.Xb(),o.Yb(71,"td",25),o.Yb(72,"b"),o.Uc(73,"Checked By: ...................................................."),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Yb(74,"div",26),o.Yb(75,"app-print-access-header",0),o.ic("onselectedLetterhead",function(t){return e.onselectedLetterhead(t)}),o.Xb(),o.Xb()),2&t&&(o.tc("IsLetterhead",e.IsLetterhead)("IsNgxPrint",!0),o.Fb(3),o.tc("IsVisitor",e.IsVisitor)("slotBookingId",e.SlotBookingIdSelected)("IsGroup",!0)("IsGST",!0)("IsLetterhead",e.IsLetterhead),o.Fb(17),o.tc("ngIf",e.ItemWiseTotalDisAmount>0),o.Fb(1),o.tc("ngIf",e.ItemWiseTotalDisAmount>0),o.Fb(4),o.tc("ngForOf",e.ProdList),o.Fb(6),o.Vc(o.pc(32,22,e.TotalQuantity,"1.0-0")),o.Fb(2),o.tc("ngIf",e.ItemWiseTotalDisAmount>0),o.Fb(5),o.Wc("",o.pc(39,25,e.TotalAmount,"1.1-2")," "),o.Fb(6),o.Wc(" ",o.oc(45,28,e.TotalAmount),""),o.Fb(2),o.tc("ngIf",e.ItemWiseTotalDisAmount>0),o.Fb(6),o.Vc(o.pc(53,30,e.RemainingAmount,"1.1-2")),o.Fb(2),o.tc("ngIf",e.TenderInfo.length>0),o.Fb(1),o.tc("ngIf",e.TenderInfo.length>0&&e.lsobjClinicMaster.IsTIBriefSummary),o.Fb(1),o.tc("ngIf",e.TenderInfo.length>0&&e.lsobjClinicMaster.IsTIBriefSummary),o.Fb(1),o.tc("ngIf",e.TenderInfo.length>0&&e.lsobjClinicMaster.IsTIBriefSummary),o.Fb(18),o.tc("IsLetterhead",e.IsLetterhead)("IsNgxPrint",!0))},directives:[a.a,d.a,b.p,b.o],pipes:[b.g,u.a,b.y,b.f],styles:[""]}),t})()},zXHC:function(t,e,i){"use strict";i.d(e,"a",function(){return hn});var n=i("1kSV"),s=i("aeiD"),o=i("CwUn"),l=i("Nach"),c=i("fXoL"),r=i("tyNb"),a=i("dcBc"),d=i("G+wY"),b=i("NLkC"),u=i("3Pt+"),h=i("7zfz"),m=i("ofXK"),p=i("/RsI"),g=i("AAHA"),I=i("LuMj"),f=i("arFO"),v=i("dPl2"),C=i("rEr+"),S=i("jIHw"),T=i("z8Lm"),y=i("g9iH"),M=i("Ks7X"),A=i("7kUa"),R=i("Q4Mo"),D=i("btFH"),Y=i("Rtg/"),P=i("MHjV"),X=i("lVkt"),U=i("eO1q"),x=i("+Lcm"),N=i("Q8Cd"),B=i("sCq/"),w=i("KkSF"),E=i("jhiP"),L=i("9b74"),k=i("t9DX");const O=["AttBankslip1"],F=["AttRefAppslip1"];function _(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",42),c.Yb(1,"div",43),c.Yb(2,"label",44),c.Uc(3,"Center "),c.Yb(4,"span",45),c.Uc(5,"*"),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",46),c.Yb(7,"app-center-dropdown",47),c.ic("onclinicSelect",function(e){return c.Lc(t),c.mc().onclinicSelect(e)})("onselectedClinic",function(e){return c.Lc(t),c.mc().onselectedClinic(e)}),c.Xb(),c.Xb(),c.Xb()}2&t&&(c.Fb(7),c.tc("isCenterLabel",!1)("mode","get"))}function W(t,e){1&t&&c.Tb(0,"hr")}function j(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",48),c.Yb(1,"div",49),c.Yb(2,"p-radioButton",50),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().CustomerType=e})("onClick",function(){return c.Lc(t),c.mc().OnChangeOption()}),c.Xb(),c.Yb(3,"label",51),c.Uc(4,"Patient"),c.Xb(),c.Yb(5,"p-radioButton",52),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().CustomerType=e})("onClick",function(){return c.Lc(t),c.mc().OnChangeOption()}),c.Xb(),c.Yb(6,"label",51),c.Uc(7,"Visitor"),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.Fb(2),c.tc("ngModel",t.CustomerType),c.Fb(3),c.tc("ngModel",t.CustomerType)}}function V(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",48),c.Yb(1,"button",53),c.ic("click",function(){return c.Lc(t),c.mc().ShowInvoiceList()}),c.Uc(2,"Voucher List"),c.Xb(),c.Xb()}}function Z(t,e){1&t&&(c.Yb(0,"div",54),c.Yb(1,"label"),c.Uc(2,"Select Health Seeker "),c.Xb(),c.Xb())}function G(t,e){1&t&&c.Uc(0),2&t&&c.Wc(" ",e.$implicit.name," ")}function q(t,e){if(1&t&&c.Uc(0),2&t){const t=e.$implicit;c.Xc(" ",t.FullName,"-",t.BookingNumber," ")}}const H=function(){return{width:"100%"}};function Q(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",55),c.Yb(1,"p-dropdown",56),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().userSelected=e})("onChange",function(){return c.Lc(t),c.mc().onChangeHealthSeeker()}),c.Sc(2,G,1,1,"ng-template",57),c.Sc(3,q,1,2,"ng-template",58),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.Fb(1),c.Pc(c.yc(6,H)),c.tc("options",t.UserList)("ngModel",t.userSelected)("filter",!0)("showClear",!0)}}function z(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",59),c.Yb(1,"div",67),c.Yb(2,"label"),c.Uc(3,"Emp. Code "),c.Yb(4,"span",45),c.Uc(5,"*"),c.Xb(),c.Xb(),c.Yb(6,"input",74),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).VisitorUserMaster.EmpCode=e}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(6),c.tc("ngModel",t.VisitorUserMaster.EmpCode)}}function K(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",59),c.Yb(1,"div",67),c.Yb(2,"label"),c.Uc(3,"Department"),c.Xb(),c.Yb(4,"input",75),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).VisitorUserMaster.Department=e}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(4),c.tc("ngModel",t.VisitorUserMaster.Department)}}function J(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",2),c.Yb(1,"div",59),c.Yb(2,"div",60),c.Yb(3,"label",61),c.Uc(4,"First Name "),c.Yb(5,"span",45),c.Uc(6,"*"),c.Xb(),c.Xb(),c.Yb(7,"input",62,63),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().VisitorUserMaster.FirstName=e})("keypress",function(e){return c.Lc(t),c.mc().validateText(e)}),c.Xb(),c.Xb(),c.Xb(),c.Yb(9,"div",59),c.Yb(10,"div",60),c.Yb(11,"label",61),c.Uc(12,"Last Name"),c.Xb(),c.Yb(13,"input",64),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().VisitorUserMaster.LastName=e})("keypress",function(e){return c.Lc(t),c.mc().validateText(e)}),c.Xb(),c.Xb(),c.Xb(),c.Yb(14,"div",59),c.Yb(15,"div",60),c.Yb(16,"label",61),c.Uc(17,"Mobile"),c.Xb(),c.Yb(18,"input",65,66),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().VisitorUserMaster.ContactNumber=e})("keypress",function(e){return c.Lc(t),c.mc().validateNumber(e)}),c.Xb(),c.Xb(),c.Xb(),c.Yb(20,"div",59),c.Yb(21,"div",67),c.Yb(22,"label"),c.Uc(23,"AddressLine 1"),c.Xb(),c.Yb(24,"input",68),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().VisitorUserMaster.ADDRESS=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(25,"div",69),c.Yb(26,"div",60),c.Yb(27,"div",70),c.Yb(28,"label",71),c.Uc(29,"Is Staff"),c.Xb(),c.Yb(30,"input",72),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().VisitorUserMaster.IsStaff=e}),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Sc(31,z,7,1,"div",73),c.Sc(32,K,5,1,"div",73),c.Xb()}if(2&t){const t=c.mc();c.Fb(7),c.tc("ngModel",t.VisitorUserMaster.FirstName),c.Fb(6),c.tc("ngModel",t.VisitorUserMaster.LastName),c.Fb(5),c.tc("ngModel",t.VisitorUserMaster.ContactNumber),c.Fb(6),c.tc("ngModel",t.VisitorUserMaster.ADDRESS),c.Fb(6),c.tc("ngModel",t.VisitorUserMaster.IsStaff),c.Fb(1),c.tc("ngIf",t.VisitorUserMaster.IsStaff),c.Fb(1),c.tc("ngIf",t.VisitorUserMaster.IsStaff)}}function tt(t,e){if(1&t&&(c.Yb(0,"label"),c.Uc(1),c.Xb()),2&t){const t=c.mc(2);c.Fb(1),c.Wc("(",t.BalanceType,")")}}function et(t,e){if(1&t&&(c.Yb(0,"div",48),c.Yb(1,"h5",77),c.Yb(2,"span",84),c.Uc(3," \u20b9 "),c.Xb(),c.Uc(4),c.nc(5,"number"),c.Xb(),c.Xb()),2&t){const t=c.mc(2);c.Fb(4),c.Wc("Remaining Amount: ",c.pc(5,1,t.RemainingAmount,"1.1-2")," ")}}function it(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",85),c.ic("click",function(){return c.Lc(t),c.mc(2).ShowAddCreditNoteModel()}),c.Tb(1,"i",86),c.Uc(2," Add"),c.Xb()}}function nt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",89),c.ic("click",function(){return c.Lc(t),c.mc(3).ShowRefundCreditNoteModel()}),c.Tb(1,"i",90),c.Uc(2," Refund"),c.Xb()}}function st(t,e){if(1&t&&(c.Yb(0,"div",87),c.Sc(1,nt,3,0,"button",88),c.Xb()),2&t){const t=c.mc(2);c.Fb(1),c.tc("ngIf",t.CreditNoteBalanceAmount<0)}}function ot(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",76),c.Yb(1,"div",48),c.Yb(2,"h5",77),c.Yb(3,"span",78),c.Uc(4," account_balance_wallet "),c.Xb(),c.Uc(5),c.nc(6,"number"),c.Sc(7,tt,2,1,"label",1),c.Xb(),c.Xb(),c.Yb(8,"div",48),c.Yb(9,"h5",77),c.Yb(10,"span",78),c.Uc(11," account_balance_wallet\n"),c.Xb(),c.Uc(12),c.nc(13,"number"),c.Xb(),c.Xb(),c.Sc(14,et,6,4,"div",3),c.Yb(15,"div",79),c.Sc(16,it,3,0,"button",80),c.Yb(17,"button",81),c.ic("click",function(){return c.Lc(t),c.mc().GetColonhydrothrapyCount()}),c.Tb(18,"i",82),c.Xb(),c.Xb(),c.Sc(19,st,2,1,"div",83),c.Xb()}if(2&t){const t=c.mc();c.Fb(5),c.Wc("Account Balance : ",c.pc(6,6,t.CreditNoteBalanceAmount,"1.1-2")," "),c.Fb(2),c.tc("ngIf",t.BalanceType),c.Fb(5),c.Wc(" Credit Balance : ",c.pc(13,9,t.CreditNoteBalance,"1.1-2"),""),c.Fb(2),c.tc("ngIf",t.RemainingAmount>0||t.RemainingAmount<0),c.Fb(2),c.tc("ngIf",null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.ReadWrite.toString())),c.Fb(3),c.tc("ngIf",1==(null==t.ClinicDetails?null:t.ClinicDetails.IsShowRefundonBilling))}}function lt(t,e){1&t&&c.Ub(0)}function ct(t,e){1&t&&c.Ub(0)}function rt(t,e){if(1&t&&(c.Yb(0,"p-tabPanel",101),c.Sc(1,ct,1,0,"ng-container",95),c.Xb()),2&t){c.mc(2);const t=c.Ic(11);c.Fb(1),c.tc("ngTemplateOutlet",t)}}function at(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",102),c.ic("click",function(){return c.Lc(t),c.mc(2).saveExtraItem()}),c.Uc(1,"Save Item"),c.Xb()}}function dt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",102),c.ic("click",function(){return c.Lc(t),c.mc(2).saveExtraItemVisitor()}),c.Uc(1,"Save Item"),c.Xb()}}function bt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",91),c.Yb(1,"div",92),c.Yb(2,"p-tabView",93),c.ic("activeIndexChange",function(e){return c.Lc(t),c.mc().selectedTab=e})("onChange",function(e){return c.Lc(t),c.mc().tabClick(e)}),c.Yb(3,"p-tabPanel",94),c.Sc(4,lt,1,0,"ng-container",95),c.Xb(),c.Sc(5,rt,2,1,"p-tabPanel",96),c.Yb(6,"div",91),c.Yb(7,"div",97),c.Yb(8,"div",60),c.Sc(9,at,2,0,"button",98),c.Sc(10,dt,2,0,"button",98),c.Xb(),c.Xb(),c.Yb(11,"div",97),c.Yb(12,"label",99),c.Yb(13,"strong"),c.Uc(14,"Multi Select"),c.Xb(),c.Xb(),c.Yb(15,"input",100),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().IsListView=e})("click",function(){return c.Lc(t),c.mc().ResetExtraItemList()}),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(),e=c.Ic(11);c.Fb(2),c.tc("activeIndex",t.selectedTab),c.Fb(1),c.uc("header","Patient"==t.CustomerType?"Non-Prescribed":"Billable Item"),c.Fb(1),c.tc("ngTemplateOutlet",e),c.Fb(1),c.tc("ngIf","Patient"==t.CustomerType),c.Fb(4),c.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.ReadWrite.toString()))&&"Patient"==t.CustomerType),c.Fb(1),c.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.ReadWrite.toString()))&&"Visitor"==t.CustomerType),c.Fb(5),c.tc("ngModel",t.IsListView)}}function ut(t,e){1&t&&(c.Yb(0,"colgroup"),c.Tb(1,"col",108),c.Tb(2,"col",109),c.Tb(3,"col",110),c.Tb(4,"col",110),c.Tb(5,"col",110),c.Tb(6,"col",109),c.Xb())}function ht(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"th"),c.Uc(2,"Item"),c.Xb(),c.Yb(3,"th"),c.Uc(4,"Unit"),c.Xb(),c.Yb(5,"th",111),c.Uc(6,"Quantity"),c.Xb(),c.Yb(7,"th",111),c.Uc(8,"MRP"),c.Xb(),c.Yb(9,"th",111),c.Uc(10,"Purpose"),c.Xb(),c.Yb(11,"th",111),c.Uc(12,"Action"),c.Xb(),c.Xb())}function mt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"p-tree",126),c.ic("onNodeSelect",function(e){c.Lc(t);const i=c.mc(2).rowIndex;return c.mc(3).nodeSelect(e,i)})("selectionChange",function(e){return c.Lc(t),c.mc(5).selection=e}),c.Xb()}if(2&t){const t=c.mc(2).rowIndex,e=c.mc(3);c.vc("id","tree_",e.lstExtraItemDetails[t].Sequence,""),c.tc("value",e.itemMaster)("filter",!0)("selection",e.selection)("styleClass","custom-ui-tree")}}function pt(t,e){if(1&t&&(c.Sc(0,mt,1,5,"p-tree",125),c.Tb(1,"br")),2&t){const t=c.mc(4);c.tc("ngIf",0==t.IsListView)}}function gt(t,e){1&t&&c.Uc(0),2&t&&c.Wc(" ",e.$implicit.UOMName," ")}function It(t,e){if(1&t){const t=c.Zb();c.Yb(0,"p-inputNumber",127),c.ic("ngModelChange",function(e){c.Lc(t);const i=c.mc().rowIndex;return c.mc(3).lstExtraItemDetails[i].Qty=e}),c.Xb()}if(2&t){const t=c.mc().rowIndex,e=c.mc(3);c.vc("name","Qty_",e.lstExtraItemDetails[t].Sequence,""),c.tc("ngModel",e.lstExtraItemDetails[t].Qty)("useGrouping",!1)("min",0)("maxlength",5)}}function ft(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",128),c.Yb(1,"div",129),c.Yb(2,"span"),c.Uc(3,"Night"),c.Xb(),c.Xb(),c.Yb(4,"div",130),c.Yb(5,"p-inputNumber",131),c.ic("onInput",function(e){c.Lc(t);const i=c.mc().rowIndex,n=c.mc(3);return n.CalculateITotalNightRev(e,n.lstExtraItemDetails[i].Sequence)})("ngModelChange",function(e){c.Lc(t);const i=c.mc().rowIndex;return c.mc(3).lstExtraItemDetails[i].NightCount=e}),c.Xb(),c.Xb(),c.Yb(6,"div",129),c.Yb(7,"span"),c.Uc(8," X Bed"),c.Xb(),c.Xb(),c.Yb(9,"div",130),c.Yb(10,"p-inputNumber",131),c.ic("onInput",function(e){c.Lc(t);const i=c.mc().rowIndex,n=c.mc(3);return n.CalculateITotalDaysRev(e,n.lstExtraItemDetails[i].Sequence)})("ngModelChange",function(e){c.Lc(t);const i=c.mc().rowIndex;return c.mc(3).lstExtraItemDetails[i].RoomCount=e}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc().rowIndex,e=c.mc(3);c.Fb(5),c.Pc(c.yc(14,H)),c.vc("name","QtyNight_",e.lstExtraItemDetails[t].Sequence,""),c.tc("ngModel",e.lstExtraItemDetails[t].NightCount)("useGrouping",!1)("min",1)("maxlength",5),c.Fb(5),c.Pc(c.yc(15,H)),c.vc("name","QtyRoom_",e.lstExtraItemDetails[t].Sequence,""),c.tc("ngModel",e.lstExtraItemDetails[t].RoomCount)("useGrouping",!1)("min",1)("maxlength",5)}}function vt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"p"),c.Yb(1,"p-inputNumber",132),c.ic("ngModelChange",function(e){c.Lc(t);const i=c.mc().rowIndex;return c.mc(3).lstExtraItemDetails[i].MRP=e}),c.Xb(),c.Xb()}if(2&t){const t=c.mc().rowIndex,e=c.mc(3);c.Fb(1),c.Pc(c.yc(7,H)),c.vc("name","MRPDetails_",e.lstExtraItemDetails[t].Sequence,""),c.tc("ngModel",e.lstExtraItemDetails[t].MRP)("useGrouping",!1)("min",1)("maxlength",5)}}function Ct(t,e){if(1&t&&(c.Yb(0,"p"),c.Uc(1),c.nc(2,"number"),c.Xb()),2&t){const t=c.mc().rowIndex,e=c.mc(3);c.Fb(1),c.Wc(" ",c.pc(2,1,e.lstExtraItemDetails[t].MRP,"1.1-2")," ")}}function St(t,e){if(1&t){const t=c.Zb();c.Yb(0,"input",133),c.ic("ngModelChange",function(e){c.Lc(t);const i=c.mc().rowIndex;return c.mc(3).lstExtraItemDetails[i].OtherPurpose=e}),c.Xb()}if(2&t){const t=c.mc().rowIndex,e=c.mc(3);c.vc("name","ItemDesc_",e.lstExtraItemDetails[t].Sequence,""),c.tc("ngModel",e.lstExtraItemDetails[t].OtherPurpose)}}function Tt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"a",122),c.ic("click",function(){c.Lc(t);const e=c.mc().rowIndex,i=c.mc(3);return i.RemoveExtraItemDetails(i.lstExtraItemDetails[e].Sequence)}),c.Tb(1,"i",90),c.Xb()}}function yt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"i",134),c.ic("click",function(){c.Lc(t);const e=c.mc().rowIndex,i=c.mc(3);return i.ResetItem(i.lstExtraItemDetails[e].Sequence)}),c.Xb()}}function Mt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Yb(2,"button",112),c.ic("click",function(){return c.Lc(t),c.Ic(6).hide()}),c.Uc(3," Cancel "),c.Xb(),c.Yb(4,"p-button",113),c.ic("click",function(e){return c.Lc(t),c.Ic(6).toggle(e)}),c.Xb(),c.Yb(5,"p-overlayPanel",114,115),c.Sc(7,pt,2,1,"ng-template",116),c.Xb(),c.Xb(),c.Yb(8,"td"),c.Yb(9,"p-dropdown",117),c.ic("ngModelChange",function(i){c.Lc(t);const n=e.rowIndex;return c.mc(3).lstExtraItemDetails[n].UOMS=i}),c.Sc(10,gt,1,1,"ng-template",57),c.Xb(),c.Xb(),c.Yb(11,"td",118),c.Sc(12,It,1,5,"p-inputNumber",119),c.Sc(13,ft,11,16,"div",120),c.Xb(),c.Yb(14,"td",111),c.Sc(15,vt,2,8,"p",1),c.Sc(16,Ct,3,4,"p",1),c.Xb(),c.Yb(17,"td",111),c.Sc(18,St,1,2,"input",121),c.Xb(),c.Yb(19,"td",111),c.Yb(20,"a",122),c.ic("click",function(){return c.Lc(t),c.mc(3).AddExtraItemDetails()}),c.Tb(21,"i",86),c.Xb(),c.Sc(22,Tt,2,0,"a",123),c.Sc(23,yt,1,0,"i",124),c.Xb(),c.Xb()}if(2&t){const t=e.rowIndex,i=c.mc(3);c.Fb(4),c.vc("id","btn_op_",i.lstExtraItemDetails[t].Sequence,""),c.tc("label",""!=i.lstExtraItemDetails[t].Description?i.lstExtraItemDetails[t].Description:"Select Fee Head"),c.Fb(1),c.vc("id","op_",i.lstExtraItemDetails[t].Sequence,""),c.tc("showCloseIcon",!1),c.Fb(4),c.Pc(c.yc(18,H)),c.vc("name","ddlUM_",i.lstExtraItemDetails[t].Sequence,""),c.tc("options",i.lstExtraItemDetails[t].UMList)("ngModel",i.lstExtraItemDetails[t].UOMS)("filter",!0)("showClear",!0),c.Fb(3),c.tc("ngIf","Room"!=i.lstExtraItemDetails[t].Category),c.Fb(1),c.tc("ngIf","Room"==i.lstExtraItemDetails[t].Category),c.Fb(2),c.tc("ngIf",i.lstExtraItemDetails[t].MCODE==i.defaultItemMCODE.OtherCharge||1==i.lstExtraItemDetails[t].IsEditable),c.Fb(1),c.tc("ngIf",i.lstExtraItemDetails[t].MCODE!=i.defaultItemMCODE.OtherCharge&&0==i.lstExtraItemDetails[t].IsEditable),c.Fb(2),c.tc("ngIf",i.lstExtraItemDetails[t].MCODE==i.defaultItemMCODE.OtherCharge||1==i.lstExtraItemDetails[t].IsEditable),c.Fb(4),c.tc("ngIf",1!==i.lstExtraItemDetails[t].Sequence),c.Fb(1),c.tc("ngIf",""!=i.lstExtraItemDetails[t].Description)}}function At(t,e){if(1&t&&(c.Yb(0,"p-table",105,106),c.Sc(2,ut,7,0,"ng-template",107),c.Sc(3,ht,13,0,"ng-template",32),c.Sc(4,Mt,24,19,"ng-template",28),c.Xb()),2&t){const t=c.mc(2);c.tc("value",t.lstExtraItemDetails)("rowHover",!0)("scrollable",!0)}}function Rt(t,e){1&t&&(c.Yb(0,"colgroup"),c.Tb(1,"col",135),c.Tb(2,"col",136),c.Xb())}function Dt(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"th"),c.Uc(2,"Item"),c.Xb(),c.Yb(3,"th",111),c.Uc(4,"Quantity"),c.Xb(),c.Xb())}function Yt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"p-tree",142),c.ic("onNodeSelect",function(e){c.Lc(t);const i=c.mc().rowIndex;return c.mc(3).nodeSelect(e,i)})("onNodeUnselect",function(e){c.Lc(t);const i=c.mc().rowIndex;return c.mc(3).nodeSelect(e,i)})("selectionChange",function(e){return c.Lc(t),c.mc(4).selectedNodesItem=e}),c.Xb(),c.Tb(1,"br")}if(2&t){const t=c.mc(4);c.tc("filter",!0)("value",t.itemMaster)("filter",!0)("selection",t.selectedNodesItem)("styleClass","custom-ui-tree")}}function Pt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"p-inputNumber",143),c.ic("ngModelChange",function(e){c.Lc(t);const i=c.mc().rowIndex;return c.mc(3).lstExtraItemDetails[i].Qty=e}),c.Xb()}if(2&t){const t=c.mc().rowIndex,e=c.mc(3);c.vc("name","Qty_",e.lstExtraItemDetails[t].Sequence,""),c.tc("ngModel",e.lstExtraItemDetails[t].Qty)("useGrouping",!1)("min",0)("maxlength",5)}}function Xt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",128),c.Yb(1,"div",129),c.Yb(2,"span"),c.Uc(3,"Night"),c.Xb(),c.Xb(),c.Yb(4,"div",130),c.Yb(5,"p-inputNumber",131),c.ic("onInput",function(e){c.Lc(t);const i=c.mc().rowIndex,n=c.mc(3);return n.CalculateITotalNightRev(e,n.lstExtraItemDetails[i].Sequence)})("ngModelChange",function(e){c.Lc(t);const i=c.mc().rowIndex;return c.mc(3).lstExtraItemDetails[i].NightCount=e}),c.Xb(),c.Xb(),c.Yb(6,"div",129),c.Yb(7,"span"),c.Uc(8," X Bed"),c.Xb(),c.Xb(),c.Yb(9,"div",130),c.Yb(10,"p-inputNumber",131),c.ic("onInput",function(e){c.Lc(t);const i=c.mc().rowIndex,n=c.mc(3);return n.CalculateITotalDaysRev(e,n.lstExtraItemDetails[i].Sequence)})("ngModelChange",function(e){c.Lc(t);const i=c.mc().rowIndex;return c.mc(3).lstExtraItemDetails[i].RoomCount=e}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc().rowIndex,e=c.mc(3);c.Fb(5),c.Pc(c.yc(14,H)),c.vc("name","QtyNight_",e.lstExtraItemDetails[t].Sequence,""),c.tc("ngModel",e.lstExtraItemDetails[t].NightCount)("useGrouping",!1)("min",1)("maxlength",5),c.Fb(5),c.Pc(c.yc(15,H)),c.vc("name","QtyRoom_",e.lstExtraItemDetails[t].Sequence,""),c.tc("ngModel",e.lstExtraItemDetails[t].RoomCount)("useGrouping",!1)("min",1)("maxlength",5)}}function Ut(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Yb(2,"button",137),c.ic("click",function(){return c.Lc(t),c.Ic(6).hide()}),c.Uc(3," Cancel "),c.Xb(),c.Yb(4,"p-button",138),c.ic("click",function(e){return c.Lc(t),c.Ic(6).toggle(e)}),c.Xb(),c.Yb(5,"p-overlayPanel",139,140),c.Sc(7,Yt,2,5,"ng-template",116),c.Xb(),c.Xb(),c.Yb(8,"td",118),c.Sc(9,Pt,1,5,"p-inputNumber",141),c.Sc(10,Xt,11,16,"div",120),c.Xb(),c.Xb()}if(2&t){const t=e.rowIndex,i=c.mc(3);c.Fb(4),c.tc("label",(null==i.selectedNodesItem?null:i.selectedNodesItem.length)>0?(null==i.lstExtraListItemDetails?null:i.lstExtraListItemDetails.length)+" Item Selected":"Select Fee Head"),c.Fb(1),c.tc("showCloseIcon",!1),c.Fb(4),c.tc("ngIf","Room"!=i.lstExtraItemDetails[t].Category),c.Fb(1),c.tc("ngIf","Room"==i.lstExtraItemDetails[t].Category)}}function xt(t,e){if(1&t&&(c.Yb(0,"p-table",105,106),c.Sc(2,Rt,3,0,"ng-template",107),c.Sc(3,Dt,5,0,"ng-template",32),c.Sc(4,Ut,11,4,"ng-template",28),c.Xb()),2&t){const t=c.mc(2);c.tc("value",t.lstExtraItemEmpty)("rowHover",!0)("scrollable",!0)}}function Nt(t,e){if(1&t&&(c.Yb(0,"div",103),c.Sc(1,At,5,3,"p-table",104),c.Sc(2,xt,5,3,"p-table",104),c.Xb()),2&t){const t=c.mc();c.Fb(1),c.tc("ngIf",0==t.IsListView),c.Fb(1),c.tc("ngIf",1==t.IsListView)}}function Bt(t,e){1&t&&c.Ub(0)}function wt(t,e){1&t&&c.Ub(0)}function Et(t,e){1&t&&c.Ub(0)}function Lt(t,e){1&t&&c.Ub(0)}function kt(t,e){if(1&t&&(c.Yb(0,"div",144),c.Yb(1,"div",92),c.Yb(2,"p-tabView"),c.Yb(3,"p-tabPanel",145),c.Sc(4,Bt,1,0,"ng-container",95),c.Xb(),c.Yb(5,"p-tabPanel",146),c.Sc(6,wt,1,0,"ng-container",95),c.Xb(),c.Yb(7,"p-tabPanel",147),c.Sc(8,Et,1,0,"ng-container",95),c.Xb(),c.Yb(9,"p-tabPanel",148),c.Sc(10,Lt,1,0,"ng-container",95),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){c.mc();const t=c.Ic(14),e=c.Ic(20),i=c.Ic(22),n=c.Ic(18);c.Fb(4),c.tc("ngTemplateOutlet",t),c.Fb(2),c.tc("ngTemplateOutlet",e),c.Fb(2),c.tc("ngTemplateOutlet",i),c.Fb(2),c.tc("ngTemplateOutlet",n)}}function Ot(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",163),c.ic("click",function(){return c.Lc(t),c.mc(3).ShowEstimetedBill()}),c.Xb()}}function Ft(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",164),c.ic("click",function(){return c.Lc(t),c.mc(3).onItemEditInit()}),c.Xb()}}function _t(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",165),c.ic("click",function(){return c.Lc(t),c.mc(3).onItemEditSave()}),c.Xb()}}function Wt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",166),c.ic("click",function(){return c.Lc(t),c.mc(3).onItemEditCancel()}),c.Xb()}}function jt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",167),c.ic("click",function(){return c.Lc(t),c.mc(3).DeleteExtraItem(null)}),c.Xb()}}function Vt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",168),c.ic("click",function(){return c.Lc(t),c.mc(3).CreateInvoice()}),c.Xb()}}function Zt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",153),c.Sc(1,Ot,1,0,"button",154),c.Sc(2,Ft,1,0,"button",155),c.Sc(3,_t,1,0,"button",156),c.Sc(4,Wt,1,0,"button",157),c.Sc(5,jt,1,0,"button",158),c.Sc(6,Vt,1,0,"button",159),c.Yb(7,"span",160),c.Tb(8,"i",161),c.Yb(9,"input",162),c.ic("input",function(e){return c.Lc(t),c.mc(),c.Ic(3).filterGlobal(e.target.value,"contains")}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(1),c.tc("ngIf",(null==t.tableDataExtraItem?null:t.tableDataExtraItem.length)>0),c.Fb(1),c.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.ReadWrite.toString()))&&(null==t.tableDataExtraItem?null:t.tableDataExtraItem.length)>0&&!t.editing),c.Fb(1),c.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.ReadWrite.toString()))&&(null==t.tableDataExtraItem?null:t.tableDataExtraItem.length)>0&&t.editing),c.Fb(1),c.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.ReadWrite.toString()))&&(null==t.tableDataExtraItem?null:t.tableDataExtraItem.length)>0&&t.editing),c.Fb(1),c.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.Delete.toString()))&&(null==t.tableDataExtraItem?null:t.tableDataExtraItem.length)>0&&(null==t.lstSelectedBillableItem?null:t.lstSelectedBillableItem.length)>0),c.Fb(1),c.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.ReadWrite.toString()))&&((null==t.tableDataExtraItem?null:t.tableDataExtraItem.length)>0||(null==t.tableDataExtraItemCredit?null:t.tableDataExtraItemCredit.length)>0))}}function Gt(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2," No records found "),c.Xb(),c.Xb()),2&t&&(c.Fb(1),c.Gb("colspan",6))}function qt(t,e){1&t&&(c.Yb(0,"colgroup"),c.Tb(1,"col",169),c.Tb(2,"col",170),c.Tb(3,"col",171),c.Tb(4,"col",172),c.Tb(5,"col",173),c.Tb(6,"col",173),c.Tb(7,"col",174),c.Tb(8,"col",170),c.Tb(9,"col",172),c.Xb())}function Ht(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",175),c.Tb(2,"p-tableHeaderCheckbox"),c.Xb(),c.Yb(3,"th"),c.Uc(4,"Item Code"),c.Xb(),c.Yb(5,"th"),c.Uc(6,"Item Description"),c.Xb(),c.Yb(7,"th"),c.Uc(8,"Unit"),c.Xb(),c.Yb(9,"th"),c.Uc(10,"Quantity"),c.Xb(),c.Yb(11,"th"),c.Uc(12,"MRP"),c.Xb(),c.Yb(13,"th"),c.Uc(14,"Purchase Date"),c.Xb(),c.Yb(15,"th"),c.Uc(16,"Created By"),c.Xb(),c.Yb(17,"th"),c.Uc(18,"Action"),c.Xb(),c.Xb())}function Qt(t,e){if(1&t&&(c.Yb(0,"td"),c.Uc(1),c.Xb()),2&t){const t=c.mc().$implicit;c.Fb(1),c.Vc(t.Qty)}}function $t(t,e){if(1&t){const t=c.Zb();c.Yb(0,"td"),c.Yb(1,"input",178),c.ic("keypress",function(e){return c.Lc(t),c.mc(3).onKeyPress(e)})("ngModelChange",function(e){return c.Lc(t),c.mc().$implicit.Qty=e}),c.Xb(),c.Xb()}if(2&t){const t=c.mc(),e=t.rowIndex,i=t.$implicit;c.Fb(1),c.vc("name","Qty",e,""),c.tc("ngModel",i.Qty)}}function zt(t,e){if(1&t){const t=c.Zb();c.Yb(0,"a",179),c.ic("click",function(){c.Lc(t);const e=c.mc().$implicit;return c.mc(2).DeleteExtraItem(e.BillItemId)}),c.Tb(1,"img",180),c.Xb()}}function Kt(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"td",175),c.Tb(2,"p-tableCheckbox",176),c.Xb(),c.Yb(3,"td"),c.Uc(4),c.Xb(),c.Yb(5,"td"),c.Uc(6),c.Xb(),c.Yb(7,"td"),c.Uc(8),c.Xb(),c.Sc(9,Qt,2,1,"td",1),c.Sc(10,$t,2,2,"td",1),c.Yb(11,"td"),c.Uc(12),c.Xb(),c.Yb(13,"td"),c.Uc(14),c.nc(15,"date"),c.Xb(),c.Yb(16,"td"),c.Uc(17),c.Xb(),c.Yb(18,"td"),c.Sc(19,zt,2,0,"a",177),c.Xb(),c.Xb()),2&t){const t=e.$implicit,i=c.mc(2);c.Fb(2),c.tc("value",t),c.Fb(2),c.Vc(t.MCODE),c.Fb(2),c.Vc(t.Description),c.Fb(2),c.Vc(t.UOMS),c.Fb(1),c.tc("ngIf",!i.editing),c.Fb(1),c.tc("ngIf",i.editing),c.Fb(2),c.Vc(t.MRP),c.Fb(2),c.Vc(c.pc(15,10,t.PurchaseDate,i.customDateFormat.DEF_DATE)),c.Fb(3),c.Vc(t.CreatedBy),c.Fb(2),c.tc("ngIf",!t.IsBilled)}}const Jt=function(){return["MCODE","Description","UOMS","Qty"]};function te(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",128),c.Yb(1,"div",92),c.Yb(2,"p-table",149,150),c.ic("selectionChange",function(e){return c.Lc(t),c.mc().lstSelectedBillableItem=e}),c.Sc(4,Zt,10,6,"ng-template",151),c.Sc(5,Gt,3,1,"ng-template",152),c.Sc(6,qt,10,0,"ng-template",107),c.Sc(7,Ht,19,0,"ng-template",32),c.Sc(8,Kt,20,13,"ng-template",28),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.Fb(2),c.tc("value",t.tableDataExtraItem)("rowHover",!0)("globalFilterFields",c.yc(5,Jt))("scrollable",!0)("selection",t.lstSelectedBillableItem)}}function ee(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",183),c.ic("click",function(){return c.Lc(t),c.mc(3).PrintCreditInvoice()}),c.Xb()}}function ie(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",153),c.Sc(1,ee,1,0,"button",182),c.Yb(2,"span",160),c.Tb(3,"i",161),c.Yb(4,"input",162),c.ic("input",function(e){return c.Lc(t),c.mc(),c.Ic(3).filterGlobal(e.target.value,"contains")}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(1),c.tc("ngIf",(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.Print.toString()))&&(null==t.tableDataExtraItemCredit?null:t.tableDataExtraItemCredit.length)>0)}}function ne(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2," No records found "),c.Xb(),c.Xb()),2&t&&(c.Fb(1),c.Gb("colspan",7))}function se(t,e){1&t&&(c.Yb(0,"colgroup"),c.Tb(1,"col",184),c.Tb(2,"col",170),c.Tb(3,"col",174),c.Tb(4,"col",172),c.Tb(5,"col",173),c.Tb(6,"col",174),c.Tb(7,"col",173),c.Xb())}function oe(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Yb(1,"th"),c.Yb(2,"p-checkbox",185),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).checked=e})("onChange",function(){return c.Lc(t),c.mc(2).getSelectAllRecord()}),c.Xb(),c.Xb(),c.Yb(3,"th"),c.Uc(4,"Item Code"),c.Xb(),c.Yb(5,"th"),c.Uc(6,"Item Description"),c.Xb(),c.Yb(7,"th"),c.Uc(8,"Unit"),c.Xb(),c.Yb(9,"th"),c.Uc(10,"Quantity"),c.Xb(),c.Yb(11,"th"),c.Uc(12,"Purchase Date"),c.Xb(),c.Yb(13,"th"),c.Uc(14,"Action"),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(2),c.tc("ngModel",t.checked)}}function le(t,e){if(1&t){const t=c.Zb();c.Yb(0,"a",188),c.ic("click",function(){c.Lc(t);const e=c.mc().$implicit,i=c.mc(2);return i.UpdateExtraItemStatus(e.BillItemId,i.billItemStatus.Cancelled)}),c.Tb(1,"img",180),c.Xb()}}function ce(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Yb(2,"p-checkbox",186),c.ic("ngModelChange",function(t){return e.$implicit.checkAccess=t}),c.Xb(),c.Xb(),c.Yb(3,"td"),c.Uc(4),c.Xb(),c.Yb(5,"td"),c.Uc(6),c.Xb(),c.Yb(7,"td"),c.Uc(8),c.Xb(),c.Yb(9,"td"),c.Uc(10),c.Xb(),c.Yb(11,"td"),c.Uc(12),c.nc(13,"date"),c.Xb(),c.Yb(14,"td"),c.Sc(15,le,2,0,"a",187),c.Xb(),c.Xb()),2&t){const t=e.$implicit,i=c.mc(2);c.Fb(2),c.tc("ngModel",t.checkAccess),c.Fb(2),c.Vc(t.MCODE),c.Fb(2),c.Vc(t.Description),c.Fb(2),c.Vc(t.UOMS),c.Fb(2),c.Vc(t.Qty),c.Fb(2),c.Vc(c.pc(13,7,t.PurchaseDate,i.customDateFormat.DEF_DATE)),c.Fb(3),c.tc("ngIf",!t.IsBilled)}}function re(t,e){if(1&t&&(c.Yb(0,"div",128),c.Yb(1,"div",92),c.Yb(2,"p-table",181,150),c.Sc(4,ie,5,1,"ng-template",151),c.Sc(5,ne,3,1,"ng-template",152),c.Sc(6,se,8,0,"ng-template",107),c.Sc(7,oe,15,1,"ng-template",32),c.Sc(8,ce,16,10,"ng-template",28),c.Xb(),c.Xb(),c.Xb()),2&t){const t=c.mc();c.Fb(2),c.tc("value",t.tableDataExtraItemCredit)("rowHover",!0)("globalFilterFields",c.yc(4,Jt))("scrollable",!0)}}function ae(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",194),c.ic("click",function(){return c.Lc(t),c.mc(4).PrintCombinedInvoice()}),c.Xb()}}function de(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",192),c.Sc(1,ae,1,0,"button",193),c.Yb(2,"span",160),c.Tb(3,"i",161),c.Yb(4,"input",162),c.ic("input",function(e){return c.Lc(t),c.mc(),c.Ic(1).filterGlobal(e.target.value,"contains")}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(3);c.Fb(1),c.tc("ngIf",null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.Print.toString()))}}function be(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2," No records found "),c.Xb(),c.Xb()),2&t&&(c.Fb(1),c.Gb("colspan",10))}function ue(t,e){1&t&&(c.Yb(0,"colgroup"),c.Tb(1,"col",184),c.Tb(2,"col",170),c.Tb(3,"col",174),c.Tb(4,"col",172),c.Tb(5,"col",195),c.Tb(6,"col",173),c.Tb(7,"col",174),c.Tb(8,"col",196),c.Tb(9,"col",170),c.Tb(10,"col",173),c.Xb())}function he(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"th"),c.Uc(2,"S.No"),c.Xb(),c.Yb(3,"th"),c.Uc(4,"Item Code"),c.Xb(),c.Yb(5,"th"),c.Uc(6,"Item Desc"),c.Xb(),c.Yb(7,"th"),c.Uc(8,"Unit"),c.Xb(),c.Yb(9,"th"),c.Uc(10,"Quantity"),c.Xb(),c.Yb(11,"th"),c.Uc(12,"Rate"),c.Xb(),c.Yb(13,"th"),c.Uc(14,"Purchase Date"),c.Xb(),c.Yb(15,"th"),c.Uc(16,"Bill Date"),c.Xb(),c.Yb(17,"th"),c.Uc(18,"Voucher No"),c.Xb(),c.Yb(19,"th"),c.Uc(20,"Action"),c.Xb(),c.Xb())}function me(t,e){if(1&t){const t=c.Zb();c.Yb(0,"span",200),c.ic("click",function(){c.Lc(t);const e=c.mc().$implicit;return c.mc(3).PrintInvoice(e.SlotBookingId,e.VCHRNO,e.PhiscalID,e.Division)}),c.Uc(1," print "),c.Xb()}}function pe(t,e){if(1&t){const t=c.Zb();c.Yb(0,"span",201),c.ic("click",function(){c.Lc(t);const e=c.mc().$implicit;return c.mc(3).PrintBankDepositSlip(e.SlotBookingId,e.VCHRNO,e.PhiscalID)}),c.Uc(1," receipt_long "),c.Xb()}}function ge(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2),c.Xb(),c.Yb(3,"td"),c.Uc(4),c.Xb(),c.Yb(5,"td"),c.Uc(6),c.Xb(),c.Yb(7,"td"),c.Uc(8),c.Xb(),c.Yb(9,"td"),c.Uc(10),c.Xb(),c.Yb(11,"td"),c.Uc(12),c.nc(13,"number"),c.Xb(),c.Yb(14,"td"),c.Uc(15),c.nc(16,"date"),c.Xb(),c.Yb(17,"td"),c.Uc(18),c.nc(19,"date"),c.Xb(),c.Yb(20,"td"),c.Uc(21),c.Xb(),c.Yb(22,"td"),c.Sc(23,me,2,0,"span",197),c.Sc(24,pe,2,0,"span",198),c.Yb(25,"span",199),c.ic("click",function(){c.Lc(t);const i=e.$implicit;return c.mc(3).ShowTransactionDetails(i.SlotBookingId,i.VCHRNO,i.PhiscalID,i.Division)}),c.Uc(26," view_list "),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=e.$implicit,i=e.rowIndex,n=c.mc(3);c.Fb(2),c.Vc(i+1),c.Fb(2),c.Vc(t.MCODE),c.Fb(2),c.Vc(t.ITEMDESC),c.Fb(2),c.Vc(t.UNIT),c.Fb(2),c.Vc(t.RealQty),c.Fb(2),c.Vc(c.pc(13,11,t.MRP,"1.1-2")),c.Fb(3),c.Vc(c.pc(16,14,t.PurchaseDate,n.customDateFormat.DEF_DATE)),c.Fb(3),c.Vc(c.pc(19,17,t.BillDate,n.customDateFormat.DEF_DATE)),c.Fb(3),c.Vc(t.VCHRNO),c.Fb(2),c.tc("ngIf",null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.Print.toString())),c.Fb(1),c.tc("ngIf",(null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.Download.toString()))&&null!=t.BankDSlip)}}const Ie=function(){return["MCODE","ITEMDESC","UNIT","RealQty","MRP","VCHRNO"]};function fe(t,e){if(1&t&&(c.Yb(0,"p-table",190,191),c.Sc(2,de,5,1,"ng-template",151),c.Sc(3,be,3,1,"ng-template",152),c.Sc(4,ue,11,0,"ng-template",107),c.Sc(5,he,21,0,"ng-template",32),c.Sc(6,ge,27,20,"ng-template",28),c.Xb()),2&t){const t=c.mc(2);c.tc("value",t.ProdList)("rowHover",!0)("globalFilterFields",c.yc(4,Ie))("scrollable",!0)}}function ve(t,e){if(1&t&&(c.Yb(0,"div",128),c.Yb(1,"div",92),c.Sc(2,fe,7,5,"p-table",189),c.Xb(),c.Xb()),2&t){const t=c.mc();c.Fb(2),c.tc("ngIf",(null==t.ProdList?null:t.ProdList.length)>0)}}function Ce(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",205),c.ic("click",function(){return c.Lc(t),c.mc(4).CreateCompleteInvoice()}),c.Xb()}}function Se(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",206),c.ic("click",function(){return c.Lc(t),c.mc(4).PrintPreInvoice()}),c.Xb()}}function Te(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",192),c.Sc(1,Ce,1,0,"button",203),c.Sc(2,Se,1,0,"button",204),c.Yb(3,"span",160),c.Tb(4,"i",161),c.Yb(5,"input",162),c.ic("input",function(e){return c.Lc(t),c.mc(),c.Ic(1).filterGlobal(e.target.value,"contains")}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(3);c.Fb(1),c.tc("ngIf",("OPD"==t.PerformaItemList[0].BookingType||"IPD"==t.PerformaItemList[0].BookingType&&t.PerformaItemList[0].BookingStatus!==t.bookingStatus.Confirmed)&&(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.Print.toString()))),c.Fb(1),c.tc("ngIf",("OPD"==t.PerformaItemList[0].BookingType||"IPD"==t.PerformaItemList[0].BookingType&&t.PerformaItemList[0].BookingStatus!==t.bookingStatus.Confirmed)&&(null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.Print.toString())))}}function ye(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2," No records found "),c.Xb(),c.Xb()),2&t&&(c.Fb(1),c.Gb("colspan",10))}function Me(t,e){1&t&&(c.Yb(0,"colgroup"),c.Tb(1,"col",184),c.Tb(2,"col",172),c.Tb(3,"col",170),c.Tb(4,"col",184),c.Tb(5,"col",172),c.Tb(6,"col",207),c.Tb(7,"col",207),c.Tb(8,"col",170),c.Tb(9,"col",170),c.Tb(10,"col",109),c.Tb(11,"col",170),c.Xb())}function Ae(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"th"),c.Uc(2,"S.No"),c.Xb(),c.Yb(3,"th"),c.Uc(4,"Item Code"),c.Xb(),c.Yb(5,"th"),c.Uc(6,"Item Desc"),c.Xb(),c.Yb(7,"th"),c.Uc(8,"Unit"),c.Xb(),c.Yb(9,"th"),c.Uc(10,"Quantity"),c.Xb(),c.Yb(11,"th"),c.Uc(12,"Purchase Date"),c.Xb(),c.Yb(13,"th"),c.Uc(14,"Bill Date"),c.Xb(),c.Yb(15,"th"),c.Uc(16,"Voucher No"),c.Xb(),c.Yb(17,"th"),c.Uc(18,"Status"),c.Xb(),c.Yb(19,"th"),c.Uc(20,"Modified By"),c.Xb(),c.Yb(21,"th"),c.Uc(22,"Action"),c.Xb(),c.Xb())}function Re(t,e){if(1&t){const t=c.Zb();c.Yb(0,"i",212),c.ic("click",function(){c.Lc(t);const e=c.mc().$implicit;return c.mc(3).PrintPInvoice(e.SlotBookingId,e.VCHRNO,e.PhiscalID,e.Division)}),c.Xb()}}function De(t,e){if(1&t){const t=c.Zb();c.Yb(0,"i",213),c.ic("click",function(){c.Lc(t);const e=c.mc().$implicit;return c.mc(3).EditPInvoice(e.SlotBookingId,e.VCHRNO,e.PhiscalID,e.Division)}),c.Xb()}}function Ye(t,e){if(1&t){const t=c.Zb();c.Yb(0,"i",214),c.ic("click",function(){c.Lc(t);const e=c.mc().$implicit;return c.mc(3).CancelPInvoiceWithNoRefund(e.SlotBookingId,e.VCHRNO,e.PhiscalID,e.Division)}),c.Xb()}}function Pe(t,e){if(1&t){const t=c.Zb();c.Yb(0,"i",215),c.ic("click",function(){c.Lc(t);const e=c.mc().$implicit;return c.mc(3).CancelPInvoiceWithRefund(e.SlotBookingId,e.VCHRNO,e.PhiscalID,e.Division)}),c.Xb()}}function Xe(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2),c.Xb(),c.Yb(3,"td"),c.Uc(4),c.Xb(),c.Yb(5,"td"),c.Uc(6),c.Xb(),c.Yb(7,"td"),c.Uc(8),c.Xb(),c.Yb(9,"td"),c.Uc(10),c.Xb(),c.Yb(11,"td"),c.Uc(12),c.nc(13,"date"),c.Xb(),c.Yb(14,"td"),c.Uc(15),c.nc(16,"date"),c.Xb(),c.Yb(17,"td"),c.Uc(18),c.Xb(),c.Yb(19,"td"),c.Uc(20),c.Xb(),c.Yb(21,"td"),c.Uc(22),c.Xb(),c.Yb(23,"td"),c.Sc(24,Re,1,0,"i",208),c.Sc(25,De,1,0,"i",209),c.Sc(26,Ye,1,0,"i",210),c.Sc(27,Pe,1,0,"i",211),c.Xb(),c.Xb()),2&t){const t=e.$implicit,i=e.rowIndex,n=c.mc(3);c.Fb(2),c.Vc(i+1),c.Fb(2),c.Vc(t.MCODE),c.Fb(2),c.Vc(t.ITEMDESC),c.Fb(2),c.Vc(t.UNIT),c.Fb(2),c.Vc(t.RealQty),c.Fb(2),c.Vc(c.pc(13,14,t.PurchaseDate,n.customDateFormat.DEF_DATE_TIME)),c.Fb(3),c.Vc(c.pc(16,17,t.BillDate,n.customDateFormat.DEF_DATE_TIME)),c.Fb(3),c.Vc(t.VCHRNO),c.Fb(2),c.Vc(n.billItemStatus[t.Status]),c.Fb(2),c.Vc(t.ModifiedBy),c.Fb(2),c.tc("ngIf",(null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.Print.toString()))&&t.Status==n.billItemStatus.ProformaRaised),c.Fb(1),c.tc("ngIf",(null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.ReadWrite.toString()))&&t.Status==n.billItemStatus.ProformaRaised),c.Fb(1),c.tc("ngIf",(null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.Cancel.toString()))&&t.Status==n.billItemStatus.ProformaRaised&&1==t.TherapyStatus&&1==t.SequentialNumber),c.Fb(1),c.tc("ngIf",(null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.Cancel.toString()))&&t.Status==n.billItemStatus.ProformaRaised&&1==t.TherapyStatus&&1==t.SequentialNumber)}}const Ue=function(){return["MCODE","ITEMDESC","UNIT","RealQty","VCHRNO"]};function xe(t,e){if(1&t&&(c.Yb(0,"p-table",190,202),c.Sc(2,Te,6,2,"ng-template",151),c.Sc(3,ye,3,1,"ng-template",152),c.Sc(4,Me,12,0,"ng-template",107),c.Sc(5,Ae,23,0,"ng-template",32),c.Sc(6,Xe,28,20,"ng-template",28),c.Xb()),2&t){const t=c.mc(2);c.tc("value",t.PerformaItemList)("rowHover",!0)("globalFilterFields",c.yc(4,Ue))("scrollable",!0)}}function Ne(t,e){if(1&t&&(c.Yb(0,"div",128),c.Yb(1,"div",92),c.Sc(2,xe,7,5,"p-table",189),c.Xb(),c.Xb()),2&t){const t=c.mc();c.Fb(2),c.tc("ngIf",(null==t.PerformaItemList?null:t.PerformaItemList.length)>0)}}function Be(t,e){if(1&t&&(c.Yb(0,"div",92),c.Tb(1,"app-individual-invoice-list",218),c.Xb()),2&t){const t=c.mc(2);c.Fb(1),c.tc("showIndividualInvoiceList",t.showIndividualInvoiceList)("slotBookingId",t.userSelected)("IsGrouped",t.IsGroupedSelected)("BookingType",t.bookingtypeSelected)}}function we(t,e){if(1&t&&(c.Yb(0,"div",216),c.Sc(1,Be,2,4,"div",217),c.Xb()),2&t){const t=c.mc();c.Fb(1),c.tc("ngIf",""!==t.userSelected&&null!=t.userSelected)}}function Ee(t,e){if(1&t&&(c.Yb(0,"div",238),c.Yb(1,"h5",77),c.Yb(2,"span",84),c.Uc(3," \u20b9 "),c.Xb(),c.Uc(4),c.nc(5,"number"),c.Xb(),c.Xb()),2&t){const t=c.mc(3);c.Fb(4),c.Wc(" Remaining Amount : ",c.pc(5,1,t.NetPaybleTotal-t.MaxCreditLimit,"1.1-2"),"")}}function Le(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",241),c.Yb(1,"button",242),c.ic("click",function(){return c.Lc(t),c.mc(3).ShowAddCreditNoteModelCI()}),c.Tb(2,"i",86),c.Uc(3," Receive Amount"),c.Xb(),c.Xb()}}function ke(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",87),c.Yb(1,"button",89),c.ic("click",function(){return c.Lc(t),c.mc(3).ShowRefundCreditNoteModelCI()}),c.Tb(2,"i",90),c.Uc(3," Refund Amount"),c.Xb(),c.Xb()}}function Oe(t,e){if(1&t&&(c.Yb(0,"div",128),c.Yb(1,"div",238),c.Yb(2,"h5",77),c.Yb(3,"span",78),c.Uc(4," account_balance_wallet "),c.Xb(),c.Uc(5),c.nc(6,"number"),c.Xb(),c.Xb(),c.Yb(7,"div",238),c.Yb(8,"h5",77),c.Yb(9,"span",78),c.Uc(10," account_balance_wallet "),c.Xb(),c.Uc(11),c.nc(12,"number"),c.Xb(),c.Xb(),c.Sc(13,Ee,6,4,"div",239),c.Sc(14,Le,4,0,"div",240),c.Sc(15,ke,4,0,"div",83),c.Xb()),2&t){const t=c.mc(2);c.Fb(5),c.Wc(" Account Balance : ",c.pc(6,5,t.CreditNoteBalanceAmount,"1.1-2"),""),c.Fb(6),c.Wc(" Credit Balance : ",c.pc(12,8,t.CreditNoteBalance,"1.1-2"),""),c.Fb(2),c.tc("ngIf",t.NetPaybleTotal-t.MaxCreditLimit>0),c.Fb(1),c.tc("ngIf",t.NetPaybleTotal-t.MaxCreditLimit>0),c.Fb(1),c.tc("ngIf",t.CreditNoteBalanceAmount<0&&t.NetPaybleTotal-t.MaxCreditLimit<0&&1==(null==t.ClinicDetails?null:t.ClinicDetails.IsShowRefundonBilling))}}function Fe(t,e){if(1&t){const t=c.Zb();c.Yb(0,"input",243),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).selectAllItem=e})("change",function(){return c.Lc(t),c.mc(2).getSelectAllItem()}),c.Xb()}if(2&t){const t=c.mc(2);c.tc("ngModel",t.selectAllItem)}}function _e(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",128),c.Yb(1,"div",248),c.Uc(2," Nt"),c.Tb(3,"br"),c.Yb(4,"input",249),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().$implicit.NightCount=e})("keypress",function(e){c.Lc(t);const i=c.mc().index,n=c.mc(2);return n.validateNumber(e),n.CalculateITotalNRev(e,i)})("change",function(){c.Lc(t);const e=c.mc().index;return c.mc(2).CalculateITotalNRevWE(e)}),c.Xb(),c.Xb(),c.Yb(5,"div",250),c.Uc(6," X "),c.Xb(),c.Yb(7,"div",248),c.Uc(8," Bed"),c.Tb(9,"br"),c.Yb(10,"input",251),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().$implicit.RoomCount=e})("keypress",function(e){c.Lc(t);const i=c.mc().index,n=c.mc(2);return n.validateNumber(e),n.CalculateITotalRRev(e,i)})("change",function(){c.Lc(t);const e=c.mc().index;return c.mc(2).CalculateITotalRRevWE(e)}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc().$implicit;c.Fb(4),c.tc("ngModel",t.NightCount),c.Fb(6),c.tc("ngModel",t.RoomCount)}}function We(t,e){if(1&t){const t=c.Zb();c.Yb(0,"p-inputNumber",252),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().$implicit.Qty=e})("onInput",function(e){c.Lc(t);const i=c.mc().index;return c.mc(2).CalculateItemTotal(e,i)})("onBlur",function(){c.Lc(t);const e=c.mc().index;return c.mc(2).CalculateItemTotalNew(e)}),c.Xb()}if(2&t){const t=c.mc(),e=t.index,i=t.$implicit;c.Pc(c.yc(7,H)),c.vc("name","txtItemWiseQty_",e+1,""),c.tc("ngModel",i.Qty)("min",1)("max",i.Qty)("maxlength",10)}}function je(t,e){if(1&t&&(c.Yb(0,"label"),c.Uc(1),c.Xb()),2&t){const t=c.mc().$implicit;c.Fb(1),c.Vc(t.Qty)}}function Ve(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Yb(2,"input",244),c.ic("change",function(){return c.Lc(t),c.mc(2).CalculateTotalItemPrice()})("ngModelChange",function(t){return e.$implicit.IsChecked=t}),c.Xb(),c.Xb(),c.Yb(3,"td"),c.Uc(4),c.Xb(),c.Yb(5,"td"),c.Uc(6),c.Xb(),c.Yb(7,"td"),c.Uc(8),c.Xb(),c.Yb(9,"td"),c.Uc(10),c.Xb(),c.Yb(11,"td"),c.Sc(12,_e,11,2,"div",120),c.Sc(13,We,1,8,"p-inputNumber",245),c.Sc(14,je,2,1,"label",1),c.Xb(),c.Yb(15,"td"),c.Uc(16),c.Xb(),c.Yb(17,"td"),c.Yb(18,"p-inputNumber",246),c.ic("ngModelChange",function(t){return e.$implicit.DiscountPer=t})("onInput",function(i){c.Lc(t);const n=e.index;return c.mc(2).CalculateDiscount(i,n)})("onBlur",function(){c.Lc(t);const i=e.index;return c.mc(2).CalculateDiscountNew(i)}),c.Xb(),c.Xb(),c.Yb(19,"td"),c.Yb(20,"p-inputNumber",247),c.ic("ngModelChange",function(t){return e.$implicit.DiscountAmount=t})("onInput",function(i){c.Lc(t);const n=e.index;return c.mc(2).CalculateDiscountRev(i,n)})("onBlur",function(){c.Lc(t);const i=e.index;return c.mc(2).CalculateDiscountBlur(i)}),c.Xb(),c.Xb(),c.Yb(21,"td"),c.Uc(22),c.Xb(),c.Xb()}if(2&t){const t=e.$implicit,i=c.mc(2);c.Fb(2),c.tc("disabled",t.IsDisabledCheckBox||0==t.CanEditQty)("ngModel",t.IsChecked),c.Fb(2),c.Wc(" ",t.MCODE," "),c.Fb(2),c.Wc(" ",t.Description," "),c.Fb(2),c.Wc(" ",t.UNIT," "),c.Fb(2),c.Vc(t.MRP),c.Fb(2),c.tc("ngIf",("Edit"==i.TrnMode||"New"==i.TrnMode)&&"Performa"==i.InvMode&&t.CanEditQty&&(t.MCODE==i.defaultItemMCODE.TreatmentOtherCharge||"Room"==t.Category)),c.Fb(1),c.tc("ngIf","Edit"==i.TrnMode&&"Performa"==i.InvMode&&t.CanEditQty&&t.MCODE!=i.defaultItemMCODE.TreatmentOtherCharge&&"Room"!=t.Category),c.Fb(1),c.tc("ngIf","New"==i.TrnMode||0==t.CanEditQty),c.Fb(2),c.Vc(t.GST),c.Fb(2),c.Pc(c.yc(25,H)),c.tc("ngModel",t.DiscountPer)("min",0)("max",100)("maxlength",3)("disabled","CompleteInvoice"==i.InvMode&&"Visitor"!=i.CustomerType||!t.IsChecked),c.Fb(2),c.Pc(c.yc(26,H)),c.tc("ngModel",t.DiscountAmount)("disabled","CompleteInvoice"==i.InvMode&&"Visitor"!=i.CustomerType||!t.IsChecked)("min",0)("max",t.Qty*t.MRP)("maxlength",5),c.Fb(2),c.Wc(" ",t.PriceWithGST," ")}}function Ze(t,e){if(1&t){const t=c.Zb();c.Yb(0,"td",260),c.Yb(1,"button",102),c.ic("click",function(){return c.Lc(t),c.mc(3).CheckCreditNote()}),c.Uc(2,"Check Balance"),c.Xb(),c.Xb()}}function Ge(t,e){if(1&t&&(c.Yb(0,"td"),c.Yb(1,"label",254),c.Uc(2,"Balance"),c.Xb(),c.Uc(3),c.Xb()),2&t){const t=c.mc(3);c.Fb(3),c.Wc(" ",t.MaxCreditNoteAmount," ")}}function qe(t,e){1&t&&(c.Yb(0,"td",255),c.Yb(1,"label",254),c.Uc(2,"Credit Note Amount"),c.Xb(),c.Xb())}function He(t,e){if(1&t){const t=c.Zb();c.Yb(0,"td",111),c.Yb(1,"p-inputNumber",261),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(3).CreditNoteTranAmount=e})("onBlur",function(){return c.Lc(t),c.mc(3).CalculateNetPaybleAfterDiscountReverseNew()}),c.Xb(),c.Xb()}if(2&t){const t=c.mc(3);c.Fb(1),c.Pc(c.yc(5,H)),c.tc("ngModel",t.CreditNoteTranAmount)("min",0)("max",t.MaxCreditNoteAmount)}}function Qe(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr",253),c.Yb(1,"td",228),c.Yb(2,"label",254),c.Uc(3,"Credit Note Number"),c.Xb(),c.Xb(),c.Yb(4,"td",255),c.Yb(5,"input",256),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).CreditNoteNumber=e}),c.Xb(),c.Xb(),c.Sc(6,Ze,3,0,"td",257),c.Sc(7,Ge,4,1,"td",1),c.Sc(8,qe,3,0,"td",258),c.Sc(9,He,2,6,"td",259),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(5),c.Pc(c.yc(8,H)),c.tc("disabled",t.MaxCreditNoteAmount>0||"Edit"==t.TrnMode)("ngModel",t.CreditNoteNumber),c.Fb(1),c.tc("ngIf",0==t.MaxCreditNoteAmount),c.Fb(1),c.tc("ngIf",t.MaxCreditNoteAmount>0&&"Edit"!=t.TrnMode),c.Fb(1),c.tc("ngIf",t.MaxCreditNoteAmount>0||"Edit"==t.TrnMode),c.Fb(1),c.tc("ngIf",t.MaxCreditNoteAmount>0||"Edit"==t.TrnMode)}}function $e(t,e){1&t&&(c.Yb(0,"p"),c.Yb(1,"b"),c.Uc(2,"Requested By"),c.Xb(),c.Xb())}function ze(t,e){if(1&t){const t=c.Zb();c.Yb(0,"input",262),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).RequestedBy=e}),c.Xb()}if(2&t){const t=c.mc(2);c.tc("ngModel",t.RequestedBy)}}function Ke(t,e){1&t&&(c.Yb(0,"p"),c.Yb(1,"b"),c.Uc(2,"Authorized By"),c.Xb(),c.Xb())}function Je(t,e){if(1&t){const t=c.Zb();c.Yb(0,"p-dropdown",263),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).ReferredBy=e}),c.Xb()}if(2&t){const t=c.mc(2);c.Pc(c.yc(6,H)),c.tc("options",t.lstAuthorizedMaster)("ngModel",t.ReferredBy)("showClear",!0)("filter",!0)}}function ti(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Tb(1,"td"),c.Tb(2,"td"),c.Yb(3,"td",264),c.Yb(4,"p"),c.Yb(5,"b"),c.Uc(6,"General Remarks"),c.Yb(7,"span",45),c.Uc(8,"*"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(9,"td",265),c.Yb(10,"input",266),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).PIEditGenRemarks=e}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(10),c.tc("ngModel",t.PIEditGenRemarks)}}function ei(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",102),c.ic("click",function(){return c.Lc(t),c.mc(2).ShowReceivePaymentModel()}),c.Uc(1,"Generate Proforma and Receive Payment"),c.Xb()}}function ii(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",102),c.ic("click",function(){return c.Lc(t),c.mc(2).GeneratePerforma()}),c.Uc(1,"Generate Proforma Only"),c.Xb()}}function ni(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",102),c.ic("click",function(){return c.Lc(t),c.mc(2).GenerateCompleteInvoice()}),c.Uc(1,"Generate Complete Invoice"),c.Xb()}}function si(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",102),c.ic("click",function(){return c.Lc(t),c.mc(2).ShowAddCreditNoteModelCI()}),c.Uc(1,"Generate Complete Invoice and Received Payment"),c.Xb()}}function oi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",102),c.ic("click",function(){return c.Lc(t),c.mc(2).GenerateCompleteInvoice()}),c.Uc(1,"Generate Complete Invoice"),c.Xb()}}function li(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",219),c.Yb(1,"h4",220),c.Uc(2),c.Xb(),c.Yb(3,"button",221),c.ic("click",function(){return(0,e.dismiss)("Cross click")}),c.Yb(4,"span",222),c.Uc(5,"\xd7"),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",223),c.Sc(7,Oe,16,11,"div",120),c.Tb(8,"hr"),c.Yb(9,"div",128),c.Yb(10,"div",224),c.Yb(11,"table",225),c.Yb(12,"thead"),c.Yb(13,"tr"),c.Yb(14,"th"),c.Sc(15,Fe,1,1,"input",226),c.Xb(),c.Yb(16,"th"),c.Uc(17,"Item Code"),c.Xb(),c.Yb(18,"th"),c.Uc(19,"Item Details"),c.Xb(),c.Yb(20,"th"),c.Uc(21,"UM"),c.Xb(),c.Yb(22,"th"),c.Uc(23,"Price"),c.Xb(),c.Yb(24,"th"),c.Uc(25,"Quantity"),c.Xb(),c.Yb(26,"th"),c.Uc(27,"GST"),c.Xb(),c.Yb(28,"th"),c.Uc(29,"Discount %"),c.Xb(),c.Yb(30,"th"),c.Uc(31,"Discount Amount"),c.Xb(),c.Yb(32,"th"),c.Uc(33,"Net Amount"),c.Xb(),c.Xb(),c.Xb(),c.Yb(34,"tbody"),c.Sc(35,Ve,23,27,"tr",227),c.Yb(36,"tr"),c.Tb(37,"td"),c.Tb(38,"td"),c.Tb(39,"td"),c.Tb(40,"td"),c.Tb(41,"td"),c.Tb(42,"td"),c.Tb(43,"td"),c.Tb(44,"td"),c.Yb(45,"td"),c.Yb(46,"b"),c.Uc(47,"Total"),c.Xb(),c.Xb(),c.Yb(48,"td"),c.Uc(49),c.Xb(),c.Xb(),c.Yb(50,"tr"),c.Tb(51,"td"),c.Tb(52,"td"),c.Tb(53,"td"),c.Tb(54,"td"),c.Yb(55,"td",228),c.Yb(56,"b"),c.Uc(57,"Bill wise Discount %"),c.Xb(),c.Xb(),c.Yb(58,"td"),c.Yb(59,"p-inputNumber",229),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().BillWiseDiscountPer=e})("onInput",function(e){return c.Lc(t),c.mc().CalculateNetPaybleAfterDiscount(e)})("onBlur",function(){return c.Lc(t),c.mc().CalculateNetPaybleAfterDiscountNew()}),c.Xb(),c.Xb(),c.Yb(60,"td"),c.Yb(61,"b"),c.Uc(62,"Discount Amount"),c.Xb(),c.Xb(),c.Yb(63,"td"),c.Yb(64,"p-inputNumber",230),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().BillWiseDiscountAmount=e})("onInput",function(e){return c.Lc(t),c.mc().CalculateNetPaybleAfterDiscountReverse(e)})("onBlur",function(){return c.Lc(t),c.mc().CalculateNetPaybleAfterDiscountReverseNew()}),c.Xb(),c.Xb(),c.Xb(),c.Sc(65,Qe,10,9,"tr",231),c.Yb(66,"tr"),c.Tb(67,"td"),c.Tb(68,"td"),c.Tb(69,"td"),c.Tb(70,"td"),c.Tb(71,"td"),c.Tb(72,"td"),c.Tb(73,"td"),c.Tb(74,"td"),c.Yb(75,"td"),c.Yb(76,"b"),c.Uc(77,"Net Payable"),c.Xb(),c.Xb(),c.Yb(78,"td"),c.Uc(79),c.nc(80,"number"),c.Xb(),c.Xb(),c.Yb(81,"tr"),c.Tb(82,"td"),c.Tb(83,"td"),c.Tb(84,"td"),c.Tb(85,"td"),c.Tb(86,"td"),c.Tb(87,"td",232),c.Yb(88,"td",233),c.Sc(89,$e,3,0,"p",1),c.Xb(),c.Yb(90,"td",233),c.Sc(91,ze,1,1,"input",234),c.Xb(),c.Yb(92,"td",233),c.Sc(93,Ke,3,0,"p",1),c.Xb(),c.Yb(94,"td",233),c.Sc(95,Je,1,7,"p-dropdown",235),c.Xb(),c.Xb(),c.Sc(96,ti,11,1,"tr",1),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(97,"div",236),c.Yb(98,"button",237),c.ic("click",function(){return(0,e.close)("Close click")}),c.Uc(99,"Close"),c.Xb(),c.Sc(100,ei,2,0,"button",98),c.Sc(101,ii,2,0,"button",98),c.Sc(102,ni,2,0,"button",98),c.Sc(103,si,2,0,"button",98),c.Sc(104,oi,2,0,"button",98),c.Xb()}if(2&t){const t=c.mc();c.Fb(2),c.Vc("Performa"==t.InvMode?"Generate Proforma Invoice For Item":"Generate Complete Invoice For Item"),c.Fb(5),c.tc("ngIf","CompleteInvoice"==t.InvMode&&"Patient"==t.CustomerType),c.Fb(8),c.tc("ngIf","CompleteInvoice"!=t.InvMode),c.Fb(20),c.tc("ngForOf",t.AllItemPriceRes),c.Fb(14),c.Wc(" ",t.ItemCheckedTotal," "),c.Fb(10),c.Pc(c.yc(36,H)),c.tc("disabled",(0==t.ItemCheckedTotal||"CompleteInvoice"==t.InvMode)&&"Visitor"!=t.CustomerType)("ngModel",t.BillWiseDiscountPer)("min",0)("max",100)("minFractionDigits",0)("maxFractionDigits",5),c.Fb(5),c.Pc(c.yc(37,H)),c.tc("disabled",(0==t.ItemCheckedTotal||"CompleteInvoice"==t.InvMode)&&"Visitor"!=t.CustomerType)("ngModel",t.BillWiseDiscountAmount)("min",0)("max",t.ItemCheckedTotal)("minFractionDigits",0)("maxFractionDigits",5),c.Fb(1),c.tc("ngIf","CompleteInvoice"!=t.InvMode),c.Fb(14),c.Wc(" ",c.pc(80,33,t.NetPaybleTotal,"1.0-0")," "),c.Fb(10),c.tc("ngIf",t.ItemTotalDiscount+t.BillWiseDiscountAmount>0),c.Fb(2),c.tc("ngIf",t.ItemTotalDiscount+t.BillWiseDiscountAmount>0),c.Fb(2),c.tc("ngIf",t.ItemTotalDiscount+t.BillWiseDiscountAmount>0),c.Fb(2),c.tc("ngIf",t.ItemTotalDiscount+t.BillWiseDiscountAmount>0),c.Fb(1),c.tc("ngIf","Performa"==t.InvMode&&"Edit"==t.TrnMode),c.Fb(4),c.tc("ngIf","Performa"===t.InvMode&&t.ItemCheckedTotal>0),c.Fb(1),c.tc("ngIf","Performa"===t.InvMode&&t.ItemCheckedTotal>0),c.Fb(1),c.tc("ngIf","CompleteInvoice"==t.InvMode&&"Patient"==t.CustomerType&&0==t.isGenerateTI),c.Fb(1),c.tc("ngIf","CompleteInvoice"==t.InvMode&&(1==t.isGenerateTI||"Visitor"==t.CustomerType)&&1!=t.CheckIsCredit&&t.NetPaybleTotal>0),c.Fb(1),c.tc("ngIf","CompleteInvoice"==t.InvMode&&("Visitor"==t.CustomerType||"Patient"==t.CustomerType&&"OPD"==t.bookingtypeSelected)&&(1==t.CheckIsCredit||0==t.NetPaybleTotal))}}function ci(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",219),c.Yb(1,"h4",220),c.Uc(2,"Initiate Payment RazorPay"),c.Xb(),c.Yb(3,"button",267),c.ic("click",function(){return(0,e.dismiss)("Cross click")}),c.Yb(4,"span",222),c.Uc(5,"\xd7"),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",223),c.Yb(7,"div",128),c.Yb(8,"div",224),c.Yb(9,"app-razorpay",268),c.ic("GetPaymentStatusEmit",function(e){return c.Lc(t),c.mc().GetPaymentStatusEmit(e)}),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(10,"div",236),c.Yb(11,"button",237),c.ic("click",function(){return(0,e.close)("Close click")}),c.Uc(12,"Close"),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.Fb(9),c.tc("OrderRes",t.OrderRes)("ItemPriceRes",t.ItemPriceRes)("SlotBookingIdSelected",t.SlotBookingIdSelected)("IsSelectedItem",t.IsSelectedItem)("UserRes",t.UserRes)("BillWiseDiscountPer",t.BillWiseDiscountPer)("ReferredBy",t.ReferredBy)("PayRequestFrom",t.PayRequestFrom)}}function ri(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",219),c.Yb(1,"h4",220),c.Uc(2,"Initiate Payment WordLine"),c.Xb(),c.Yb(3,"button",269),c.ic("click",function(){return(0,e.dismiss)("Cross click")}),c.Yb(4,"span",222),c.Uc(5,"\xd7"),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",223),c.Yb(7,"div",128),c.Yb(8,"div",224),c.Yb(9,"app-worldline",270),c.ic("GetPaymentStatusEmit",function(e){return c.Lc(t),c.mc().GetWLPaymentStatusEmit(e)}),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(10,"div",236),c.Yb(11,"button",237),c.ic("click",function(){return(0,e.close)("Close click")}),c.Uc(12,"Close"),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.Fb(9),c.tc("WLOrderRes",t.WLOrderRes)("ItemPriceRes",t.ItemPriceRes)("SlotBookingIdSelected",t.SlotBookingIdSelected)("IsSelectedItem",t.IsSelectedItem)("UserRes",t.UserRes)("BillWiseDiscountPer",t.BillWiseDiscountPer)("ReferredBy",t.ReferredBy)("PayRequestFrom",t.PayRequestFrom)}}function ai(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",282),c.Yb(1,"h3"),c.Uc(2,"Credit Details"),c.Xb(),c.Yb(3,"div",283),c.Yb(4,"div",284),c.Uc(5,"Amount "),c.Yb(6,"span",285),c.Uc(7,"*"),c.Xb(),c.Xb(),c.Yb(8,"div",286),c.Yb(9,"p-inputNumber",287),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CREDITAMT=e}),c.Xb(),c.Xb(),c.Xb(),c.Tb(10,"hr"),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(9),c.Pc(c.yc(5,H)),c.tc("ngModel",t.TenderObj.CREDITAMT)("min",0)("max",t.MaxCreditLimit)}}const di=function(){return{standalone:!0}};function bi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",288),c.Yb(1,"h6",289),c.Yb(2,"strong"),c.Uc(3,"Cash Details"),c.Xb(),c.Xb(),c.Yb(4,"div",283),c.Yb(5,"div",284),c.Yb(6,"label"),c.Yb(7,"strong"),c.Uc(8," Amount "),c.Yb(9,"span",285),c.Uc(10,"*"),c.Xb(),c.Xb(),c.Xb(),c.Yb(11,"p-inputNumber",290),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CASH=e}),c.Xb(),c.Xb(),c.Yb(12,"div",284),c.Yb(13,"label"),c.Yb(14,"strong"),c.Uc(15,"Received Date"),c.Xb(),c.Yb(16,"span",285),c.Uc(17,"*"),c.Xb(),c.Xb(),c.Yb(18,"p-calendar",291,292),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CashRecdDate=e}),c.Xb(),c.Xb(),c.Xb(),c.Tb(20,"hr"),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(11),c.Pc(c.yc(15,H)),c.tc("ngModel",t.TenderObj.CASH)("min",0)("max",t.NetPaybleTotal),c.Fb(7),c.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),c.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",t.todayDate)("ngModel",t.TenderObj.CashRecdDate)("ngModelOptions",c.yc(16,di))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!1)}}function ui(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",293),c.Yb(1,"h3"),c.Uc(2,"Card Details"),c.Xb(),c.Yb(3,"div",283),c.Yb(4,"div",284),c.Uc(5,"Card Number "),c.Yb(6,"span",285),c.Uc(7,"*"),c.Xb(),c.Xb(),c.Yb(8,"div",284),c.Yb(9,"input",294),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CARDNO=e}),c.Xb(),c.Xb(),c.Yb(10,"div",284),c.Uc(11,"Card Holder Name "),c.Yb(12,"span",285),c.Uc(13,"*"),c.Xb(),c.Xb(),c.Yb(14,"div",284),c.Yb(15,"input",295),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CARDHOLDERNAME=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(16,"div",283),c.Yb(17,"div",284),c.Uc(18,"Received Date "),c.Yb(19,"span",285),c.Uc(20,"*"),c.Xb(),c.Xb(),c.Yb(21,"div",286),c.Yb(22,"p-calendar",291,296),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CardRecdDate=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(24,"div",283),c.Yb(25,"div",284),c.Uc(26,"Amount "),c.Yb(27,"span",285),c.Uc(28,"*"),c.Xb(),c.Xb(),c.Yb(29,"div",286),c.Yb(30,"p-inputNumber",297),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CARDAMT=e}),c.Xb(),c.Xb(),c.Xb(),c.Tb(31,"hr"),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(9),c.Pc(c.yc(21,H)),c.tc("ngModel",t.TenderObj.CARDNO),c.Fb(6),c.Pc(c.yc(22,H)),c.tc("ngModel",t.TenderObj.CARDHOLDERNAME),c.Fb(7),c.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),c.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",t.todayDate)("ngModel",t.TenderObj.CardRecdDate)("ngModelOptions",c.yc(23,di))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!1),c.Fb(8),c.Pc(c.yc(24,H)),c.tc("ngModel",t.TenderObj.CARDAMT)("min",0)("max",t.NetPaybleTotal)}}function hi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"a",122),c.ic("click",function(){return c.Lc(t),c.mc(4).AddBankTransactionDetails()}),c.Tb(1,"i",86),c.Xb()}}function mi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"a",122),c.ic("click",function(){c.Lc(t);const e=c.mc().index,i=c.mc(3);return i.RemoveBankTransactionDetails(i.lstBankDepositTransactionDetails[e].Sequence)}),c.Tb(1,"i",90),c.Xb()}}function pi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2),c.Xb(),c.Yb(3,"td"),c.Yb(4,"input",300),c.ic("ngModelChange",function(t){return e.$implicit.BankName=t}),c.Xb(),c.Xb(),c.Yb(5,"td"),c.Yb(6,"input",300),c.ic("ngModelChange",function(t){return e.$implicit.TransactionId=t}),c.Xb(),c.Xb(),c.Yb(7,"td"),c.Yb(8,"p-calendar",291,301),c.ic("ngModelChange",function(t){return e.$implicit.RecdDate=t}),c.Xb(),c.Xb(),c.Yb(10,"td"),c.Yb(11,"p-inputNumber",302),c.ic("onInput",function(i){c.Lc(t);const n=e.$implicit;return c.mc(3).CalculateTotalBankTransaction(i,n.Sequence)})("onBlur",function(){return c.Lc(t),c.mc(3).CalculateTotalBankTransactionrev()})("ngModelChange",function(t){return e.$implicit.Amount=t}),c.Xb(),c.Xb(),c.Yb(12,"td"),c.Sc(13,hi,2,0,"a",123),c.Sc(14,mi,2,0,"a",123),c.Xb(),c.Xb()}if(2&t){const t=e.$implicit,i=e.index,n=c.mc(3);c.Fb(2),c.Vc(i+1),c.Fb(2),c.Pc(c.yc(27,H)),c.vc("name","txtTransactionBankDepoName_",i,""),c.tc("ngModel",t.BankName),c.Fb(2),c.Pc(c.yc(28,H)),c.vc("name","txtTransactionIdBankDepo_",i,""),c.tc("ngModel",t.TransactionId),c.Fb(2),c.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),c.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",n.todayDate)("ngModel",t.RecdDate)("ngModelOptions",c.yc(29,di))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!1),c.Fb(3),c.Pc(c.yc(30,H)),c.vc("name","txtBankTFAmountTran_",i,""),c.tc("ngModel",t.Amount)("min",0)("max",n.NetPaybleTotal),c.Fb(2),c.tc("ngIf",(null==n.lstBankDepositTransactionDetails?null:n.lstBankDepositTransactionDetails.length)<10),c.Fb(1),c.tc("ngIf",1!==n.lstBankDepositTransactionDetails[i].Sequence)}}function gi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",298),c.Yb(1,"h3"),c.Uc(2,"Bank Deposit Details"),c.Xb(),c.Tb(3,"hr"),c.Yb(4,"div",283),c.Yb(5,"table",225),c.Yb(6,"thead"),c.Yb(7,"tr"),c.Yb(8,"th"),c.Uc(9,"S.No"),c.Xb(),c.Yb(10,"th"),c.Uc(11,"Bank Name "),c.Yb(12,"span",285),c.Uc(13,"*"),c.Xb(),c.Xb(),c.Yb(14,"th"),c.Uc(15,"Transaction Id "),c.Yb(16,"span",285),c.Uc(17,"*"),c.Xb(),c.Xb(),c.Yb(18,"th"),c.Uc(19,"Received Date "),c.Yb(20,"span",285),c.Uc(21,"*"),c.Xb(),c.Xb(),c.Yb(22,"th"),c.Uc(23,"Amount "),c.Yb(24,"span",285),c.Uc(25,"*"),c.Xb(),c.Xb(),c.Yb(26,"th"),c.Uc(27,"Action"),c.Xb(),c.Xb(),c.Xb(),c.Yb(28,"tbody"),c.Sc(29,pi,15,31,"tr",227),c.Xb(),c.Xb(),c.Xb(),c.Tb(30,"hr"),c.Yb(31,"div",283),c.Yb(32,"div",284),c.Uc(33,"Amount"),c.Xb(),c.Yb(34,"div",286),c.Yb(35,"p-inputNumber",299),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.BANKTFAMOUNT=e}),c.Xb(),c.Xb(),c.Xb(),c.Tb(36,"hr"),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(29),c.tc("ngForOf",t.lstBankDepositTransactionDetails),c.Fb(6),c.Pc(c.yc(6,H)),c.tc("ngModel",t.TenderObj.BANKTFAMOUNT)("min",0)("max",t.NetPaybleTotal)}}function Ii(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",303),c.Yb(1,"h3"),c.Uc(2,"Cheque Details"),c.Xb(),c.Yb(3,"div",283),c.Yb(4,"div",284),c.Uc(5,"Cheque Number "),c.Yb(6,"span",285),c.Uc(7,"*"),c.Xb(),c.Xb(),c.Yb(8,"div",284),c.Yb(9,"input",294),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CHEQUENO=e}),c.Xb(),c.Xb(),c.Yb(10,"div",284),c.Uc(11,"Bank Name "),c.Yb(12,"span",285),c.Uc(13,"*"),c.Xb(),c.Xb(),c.Yb(14,"div",284),c.Yb(15,"input",304),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.BANK=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(16,"div",283),c.Yb(17,"div",284),c.Uc(18,"Issue Date "),c.Yb(19,"span",285),c.Uc(20,"*"),c.Xb(),c.Xb(),c.Yb(21,"div",286),c.Yb(22,"p-calendar",305),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.ChequeIssueDate=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(23,"div",283),c.Yb(24,"div",284),c.Uc(25,"Amount "),c.Yb(26,"span",285),c.Uc(27,"*"),c.Xb(),c.Xb(),c.Yb(28,"div",284),c.Yb(29,"p-inputNumber",306),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CHEQUEAMT=e}),c.Xb(),c.Xb(),c.Yb(30,"div",284),c.Uc(31,"Holder Name"),c.Xb(),c.Yb(32,"div",284),c.Yb(33,"input",307),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.ChequeHolderName=e}),c.Xb(),c.Xb(),c.Xb(),c.Tb(34,"hr"),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(9),c.Pc(c.yc(24,H)),c.tc("ngModel",t.TenderObj.CHEQUENO),c.Fb(6),c.Pc(c.yc(25,H)),c.tc("ngModel",t.TenderObj.BANK),c.Fb(7),c.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),c.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",t.todayDate)("ngModel",t.TenderObj.ChequeIssueDate)("ngModelOptions",c.yc(26,di))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!0),c.Fb(7),c.Pc(c.yc(27,H)),c.tc("ngModel",t.TenderObj.CHEQUEAMT)("min",0)("max",t.NetPaybleTotal),c.Fb(4),c.Pc(c.yc(28,H)),c.tc("ngModel",t.TenderObj.ChequeHolderName)}}function fi(t,e){if(1&t&&(c.Yb(0,"label"),c.Uc(1),c.Xb()),2&t){const t=c.mc(3);c.Fb(1),c.Vc(t.fileInputLabelAttBankslip1)}}function vi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",308),c.Yb(1,"div",309),c.Uc(2,"Attach Supported Doc (max size - 5MB) (PDF, JPG, PNG)"),c.Xb(),c.Yb(3,"div",286),c.Yb(4,"input",310,311),c.ic("change",function(e){return c.Lc(t),c.mc(2).onFileSelectBankDepositSlip(e,"AttBankslip1")}),c.Xb(),c.Tb(6,"br"),c.Sc(7,fi,2,1,"label",1),c.Xb(),c.Tb(8,"hr"),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(7),c.tc("ngIf",t.fileInputLabelAttBankslip1)}}function Ci(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",144),c.Yb(1,"div",284),c.Uc(2,"Remarks"),c.Xb(),c.Yb(3,"div",286),c.Yb(4,"input",312),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.REMARKS=e}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(4),c.Pc(c.yc(3,H)),c.tc("ngModel",t.TenderObj.REMARKS)}}function Si(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",219),c.Yb(1,"h4",220),c.Uc(2,"Select Payment Method"),c.Xb(),c.Yb(3,"button",271),c.ic("click",function(){return(0,e.dismiss)("Cross click")}),c.Yb(4,"span",222),c.Uc(5,"\xd7"),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",223),c.Yb(7,"div",128),c.Yb(8,"div",224),c.Yb(9,"p-multiSelect",272),c.ic("onChange",function(){return c.Lc(t),c.mc().ShowSelectedItem()})("ngModelChange",function(e){return c.Lc(t),c.mc().selectedPaymodeCodes=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(10,"div",128),c.Yb(11,"div",224),c.Yb(12,"div",144),c.Yb(13,"div",273),c.Uc(14),c.nc(15,"number"),c.Xb(),c.Xb(),c.Sc(16,ai,11,6,"div",274),c.Sc(17,bi,21,17,"div",275),c.Sc(18,ui,32,25,"div",276),c.Sc(19,gi,37,7,"div",277),c.Sc(20,Ii,35,29,"div",278),c.Sc(21,vi,9,1,"div",279),c.Yb(22,"div",280),c.Sc(23,Ci,5,4,"div",281),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(24,"div",236),c.Yb(25,"button",237),c.ic("click",function(){return(0,e.close)("Close click")}),c.Uc(26,"Close"),c.Xb(),c.Yb(27,"button",102),c.ic("click",function(){return c.Lc(t),c.mc().FireforPayment()}),c.Uc(28,"Pay"),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.Fb(9),c.Pc(c.yc(15,H)),c.tc("options",t.lstPayMode)("ngModel",t.selectedPaymodeCodes),c.Fb(5),c.Wc(" Total Amount: ",c.pc(15,12,t.NetPaybleTotal,"1.0-0")," "),c.Fb(2),c.tc("ngIf",t.SelectPaymodeArray.includes("LB1199")),c.Fb(1),c.tc("ngIf",t.SelectPaymodeArray.includes("AT01002")),c.Fb(1),c.tc("ngIf",t.SelectPaymodeArray.includes("AT999999")),c.Fb(1),c.tc("ngIf",t.SelectPaymodeArray.includes("BT01001")),c.Fb(1),c.tc("ngIf",t.SelectPaymodeArray.includes("DI01001")),c.Fb(1),c.tc("ngIf",t.SelectPaymodeArray.includes("AT01002")||t.SelectPaymodeArray.includes("AT999999")||t.SelectPaymodeArray.includes("BT01001")||t.SelectPaymodeArray.includes("DI01001")),c.Fb(2),c.tc("ngIf",(null==t.SelectPaymodeArray?null:t.SelectPaymodeArray.length)>0&&!t.SelectPaymodeArray.includes("ATONLN"))}}function Ti(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",288),c.Tb(1,"hr",289),c.Yb(2,"h6",289),c.Yb(3,"strong"),c.Uc(4,"Cash Details"),c.Xb(),c.Xb(),c.Yb(5,"div",283),c.Yb(6,"div",316),c.Yb(7,"label"),c.Yb(8,"strong"),c.Uc(9,"Amount "),c.Yb(10,"span",285),c.Uc(11,"*"),c.Xb(),c.Xb(),c.Xb(),c.Yb(12,"p-inputNumber",290),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CASH=e}),c.Xb(),c.Xb(),c.Yb(13,"div",316),c.Yb(14,"label"),c.Yb(15,"strong"),c.Uc(16," Received Date"),c.Xb(),c.Yb(17,"span",285),c.Uc(18,"*"),c.Xb(),c.Xb(),c.Yb(19,"p-calendar",291,292),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CashRecdDate=e}),c.Xb(),c.Xb(),c.Xb(),c.Tb(21,"hr"),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(12),c.Pc(c.yc(15,H)),c.tc("ngModel",t.TenderObj.CASH)("min",0)("max",t.CreditNoteAmount),c.Fb(7),c.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),c.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",t.todayDate)("ngModel",t.TenderObj.CashRecdDate)("ngModelOptions",c.yc(16,di))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!1)}}function yi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"a",122),c.ic("click",function(){return c.Lc(t),c.mc(4).AddCardPaymentDetails()}),c.Tb(1,"i",86),c.Xb()}}function Mi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"a",122),c.ic("click",function(){c.Lc(t);const e=c.mc().index,i=c.mc(3);return i.RemoveCardPaymentDetails(i.lstCardPaymentTransactionDetails[e].Sequence)}),c.Tb(1,"i",90),c.Xb()}}function Ai(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2),c.Xb(),c.Yb(3,"td"),c.Yb(4,"input",300),c.ic("ngModelChange",function(t){return e.$implicit.CardNumber=t}),c.Xb(),c.Xb(),c.Yb(5,"td"),c.Yb(6,"input",300),c.ic("ngModelChange",function(t){return e.$implicit.CardHolderName=t}),c.Xb(),c.Xb(),c.Yb(7,"td"),c.Yb(8,"input",300),c.ic("ngModelChange",function(t){return e.$implicit.TransactionId=t}),c.Xb(),c.Xb(),c.Yb(9,"td"),c.Yb(10,"p-calendar",291,301),c.ic("ngModelChange",function(t){return e.$implicit.RecdDate=t}),c.Xb(),c.Xb(),c.Yb(12,"td"),c.Yb(13,"p-inputNumber",302),c.ic("onInput",function(i){c.Lc(t);const n=e.$implicit;return c.mc(3).CalculateTotalCardPayment(i,n.Sequence)})("onBlur",function(){return c.Lc(t),c.mc(3).CalculateTotalCardPaymentrev()})("ngModelChange",function(t){return e.$implicit.Amount=t}),c.Xb(),c.Xb(),c.Yb(14,"td"),c.Sc(15,yi,2,0,"a",123),c.Sc(16,Mi,2,0,"a",123),c.Xb(),c.Xb()}if(2&t){const t=e.$implicit,i=e.index,n=c.mc(3);c.Fb(2),c.Vc(i+1),c.Fb(2),c.Pc(c.yc(31,H)),c.vc("name","txtTransactionCardNumber_",i,""),c.tc("ngModel",t.CardNumber),c.Fb(2),c.Pc(c.yc(32,H)),c.vc("name","txtTransactionCardHolderName_",i,""),c.tc("ngModel",t.CardHolderName),c.Fb(2),c.Pc(c.yc(33,H)),c.vc("name","txtTransactionIdCardPayment_",i,""),c.tc("ngModel",t.TransactionId),c.Fb(2),c.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),c.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",n.todayDate)("ngModel",t.RecdDate)("ngModelOptions",c.yc(34,di))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!1),c.Fb(3),c.Pc(c.yc(35,H)),c.vc("name","txtBankTFAmountTran_",i,""),c.tc("ngModel",t.Amount)("min",0)("max",n.NetPaybleTotal),c.Fb(2),c.tc("ngIf",(null==n.lstCardPaymentTransactionDetails?null:n.lstCardPaymentTransactionDetails.length)<10),c.Fb(1),c.tc("ngIf",1!==n.lstCardPaymentTransactionDetails[i].Sequence)}}function Ri(t,e){if(1&t&&(c.Yb(0,"div",293),c.Yb(1,"h6",289),c.Yb(2,"strong"),c.Uc(3,"Card Details"),c.Xb(),c.Xb(),c.Yb(4,"div",321),c.Yb(5,"table",225),c.Yb(6,"thead"),c.Yb(7,"tr"),c.Yb(8,"th"),c.Uc(9,"S.No"),c.Xb(),c.Yb(10,"th"),c.Uc(11,"Card Number "),c.Xb(),c.Yb(12,"th"),c.Uc(13,"Card Holder Name"),c.Xb(),c.Yb(14,"th"),c.Uc(15,"Transaction Id "),c.Yb(16,"span",285),c.Uc(17,"*"),c.Xb(),c.Xb(),c.Yb(18,"th"),c.Uc(19,"Payment Rec. Date "),c.Yb(20,"span",285),c.Uc(21,"*"),c.Xb(),c.Xb(),c.Yb(22,"th"),c.Uc(23,"Amount "),c.Yb(24,"span",285),c.Uc(25,"*"),c.Xb(),c.Xb(),c.Yb(26,"th"),c.Uc(27,"Action"),c.Xb(),c.Xb(),c.Xb(),c.Yb(28,"tbody"),c.Sc(29,Ai,17,36,"tr",227),c.Xb(),c.Xb(),c.Xb(),c.Tb(30,"hr"),c.Xb()),2&t){const t=c.mc(2);c.Fb(29),c.tc("ngForOf",t.lstCardPaymentTransactionDetails)}}function Di(t,e){if(1&t){const t=c.Zb();c.Yb(0,"a",122),c.ic("click",function(){return c.Lc(t),c.mc(4).AddBankTransactionDetails()}),c.Tb(1,"i",86),c.Xb()}}function Yi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"a",122),c.ic("click",function(){c.Lc(t);const e=c.mc().index,i=c.mc(3);return i.RemoveBankTransactionDetails(i.lstBankDepositTransactionDetails[e].Sequence)}),c.Tb(1,"i",90),c.Xb()}}function Pi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2),c.Xb(),c.Yb(3,"td"),c.Yb(4,"input",300),c.ic("ngModelChange",function(t){return e.$implicit.BankName=t}),c.Xb(),c.Xb(),c.Yb(5,"td"),c.Yb(6,"input",300),c.ic("ngModelChange",function(t){return e.$implicit.TransactionId=t}),c.Xb(),c.Xb(),c.Yb(7,"td"),c.Yb(8,"p-calendar",291,324),c.ic("ngModelChange",function(t){return e.$implicit.RecdDate=t}),c.Xb(),c.Xb(),c.Yb(10,"td"),c.Yb(11,"p-inputNumber",302),c.ic("onInput",function(i){c.Lc(t);const n=e.$implicit;return c.mc(3).CalculateTotalBankTransaction(i,n.Sequence)})("onBlur",function(){return c.Lc(t),c.mc(3).CalculateTotalBankTransactionrev()})("ngModelChange",function(t){return e.$implicit.Amount=t}),c.Xb(),c.Xb(),c.Yb(12,"td"),c.Sc(13,Di,2,0,"a",123),c.Sc(14,Yi,2,0,"a",123),c.Xb(),c.Xb()}if(2&t){const t=e.$implicit,i=e.index,n=c.mc(3);c.Fb(2),c.Vc(i+1),c.Fb(2),c.Pc(c.yc(27,H)),c.vc("name","txtTransactionBankDepoNamecr_",i,""),c.tc("ngModel",t.BankName),c.Fb(2),c.Pc(c.yc(28,H)),c.vc("name","txtTransactionIdBankDepo_",i,""),c.tc("ngModel",t.TransactionId),c.Fb(2),c.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),c.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",n.todayDate)("ngModel",t.RecdDate)("ngModelOptions",c.yc(29,di))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!1),c.Fb(3),c.Pc(c.yc(30,H)),c.vc("name","txtBankTFAmountTranCR_",i,""),c.tc("ngModel",t.Amount)("min",0)("max",n.CreditNoteAmount),c.Fb(2),c.tc("ngIf",(null==n.lstBankDepositTransactionDetails?null:n.lstBankDepositTransactionDetails.length)<10),c.Fb(1),c.tc("ngIf",1!==n.lstBankDepositTransactionDetails[i].Sequence)}}function Xi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",298),c.Yb(1,"div",283),c.Yb(2,"div",224),c.Yb(3,"h6",289),c.Yb(4,"strong"),c.Uc(5,"Bank Deposit Details"),c.Xb(),c.Xb(),c.Yb(6,"table",225),c.Yb(7,"thead"),c.Yb(8,"tr"),c.Yb(9,"th"),c.Uc(10,"S.No"),c.Xb(),c.Yb(11,"th"),c.Uc(12,"Bank Name "),c.Yb(13,"span",285),c.Uc(14,"*"),c.Xb(),c.Xb(),c.Yb(15,"th"),c.Uc(16,"Transaction Id "),c.Yb(17,"span",285),c.Uc(18,"*"),c.Xb(),c.Xb(),c.Yb(19,"th"),c.Uc(20,"Payment Rec. Date "),c.Yb(21,"span",285),c.Uc(22,"*"),c.Xb(),c.Xb(),c.Yb(23,"th"),c.Uc(24,"Amount "),c.Yb(25,"span",285),c.Uc(26,"*"),c.Xb(),c.Xb(),c.Yb(27,"th"),c.Uc(28,"Action"),c.Xb(),c.Xb(),c.Xb(),c.Yb(29,"tbody"),c.Sc(30,Pi,15,31,"tr",227),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Tb(31,"hr"),c.Yb(32,"div",322),c.Yb(33,"div",323),c.Uc(34,"Amount"),c.Xb(),c.Yb(35,"div",284),c.Yb(36,"p-inputNumber",299),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.BANKTFAMOUNT=e}),c.Xb(),c.Xb(),c.Xb(),c.Tb(37,"hr"),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(30),c.tc("ngForOf",t.lstBankDepositTransactionDetails),c.Fb(6),c.Pc(c.yc(6,H)),c.tc("ngModel",t.TenderObj.BANKTFAMOUNT)("min",0)("max",t.CreditNoteAmount)}}function Ui(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",303),c.Yb(1,"h3"),c.Uc(2,"Cheque Details"),c.Xb(),c.Yb(3,"div",283),c.Yb(4,"div",284),c.Uc(5,"Cheque Number "),c.Yb(6,"span",285),c.Uc(7,"*"),c.Xb(),c.Xb(),c.Yb(8,"div",284),c.Yb(9,"input",294),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CHEQUENO=e}),c.Xb(),c.Xb(),c.Yb(10,"div",284),c.Uc(11,"Bank Name "),c.Yb(12,"span",285),c.Uc(13,"*"),c.Xb(),c.Xb(),c.Yb(14,"div",284),c.Yb(15,"input",304),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.BANK=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(16,"div",283),c.Yb(17,"div",284),c.Uc(18,"Received Date"),c.Yb(19,"span",285),c.Uc(20,"*"),c.Xb(),c.Xb(),c.Yb(21,"div",286),c.Yb(22,"p-calendar",325),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.ChequeRecdDate=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(23,"div",283),c.Yb(24,"div",284),c.Uc(25,"Cheque Date"),c.Yb(26,"span",285),c.Uc(27,"*"),c.Xb(),c.Xb(),c.Yb(28,"div",286),c.Yb(29,"p-calendar",325),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.ChequeIssueDate=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(30,"div",283),c.Yb(31,"div",284),c.Uc(32,"Amount "),c.Yb(33,"span",285),c.Uc(34,"*"),c.Xb(),c.Xb(),c.Yb(35,"div",284),c.Yb(36,"p-inputNumber",306),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.CHEQUEAMT=e}),c.Xb(),c.Xb(),c.Yb(37,"div",284),c.Uc(38,"Holder Name"),c.Xb(),c.Yb(39,"div",284),c.Yb(40,"input",307),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.ChequeHolderName=e}),c.Xb(),c.Xb(),c.Xb(),c.Tb(41,"hr"),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(9),c.Pc(c.yc(34,H)),c.tc("ngModel",t.TenderObj.CHEQUENO),c.Fb(6),c.Pc(c.yc(35,H)),c.tc("ngModel",t.TenderObj.BANK),c.Fb(7),c.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),c.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",t.todayDate)("ngModel",t.TenderObj.ChequeRecdDate)("ngModelOptions",c.yc(36,di))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!0),c.Fb(7),c.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),c.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",t.todayDate)("ngModel",t.TenderObj.ChequeIssueDate)("ngModelOptions",c.yc(37,di))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!0),c.Fb(7),c.Pc(c.yc(38,H)),c.tc("ngModel",t.TenderObj.CHEQUEAMT)("min",0)("max",t.NetPaybleTotal),c.Fb(4),c.Pc(c.yc(39,H)),c.tc("ngModel",t.TenderObj.ChequeHolderName)}}function xi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",326),c.Yb(1,"div",144),c.Yb(2,"div",284),c.Yb(3,"label"),c.Yb(4,"strong"),c.Uc(5," Select Trust"),c.Xb(),c.Xb(),c.Yb(6,"p-dropdown",327),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.TrustId=e}),c.Xb(),c.Xb(),c.Yb(7,"div",284),c.Yb(8,"label"),c.Yb(9,"strong"),c.Uc(10,"Select Member Type"),c.Xb(),c.Xb(),c.Yb(11,"p-dropdown",328),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.TMemberTypeId=e}),c.Xb(),c.Xb(),c.Yb(12,"div",284),c.Yb(13,"label"),c.Yb(14,"strong"),c.Uc(15,"Membership Number"),c.Xb(),c.Xb(),c.Yb(16,"input",329),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.MemberShipNumber=e}),c.Xb(),c.Xb(),c.Tb(17,"div",284),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(6),c.Pc(c.yc(15,H)),c.tc("options",t.lstTrustMaster)("ngModel",t.TenderObj.TrustId)("filter",!0)("showClear",!0),c.Fb(5),c.Pc(c.yc(16,H)),c.tc("options",t.lstTrustMemberTypeMaster)("ngModel",t.TenderObj.TMemberTypeId)("filter",!0)("showClear",!0),c.Fb(5),c.Pc(c.yc(17,H)),c.tc("ngModel",t.TenderObj.MemberShipNumber)}}function Ni(t,e){if(1&t&&(c.Yb(0,"label"),c.Uc(1),c.Xb()),2&t){const t=c.mc(3);c.Fb(1),c.Vc(t.fileInputLabelAttBankslip1)}}function Bi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",308),c.Yb(1,"div",309),c.Uc(2,"Attach Supported Doc (max size - 5MB) (PDF, JPG, PNG)"),c.Xb(),c.Yb(3,"div",286),c.Yb(4,"input",310,311),c.ic("change",function(e){return c.Lc(t),c.mc(2).onFileSelectBankDepositSlip(e,"AttBankslip1")}),c.Xb(),c.Tb(6,"br"),c.Sc(7,Ni,2,1,"label",1),c.Xb(),c.Tb(8,"hr"),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(7),c.tc("ngIf",t.fileInputLabelAttBankslip1)}}function wi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",144),c.Yb(1,"div",284),c.Yb(2,"label"),c.Yb(3,"strong"),c.Uc(4," Remarks"),c.Xb(),c.Xb(),c.Yb(5,"input",312),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).TenderObj.REMARKS=e}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(5),c.Pc(c.yc(3,H)),c.tc("ngModel",t.TenderObj.REMARKS)}}function Ei(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",102),c.ic("click",function(){return c.Lc(t),c.mc(2).SaveCreditNote()}),c.Uc(1,"Save"),c.Xb()}}function Li(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",219),c.Yb(1,"h4",220),c.Uc(2,"Receive Payment"),c.Xb(),c.Yb(3,"button",313),c.ic("click",function(){return(0,e.dismiss)("Cross click")}),c.Yb(4,"span",222),c.Uc(5,"\xd7"),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",314),c.Yb(7,"div",315),c.Yb(8,"div",316),c.Yb(9,"label"),c.Yb(10,"strong"),c.Uc(11," Receive Amount"),c.Xb(),c.Xb(),c.Yb(12,"p-inputNumber",317),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().CreditNoteAmount=e})("onInput",function(e){return c.Lc(t),c.mc().ReflectCreditBalance(e)}),c.Xb(),c.Xb(),c.Yb(13,"div",316),c.Yb(14,"label"),c.Yb(15,"strong"),c.Uc(16,"Receive Mode"),c.Xb(),c.Xb(),c.Yb(17,"p-multiSelect",272),c.ic("onChange",function(){return c.Lc(t),c.mc().ShowSelectedItem()})("ngModelChange",function(e){return c.Lc(t),c.mc().selectedPaymodeCodes=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(18,"div",318),c.Yb(19,"div",224),c.Sc(20,Ti,22,17,"div",275),c.Sc(21,Ri,31,1,"div",276),c.Sc(22,Xi,38,7,"div",277),c.Sc(23,Ui,42,40,"div",278),c.Sc(24,xi,18,18,"div",319),c.Sc(25,Bi,9,1,"div",279),c.Yb(26,"div",280),c.Sc(27,wi,6,4,"div",281),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(28,"div",236),c.Sc(29,Ei,2,0,"button",98),c.Yb(30,"button",320),c.ic("click",function(){return(0,e.close)("Close click")}),c.Uc(31,"Close"),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.Fb(12),c.Pc(c.yc(19,H)),c.tc("ngModel",t.CreditNoteAmount)("min",0)("max",t.MaxRecAmount)("minFractionDigits",2)("maxFractionDigits",5),c.Fb(5),c.Pc(c.yc(20,H)),c.tc("options",t.lstPayMode)("ngModel",t.selectedPaymodeCodes),c.Fb(3),c.tc("ngIf",t.SelectPaymodeArray.includes("AT01002")),c.Fb(1),c.tc("ngIf",t.SelectPaymodeArray.includes("AT999999")),c.Fb(1),c.tc("ngIf",t.SelectPaymodeArray.includes("BT01001")),c.Fb(1),c.tc("ngIf",t.SelectPaymodeArray.includes("DI01001")),c.Fb(1),c.tc("ngIf",!t.SelectPaymodeArray.includes("ATONLN")&&!t.SelectPaymodeArray.includes("ATWLONLN")),c.Fb(1),c.tc("ngIf",t.SelectPaymodeArray.includes("AT01002")||t.SelectPaymodeArray.includes("AT999999")||t.SelectPaymodeArray.includes("BT01001")||t.SelectPaymodeArray.includes("DI01001")),c.Fb(2),c.tc("ngIf",(null==t.SelectPaymodeArray?null:t.SelectPaymodeArray.length)>0&&!t.SelectPaymodeArray.includes("ATONLN")&&!t.SelectPaymodeArray.includes("ATWLONLN")),c.Fb(2),c.tc("ngIf",t.CreditNoteAmount>0&&(null==t.SelectPaymodeArray?null:t.SelectPaymodeArray.length)>0)}}function ki(t,e){1&t&&c.Uc(0),2&t&&c.Wc(" ",e.$implicit.TenderName," ")}function Oi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",336),c.Yb(1,"div",224),c.Yb(2,"div",283),c.Yb(3,"div",284),c.Uc(4,"Account Number "),c.Yb(5,"span",285),c.Uc(6,"*"),c.Xb(),c.Xb(),c.Yb(7,"div",284),c.Yb(8,"input",337),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).RefundObj.AccNumber=e}),c.Xb(),c.Xb(),c.Yb(9,"div",284),c.Uc(10,"Account Holder Name "),c.Yb(11,"span",285),c.Uc(12,"*"),c.Xb(),c.Xb(),c.Yb(13,"div",284),c.Yb(14,"input",338),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).RefundObj.AccHolderName=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(15,"div",283),c.Yb(16,"div",284),c.Uc(17,"IFSC Code "),c.Yb(18,"span",285),c.Uc(19,"*"),c.Xb(),c.Xb(),c.Yb(20,"div",284),c.Yb(21,"input",339),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).RefundObj.IFSCCode=e}),c.Xb(),c.Xb(),c.Yb(22,"div",284),c.Uc(23,"Bank Name"),c.Xb(),c.Yb(24,"div",284),c.Yb(25,"input",340),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).RefundObj.BankName=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(26,"div",283),c.Yb(27,"div",284),c.Uc(28,"Transaction Id "),c.Yb(29,"span",285),c.Uc(30,"*"),c.Xb(),c.Xb(),c.Yb(31,"div",284),c.Yb(32,"input",341),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).RefundObj.TransactionId=e}),c.Xb(),c.Xb(),c.Yb(33,"div",284),c.Uc(34,"Purpose "),c.Yb(35,"span",285),c.Uc(36,"*"),c.Xb(),c.Xb(),c.Yb(37,"div",284),c.Yb(38,"input",334),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).RefundObj.Purpose=e}),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(8),c.Pc(c.yc(18,H)),c.tc("ngModel",t.RefundObj.AccNumber),c.Fb(6),c.Pc(c.yc(19,H)),c.tc("ngModel",t.RefundObj.AccHolderName),c.Fb(7),c.Pc(c.yc(20,H)),c.tc("ngModel",t.RefundObj.IFSCCode),c.Fb(4),c.Pc(c.yc(21,H)),c.tc("ngModel",t.RefundObj.BankName),c.Fb(7),c.Pc(c.yc(22,H)),c.tc("ngModel",t.RefundObj.TransactionId),c.Fb(6),c.Pc(c.yc(23,H)),c.tc("ngModel",t.RefundObj.Purpose)}}function Fi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",342),c.Yb(1,"div",284),c.Uc(2,"Refund Date "),c.Yb(3,"span",285),c.Uc(4,"*"),c.Xb(),c.Xb(),c.Yb(5,"div",284),c.Yb(6,"p-calendar",343),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc(2).RefundObj.RefundDate=e}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc(2);c.Fb(6),c.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),c.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",t.todayDate)("ngModel",t.RefundObj.RefundDate)("ngModelOptions",c.yc(9,di))("showIcon",!0)("readonlyInput",!0)}}function _i(t,e){if(1&t){const t=c.Zb();c.Yb(0,"div",283),c.Yb(1,"div",316),c.Yb(2,"h5"),c.Uc(3,"Refund Amount"),c.Xb(),c.Yb(4,"p-inputNumber",330),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().RefundCreditNoteAmount=e}),c.Xb(),c.Xb(),c.Yb(5,"div",316),c.Yb(6,"h5"),c.Uc(7,"Select Refund Mode"),c.Xb(),c.Yb(8,"p-dropdown",331),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().selectedPaymode=e}),c.Sc(9,ki,1,1,"ng-template",57),c.Xb(),c.Xb(),c.Xb(),c.Sc(10,Oi,39,24,"div",332),c.Sc(11,Fi,7,10,"div",333),c.Yb(12,"div",283),c.Yb(13,"div",284),c.Uc(14,"Purpose "),c.Yb(15,"span",285),c.Uc(16,"*"),c.Xb(),c.Xb(),c.Yb(17,"div",286),c.Yb(18,"input",334),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().RefundObj.Purpose=e}),c.Xb(),c.Xb(),c.Xb(),c.Yb(19,"div",283),c.Yb(20,"div",284),c.Uc(21,"Approved By "),c.Yb(22,"span",285),c.Uc(23,"*"),c.Xb(),c.Xb(),c.Yb(24,"div",286),c.Yb(25,"input",335),c.ic("ngModelChange",function(e){return c.Lc(t),c.mc().RefundObj.ApprovedBy=e}),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.Fb(4),c.Pc(c.yc(21,H)),c.tc("ngModel",t.RefundCreditNoteAmount)("min",0)("max",t.MaxRefundableAmount)("minFractionDigits",2)("maxFractionDigits",5),c.Fb(4),c.Pc(c.yc(22,H)),c.tc("options",t.lstPayModeRefund)("ngModel",t.selectedPaymode)("filter",!0)("showClear",!0),c.Fb(2),c.tc("ngIf","AT999997"==t.selectedPaymode),c.Fb(1),c.tc("ngIf","AT01002"==t.selectedPaymode),c.Fb(7),c.Pc(c.yc(23,H)),c.tc("ngModel",t.RefundObj.Purpose),c.Fb(7),c.Pc(c.yc(24,H)),c.tc("ngModel",t.RefundObj.ApprovedBy)}}function Wi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"button",102),c.ic("click",function(){return c.Lc(t),c.mc(2).SaveRefundCreditNote()}),c.Uc(1,"Submit"),c.Xb()}}function ji(t,e){if(1&t&&c.Sc(0,Wi,2,0,"button",98),2&t){const t=c.mc();c.tc("ngIf",t.RefundCreditNoteAmount>0)}}function Vi(t,e){if(1&t&&(c.Yb(0,"div"),c.Tb(1,"app-colon-hydrotherapy",344),c.Xb()),2&t){const t=c.mc();c.Fb(1),c.tc("clinicId",t.ClinicIdSelected)}}function Zi(t,e){1&t&&(c.Yb(0,"h5"),c.Uc(1,"Select Room Type"),c.Xb())}function Gi(t,e){if(1&t){const t=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2),c.Xb(),c.Yb(3,"td"),c.Uc(4),c.Xb(),c.Yb(5,"td"),c.Yb(6,"button",85),c.ic("click",function(){c.Lc(t);const i=e.$implicit;return c.mc(2).SelectParentMCode(i.MCODE)}),c.Uc(7," Select "),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=e.$implicit;c.Fb(2),c.Vc(t.MCODE),c.Fb(2),c.Vc(t.Description)}}function qi(t,e){if(1&t&&(c.Yb(0,"table",345),c.Yb(1,"thead"),c.Yb(2,"tr",346),c.Yb(3,"th"),c.Uc(4,"MCODE"),c.Xb(),c.Yb(5,"th"),c.Uc(6,"Description"),c.Xb(),c.Yb(7,"th"),c.Uc(8,"Action"),c.Xb(),c.Xb(),c.Xb(),c.Yb(9,"tbody"),c.Sc(10,Gi,8,2,"tr",227),c.Xb(),c.Xb()),2&t){const t=c.mc();c.Fb(10),c.tc("ngForOf",t.lstSelectedMCODERoom)}}function Hi(t,e){}function Qi(t,e){1&t&&c.Ub(0)}function $i(t,e){if(1&t&&(c.Yb(0,"div"),c.Sc(1,Qi,1,0,"ng-container",95),c.Xb()),2&t){c.mc();const t=c.Ic(62);c.Fb(1),c.tc("ngTemplateOutlet",t)}}function zi(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"td",359),c.Uc(2),c.Xb(),c.Yb(3,"td",360),c.Uc(4),c.nc(5,"number"),c.Xb(),c.Yb(6,"td",360),c.Uc(7),c.Xb(),c.Yb(8,"td",361),c.Uc(9),c.nc(10,"number"),c.Xb(),c.Yb(11,"td",362),c.Uc(12),c.nc(13,"date"),c.Xb(),c.Xb()),2&t){const t=e.$implicit,i=c.mc(2);c.Fb(2),c.Wc(" ",t.Description,""),c.Fb(2),c.Wc(" ",c.pc(5,5,t.MRP,"1.1-2"),""),c.Fb(3),c.Wc(" ",t.Qty,""),c.Fb(2),c.Wc(" ",c.pc(10,8,t.PriceWithGST,"1.1-2"),""),c.Fb(3),c.Wc(" ",c.pc(13,11,t.PurchaseDate,i.customDateFormat.DEF_DATE),"")}}function Ki(t,e){if(1&t){const t=c.Zb();c.Yb(0,"app-print-access-header",347),c.ic("onselectedLetterhead",function(e){return c.Lc(t),c.mc().onselectedLetterhead(e)}),c.Xb(),c.Yb(1,"div",348),c.Yb(2,"div",224),c.Tb(3,"app-print-header",349),c.Yb(4,"table",350),c.Yb(5,"tbody"),c.Yb(6,"tr"),c.Yb(7,"table",351),c.Yb(8,"thead",352),c.Yb(9,"tr",353),c.Yb(10,"th",354),c.Uc(11,"Item"),c.Xb(),c.Yb(12,"th",354),c.Uc(13,"Price"),c.Xb(),c.Yb(14,"th",354),c.Uc(15,"Qty"),c.Xb(),c.Yb(16,"th",355),c.Uc(17,"Total"),c.Xb(),c.Yb(18,"th",354),c.Uc(19,"Purchase Date"),c.Xb(),c.Xb(),c.Xb(),c.Yb(20,"tbody",352),c.Sc(21,zi,14,14,"tr",227),c.Yb(22,"tr"),c.Yb(23,"td",356),c.Yb(24,"b"),c.Uc(25,"Grand Total: "),c.Xb(),c.Uc(26),c.nc(27,"number"),c.Xb(),c.Xb(),c.Yb(28,"tr"),c.Yb(29,"td",357),c.Tb(30,"hr"),c.Xb(),c.Xb(),c.Yb(31,"tr"),c.Yb(32,"td",358),c.Uc(33,"Authorized Signature"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.tc("IsLetterhead",t.IsLetterhead)("IsNgxPrint",!0),c.Fb(3),c.tc("slotBookingId",t.SlotBookingIdSelected)("IsGST",!0)("IsLetterhead",t.IsLetterhead)("heading","Estimeted Bill"),c.Fb(18),c.tc("ngForOf",t.printBillItem),c.Fb(5),c.Wc(" \u20b9 ",c.pc(27,8,t.TotalGrandTotalAmount,"1.1-2"),"")}}function Ji(t,e){1&t&&c.Ub(0)}function tn(t,e){if(1&t&&(c.Yb(0,"div"),c.Sc(1,Ji,1,0,"ng-container",95),c.Xb()),2&t){c.mc();const t=c.Ic(66);c.Fb(1),c.tc("ngTemplateOutlet",t)}}function en(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"td",359),c.Uc(2),c.Xb(),c.Yb(3,"td",360),c.Uc(4),c.nc(5,"number"),c.Xb(),c.Yb(6,"td",360),c.Uc(7),c.Xb(),c.Yb(8,"td",361),c.Uc(9),c.nc(10,"number"),c.Xb(),c.Yb(11,"td",362),c.Uc(12),c.nc(13,"date"),c.Xb(),c.Xb()),2&t){const t=e.$implicit,i=c.mc(2);c.Fb(2),c.Wc(" ",t.Description,""),c.Fb(2),c.Wc(" ",c.pc(5,5,t.MRP,"1.1-2"),""),c.Fb(3),c.Wc(" ",t.Qty,""),c.Fb(2),c.Wc(" ",c.pc(10,8,t.PriceWithGST,"1.1-2"),""),c.Fb(3),c.Wc(" ",c.pc(13,11,t.PurchaseDate,i.customDateFormat.DEF_DATE),"")}}function nn(t,e){if(1&t){const t=c.Zb();c.Yb(0,"app-print-access-header",347),c.ic("onselectedLetterhead",function(e){return c.Lc(t),c.mc().onselectedLetterhead(e)}),c.Xb(),c.Yb(1,"div",348),c.Yb(2,"div",224),c.Tb(3,"app-print-header",363),c.Yb(4,"table",350),c.Yb(5,"tbody"),c.Yb(6,"tr"),c.Yb(7,"table",351),c.Yb(8,"thead",352),c.Yb(9,"tr",353),c.Yb(10,"th",354),c.Uc(11,"Item"),c.Xb(),c.Yb(12,"th",354),c.Uc(13,"Price"),c.Xb(),c.Yb(14,"th",354),c.Uc(15,"Qty"),c.Xb(),c.Yb(16,"th",355),c.Uc(17,"Total"),c.Xb(),c.Yb(18,"th",354),c.Uc(19,"Purchase Date"),c.Xb(),c.Xb(),c.Xb(),c.Yb(20,"tbody",352),c.Sc(21,en,14,14,"tr",227),c.Yb(22,"tr"),c.Yb(23,"td",356),c.Yb(24,"b"),c.Uc(25,"Grand Total: "),c.Xb(),c.Uc(26),c.nc(27,"number"),c.Xb(),c.Xb(),c.Yb(28,"tr"),c.Yb(29,"td",356),c.Yb(30,"b"),c.Uc(31,"Discount Amount: "),c.Xb(),c.Uc(32),c.nc(33,"number"),c.Xb(),c.Xb(),c.Yb(34,"tr"),c.Yb(35,"td",356),c.Yb(36,"b"),c.Uc(37,"Net Payable: "),c.Xb(),c.Uc(38),c.nc(39,"number"),c.Xb(),c.Xb(),c.Yb(40,"tr"),c.Yb(41,"td",356),c.Yb(42,"b"),c.Uc(43,"Received Amount: "),c.Xb(),c.Uc(44),c.nc(45,"number"),c.Xb(),c.Xb(),c.Yb(46,"tr"),c.Yb(47,"td",356),c.Yb(48,"b"),c.Uc(49,"Balance Amount: "),c.Xb(),c.Uc(50),c.nc(51,"number"),c.Xb(),c.Xb(),c.Yb(52,"tr"),c.Yb(53,"td",357),c.Tb(54,"hr"),c.Xb(),c.Xb(),c.Yb(55,"tr"),c.Yb(56,"td",358),c.Uc(57,"Authorized Signature"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){const t=c.mc();c.tc("IsLetterhead",t.IsLetterhead)("IsNgxPrint",!0),c.Fb(3),c.tc("slotBookingId",t.SlotBookingIdSelected)("IsGST",!0)("IsLetterhead",t.IsLetterhead),c.Fb(18),c.tc("ngForOf",t.printBillItem),c.Fb(5),c.Wc(" \u20b9 ",c.pc(27,11,t.TotalGrandTotalAmount,"1.1-2"),""),c.Fb(6),c.Wc(" \u20b9 ",c.pc(33,14,t.TotalDiscountAmount,"1.1-2"),""),c.Fb(6),c.Wc(" \u20b9 ",c.pc(39,17,t.TotalGrandTotalAmount-t.TotalDiscountAmount,"1.1-2"),""),c.Fb(6),c.Wc(" \u20b9 ",c.pc(45,20,t.TotalReceiveAmount,"1.1-2"),""),c.Fb(6),c.Wc(" \u20b9 ",c.pc(51,23,t.TotalGrandTotalAmount-t.TotalDiscountAmount-t.TotalReceiveAmount,"1.1-2"),"")}}function sn(t,e){if(1&t&&(c.Yb(0,"h5"),c.Uc(1),c.Xb()),2&t){const t=c.mc();c.Fb(1),c.Wc("Payment ","RefundPayment"==t.SelectedInvType?"Refund":"Receive"," Details")}}function on(t,e){if(1&t&&(c.Yb(0,"div"),c.Tb(1,"app-print-payment-voucher",364),c.Xb()),2&t){const t=c.mc();c.Fb(1),c.tc("SelectedSlotBookingId",t.SelectedSlotBookingId)("SelectedVCHRNO",t.SelectedVCHRNO)("SelectedPhiscalID",t.SelectedPhiscalID)("SelectedDivision",t.SelectedDivision)("InvType",t.SelectedInvType)}}function ln(t,e){if(1&t&&(c.Yb(0,"div"),c.Tb(1,"app-print-profile",365),c.Xb()),2&t){const t=c.mc();c.Fb(1),c.tc("SlotBookingIdSelected",t.SlotBookingIdSelected)("InvoiceNumberSelected",t.InvoiceNumberSelected)("PhiscalIdSelected",t.PhiscalIdSelected)("DivisionSelected",t.DivisionSelected)}}function cn(t,e){if(1&t&&(c.Yb(0,"div"),c.Tb(1,"app-individual-transaction-list",366),c.Xb()),2&t){const t=c.mc();c.Fb(1),c.tc("slotBookingId",t.SlotBookingIdSelected)("SelectedVCHRNO",t.InvoiceNumberSelected)("SelectedPhiscalID",t.PhiscalIdSelected)("SelectedDivision",t.DivisionSelected)}}function rn(t,e){if(1&t&&(c.Yb(0,"div"),c.Tb(1,"app-individual-invoice-list",367),c.Xb()),2&t){const t=c.mc();c.Fb(1),c.tc("slotBookingId",t.VisitorSelected)("IsVisitor",!0)}}function an(t,e){if(1&t&&(c.Yb(0,"div"),c.Tb(1,"app-pre-invoice-print",368),c.Xb()),2&t){const t=c.mc();c.Fb(1),c.tc("SlotBookingIdSelected",t.userSelected)("RemainingAmount",t.RemainingAmount)}}const dn=function(){return{width:"90vw"}},bn=function(){return{width:"70vw"}},un=function(){return{width:"60% !important",height:"40% !important",top:"25% !important",left:"30% !important"}};let hn=(()=>{class t extends o.a{constructor(t,e,i,n,s,o,c,r,a,d){var b,u;super(),this.cdRef=t,this.router=e,this.route=i,this.modalService=n,this._ConstantServices=s,this._MasterServices=o,this._PatientServices=c,this._UtilityService=r,this.formBuilder=a,this.confirmationService=d,this.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,this.BankDepositSlip1Att=null,this.AttRefundSlip1Att=null,this.ClinicCurre=localStorage.getItem("ClinicId"),this.UserTypeCurre=localStorage.getItem("userTypeId"),this.loginId=localStorage.getItem("userId"),this.bookingStatus=l.d,this.customDateFormat=l.h,this.UserTypes=l.s,this.billTypeStatus=l.c,this.billItemStatus=l.b,this.invoiceStatus=l.l,this.defaultItemMCODE=l.i,this.PaymentMethodSelected="",this.SlotDetailsNew={},this.SlotBookingIdSelected=null,this.InvoiceNumberSelected=null,this.qrySlotId=null,this.ClinicIdSelected="",this.NewItemDetails=[],this.TenderModel={},this.TenderObj={},this.lstAuthorizedMaster=[],this.selectedNodesItem=[],this.IsListView=!1,this.itemMaster=[],this.lstExtraItemDetails=[],this.lstExtraListItemDetails=[],this.extraItemRowCounter=0,this.editing=!1,this.lstSelectedBillableItem=[],this.lstExtraItemEmpty=[],this.UserList=[],this.userSelected="",this.tableDataExtraItemAll=[],this.tableDataExtraItem=[],this.tableDataExtraItemCredit=[],this.DivisionSelected=null,this.PhiscalIdSelected=null,this.IsSelectedItem=!1,this.ItemCheckedTotal=0,this.ExtraItemList=[],this.slotBookingMaster={},this.bookingMainModel={},this.WLOrderRes={},this.OrderRes={},this.UserRes={},this.selectAllItem=!1,this.AllItemPriceRes=[],this.ItemPriceRes=[],this.ProdList=[],this.printBillItem=[],this.checked=!1,this.TotalGrandTotalAmount=0,this.lstPayMode=[],this.SelectPaymodeArray=[],this.lstTenderModel=[],this.BillWiseDiscountPer=0,this.BillWiseDiscountAmount=0,this.NetPaybleTotal=0,this.ReferredBy="",this.RequestedBy="",this.ItemTotalDiscount=0,this.selection={},this.PayRequestFrom="Frontdesk",this.CreditNoteAmount=0,this.CreditNoteBalanceAmount=0,this.CreditLimit=0,this.CustomerInfoDetails={},this.MaxCreditLimit=0,this.RefundCreditNoteAmount=0,this.MaxRefundAmount=0,this.todayDate=new Date,this.TrnMain=[],this.TotalAmount=0,this.ItemWiseTotalDisAmount=0,this.TotalFlatDiscount=0,this.lstBankDepositTransactionDetails=[],this.BankDepTrnCounter=1,this.CardTrnCounter=1,this.PaymentTransactionDetails=[],this.RecPayment=!0,this.lstReciveVoucher=[],this.RecWith="Single",this.PaymentReciveList=[],this.SelectedSlotBookingId=null,this.SelectedVCHRNO=null,this.SelectedPhiscalID=null,this.SelectedDivision=null,this.TrnMode="New",this.selectedPaymode=null,this.RefundObj={},this.lstPayModeRefund=[],this.SelectedInvType=null,this.MaxRecAmount=1e8,this.MaxRefundableAmount=1e8,this.PIString=null,this.PerformaItemList=[],this.InvMode="Performa",this.PerformaOrderIds=[],this.TotalReceiveAmount=0,this.TotalDiscountAmount=0,this.BalanceType=null,this.RemainingAmount=0,this.IsRefundVoucher=!1,this.ExtraRoomCount=0,this.lstSelectedMCODERoom=[],this.SelectedSequence=0,this.showModalRoomCategorySelect=!1,this.lstCardPaymentTransactionDetails=[],this.lstTrustMaster=[],this.lstTrustMemberTypeMaster=[],this.ShowExtraItemModel=!1,this.ShowEstimetedBillListModel=!1,this.ShowTransactionDetailsModel=!1,this.ShowPerformaInvoiceListModel=!1,this.ShowPrintPaymentVoucherModel=!1,this.ShowPrintProfileModel=!1,this.MaxCreditNoteAmount=0,this.CreditNoteTranAmount=0,this.CreditNoteNumber=null,this.CreditNoteBalance=0,this.ShowPaymentRefundMethodModel=!1,this.ShowColonHydroModel=!1,this.ActionList=l.a,this.lstIAccess=[],this.lstIAccessStr=[],this.ClinicDetails={},this.IsLetterhead="false",this.PIEditGenRemarks=null,this.clinicGroup=l.e,this.SelectedBookingTypeClinicType={},this.CheckIsCredit=!1,this.isGenerateTI=!1,this.IsVistorBilling=!1,this.CustomerType=null,this.VisitorUserMaster={},this.VisitorSelected=null,this.ShowInvoiceListModel=!1,this.IsGroupedSelected=!1,this.bookingtypeSelected=null,this.MaxYear=(new Date).getFullYear()+2,this.showIndividualInvoiceList=!0,this.IsRefundforPI=!1,this.ShowPreInvoiceModel=!1,this.lstOnlinePayModAccess=[],this._ConstantServices.ActiveMenuName="Billing Service",this.CustomerType="Patient",this.IsVistorBilling=1==(null===(b=this.lsobjClinicMaster)||void 0===b?void 0:b.IsVistorBilling),this.lstOnlinePayModAccess=(null===(u=this.lsobjClinicMaster)||void 0===u?void 0:u.lstOnlinePaymentModes)||[],l.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId"))}ngOnInit(){var t;-330===this._ConstantServices.timeZoneOffset?(this.unsubscribe.add=this.route.queryParams.subscribe(t=>{this.userSelected=t.id,this.qrySlotId=t.id,this.onChangeHealthSeeker()}),this.fileUploadAttBankslip1=this.formBuilder.group({AttBankslip1:[""]}),this.fileUploadAttRefslip1=this.formBuilder.group({AttRefAppslip1:[""]}),this.loadTrusMaster(),this.loadTrusMemberTypeMaster(),this.ResetTenderList(),l.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.GetUserListForExtraItem(),this.LoadClinicMasterById()),0==(null===(t=this.lstExtraItemDetails)||void 0===t?void 0:t.length)&&null!=this.userSelected&&null!=this.userSelected&&""!=this.userSelected&&this.AddExtraItemDetails()):this._UtilityService.showWarningAlert("Your System's Time zone is incorrect. This can cause data discrepancy. Please go to Windows Setting and set it to (UTC+5:30).")}ngAfterViewChecked(){var t;0==(null===(t=this.lstIAccess)||void 0===t?void 0:t.length)&&this.getPageLevelAccess()}getPageLevelAccess(){var t,e,i=this.getUrlWithoutParams();"/common-dashboard"==i&&(i="/payment/extra-item-entry");var n=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==n?void 0:n.find(t=>t.MenuItemURL===i))&&(this.lstIAccess=null===(t=n.find(t=>t.MenuItemURL===i))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(t=>{this.lstIAccessStr.push(t.ActionId.toString())}))}getUrlWithoutParams(){let t=this.router.parseUrl(this.router.url);return t.queryParams={},t.fragment=null,t.toString()}resetIndividualInvoiceList(){this.showIndividualInvoiceList=!1,setTimeout(()=>{this.showIndividualInvoiceList=!0},100)}onclinicSelect(t){this.ClinicIdSelected=t,this.GetUserListForExtraItem(),this.LoadClinicMasterById()}onselectedClinic(t){this.lstOnlinePayModAccess=(null==t?void 0:t.lstOnlinePaymentModes)||[]}onChangeHealthSeeker(){this.selectedTab=0,this.LoaditemMasterWithGrouping(),this.LoadConsumedItem(),this.LoadInvoiceData(),this.LoadCrediNoteBalance()}loadTrusMaster(){this.lstTrustMaster=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetTrustMasterActive().subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.lstTrustMaster=e=e||[]}},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}),this.cdRef.detectChanges()}loadTrusMemberTypeMaster(){this.lstTrustMemberTypeMaster=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetTrustMemberTypeMasterActive().subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.lstTrustMemberTypeMaster=e=e||[]}},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}),this.cdRef.detectChanges()}ResetTenderList(){var t;if(this.lstPayMode=s.a.filter(t=>"ATONLN"!==t.ACID&&"ATWLONLN"!==t.ACID),(null===(t=this.lstOnlinePayModAccess)||void 0===t?void 0:t.length)>0){const t=s.a.filter(t=>this.lstOnlinePayModAccess.includes(t.ACID));this.lstPayMode=[...t,...this.lstPayMode]}}GetUserListForExtraItem(){this.UserList=[],this.cdRef.detectChanges(),this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetUserListForExtraItem(this.ClinicIdSelected,this.qrySlotId).subscribe(t=>{var e,i,n,s;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var o=[];o=JSON.parse(t.actionResult.result),this.UserList=o=o||[],this.IsGroupedSelected=null===(i=null===(e=this.UserList)||void 0===e?void 0:e.find(t=>t.SlotBookingId==this.userSelected))||void 0===i?void 0:i.IsGrouped,this.bookingtypeSelected=null===(s=null===(n=this.UserList)||void 0===n?void 0:n.find(t=>t.SlotBookingId==this.userSelected))||void 0===s?void 0:s.BookingType,this.cdRef.detectChanges()}else this.UserList=[]},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}tabClick(t){0==t.index?(this.LoaditemMasterWithGrouping(),this.clear()):1==t.index&&(this.LoadPrescribeditems(),this.clear()),this.selectedTab=t.index}LoaditemMaster(){this.itemMaster=[],this.billType=this.billTypeStatus.OtherItem,this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetItemMaster().subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=[];e=JSON.parse(t.actionResult.result),this.itemMaster=e=e||[],this.cdRef.detectChanges()}else this.itemMaster=null},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}LoaditemMasterWithGrouping(){null!=this.userSelected&&null!=this.userSelected||(this.userSelected=""),this.ExtraRoomCount=0,this.SelectedBookingTypeClinicType={},this.isGenerateTI=!1,this.lstSelectedMCODERoom=[],this.itemMaster=[],this.billType=this.billTypeStatus.OtherItem,this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetItemMasterWithGrouping(this.ClinicIdSelected,this.userSelected,this.CustomerType).subscribe(t=>{var e,i,n,s;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var o=[];o=JSON.parse(t.actionResult.result),this.itemMaster=o=o||[],l.s.Therapist==localStorage.getItem("userTypeId")&&(this.itemMaster=this.itemMaster.filter(t=>"treatment"===t.label.toLowerCase())),null!=t.actionResult.result2&&null!=t.actionResult.result2&&(null===(e=t.actionResult.result2)||void 0===e?void 0:e.length)>0&&(this.ExtraRoomCount=parseInt(t.actionResult.stringVal),this.lstSelectedMCODERoom=JSON.parse(t.actionResult.result2)),null!=t.actionResult.result3&&null!=t.actionResult.result3&&(null===(i=t.actionResult.result3)||void 0===i?void 0:i.length)>0&&(this.SelectedBookingTypeClinicType=JSON.parse(t.actionResult.result3),"OPD"==(null===(n=this.SelectedBookingTypeClinicType)||void 0===n?void 0:n.BookingType)&&(null===(s=this.SelectedBookingTypeClinicType)||void 0===s?void 0:s.ClinicGroup)==this.clinicGroup.PAH&&(this.isGenerateTI=!0)),this.cdRef.detectChanges()}else this.itemMaster=null},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}LoadPrescribeditems(){this.itemMaster=[],this.billType=this.billTypeStatus.Prescribed,null!=this.userSelected&&null!=this.userSelected&&""!=this.userSelected&&(this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetPatientPrescribedItems(this.userSelected).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=[];e=JSON.parse(t.actionResult.result),this.itemMaster=e=e||[],l.s.Therapist==localStorage.getItem("userTypeId")&&(this.itemMaster=this.itemMaster.filter(t=>"treatment"===t.label.toLowerCase())),this.cdRef.detectChanges()}else this.itemMaster=null},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}))}nodeSelect(t,e){var i,n;if(0==this.IsListView)this.SelectedSequence=e,this.lstExtraItemDetails[e].MCODE=t.originalEvent.currentTarget.ariaLabel.split("~")[0],this.lstExtraItemDetails[e].Description=t.originalEvent.currentTarget.ariaLabel.split("~")[1],this.lstExtraItemDetails[e].Category=t.originalEvent.currentTarget.ariaLabel.split("~")[2],this.lstExtraItemDetails[e].MRP=t.originalEvent.currentTarget.ariaLabel.split("~")[3],this.lstExtraItemDetails[e].IsEditable=t.originalEvent.currentTarget.ariaLabel.split("~")[4],this.getUM(e,t.originalEvent.currentTarget.ariaLabel.split("~")[0]),this.cdRef.detectChanges(),"Room"==this.lstExtraItemDetails[e].Category?(this.lstExtraItemDetails[e].NightCount=1,this.lstExtraItemDetails[e].RoomCount=1,this.lstExtraItemDetails[e].MCODE==l.i.ExtraBed&&((null===(i=this.lstSelectedMCODERoom)||void 0===i?void 0:i.length)>0?this.showModalRoomCategorySelect=!0:this.lstExtraItemDetails[e].Parent=l.i.ExtraBed),this.cdRef.detectChanges()):(this.showModalRoomCategorySelect=!1,this.cdRef.detectChanges()),this.selection={},this.itemMaster.map(t=>{t.expanded=!1}),$("#btnCloseOverlayItem").click();else if(this.selectedNodesItem.length>0&&1==this.IsListView){this.lstExtraListItemDetails=[];for(var s=this.selectedNodesItem.filter(t=>1==t.selectable),o=0;o<(null==s?void 0:s.length);o++)this.AddExtraListItemDetails(),this.lstExtraListItemDetails[o].MCODE=s[o].label.split("~")[0],this.lstExtraListItemDetails[o].Description=s[o].label.split("~")[1],this.lstExtraListItemDetails[o].Category=s[o].label.split("~")[2],this.getListUM(o,s[o].label.split("~")[0]),this.cdRef.detectChanges(),"Room"==this.lstExtraListItemDetails[o].Category?(this.lstExtraListItemDetails[o].NightCount=1,this.lstExtraListItemDetails[o].RoomCount=1,this.lstExtraListItemDetails[o].MCODE==l.i.ExtraBed&&((null===(n=this.lstSelectedMCODERoom)||void 0===n?void 0:n.length)>0?this.showModalRoomCategorySelect=!0:this.lstExtraListItemDetails[o].Parent=l.i.ExtraBed),console.log(o),this.cdRef.detectChanges()):(this.showModalRoomCategorySelect=!1,this.cdRef.detectChanges());console.log(this.lstExtraListItemDetails)}}getUM(t,e){var i,n=[];if(""!=e&&null!=e&&null!=e){n=[];var s=!0;this.itemMaster.forEach(t=>{s&&t.items.forEach(t=>{s&&t.value==e&&(n=t.UOMS,s=!1)})}),this.lstExtraItemDetails[t].UMList=[],this.lstExtraItemDetails[t].UOMS="",this.lstExtraItemDetails[t].UMList=n,this.cdRef.detectChanges(),1==(null===(i=this.lstExtraItemDetails[t].UMList)||void 0===i?void 0:i.length)&&(this.lstExtraItemDetails[t].UOMS=this.lstExtraItemDetails[t].UMList[0].UOMName,this.cdRef.detectChanges())}}getListUM(t,e){var i,n=[];if(""!=e&&null!=e&&null!=e){n=[];var s=!0;this.itemMaster.forEach(t=>{s&&t.items.forEach(t=>{s&&t.value==e&&(n=t.UOMS,s=!1)})}),this.lstExtraListItemDetails[t].UMList=[],this.lstExtraListItemDetails[t].UOMS="",this.lstExtraListItemDetails[t].UMList=n,this.cdRef.detectChanges(),1==(null===(i=this.lstExtraListItemDetails[t].UMList)||void 0===i?void 0:i.length)&&(this.lstExtraListItemDetails[t].UOMS=this.lstExtraListItemDetails[t].UMList[0].UOMName,this.cdRef.detectChanges())}}ResetItem(t){this.lstExtraItemDetails[t-1].MCODE="",this.lstExtraItemDetails[t-1].Description="",this.lstExtraItemDetails[t-1].UMList=[],this.getUM(t,this.lstExtraItemDetails[t-1].MCODE),this.cdRef.detectChanges()}ResetExtraItemList(){this.extraItemRowCounter=0,this.lstExtraListItemDetails=[],this.lstExtraItemDetails=[],this.selectedNodesItem=[],this.itemMaster.map(t=>{t.expanded=!1}),this.AddExtraItemDetails(),this.AddExtraListItemDetails()}AddExtraItemDetails(){this.extraItemRowCounter=this.extraItemRowCounter+1,this.lstExtraItemDetails.push({Sequence:this.extraItemRowCounter,MCODE:"",UOMS:"",Qty:1,UMList:[],Description:""})}AddExtraListItemDetails(){this.extraItemRowCounter=this.extraItemRowCounter+1,this.lstExtraListItemDetails.push({Sequence:this.extraItemRowCounter,MCODE:"",UOMS:"",Qty:1,UMList:[],Description:""}),0==this.lstExtraItemEmpty.length&&this.lstExtraItemEmpty.push({Sequence:this.extraItemRowCounter,MCODE:"",UOMS:"",Qty:1,UMList:[],Description:""})}RemoveExtraItemDetails(t){1!=t&&(this.lstExtraItemDetails=this.lstExtraItemDetails.filter(e=>e.Sequence!==t))}LoadConsumedItem(){var t,e;this.extraItemRowCounter=0,this.lstExtraItemDetails=[],0==(null===(t=this.lstExtraItemDetails)||void 0===t?void 0:t.length)&&this.AddExtraItemDetails(),this.lstExtraListItemDetails=[],0==(null===(e=this.lstExtraListItemDetails)||void 0===e?void 0:e.length)&&this.AddExtraListItemDetails(),this.selectedNodesItem=[],this.tableDataExtraItemAll=[],this.tableDataExtraItem=[],this.tableDataExtraItemCredit=[],""!=this.userSelected&&null!=this.userSelected&&null!=this.userSelected?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetAllExtraItemBySlot(this.userSelected).subscribe(t=>{var e;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var i=[];i=JSON.parse(t.actionResult.result),this.tableDataExtraItemAll=i=i||[],this.tableDataExtraItem=this.tableDataExtraItemAll.filter(t=>t.Status==this.billItemStatus.Added),this.tableDataExtraItemCredit=this.tableDataExtraItemAll.filter(t=>t.Status==this.billItemStatus.Credit),(null===(e=this.tableDataExtraItemCredit)||void 0===e?void 0:e.length)>0&&this.tableDataExtraItemCredit.map(t=>{t.checkAccess=!1}),this.cdRef.detectChanges()}else this.tableDataExtraItemAll=[],this.tableDataExtraItem=[],this.tableDataExtraItemCredit=[]},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})):this.tableDataExtraItem=[]}saveExtraItem(){var t;if(this.IsListView&&(this.lstExtraItemDetails=[],this.itemMaster.map(t=>{t.expanded=!1,t.partialSelected=!1}),this.lstExtraItemDetails=this.lstExtraListItemDetails),null!=this.userSelected&&null!=this.userSelected&&""!=this.userSelected)if(0!=(null===(t=this.lstExtraItemDetails)||void 0===t?void 0:t.length)){var e=[],i=!0,n=this.UserList.filter(t=>t.SlotBookingId==this.userSelected)[0].UserId,s=this.UserList.filter(t=>t.SlotBookingId==this.userSelected)[0].BookingType;this.lstExtraItemDetails.forEach(t=>{if(t.MCODE==this.defaultItemMCODE.OtherCharge&&(null==t.MRP||null==t.MRP||t.MRP<=0||null==t.OtherPurpose||null==t.OtherPurpose||0==t.OtherPurpose.trim().length))i=!1;else if(""!=t.MCODE&&null!=t.MCODE&&""!=t.UOMS&&null!=t.UOMS&&0!=(null==t?void 0:t.Qty)&&null!=(null==t?void 0:t.Qty)&&0!=t.Sequence){var o={ClinicId:this.ClinicIdSelected,UserId:n,SlotBookingId:this.userSelected,BookingType:s,MCODE:t.MCODE,UOMS:t.UOMS,Qty:t.Qty,IsBilled:!1,BillTypeStatus:"IPD"!=s||"Room"!=t.Category&&t.MCODE!=l.i.TreatmentOtherCharge?this.billType:this.billTypeStatus.RoomBooking,CreatedBy:this.loginId,ModifiedBy:this.loginId,NightCount:this._ConstantServices.nullToZeroConverter(t.NightCount),RoomCount:this._ConstantServices.nullToZeroConverter(t.RoomCount),PMCODE:t.Parent,MRP:this._ConstantServices.nullToZeroConverter(t.MRP),OtherPurpose:t.OtherPurpose};e.push(o)}else i=!1}),i?mn(e)?this._UtilityService.showWarningAlert("Item should not duplicate."):(this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.SaveExtraItemArrayBySlotId(e).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success?(this.LoadConsumedItem(),this._UtilityService.showSuccessAlert("Add successfully"),this.cdRef.detectChanges()):this._UtilityService.showWarningAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})):this._UtilityService.showWarningAlert("Please select all Item Details")}else this._UtilityService.showWarningAlert("Please select Item Details");else this._UtilityService.showWarningAlert("Select User")}onItemEditInit(){this.editing=!0}onItemEditSave(){this.tableDataExtraItem=this.tableDataExtraItem.filter(t=>""!=t.MCODE&&null!=t.MCODE),this.tableDataExtraItem.filter(t=>(""==t.Qty||null==t.Qty||null==t.Qty)&&0!=t.Qty).length>0?this._UtilityService.showWarningAlert("Qty can not be empty"):(this.tableDataExtraItem.forEach(t=>t.ModifiedBy=this.loginId),this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.EditExtraItemArrayBySlotId(this.tableDataExtraItem).subscribe({next:t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success?(this._UtilityService.showSuccessAlert(t.actionResult.errMsg),this.LoadConsumedItem(),this.editing=!1):(this.LoadConsumedItem(),this._UtilityService.showErrorAlert(t.Message),this.editing=!1)},error:t=>{this.LoadConsumedItem(),this.editing=!1,this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.Message)}}))}onItemEditCancel(){this.LoadConsumedItem(),this.editing=!1}onKeyPress(t){let e=String.fromCharCode(t.charCode);8!=t.keyCode&&!/[0-9\+\-\ ]/.test(e)||32==t.keyCode||45==t.keyCode?t.preventDefault():Number(t.target.value+t.key)<0&&(t.preventDefault(),this._UtilityService.showWarningAlert("Qty can not be 0"))}LoadInvoiceData(){this.IsRefundforPI=!1,this.PIString=null,this.PaymentReciveList=[],this.ProdList=[],this.PerformaItemList=[],""!=this.userSelected&&null!=this.userSelected&&null!=this.userSelected?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.getViewVoucherForHMSCombined(this.userSelected).subscribe(t=>{var e,i,n;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){if((null===(e=t.actionResult.result)||void 0===e?void 0:e.length)>0){var s=JSON.parse(t.actionResult.result);this.ProdList=s=s||[]}if((null===(i=t.actionResult.result3)||void 0===i?void 0:i.length)>0){var o=JSON.parse(t.actionResult.result3);this.PerformaItemList=o=o||[],this.LoaditemMasterWithGrouping()}if((null===(n=t.actionResult.result4)||void 0===n?void 0:n.length)>0){var l=JSON.parse(t.actionResult.result4);this.PaymentReciveList=l=l||[]}this.PIString=t.actionResult.stringVal}else this.PaymentReciveList=[],this.ProdList=[];this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})):this.ProdList=[]}CreateInvoice(){this.selectAllItem=!1,this.AllItemPriceRes=[],this.ItemPriceRes=[],this.TrnMode="New",this.lstReciveVoucher=[],this.ResetPriceDetails(),this.ResetTenderList(),0==this.MaxCreditLimit&&(this.lstPayMode=this.lstPayMode.filter(t=>"LB1199"!==t.ACID)),this.MaxCreditNoteAmount=0,this.CreditNoteNumber=null,this.CreditNoteTranAmount=0,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetUnbilledItemBySlot(this.userSelected).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.ExtraItemList=e=e||[],this.AllItemPriceRes=e,this.InvMode="Performa",this.CheckIsCredit=!1,this.cdRef.detectChanges(),$("#btnShowExtraItemModel").click(),this.LoadAuthorizedMaster()}else this.ExtraItemList=[],this._UtilityService.showSuccessAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}ResetPriceDetails(){this.ItemCheckedTotal=0,this.BillWiseDiscountPer=0,this.NetPaybleTotal=0,this.ReferredBy="",this.RequestedBy="",this.ItemTotalDiscount=0,this.BillWiseDiscountAmount=0}LoadAuthorizedMaster(){var t="";this.UserTypeCurre!==l.s.SuperAdmin&&(t=this.ClinicIdSelected),this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetAuthorizedMaster(t,!0).subscribe(t=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.lstAuthorizedMaster=e=e||[],this.cdRef.detectChanges()}else this.lstAuthorizedMaster=[]},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}CreateCompleteInvoice(){var t;(null===(t=this.tableDataExtraItem)||void 0===t?void 0:t.length)>0?this._UtilityService.showWarningAlert("Please Clear All Billable Item or Create Proforma Invoice"):(this.TrnMode="New",this.ResetPriceDetails(),this.AllItemPriceRes=[],this.PerformaOrderIds=[],this.MaxCreditNoteAmount=0,this.CreditNoteNumber=null,this.CreditNoteTranAmount=0,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.getViewPerformaForHMSCombinedGrouped(this.userSelected).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.AllItemPriceRes=e=e||[],this.cdRef.detectChanges();var i=JSON.parse(t.actionResult.result2);this.PerformaOrderIds=i=i||[],this.CalculateTotalItemPrice(),this.InvMode="CompleteInvoice",this.CheckIsCredit=!1,this.lstReciveVoucher=[],this.cdRef.detectChanges(),$("#btnShowExtraItemModel").click(),this.LoadAuthorizedMaster()}},t=>{this._UtilityService.hideSpinner()}),this.cdRef.detectChanges())}GenerateCompleteInvoice(){var t,e;let i=!1;if("CompleteInvoice"!=this.InvMode||"Visitor"!=this.CustomerType&&1!=this.isGenerateTI||(i=!0),(null===(t=this.AllItemPriceRes.filter(t=>1==t.IsChecked))||void 0===t?void 0:t.length)>0){if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&(null==this.ReferredBy||""==this.ReferredBy||null==this.ReferredBy))return void this._UtilityService.showWarningAlert("Please enter Authorized By");if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&this.ReferredBy.trim().length<=0)return void this._UtilityService.showWarningAlert("Please enter Authorized By");if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&(null==this.RequestedBy||""==this.RequestedBy||null==this.RequestedBy))return void this._UtilityService.showWarningAlert("Please enter Requested By");if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&this.RequestedBy.trim().length<=0)return void this._UtilityService.showWarningAlert("Please enter Requested By");if(Math.round(this.NetPaybleTotal)>0&&Math.round(this.NetPaybleTotal)>Math.round(this.MaxRefundAmount)&&"Visitor"!=this.CustomerType&&0==this.isGenerateTI&&0==this.CheckIsCredit&&0==i)return void this._UtilityService.showWarningAlert("Please Receive Amount from Customer. Customer Balance Amount is Less then Invoice Amount");if(Math.round(this.NetPaybleTotal)>0&&("Visitor"==this.CustomerType||1==this.isGenerateTI)&&0==(null===(e=this.lstReciveVoucher)||void 0===e?void 0:e.length)&&1!=this.CheckIsCredit&&0==i)return void this._UtilityService.showWarningAlert("Customer Amount Not Added");this.lstTenderModel=[],this.TenderObj.CREDITAMT=this.NetPaybleTotal;var n={ACCOUNT:"LB1199"};n.AMOUNT=this.TenderObj.CREDITAMT,n.APPROVALCODE="",n.TRNMODE="Credit",n.REMARKS=this.TenderObj.REMARKS,this.lstTenderModel.push(n);var s=[];this.PerformaOrderIds.map(t=>{s.push({OrderIds:t.InvOrderNumber})}),this.NewItemDetails=[],this.AllItemPriceRes.filter(t=>1==t.IsChecked).map(t=>{this.NewItemDetails.push({BillItemId:t.BillItemId,Description:t.Description,MCODE:t.MCODE,MRP:t.MRP,SELLINGPRICE:t.MRP,INDDISCOUNTRATE:this._ConstantServices.nullToZeroConverter(t.DiscountPer),DCRATE:this._ConstantServices.nullToZeroConverter(this.BillWiseDiscountPer),Qty:t.Qty,lstTenderModel:this.lstTenderModel,lstOrderDetails:s})});var o={};o.SlotBookingId="Patient"==this.CustomerType?this.userSelected:this.VisitorSelected,o.PayMode="Other",o.OnlineTranId="",o.TotalAmount=this.NetPaybleTotal,o.ReferredBy=this.ReferredBy,o.RequestedBy=this.RequestedBy,o.lstTender=this.NewItemDetails,o.PIString=this.PIString,o.IsVisitor="Visitor"==this.CustomerType,o.ModifiedBy=this.loginId,o.IsonCredit=this.CheckIsCredit,o.IsOPDDirectTI=this.isGenerateTI,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.CreateSalesInvoiceExtraItemRev(o).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success&&(this.VisitorUserMaster={},$("#btnExtraItemModel").click(),this.LoadConsumedItem(),this.LoadInvoiceData(),this.LoadCrediNoteBalance(),this.resetIndividualInvoiceList()),this._UtilityService.showSuccessAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}}DeleteExtraItem(t){this.confirmationService.confirm({header:"Confirmation",message:"Are sure you want to delete this item ?",icon:"pi pi-exclamation-triangle",accept:()=>{var e=[];null==t?this.lstSelectedBillableItem.filter(t=>!t.IsBilled).map(t=>{e.push({id:t.BillItemId})}):e.push({id:t}),this.unsubscribe.add=this._MasterServices.DeleteExtraItem(e).subscribe(t=>{this._UtilityService.hideSpinner(),this._UtilityService.showSuccessAlert(t.actionResult.errMsg),this.LoadConsumedItem(),this.lstSelectedBillableItem=[],this.editing=!1,this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}})}UpdateExtraItemStatus(t,e){this.unsubscribe.add=this._MasterServices.UpdateExtraItemStatus(t,e).subscribe(t=>{this._UtilityService.hideSpinner(),this._UtilityService.showSuccessAlert(t.actionResult.errMsg),this.LoadConsumedItem(),this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}ShowRefundCreditNoteModel(){this.RefundCreditNoteAmount=0,this.MaxRefundableAmount=this.MaxRefundAmount,this.RefundObj={},this.selectedPaymode=null,this.lstPayModeRefund=[],this.lstPayModeRefund.push({TenderName:"Cash",ACID:"AT01002",disabled:!1}),this.ShowPaymentRefundMethodModel=!0}SaveRefundCreditNote(){null!=this.RefundCreditNoteAmount&&null!=this.RefundCreditNoteAmount?this.RefundCreditNoteAmount<=0?this._UtilityService.showWarningAlert("Please Enter Refund Amount"):null!=this.selectedPaymode&&null!=this.selectedPaymode?"AT01002"!=this.selectedPaymode||null!=this.RefundObj.RefundDate&&null!=this.RefundObj.RefundDate?null!=this.RefundObj.Purpose&&null!=this.RefundObj.Purpose&&0!=this.RefundObj.Purpose.trim().length?null!=this.RefundObj.ApprovedBy&&null!=this.RefundObj.ApprovedBy&&0!=this.RefundObj.ApprovedBy.trim().length?(this.RefundObj.Amount=this.RefundCreditNoteAmount,this.RefundObj.SlotBookingId=this.userSelected,this.RefundObj.CreatedBy=localStorage.getItem("userId"),this.RefundObj.ModifiedBy=localStorage.getItem("userId"),this.RefundObj.RefundMode=this.selectedPaymode,this.RefundObj.ClinicId=this.ClinicIdSelected,this.RefundObj.RequestType="Refund",this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.SaveRefundAmount(this.RefundObj).subscribe(t=>{this._UtilityService.hideSpinner(),this._UtilityService.showSuccessAlert(t.actionResult.errMsg),1==t.actionResult.success&&(this.LoadCrediNoteBalance(),this.LoadInvoiceData(),this.resetIndividualInvoiceList(),this.ShowPaymentRefundMethodModel=!1)},t=>{this._UtilityService.hideSpinner()})):this._UtilityService.showWarningAlert("Please enter Approved By"):this._UtilityService.showWarningAlert("Please enter Purpose"):this._UtilityService.showWarningAlert("Please select Refund Date"):this._UtilityService.showWarningAlert("Please select refund Mode"):this._UtilityService.showWarningAlert("Please Enter Refund Amount")}onFileSelectBankDepositSlip(t,e){var i;if((null===(i=t.target.files)||void 0===i?void 0:i.length)>0){const i=t.target.files[0];[".jpg",".png",".jpeg",".pdf"].includes("."+i.type.split("/")[1])?i.size>5242880?($("#"+e).val(""),"AttBankslip1"==e&&(this.fileInputLabelAttBankslip1="",this.BankDepositSlip1Att=""),this._UtilityService.showWarningAlert("Maximum 5 MB file can be Uploaded")):"AttBankslip1"==e&&(this.fileInputLabelAttBankslip1=i.name,this.fileUploadAttBankslip1.get("AttBankslip1").setValue(i)):($("#"+e).val(""),"AttBankslip1"==e&&(this.fileInputLabelAttBankslip1="",this.BankDepositSlip1Att=""),this._UtilityService.showWarningAlert("Only jpg, png and pdf Allowed!")),this.cdRef.detectChanges()}}GetPaymentStatusEmit(t){this.lstReciveVoucher=[],t.includes("~")&&"Success"===t.split("~")[0]&&($("#btnRazorPayCloseModal").click(),$("#btnPaymentMethodModel").click(),this.lstReciveVoucher.push({VCHRNO:t.split("~")[1],TRNMODE:"Online"}),this.RecPayment=!1,$("#btnRecivePaymentClose").click(),"Performa"==this.InvMode&&this.GeneratePerforma(),this.LoadConsumedItem(),this.LoadInvoiceData(),this.LoadCrediNoteBalance(),this.resetIndividualInvoiceList())}LoadInvoiceDataIndividual(){this.TrnMain=[],this.ProdList=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.LoadInvoiceData(this.SlotBookingIdSelected,this.InvoiceNumberSelected,this.PhiscalIdSelected,this.DivisionSelected).subscribe(t=>{var e;if(this._UtilityService.hideSpinner(),1==t.actionResult.success&&(null===(e=t.actionResult.result)||void 0===e?void 0:e.length)>0){var i=t.actionResult.result;this.TrnMain=i=i||[],this.ProdList=this.TrnMain[0].ProdList,this.TotalAmount=0,this.ProdList.map(t=>{this.TotalAmount=this.TotalAmount+(t.MRP*t.AltQty-t.INDDISCOUNT),this.ItemWiseTotalDisAmount=this.ItemWiseTotalDisAmount+t.INDDISCOUNT,this.TotalFlatDiscount=this.TotalFlatDiscount+t.FLATDISCOUNT}),this.BillWiseDiscountPer=100*this.TotalFlatDiscount/this.TotalAmount}},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}openCRNoteModel(t){this.modalService.open(t,{size:"xxl"})}ShowAddCreditNoteModel(){this.CreditNoteAmount=0,this.MaxRecAmount=1e9,this.selectedPaymodeCodes=[],this.SelectPaymodeArray=[],this.lstPayMode=this.lstPayMode.filter(t=>"LB1199"!==t.ACID),this.TenderObj={},this.TenderObj.CashRecdDate=new Date,this.TenderObj.CardRecdDate=new Date,this.lstBankDepositTransactionDetails=[],this.lstBankDepositTransactionDetails.push({Sequence:this.BankDepTrnCounter,BankName:"",TransactionId:"",RecdDate:new Date,Amount:0}),this.lstCardPaymentTransactionDetails=[],this.lstCardPaymentTransactionDetails.push({Sequence:this.CardTrnCounter,CardNumber:"",CardholderName:"",TransactionId:"",RecdDate:null,Amount:0}),this.TenderObj.TrustId=null,this.TenderObj.TMemberTypeId=null,this.TenderObj.MemberShipNumber=null,this.cdRef.detectChanges(),this.lstReciveVoucher=[],this.fileInputLabelAttBankslip1="",$("#btnShowCreditNoteModel").click()}LoadCrediNoteBalance(){if(this.RemainingAmount=0,this.BalanceType="",this.CreditNoteBalance=0,null!=this.userSelected&&""!=this.userSelected&&null!=this.userSelected||null!=this.VisitorSelected&&""!=this.VisitorSelected&&null!=this.VisitorSelected){var t=null,e="false";"Patient"==this.CustomerType?(t=this.userSelected,e="false"):(t=this.VisitorSelected,e="true"),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetCreditNoteBalAmount(t,e).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){if(this.CreditNoteBalance=parseFloat(t.actionResult.stringVal2),this.CreditNoteBalanceAmount=+t.actionResult.stringVal,this.RemainingAmount=t.actionResult.totalAmount,t.actionResult.stringVal.includes("-")?(this.BalanceType="Advance",this.MaxCreditLimit=+t.actionResult.stringVal,this.MaxRefundAmount=Math.abs(+t.actionResult.stringVal)):(this.MaxCreditLimit=+("-"+t.actionResult.stringVal),this.MaxRefundAmount=0,this.CreditNoteBalanceAmount>0&&(this.BalanceType="Dues")),t.actionResult.result.length>0){var e=JSON.parse(t.actionResult.result);this.CustomerInfoDetails=e=e||[],this.MaxCreditLimit=this.MaxCreditLimit+ +this.CustomerInfoDetails.CRLIMIT}this.MaxCreditLimit=Math.abs(this.MaxCreditLimit),this.cdRef.detectChanges()}else this.CreditNoteBalanceAmount=0,this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner()})}else this.CreditNoteBalanceAmount=0,this.cdRef.detectChanges()}SaveCreditNote(){this._ConstantServices.nullToZeroConverter(this.CreditNoteAmount)<=0?this._UtilityService.showWarningAlert("Please enter Receive Amount"):(this.SelectPaymodeArray.includes("ATONLN")&&this.PayExtraItemNew(this.userSelected,this.SlotBookingIdSelected),this.SelectPaymodeArray.includes("ATWLONLN")?this.PayExtraItemNewWL(this.userSelected,this.SlotBookingIdSelected):this.SaveCreditNoteOther())}SaveCreditNoteOther(){var t,e,i,n,s,o,l,c,r,a,d;this.lstReciveVoucher=[],this.PaymentTransactionDetails=[];var b=0;if(this.lstTenderModel=[],null!=this.TenderObj.TrustId||null!=this.TenderObj.TrustId){if(null==this.TenderObj.TMemberTypeId||null==this.TenderObj.TMemberTypeId)return void this._UtilityService.showWarningAlert("Please select member type");if(null==this.TenderObj.MemberShipNumber||null==this.TenderObj.MemberShipNumber||""==this.TenderObj.MemberShipNumber)return void this._UtilityService.showWarningAlert("Please enter membership number")}if(null!=this.TenderObj.TMemberTypeId||null!=this.TenderObj.TMemberTypeId){if(null==this.TenderObj.TrustId||null==this.TenderObj.TrustId)return void this._UtilityService.showWarningAlert("Please select trust type");if(null==this.TenderObj.MemberShipNumber||null==this.TenderObj.MemberShipNumber||""==this.TenderObj.MemberShipNumber)return void this._UtilityService.showWarningAlert("Please enter membership number")}if(this.TenderObj.MemberShipNumber){if(null==this.TenderObj.TrustId||null==this.TenderObj.TrustId)return void this._UtilityService.showWarningAlert("Please select trust type");if(null==this.TenderObj.TMemberTypeId||null==this.TenderObj.TMemberTypeId)return void this._UtilityService.showWarningAlert("Please select member type")}if(this.SelectPaymodeArray.includes("AT01002")){if(null==this.TenderObj.CASH||null==this.TenderObj.CASH||this.TenderObj.CASH<=0)return void this._UtilityService.showWarningAlert("Please enter Cash Tender Amount");if(null==this.TenderObj.CashRecdDate||null==this.TenderObj.CashRecdDate)return void this._UtilityService.showWarningAlert("Please enter Cash Tender Amount Received Date");(f={ACCOUNT:"AT01002"}).AMOUNT=this.TenderObj.CASH,f.APPROVALCODE="",f.TRNMODE="Cash",f.REMARKS=this.TenderObj.REMARKS,this.lstTenderModel.push(f),this.PaymentTransactionDetails.push({TrnMode:"Cash",Remarks:this.TenderObj.REMARKS,ReceivedDate:this.TenderObj.CashRecdDate,Amount:this.TenderObj.CASH,TrustId:this.TenderObj.TrustId,TMemberTypeId:this.TenderObj.TMemberTypeId,MemberShipNumber:this.TenderObj.MemberShipNumber}),b+=this.TenderObj.CASH}if(this.SelectPaymodeArray.includes("AT999999")){for(var u=!0,h=0;h<this.lstCardPaymentTransactionDetails.length;h++)(null==this.lstCardPaymentTransactionDetails[h].TransactionId||null==this.lstCardPaymentTransactionDetails[h].TransactionId||""==this.lstCardPaymentTransactionDetails[h].TransactionId||null==this.lstCardPaymentTransactionDetails[h].RecdDate||null==this.lstCardPaymentTransactionDetails[h].RecdDate||""==this.lstCardPaymentTransactionDetails[h].RecdDate||null==(null===(t=this.lstCardPaymentTransactionDetails[h])||void 0===t?void 0:t.Amount)||null==(null===(e=this.lstCardPaymentTransactionDetails[h])||void 0===e?void 0:e.Amount)||(null===(i=this.lstCardPaymentTransactionDetails[h])||void 0===i?void 0:i.Amount)<=0)&&1==u&&(u=!1);if(0==u)return void this._UtilityService.showWarningAlert("Please enter Transaction Details Properly");if(null==this.TenderObj.CARDAMT||null==this.TenderObj.CARDAMT||this.TenderObj.CARDAMT<=0)return void this._UtilityService.showWarningAlert("Please enter Card tender Amount");var m="",p="",g="";this.lstCardPaymentTransactionDetails.map(t=>{this.PaymentTransactionDetails.push({TrnMode:"Card",Remarks:this.TenderObj.REMARKS,CardNo:t.CardNumber,CardHolderName:t.CardHolderName,TransactionId:t.TransactionId,ReceivedDate:t.RecdDate,Amount:t.Amount,TrustId:this.TenderObj.TrustId,TMemberTypeId:this.TenderObj.TMemberTypeId,MemberShipNumber:this.TenderObj.MemberShipNumber}),m=m+t.TransactionId+",",g=g+t.CardHolderName+",",p=p+t.CardNumber+","}),(f={ACCOUNT:"AT999999"}).AMOUNT=this.TenderObj.CARDAMT,f.APPROVALCODE="",f.TRNMODE="Card",f.REMARKS=this.TenderObj.REMARKS,f.CARDNO=null==p?void 0:p.trimEnd(),f.CARDHOLDERNAME=null==g?void 0:g.trimEnd(),f.TRANSACTIONID=null==m?void 0:m.trimEnd(),this.lstTenderModel.push(f),b+=this.TenderObj.CARDAMT}if(this.SelectPaymodeArray.includes("LB1199")){if(null==this.TenderObj.CREDITAMT||null==this.TenderObj.CREDITAMT||this.TenderObj.CREDITAMT<=0)return void this._UtilityService.showWarningAlert("Please enter Credit Amount");(f={ACCOUNT:"LB1199"}).AMOUNT=this.TenderObj.CREDITAMT,f.APPROVALCODE="",f.TRNMODE="Credit",f.REMARKS=this.TenderObj.REMARKS,this.lstTenderModel.push(f),this.PaymentTransactionDetails.push({TrnMode:"Credit",Remarks:this.TenderObj.REMARKS,ReceivedDate:new Date,Amount:this.TenderObj.CREDITAMT,TrustId:this.TenderObj.TrustId,TMemberTypeId:this.TenderObj.TMemberTypeId,MemberShipNumber:this.TenderObj.MemberShipNumber}),b+=this.TenderObj.CREDITAMT}if(this.SelectPaymodeArray.includes("BT01001")){for(u=!0,h=0;h<this.lstBankDepositTransactionDetails.length;h++)(null==this.lstBankDepositTransactionDetails[h].BankName||null==this.lstBankDepositTransactionDetails[h].BankName||""==this.lstBankDepositTransactionDetails[h].BankName||null==this.lstBankDepositTransactionDetails[h].TransactionId||null==this.lstBankDepositTransactionDetails[h].TransactionId||""==this.lstBankDepositTransactionDetails[h].TransactionId||null==this.lstBankDepositTransactionDetails[h].RecdDate||null==this.lstBankDepositTransactionDetails[h].RecdDate||""==this.lstBankDepositTransactionDetails[h].RecdDate||null==(null===(n=this.lstBankDepositTransactionDetails[h])||void 0===n?void 0:n.Amount)||null==(null===(s=this.lstBankDepositTransactionDetails[h])||void 0===s?void 0:s.Amount)||(null===(o=this.lstBankDepositTransactionDetails[h])||void 0===o?void 0:o.Amount)<=0)&&1==u&&(u=!1);if(0==u)return void this._UtilityService.showWarningAlert("Please enter Transaction Details Properly");if(null==this.TenderObj.BANKTFAMOUNT||null==this.TenderObj.BANKTFAMOUNT||this.TenderObj.BANKTFAMOUNT<=0)return void this._UtilityService.showWarningAlert("Please enter Bank Deposit Amount");m="";var I="";this.lstBankDepositTransactionDetails.map(t=>{this.PaymentTransactionDetails.push({TrnMode:"Bank Transfer",Remarks:this.TenderObj.REMARKS,BankName:t.BankName,TransactionId:t.TransactionId,ReceivedDate:t.RecdDate,Amount:t.Amount,TrustId:this.TenderObj.TrustId,TMemberTypeId:this.TenderObj.TMemberTypeId,MemberShipNumber:this.TenderObj.MemberShipNumber}),m=m+t.TransactionId+",",I=I+t.BankName+","}),(f={ACCOUNT:"BT01001"}).AMOUNT=this.TenderObj.BANKTFAMOUNT,f.APPROVALCODE="",f.TRNMODE="Bank Transfer",f.REMARKS=this.TenderObj.REMARKS,f.TRANSACTIONID=m.trimEnd(),f.CARDHOLDERNAME=I.trimEnd(),this.lstTenderModel.push(f),b+=this.TenderObj.BANKTFAMOUNT}if(this.SelectPaymodeArray.includes("DI01001")){if(null==this.TenderObj.CHEQUEAMT||null==this.TenderObj.CHEQUEAMT||this.TenderObj.CHEQUEAMT<=0)return void this._UtilityService.showWarningAlert("Please enter Cheque tender Amount");if(null==this.TenderObj.CHEQUENO||null==this.TenderObj.CHEQUENO||(null===(l=this.TenderObj.CHEQUENO)||void 0===l?void 0:l.length)<=0)return void this._UtilityService.showWarningAlert("Please enter Cheque Number");if(null==this.TenderObj.BANK||null==this.TenderObj.BANK||(null===(c=this.TenderObj.BANK)||void 0===c?void 0:c.length)<=0)return void this._UtilityService.showWarningAlert("Please enter Cheque Issued Bank Name");if(null==this.TenderObj.ChequeRecdDate||null==this.TenderObj.ChequeRecdDate)return void this._UtilityService.showWarningAlert("Please enter Cheque Received Date");if(null==this.TenderObj.ChequeIssueDate||null==this.TenderObj.ChequeIssueDate)return void this._UtilityService.showWarningAlert("Please enter Cheque Issued Date");var f;this.PaymentTransactionDetails.push({TrnMode:"Cheque",Remarks:this.TenderObj.REMARKS,IssueDate:this.TenderObj.ChequeIssueDate,ReceivedDate:this.TenderObj.ChequeRecdDate,Amount:this.TenderObj.CHEQUEAMT,DepositedBy:this.TenderObj.DepositedBy,BankName:this.TenderObj.BANK,ChequeNumber:this.TenderObj.CHEQUENO,ChequeHolderName:this.TenderObj.ChequeHolderName}),(f={ACCOUNT:"DI01001"}).AMOUNT=this.TenderObj.CHEQUEAMT,f.APPROVALCODE="",f.TRNMODE="Cheque",f.REMARKS=this.TenderObj.REMARKS,f.CARDNO=null===(r=this.TenderObj.CHEQUENO)||void 0===r?void 0:r.trimEnd(),f.CARDHOLDERNAME=null===(a=this.TenderObj.BANK)||void 0===a?void 0:a.trimEnd(),this.lstTenderModel.push(f),b+=this.TenderObj.CHEQUEAMT}if((null===(d=this.lstTenderModel)||void 0===d?void 0:d.length)>0){if(Math.round(b)<Math.round(this.CreditNoteAmount))return void this._UtilityService.showWarningAlert("Input Amount not match with Total Amount");if(Math.round(b)>Math.round(this.CreditNoteAmount))return void this._UtilityService.showWarningAlert("Input Amount not match with Total Amount")}if(null!=this.CreditNoteAmount&&null!=this.CreditNoteAmount)if(this.CreditNoteAmount<0)this._UtilityService.showWarningAlert("Please Enter Credit Amount");else{var v={};v.CreditNoteAmount=this.CreditNoteAmount,v.SlotBookingId="Patient"==this.CustomerType?this.userSelected:this.VisitorSelected,v.lstTender=this.lstTenderModel,v.PaymentTransactionDetails=this.PaymentTransactionDetails,v.UpdatedBy=localStorage.getItem("userId"),v.InvoiceFor="Extra Item",v.CustomerType=this.CustomerType,v.ClinicId=this.ClinicIdSelected,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.AddCustomerCreditAmount(v).subscribe(t=>{var e;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){("CompleteInvoice"!=this.InvMode||"Visitor"!=this.CustomerType&&1!=this.isGenerateTI)&&this._UtilityService.showSuccessAlert(t.actionResult.errMsg);var i=JSON.parse(t.actionResult.result);if(this.lstReciveVoucher=i=i||[],(null===(e=this.lstReciveVoucher)||void 0===e?void 0:e.length)>0){var n=this.lstReciveVoucher.find(t=>"Bank Transfer"==t.TRNMODE||"Cheque"==t.TRNMODE||"Cash"==t.TRNMODE);null!=n&&this.UploadBankDepositSlip(n.VCHRNO,this.userSelected)}"Performa"==this.InvMode&&this.GeneratePerforma(),"CompleteInvoice"!=this.InvMode||"Visitor"!=this.CustomerType&&1!=this.isGenerateTI||this.GenerateCompleteInvoice(),this.LoadCrediNoteBalance(),this.LoadInvoiceData(),this.resetIndividualInvoiceList(),$("#btnCloseCreditModel").click()}else this._UtilityService.showWarningAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner()})}else this._UtilityService.showWarningAlert("Please Enter Credit Amount")}CalculateNetPaybleAfterDiscountNew(){if(this.ItemCheckedTotal>0)if(this.BillWiseDiscountPer>0){var t=this.ItemCheckedTotal*this.BillWiseDiscountPer/100;this.BillWiseDiscountAmount=t,this.NetPaybleTotal=this.ItemCheckedTotal-t}else this.BillWiseDiscountAmount=0,this.NetPaybleTotal=this.ItemCheckedTotal;else this.NetPaybleTotal=0}CalculateNetPaybleAfterDiscount(t){if(this.ItemCheckedTotal>0)if(t.value>0){var e=this.ItemCheckedTotal*t.value/100;this.BillWiseDiscountAmount=e,this.NetPaybleTotal=this.ItemCheckedTotal-e}else this.BillWiseDiscountAmount=0,this.NetPaybleTotal=this.ItemCheckedTotal;else this.NetPaybleTotal=0}CalculateNetPaybleAfterDiscountReverse(t){this.ItemCheckedTotal>0?t.value>0?(this.BillWiseDiscountPer=100*t.value/this.ItemCheckedTotal,this.NetPaybleTotal=this.ItemCheckedTotal-t.value,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0)):(this.BillWiseDiscountPer=0,this.NetPaybleTotal=this.ItemCheckedTotal,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0)):this.NetPaybleTotal=0}CalculateNetPaybleAfterDiscountReverseNew(){this.ItemCheckedTotal>0?(this.BillWiseDiscountAmount>this.ItemCheckedTotal&&(this.BillWiseDiscountAmount=this.ItemCheckedTotal),this.BillWiseDiscountAmount>0?(this.BillWiseDiscountPer=100*this.BillWiseDiscountAmount/this.ItemCheckedTotal,this.NetPaybleTotal=this.ItemCheckedTotal-this.BillWiseDiscountAmount,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0)):(this.BillWiseDiscountPer=0,this.NetPaybleTotal=this.ItemCheckedTotal,this.NetPaybleTotal=this.NetPaybleTotal-(this.CreditNoteTranAmount>0?this.CreditNoteTranAmount:0))):this.NetPaybleTotal=0}openNew(t){this.modalService.open(t,{backdrop:"static",keyboard:!1}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.closeResult=`Dismissed ${this.getDismissReason(t)}`})}CalculateDiscount(t,e){var i,n,s=this.AllItemPriceRes[e];this.AllItemPriceRes[e].DiscountAmount=n=(i=s.MRP*s.Qty)*t.value/100,this.AllItemPriceRes[e].PriceWithGST=i-n,this.ItemTotalDiscount=0,this.AllItemPriceRes.map(t=>{this.ItemTotalDiscount=this.ItemTotalDiscount+t.DiscountAmount}),this.CalculateTotalItemPrice(),this.CalculateNetPaybleAfterDiscountReverseNew()}CalculateDiscountNew(t){var e,i,n=this.AllItemPriceRes[t];this.AllItemPriceRes[t].DiscountAmount=i=(e=n.MRP*n.Qty)*n.DiscountPer/100,this.AllItemPriceRes[t].PriceWithGST=e-i,this.ItemTotalDiscount=0,this.AllItemPriceRes.map(t=>{this.ItemTotalDiscount=this.ItemTotalDiscount+t.DiscountAmount}),this.CalculateTotalItemPrice(),this.CalculateNetPaybleAfterDiscountReverseNew()}CalculateDiscountRev(t,e){var i,n,s,o=this.AllItemPriceRes[e];n=(s=t.value)/(i=o.MRP*o.Qty)*100,this.AllItemPriceRes[e].DiscountAmount=s,this.AllItemPriceRes[e].DiscountPer=n,this.AllItemPriceRes[e].DiscountPerUI=Math.round(n),this.AllItemPriceRes[e].PriceWithGST=i-s,this.ItemTotalDiscount=0,this.AllItemPriceRes.map(t=>{this.ItemTotalDiscount=this.ItemTotalDiscount+t.DiscountAmount}),this.CalculateTotalItemPrice(),this.CalculateNetPaybleAfterDiscountReverseNew()}CalculateDiscountBlur(t){var e,i,n,s=this.AllItemPriceRes[t];i=(n=s.DiscountAmount)/(e=s.MRP*s.Qty)*100,this.AllItemPriceRes[t].DiscountAmount=n,this.AllItemPriceRes[t].DiscountPer=i,this.AllItemPriceRes[t].PriceWithGST=e-n,this.ItemTotalDiscount=0,this.AllItemPriceRes.map(t=>{this.ItemTotalDiscount=this.ItemTotalDiscount+t.DiscountAmount}),this.CalculateTotalItemPrice(),this.CalculateNetPaybleAfterDiscountReverseNew(),this.cdRef.detectChanges()}CalculateTotalItemPrice(){if(null!=this.AllItemPriceRes.filter(t=>1==t.IsChecked)){var t=this.AllItemPriceRes.filter(t=>1==t.IsChecked),e=0;t.length>0&&(e=t.map(t=>t.PriceWithGST).reduce((t,e)=>t+e,0)),this.ItemCheckedTotal=e,this.cdRef.detectChanges()}this.CalculateNetPaybleAfterDiscountReverseNew()}openPaymentMethod(t){this.TenderObj={},this.TenderModel={},this.SelectPaymodeArray=[],this.selectedPaymodeCodes=null,this.modalService.open(t,{size:"lg",backdrop:"static",keyboard:!1})}ShowSelectedItem(){var t;if((null===(t=this.selectedPaymodeCodes)||void 0===t?void 0:t.length)>0){const t=this.selectedPaymodeCodes.indexOf("ATONLN"),e=this.selectedPaymodeCodes.indexOf("ATWLONLN");t>-1?this.selectedPaymodeCodes=this.selectedPaymodeCodes.filter(function(t){return"ATONLN"==t}):e>-1&&(this.selectedPaymodeCodes=this.selectedPaymodeCodes.filter(function(t){return"ATWLONLN"==t})),this.SelectPaymodeArray=this.selectedPaymodeCodes.toString().split(",")}else this.SelectPaymodeArray=[]}FireforPayment(){var t;0!=(null===(t=this.SelectPaymodeArray)||void 0===t?void 0:t.length)?this.SelectPaymodeArray.includes("ATONLN")&&(this.ItemPriceRes=this.AllItemPriceRes.filter(t=>1==t.IsChecked),this.PayExtraItemNew(this.userSelected,this.CreditNoteAmount)):this._UtilityService.showWarningAlert("Please select payment mode")}GeneratePerforma(){var t,e,i;if((null===(t=this.AllItemPriceRes.filter(t=>1==t.IsChecked))||void 0===t?void 0:t.length)>0){if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&(null==this.ReferredBy||""==this.ReferredBy||null==this.ReferredBy))return void this._UtilityService.showWarningAlert("Please enter Authorized By");if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&this.ReferredBy.trim().length<=0)return void this._UtilityService.showWarningAlert("Please enter Authorized By");if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&(null==this.RequestedBy||""==this.RequestedBy||null==this.RequestedBy))return void this._UtilityService.showWarningAlert("Please enter Requested By");if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&this.RequestedBy.trim().length<=0)return void this._UtilityService.showWarningAlert("Please enter Requested By");if("Performa"==this.InvMode&&"Edit"==this.TrnMode&&(null==this.PIEditGenRemarks||null==this.PIEditGenRemarks||0==this.PIEditGenRemarks.trim().length))return void this._UtilityService.showWarningAlert("Please enter General Remarks for Edit Proforma");this.NewItemDetails=[],this.AllItemPriceRes.filter(t=>1==t.IsChecked).map(t=>{this.NewItemDetails.push({BillItemId:t.BillItemId,Qty:t.Qty,MCODE:t.MCODE,MRP:t.MRP,SELLINGPRICE:t.MRP,INDDISCOUNTRATE:this._ConstantServices.nullToZeroConverter(t.DiscountPer),DCRATE:this._ConstantServices.nullToZeroConverter(this.BillWiseDiscountPer),NightCount:this._ConstantServices.nullToZeroConverter(t.NightCount),RoomCount:this._ConstantServices.nullToZeroConverter(t.RoomCount),lstTenderModel:[]})});var n={};n.NewItem=this.NewItemDetails,n.SlotBookingId=this.userSelected,n.PayMode="Other",n.OnlineTranId="",n.TotalAmount=this.NetPaybleTotal,n.ReferredBy=this.ReferredBy,n.RequestedBy=this.RequestedBy,n.TrnMode=this.TrnMode,n.InvoiceFor="Extra Item",n.GeneralRemarks=null===(e=this.PIEditGenRemarks)||void 0===e?void 0:e.trim(),n.ModifiedBy=localStorage.getItem("userId"),null!=this.CreditNoteNumber&&null!=this.CreditNoteNumber&&this.CreditNoteTranAmount>0&&(n.CreditNoteNumber=this.CreditNoteNumber,n.CreditNoteTranAmount=this.CreditNoteTranAmount),"Performa"==this.RecWith&&(null===(i=this.lstReciveVoucher)||void 0===i?void 0:i.length)>0&&(n.VourcherList=this.lstReciveVoucher),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.CreatePerformaInvoiceExtraItemRev(n).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success&&(this.InvMode=null,$("#btnExtraItemModel").click(),this.LoadConsumedItem(),this.LoadInvoiceData(),this.LoadCrediNoteBalance(),this.resetIndividualInvoiceList()),this._UtilityService.showSuccessAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.error.message)})}}UpdateTransactionDetails(t,e){var i;(null===(i=this.PaymentTransactionDetails)||void 0===i?void 0:i.length)>0&&(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UpdateTransactionDetails(this.PaymentTransactionDetails,e,t).subscribe(t=>{this._UtilityService.hideSpinner(),this._UtilityService.showSuccessAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}))}ShowReceivePaymentModel(){this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&(null==this.ReferredBy||""==this.ReferredBy||null==this.ReferredBy)||this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&this.ReferredBy.trim().length<=0?this._UtilityService.showWarningAlert("Please enter Authorized By"):this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&(null==this.RequestedBy||""==this.RequestedBy||null==this.RequestedBy)||this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&this.RequestedBy.trim().length<=0?this._UtilityService.showWarningAlert("Please enter Requested By"):"Performa"!=this.InvMode||"Edit"!=this.TrnMode||null!=this.PIEditGenRemarks&&null!=this.PIEditGenRemarks&&0!=this.PIEditGenRemarks.trim().length?Math.round(this.NetPaybleTotal)<1?this._UtilityService.showWarningAlert("Net Payable Should be Greater than Zero"):(this.ShowAddCreditNoteModel(),this.RecWith="Performa",this.CreditNoteAmount=this.NetPaybleTotal,this.MaxRecAmount=this.NetPaybleTotal,this.lstReciveVoucher=[],this.RecPayment=!1):this._UtilityService.showWarningAlert("Please enter General Remarks for Edit Proforma")}UpdateTransactionDetailsPaymentReceive(t,e=[]){var i;(null===(i=this.PaymentTransactionDetails)||void 0===i?void 0:i.length)>0&&(null==e?void 0:e.length)>0&&e.map(e=>{this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UpdateTransactionDetails(this.PaymentTransactionDetails.filter(t=>t.TrnMode==e.TRNMODE),t,e.VCHRNO).subscribe(t=>{this._UtilityService.hideSpinner(),this._UtilityService.showSuccessAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})})}UploadBankDepositSlip(t,e){const i=new FormData;this.fileUploadAttBankslip1.get("AttBankslip1").value&&(i.append(this.BankDepositSlip1Att,this.fileUploadAttBankslip1.get("AttBankslip1").value),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UploadBankDepositSlip(i,t,e).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success&&(this.fileUploadAttBankslip1=this.formBuilder.group({AttBankslip1:[""]}),this.cdRef.detectChanges())},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}))}PayExtraItem(){var t;this.BankDepTrnCounter=1,this.lstBankDepositTransactionDetails=[],(null===(t=this.AllItemPriceRes.filter(t=>1==t.IsChecked))||void 0===t?void 0:t.length)>0?this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&(null==this.ReferredBy||""==this.ReferredBy||null==this.ReferredBy)||this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&this.ReferredBy.trim().length<=0?this._UtilityService.showWarningAlert("Please enter Authorized By"):Math.round(this.NetPaybleTotal)<1?this._UtilityService.showWarningAlert("Net Payable Should be Greater than Zero"):(this.lstBankDepositTransactionDetails.push({Sequence:this.BankDepTrnCounter,BankName:"",TransactionId:"",RecdDate:null,Amount:0}),this.cdRef.detectChanges(),$("#btnShowPaymentMethodModel").click()):this._UtilityService.showWarningAlert("Please select Item for Bill")}CalculateTotalBankTransaction(t,e){if(t.value>0){null!=this.TenderObj.BANKTFAMOUNT&&null!=this.TenderObj.BANKTFAMOUNT||(this.TenderObj.BANKTFAMOUNT=0);var i=0;(null==(n=this.lstBankDepositTransactionDetails.filter(t=>t.Sequence!=e))?void 0:n.length)>0&&n.map(t=>{i+=t.Amount}),this.TenderObj.BANKTFAMOUNT=i+t.value,this.cdRef.detectChanges()}else{var n;null!=this.TenderObj.BANKTFAMOUNT&&null!=this.TenderObj.BANKTFAMOUNT||(this.TenderObj.BANKTFAMOUNT=0),i=0,(null==(n=this.lstBankDepositTransactionDetails.filter(t=>t.Sequence!=e))?void 0:n.length)>0&&n.map(t=>{i+=t.Amount}),this.TenderObj.BANKTFAMOUNT=i,this.cdRef.detectChanges()}}CalculateTotalBankTransactionrev(){var t=0;this.lstBankDepositTransactionDetails.map(e=>{t+=e.Amount}),this.TenderObj.BANKTFAMOUNT=t,this.cdRef.detectChanges()}AddBankTransactionDetails(){this.BankDepTrnCounter++,this.lstBankDepositTransactionDetails.push({Sequence:this.BankDepTrnCounter,BankName:"",TransactionId:"",RecdDate:null,Amount:0}),this.cdRef.detectChanges()}RemoveBankTransactionDetails(t){this.lstBankDepositTransactionDetails=this.lstBankDepositTransactionDetails.filter(e=>e.Sequence!==t),this.CalculateTotalBankTransactionrev(),this.cdRef.detectChanges()}PayExtraItemNewWL(t,e){this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.AddWordLineOrderDetailsWellnessSelectedItem(t,Math.round(this.CreditNoteAmount).toString()).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.WLOrderRes=e=e||[];var i=JSON.parse(t.actionResult.result2);this.UserRes=i=i||[],this.IsSelectedItem=!0,this.SlotBookingIdSelected=this.userSelected,this.HitforWLPayment()}else this._UtilityService.showWarningAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}HitforWLPayment(){$("#btnShowWLPayModel").click()}GetWLPaymentStatusEmit(t){this.lstReciveVoucher=[],t.includes("~")&&"Success"===t.split("~")[0]&&($("#btnWLPayCloseModal").click(),$("#btnPaymentMethodModel").click(),this.lstReciveVoucher.push({VCHRNO:t.split("~")[1],TRNMODE:"Online"}),this.RecPayment=!1,$("#btnRecivePaymentClose").click(),"Performa"==this.InvMode&&this.GeneratePerforma(),this.LoadConsumedItem(),this.LoadInvoiceData(),this.LoadCrediNoteBalance(),this.resetIndividualInvoiceList())}PayExtraItemNew(t,e){this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.AddRazorOrderDetailsWellnessSelectedItem(t,Math.round(this.CreditNoteAmount).toString()).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.OrderRes=e=e||[];var i=JSON.parse(t.actionResult.result2);this.UserRes=i=i||[],this.IsSelectedItem=!0,this.SlotBookingIdSelected=this.userSelected,this.HitforPayment()}else this._UtilityService.showSuccessAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}HitforPayment(){$("#btnShowRazorPayModel").click()}openNewExtraItem(t){this.modalService.open(t,{size:"xxl"})}getDismissReason(t){return t===n.a.ESC?"by pressing ESC":t===n.a.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${t}`}clear(){this.lstExtraItemDetails=[],this.extraItemRowCounter=0,this.AddExtraItemDetails()}PrintCreditInvoice(){for(var t=[],e=0;e<this.tableDataExtraItemCredit.length;e++)1==this.tableDataExtraItemCredit[e].checkAccess&&t.push({id:this.tableDataExtraItemCredit[e].BillItemId});0!=t.length?this.GetCreditBillItemBySlotBookingId(t):this._UtilityService.showWarningAlert("Please Select any one record")}getSelectAllRecord(){if(1==this.checked)for(var t=0;t<this.tableDataExtraItemCredit.length;t++)this.tableDataExtraItemCredit[t].checkAccess=!0;else for(t=0;t<this.tableDataExtraItemCredit.length;t++)this.tableDataExtraItemCredit[t].checkAccess=!1;this.cdRef.detectChanges()}GetCreditBillItemBySlotBookingId(t){this.TotalGrandTotalAmount=0,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetCreditBillItemBySlotBookingId(t,this.userSelected).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.printBillItem=e=e||[],this.TotalGrandTotalAmount=this.printBillItem.map(t=>t.PriceWithGST).reduce(function(t,e){return t+e}),this.cdRef.detectChanges(),this.ShowPerformaInvoiceListModel=!0}else this.printBillItem=[],this._UtilityService.showWarningAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}ReflectCreditBalance(t){var e;(e=null==t?void 0:t.value)>0?(this.CreditNoteAmount=e,this.NetPaybleTotal=e):(this.CreditNoteAmount=0,this.NetPaybleTotal=0),this.cdRef.detectChanges()}EditPInvoice(t,e,i,n){this.ResetPriceDetails(),this.ResetTenderList(),this.ExtraItemList=[],this.AllItemPriceRes=[],this.ItemPriceRes=[],this.TrnMode="Edit",this.lstReciveVoucher=[],this.PIEditGenRemarks=null,0==this.MaxCreditLimit&&(this.lstPayMode=this.lstPayMode.filter(t=>"LB1199"!==t.ACID)),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetItemByPerforma(t,e).subscribe(t=>{var e;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);this.ExtraItemList=i=i||[],this.AllItemPriceRes=i,this.ReferredBy=null!=this.AllItemPriceRes[0].ReferredBy&&null!=this.AllItemPriceRes[0].ReferredBy?this.AllItemPriceRes[0].ReferredBy:"",this.RequestedBy=null!=this.AllItemPriceRes[0].RequestedBy&&null!=this.AllItemPriceRes[0].RequestedBy?this.AllItemPriceRes[0].RequestedBy:"";var n=0,s=0;if(this.AllItemPriceRes.map(t=>{n+=this._ConstantServices.nullToZeroConverter(t.IDiscountAmount),s+=this._ConstantServices.nullToZeroConverter(t.IDiscountPercentage)}),this._ConstantServices.nullToZeroConverter(s)>0&&(s/=null===(e=this.AllItemPriceRes)||void 0===e?void 0:e.length),this.BillWiseDiscountAmount=this._ConstantServices.nullToZeroConverter(n),this.BillWiseDiscountPer=this._ConstantServices.nullToZeroConverter(s),t.actionResult.result2)this.CreditNoteNumber="",this.CreditNoteTranAmount=0,this.MaxCreditNoteAmount=0;else{var o=JSON.parse(t.actionResult.result2);this.CreditNoteNumber=(o=o||[]).CreditNoteNumber,this.CreditNoteTranAmount=o.DebitAmount,this.MaxCreditNoteAmount=o.DebitAmount}this.CalculateTotalItemPrice(),this.InvMode="Performa",this.CheckIsCredit=!1,this.cdRef.detectChanges(),$("#btnShowExtraItemModel").click(),this.LoadAuthorizedMaster()}else this.ExtraItemList=[],this._UtilityService.showWarningAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}CancelPInvoice(t,e,i,n){this.confirmationService.confirm({header:"Confirmation",message:"Are sure you want to Cancel this Proforma ?",icon:"pi pi-exclamation-triangle",accept:()=>{this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.CancelPerforMaInvoice(t,e,this.IsRefundforPI).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success?(this.LoadInvoiceData(),this.LoadCrediNoteBalance(),this.resetIndividualInvoiceList(),this._UtilityService.showSuccessAlert(t.actionResult.errMsg)):this._UtilityService.showWarningAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}})}CancelPInvoiceWithRefund(t,e,i,n){this.IsRefundforPI=!1,this.CancelPInvoice(t,e,i,n)}CancelPInvoiceWithNoRefund(t,e,i,n){this.IsRefundforPI=!0,this.CancelPInvoice(t,e,i,n)}CalculateItemTotal(t,e){if(this._ConstantServices.nullToZeroConverter(t.value)>0){let i=this._ConstantServices.nullToZeroConverter(t.value);this.AllItemPriceRes[e].PriceWithGST=parseFloat(this.AllItemPriceRes[e].MRP)*i,this.AllItemPriceRes[e].NETAMOUNT=parseFloat(this.AllItemPriceRes[e].MRP)*i,this.AllItemPriceRes[e].Qty=i}else this.AllItemPriceRes[e].PriceWithGST=0,this.AllItemPriceRes[e].NETAMOUNT=0;this.CalculateDiscountNew(e)}CalculateItemTotalNew(t){var e=this.AllItemPriceRes[t];if(this._ConstantServices.nullToZeroConverter(e.Qty)>0){let i=this._ConstantServices.nullToZeroConverter(e.Qty);this.AllItemPriceRes[t].PriceWithGST=parseFloat(this.AllItemPriceRes[t].MRP)*i,this.AllItemPriceRes[t].NETAMOUNT=parseFloat(this.AllItemPriceRes[t].MRP)*i,this.AllItemPriceRes[t].Qty=i}else this.AllItemPriceRes[t].PriceWithGST=0,this.AllItemPriceRes[t].NETAMOUNT=0;this.CalculateDiscountNew(t)}CalculateITotalNRev(t,e){var i=this.AllItemPriceRes[e],n=t.key,s=0;if(null!=n&&null!=n&&""!=n&&"0"!=n&&(s=parseInt(n)),this._ConstantServices.nullToZeroConverter(s)>0&&i.RoomCount>0)this.AllItemPriceRes[e].Qty=this._ConstantServices.nullToZeroConverter(s)*this._ConstantServices.nullToZeroConverter(i.RoomCount),this.CalculateItemTotalNew(e);else{this.AllItemPriceRes[e].Qty=(this._ConstantServices.nullToZeroConverter(s)>0?this._ConstantServices.nullToZeroConverter(s):1)*(this._ConstantServices.nullToZeroConverter(i.RoomCount)>0?this._ConstantServices.nullToZeroConverter(i.RoomCount):1);var o=this._ConstantServices.nullToZeroConverter(s)>0?this._ConstantServices.nullToZeroConverter(s):1;this.AllItemPriceRes[e].NightCount=this._ConstantServices.nullToZeroConverter(o),this.CalculateItemTotalNew(e),this._ConstantServices.nullToZeroConverter(s)}this.cdRef.detectChanges()}CalculateITotalNRevWE(t){var e=this.AllItemPriceRes[t],i=0;if(e.NightCount>0&&(i=parseInt(e.NightCount)),this._ConstantServices.nullToZeroConverter(i)>0&&e.RoomCount)this.AllItemPriceRes[t].Qty=this._ConstantServices.nullToZeroConverter(i)*this._ConstantServices.nullToZeroConverter(e.RoomCount),this.CalculateItemTotalNew(t);else{this.AllItemPriceRes[t].Qty=(this._ConstantServices.nullToZeroConverter(i)>0?this._ConstantServices.nullToZeroConverter(i):1)*(this._ConstantServices.nullToZeroConverter(e.RoomCount)>0?this._ConstantServices.nullToZeroConverter(e.RoomCount):1);var n=this._ConstantServices.nullToZeroConverter(i)>0?this._ConstantServices.nullToZeroConverter(i):1;this.AllItemPriceRes[t].NightCount=this._ConstantServices.nullToZeroConverter(n),this.CalculateItemTotalNew(t),this._ConstantServices.nullToZeroConverter(i)}this.cdRef.detectChanges()}CalculateITotalNightRev(t,e){var i=this.lstExtraItemDetails.find(t=>t.Sequence==e),n=this.lstExtraItemDetails.findIndex(t=>t.Sequence==e),s=t.value,o=0;null!=s&&null!=s&&""!=s&&"0"!=s&&(o=parseInt(s)),this._ConstantServices.nullToZeroConverter(o)>0&&i.RoomCount>0?this.lstExtraItemDetails[n].Qty=this._ConstantServices.nullToZeroConverter(o)*this._ConstantServices.nullToZeroConverter(i.RoomCount):(this.lstExtraItemDetails[n].Qty=(this._ConstantServices.nullToZeroConverter(o)>0?this._ConstantServices.nullToZeroConverter(o):1)*(this._ConstantServices.nullToZeroConverter(i.RoomCount)>0?this._ConstantServices.nullToZeroConverter(i.RoomCount):1),this.lstExtraItemDetails[n].NightCount=this._ConstantServices.nullToZeroConverter(o)>0?this._ConstantServices.nullToZeroConverter(o):1,this.lstExtraItemDetails[n].RoomCount=1,this._ConstantServices.nullToZeroConverter(o)),this.cdRef.detectChanges()}CalculateITotalRRev(t,e){var i=this.AllItemPriceRes[e],n=t.key,s=0;if(null!=n&&null!=n&&""!=n&&"0"!=n&&(s=parseInt(n)),this._ConstantServices.nullToZeroConverter(s)>0&&i.NightCount)this.AllItemPriceRes[e].Qty=this._ConstantServices.nullToZeroConverter(s)*this._ConstantServices.nullToZeroConverter(i.NightCount),this.CalculateItemTotalNew(e);else{this.AllItemPriceRes[e].Qty=(this._ConstantServices.nullToZeroConverter(s)>0?this._ConstantServices.nullToZeroConverter(s):1)*(this._ConstantServices.nullToZeroConverter(i.NightCount)>0?this._ConstantServices.nullToZeroConverter(i.NightCount):1);var o=this._ConstantServices.nullToZeroConverter(s)>0?this._ConstantServices.nullToZeroConverter(s):1;this.AllItemPriceRes[e].RoomCount=this._ConstantServices.nullToZeroConverter(o),this.CalculateItemTotalNew(e),this._ConstantServices.nullToZeroConverter(s)}this.cdRef.detectChanges()}CalculateITotalRRevWE(t){var e=this.AllItemPriceRes[t],i=0;if(e.RoomCount>0&&(i=parseInt(e.RoomCount)),this._ConstantServices.nullToZeroConverter(i)>0&&e.NightCount)this.AllItemPriceRes[t].Qty=this._ConstantServices.nullToZeroConverter(i)*this._ConstantServices.nullToZeroConverter(e.NightCount),this.CalculateItemTotalNew(t);else{this.AllItemPriceRes[t].Qty=(this._ConstantServices.nullToZeroConverter(i)>0?this._ConstantServices.nullToZeroConverter(i):1)*(this._ConstantServices.nullToZeroConverter(e.NightCount)>0?this._ConstantServices.nullToZeroConverter(e.NightCount):1);var n=this._ConstantServices.nullToZeroConverter(i)>0?this._ConstantServices.nullToZeroConverter(i):1;this.AllItemPriceRes[t].RoomCount=this._ConstantServices.nullToZeroConverter(n),this.CalculateItemTotalNew(t),this._ConstantServices.nullToZeroConverter(i)}this.cdRef.detectChanges()}CalculateITotalDaysRev(t,e){var i=this.lstExtraItemDetails.find(t=>t.Sequence==e),n=this.lstExtraItemDetails.findIndex(t=>t.Sequence==e),s=t.value,o=0;null!=s&&null!=s&&""!=s&&"0"!=s&&(o=parseInt(s)),this._ConstantServices.nullToZeroConverter(o)>0&&i.NightCount>0?this.lstExtraItemDetails[n].Qty=this._ConstantServices.nullToZeroConverter(o)*this._ConstantServices.nullToZeroConverter(i.NightCount):(this.lstExtraItemDetails[n].Qty=(this._ConstantServices.nullToZeroConverter(o)>0?this._ConstantServices.nullToZeroConverter(o):1)*(this._ConstantServices.nullToZeroConverter(i.NightCount)>0?this._ConstantServices.nullToZeroConverter(i.NightCount):1),this.lstExtraItemDetails[n].RoomCount=this._ConstantServices.nullToZeroConverter(o)>0?this._ConstantServices.nullToZeroConverter(o):1,0==this._ConstantServices.nullToZeroConverter(o)&&this._UtilityService.showWarningAlert("Bed Count Shouldn't be zero")),this.cdRef.detectChanges()}PrintPInvoice(t,e,i,n){this.SlotBookingIdSelected=t,this.TotalDiscountAmount=0,this.TotalReceiveAmount=0,this.printBillItem=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetItemByPerforma(t,e).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.printBillItem=e=e||[],this._ConstantServices.nullToZeroConverter(t.actionResult.totalAmount)>0&&(this.TotalReceiveAmount=this._ConstantServices.nullToZeroConverter(t.actionResult.totalAmount)),this.TotalGrandTotalAmount=this.printBillItem.map(t=>t.PriceWithGST).reduce(function(t,e){return t+e}),this.printBillItem.map(t=>{this.TotalDiscountAmount=this.TotalDiscountAmount+this._ConstantServices.nullToZeroConverter(t.IDiscountAmount)}),this.cdRef.detectChanges(),this.ShowPerformaInvoiceListModel=!0}else this.printBillItem=[],this._UtilityService.showSuccessAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}ShowAddCreditNoteModelCI(){if("Visitor"==this.CustomerType){if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&(null==this.ReferredBy||""==this.ReferredBy||null==this.ReferredBy))return void this._UtilityService.showWarningAlert("Please enter Authorized By");if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&this.ReferredBy.trim().length<=0)return void this._UtilityService.showWarningAlert("Please enter Authorized By");if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&(null==this.RequestedBy||""==this.RequestedBy||null==this.RequestedBy))return void this._UtilityService.showWarningAlert("Please enter Requested By");if(this.ItemTotalDiscount+this.BillWiseDiscountAmount>0&&this.RequestedBy.trim().length<=0)return void this._UtilityService.showWarningAlert("Please enter Requested By")}this.ShowAddCreditNoteModel(),this.NetPaybleTotal-this.MaxCreditLimit>0&&(this.CreditNoteAmount=Math.round(this._ConstantServices.nullToZeroConverter(this.NetPaybleTotal-this.MaxCreditLimit)),this.MaxRecAmount=this.CreditNoteAmount),this.cdRef.detectChanges()}ShowRefundCreditNoteModelCI(){this.ShowRefundCreditNoteModel(),this.MaxRefundAmount-this.NetPaybleTotal>0&&(this.RefundCreditNoteAmount=this._ConstantServices.nullToZeroConverter(this.MaxRefundAmount-this.NetPaybleTotal),this.MaxRefundableAmount=this.RefundCreditNoteAmount),this.cdRef.detectChanges()}getSelectAllItem(){var t;if(1==this.selectAllItem)for(var e=0;e<(null===(t=this.AllItemPriceRes)||void 0===t?void 0:t.length);e++)this.AllItemPriceRes[e].IsChecked=!0;else for(e=0;e<this.AllItemPriceRes.length;e++)(0==this.AllItemPriceRes[e].IsDisabledCheckBox||this.AllItemPriceRes[e].CanEditQty)&&(this.AllItemPriceRes[e].IsChecked=!1);this.CalculateTotalItemPrice()}validateZero(t){const e=t.keyCode;t.key.match(/[1-9]/g)&&![8,37,39,46].includes(e)||t.preventDefault()}onFileSelectRefundAppSlip(t,e){var i;if((null===(i=t.target.files)||void 0===i?void 0:i.length)>0){const i=t.target.files[0];[".jpg",".png",".jpeg",".pdf"].includes("."+i.type.split("/")[1])?i.size>5242880?($("#"+e).val(""),"AttRefAppslip1"==e&&(this.fileInputLabelAttRefAppslip1="",this.AttRefundSlip1Att=""),this._UtilityService.showWarningAlert("Maximum 5 MB file can be Uploaded")):"AttRefAppslip1"==e&&(this.fileInputLabelAttRefAppslip1=i.name,this.fileUploadAttRefslip1.get("AttRefAppslip1").setValue(i)):($("#"+e).val(""),"AttRefAppslip1"==e&&(this.fileInputLabelAttRefAppslip1="",this.AttRefundSlip1Att=""),this._UtilityService.showWarningAlert("Only jpg, png and pdf Allowed!")),this.cdRef.detectChanges()}}UploadRefundApprovalSlip(t,e){const i=new FormData;this.fileUploadAttRefslip1.get("AttRefAppslip1").value&&(i.append(this.AttRefundSlip1Att,this.fileUploadAttRefslip1.get("AttRefAppslip1").value),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UploadBankDepositSlip(i,t,e,"Refund").subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success&&this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}))}SelectParentMCode(t){this.lstExtraItemDetails[this.SelectedSequence].Parent=t,this.showModalRoomCategorySelect=!1,this.cdRef.detectChanges()}CalculateTotalCardPayment(t,e){if(t.value>0){null!=this.TenderObj.CARDAMT&&null!=this.TenderObj.CARDAMT||(this.TenderObj.CARDAMT=0);var i=0;(null==(n=this.lstCardPaymentTransactionDetails.filter(t=>t.Sequence!=e))?void 0:n.length)>0&&n.map(t=>{i+=t.Amount}),this.TenderObj.CARDAMT=i+t.value,this.cdRef.detectChanges()}else{var n;null!=this.TenderObj.CARDAMT&&null!=this.TenderObj.CARDAMT||(this.TenderObj.CARDAMT=0),i=0,(null==(n=this.lstCardPaymentTransactionDetails.filter(t=>t.Sequence!=e))?void 0:n.length)>0&&n.map(t=>{i+=t.Amount}),this.TenderObj.CARDAMT=i,this.cdRef.detectChanges()}}CalculateTotalCardPaymentrev(){var t=0;this.lstCardPaymentTransactionDetails.map(e=>{t+=e.Amount}),this.TenderObj.CARDAMT=t,this.cdRef.detectChanges()}AddCardPaymentDetails(){this.CardTrnCounter++,this.lstCardPaymentTransactionDetails.push({Sequence:this.CardTrnCounter,CardNumber:"",CardHolderName:"",TransactionId:"",RecdDate:null,Amount:0}),this.cdRef.detectChanges()}RemoveCardPaymentDetails(t){this.lstCardPaymentTransactionDetails=this.lstCardPaymentTransactionDetails.filter(e=>e.Sequence!==t),this.CalculateTotalCardPaymentrev(),this.cdRef.detectChanges()}ShowTransactionDetails(t,e,i,n){this.SlotBookingIdSelected=t,this.InvoiceNumberSelected=e,this.PhiscalIdSelected=i,this.DivisionSelected=n,this.ShowTransactionDetailsModel=!0}CheckCreditNote(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetNetBalanceCreditNote(this.ClinicIdSelected,this.userSelected,this.CreditNoteNumber).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success?this.MaxCreditNoteAmount=t.actionResult.totalAmount:(this._UtilityService.showWarningAlert(t.actionResult.errMsg),this.MaxCreditNoteAmount=0)},t=>{this._UtilityService.hideSpinner(),this.MaxCreditNoteAmount=0}),this.cdRef.detectChanges()}LoadClinicMasterById(){this.ClinicDetails={},this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetClinicMasterById(this.ClinicIdSelected).subscribe(t=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.ClinicDetails=e=e||[],this.ResetTenderList(),this.cdRef.detectChanges()}else this.cdRef.detectChanges()})}onselectedLetterhead(t){this.IsLetterhead=t}PrintPaymentVoucher(t,e,i,n,s){this.SelectedSlotBookingId=t,this.SelectedVCHRNO=e,this.SelectedPhiscalID=i,this.SelectedDivision=n,this.SelectedInvType=s,this.ShowPrintPaymentVoucherModel=!0}PrintInvoice(t,e,i,n){this.SlotBookingIdSelected=t,this.InvoiceNumberSelected=e,this.PhiscalIdSelected=i,this.DivisionSelected=n,this.ShowPrintProfileModel=!0}PrintCombinedInvoice(){window.open("#/print/combined-invoice-print?SlotBookingId="+this.userSelected+"&UserId="+this.UserList.filter(t=>t.SlotBookingId==this.userSelected)[0].UserId)}PrintBankDepositSlip(t,e,i){var n=this._ConstantServices.BaseURIFileServer+"FolderTransaction/"+this.ProdList.find(t=>t.VCHRNO==e).BankDSlip;window.open(n)}ShowEstimetedBill(){this.SlotBookingIdSelected=this.userSelected,this.TotalGrandTotalAmount=0,this.printBillItem=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetUnbilledItemBySlot(this.userSelected).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.printBillItem=e=e||[],this.TotalGrandTotalAmount=this.printBillItem.map(t=>t.PriceWithGST).reduce(function(t,e){return t+e}),this.cdRef.detectChanges(),this.ShowEstimetedBillListModel=!0}else this.printBillItem=[],this._UtilityService.showSuccessAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}GetColonhydrothrapyCount(){this.ShowColonHydroModel=!0}OnChangeOption(){"Visitor"==this.CustomerType&&(this.VisitorUserMaster={},this.userSelected=null,this.lstExtraItemDetails=[],this.extraItemRowCounter=0,this.AddExtraItemDetails(),this.LoaditemMasterWithGrouping(),this.cdRef.detectChanges())}saveExtraItemVisitor(){var t,e,i,n,s,o,l,c,r,a,d,b,u;if(this.IsListView&&(this.lstExtraItemDetails=[],this.itemMaster.map(t=>{t.expanded=!1}),this.lstExtraItemDetails=this.lstExtraListItemDetails),this.ResetPriceDetails(),this.AllItemPriceRes=[],this.MaxCreditNoteAmount=0,this.CreditNoteNumber=null,this.CreditNoteTranAmount=0,this.VisitorSelected=null,""!=(null===(t=this.VisitorUserMaster)||void 0===t?void 0:t.FirstName)&&null!=(null===(e=this.VisitorUserMaster)||void 0===e?void 0:e.FirstName)&&null!=(null===(i=this.VisitorUserMaster)||void 0===i?void 0:i.FirstName)&&""!=(null===(s=null===(n=this.VisitorUserMaster)||void 0===n?void 0:n.FirstName)||void 0===s?void 0:s.trim()))if(!(null===(o=this.VisitorUserMaster)||void 0===o?void 0:o.IsStaff)||""!=(null===(l=this.VisitorUserMaster)||void 0===l?void 0:l.EmpCode)&&null!=(null===(c=this.VisitorUserMaster)||void 0===c?void 0:c.EmpCode)&&null!=(null===(r=this.VisitorUserMaster)||void 0===r?void 0:r.EmpCode)&&""!=(null===(d=null===(a=this.VisitorUserMaster)||void 0===a?void 0:a.EmpCode)||void 0===d?void 0:d.trim()))if((null===(b=this.VisitorUserMaster)||void 0===b?void 0:b.IsStaff)||(this.VisitorUserMaster.EmpCode="",this.VisitorUserMaster.Department=""),0!=(null===(u=this.lstExtraItemDetails)||void 0===u?void 0:u.length)){var h=[],m=!0;if(this.lstExtraItemDetails.forEach(t=>{if(t.MCODE==this.defaultItemMCODE.OtherCharge&&(null==t.MRP||null==t.MRP||t.MRP<=0||null==t.OtherPurpose||null==t.OtherPurpose||0==t.OtherPurpose.trim().length))m=!1;else if(""!=t.MCODE&&null!=t.MCODE&&""!=t.UOMS&&null!=t.UOMS&&0!=(null==t?void 0:t.Qty)&&null!=(null==t?void 0:t.Qty)&&0!=t.Sequence){var e={ClinicId:this.ClinicIdSelected,MCODE:t.MCODE,UOMS:t.UOMS,Qty:t.Qty,IsBilled:!1,BillTypeStatus:this.billType,CreatedBy:this.loginId,ModifiedBy:this.loginId,NightCount:this._ConstantServices.nullToZeroConverter(t.NightCount),RoomCount:this._ConstantServices.nullToZeroConverter(t.RoomCount),PMCODE:t.Parent,MRP:this._ConstantServices.nullToZeroConverter(t.MRP),OtherPurpose:t.OtherPurpose};h.push(e)}else m=!1}),m)if(mn(h))this._UtilityService.showWarningAlert("Item should not duplicate.");else{var p={};this.VisitorUserMaster.CreatedBy=localStorage.getItem("userId"),this.VisitorUserMaster.CreatedBy=localStorage.getItem("userId"),this.VisitorUserMaster.ClinicId=this.ClinicIdSelected,p.VUMaster=this.VisitorUserMaster,p.lstBillItem=h,this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.SaveVisitorDetailsExtraItemArray(p).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){this._UtilityService.showSuccessAlert(t.actionResult.errMsg);var e=JSON.parse(t.actionResult.result);this.AllItemPriceRes=e=e||[],this.VisitorSelected=t.actionResult.stringVal,this.CalculateTotalItemPrice(),this.InvMode="CompleteInvoice",this.lstReciveVoucher=[],this.cdRef.detectChanges(),$("#btnShowExtraItemModel").click(),this.LoadAuthorizedMaster(),this.cdRef.detectChanges()}else this._UtilityService.showWarningAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}else this._UtilityService.showWarningAlert("Please select all Item Details")}else this._UtilityService.showWarningAlert("Please select Item Details");else this._UtilityService.showWarningAlert("Please enter employee Code");else this._UtilityService.showWarningAlert("Please enter first name")}ShowInvoiceList(){""!=this.VisitorSelected&&null!=this.VisitorSelected&&null!=this.VisitorSelected&&(this.ShowInvoiceListModel=!0)}PrintPreInvoice(){this.ShowPreInvoiceModel=!0}}return t.\u0275fac=function(e){return new(e||t)(c.Sb(c.h),c.Sb(r.i),c.Sb(r.a),c.Sb(n.j),c.Sb(l.f),c.Sb(a.a),c.Sb(d.a),c.Sb(b.a),c.Sb(u.d),c.Sb(h.a))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-extra-item-consumption"]],viewQuery:function(t,e){if(1&t&&(c.cd(O,1),c.cd(F,1)),2&t){let t;c.Hc(t=c.jc())&&(e.AttBankslip1=t.first),c.Hc(t=c.jc())&&(e.AttRefAppslip1=t.first)}},features:[c.Cb],decls:78,vars:76,consts:[["class","row mt25",4,"ngIf"],[4,"ngIf"],[1,"row","mt25","mb-4"],["class","col-auto",4,"ngIf"],["class","col-auto mt-2",4,"ngIf"],["class","col-md-4",4,"ngIf"],["class","row mt25 mb-4",4,"ngIf"],["class","row mt-4 balance",4,"ngIf"],["class","row  mt-2",4,"ngIf"],["tabContent",""],["class","row  mt-3",4,"ngIf"],["tabBillable",""],["tabCreditItem",""],["tabBilledItem",""],["tabPerformaInvItem",""],["tabPaymentReceiveVoucher",""],["type","button","id","btnShowExtraItemModel","name","btnShowExtraItemModel",2,"display","none",3,"click"],[1,"example-preview"],["contentExtraItem",""],["type","button","id","btnShowRazorPayModel","name","btnShowRazorPayModel",2,"display","none",3,"click"],["contentGen",""],["type","button","id","btnShowWLPayModel","name","btnShowWLPayModel",2,"display","none",3,"click"],["contentGenWL",""],["type","button","id","btnShowPaymentMethodModel","name","btnShowPaymentMethodModel",2,"display","none",3,"click"],["contentPaymentMethod",""],["type","button","id","btnShowCreditNoteModel","name","btnShowCreditNoteModel",2,"display","none",3,"click"],["contentCRNote",""],["header","Refund Customer Balance",3,"modal","visible","visibleChange"],["pTemplate","body"],["pTemplate","footer"],["header","Colon Hydrotherapy Count",3,"visible","modal","closeOnEscape","closable","draggable","resizable","visibleChange"],[3,"visible","modal","closeOnEscape","closable","draggable","visibleChange"],["pTemplate","header"],[1,"m-0"],["header","Estimeted Bill",3,"modal","visible","visibleChange"],["printEstimetedBill",""],["header","Print Voucher",3,"modal","visible","visibleChange"],["printDiv",""],[3,"modal","visible","visibleChange"],["header","Transaction Details",3,"modal","visible","baseZIndex","visibleChange"],["header","Voucher List",3,"modal","visible","visibleChange"],["header","Pre Invoice Print",3,"modal","visible","visibleChange"],[1,"row","mt25"],[1,"col","col-md-1","pr-0"],["for","",1,"pt-2"],[1,"required"],[1,"col","col-md-3"],[3,"isCenterLabel","mode","onclinicSelect","onselectedClinic"],[1,"col-auto"],[1,"field-radiobutton"],["name","rdPatient","value","Patient",3,"ngModel","ngModelChange","onClick"],[1,"pl-2","mr-2","radiolabel"],["name","rdPatient","value","Visitor",3,"ngModel","ngModelChange","onClick"],["type","button",1,"btn-new-primary","mr-2",3,"click"],[1,"col-auto","mt-2"],[1,"col-md-4"],["optionLabel","name","optionValue","SlotBookingId","placeholder","Select Health Seeker",3,"options","ngModel","filter","showClear","ngModelChange","onChange"],["pTemplate","item"],["pTemplate","selectedItem"],[1,"col","col-md-3","col-12"],[1,"form-group"],["for",""],["required","","type","text","name","txtFName","placeholder","First Name",1,"form-control",3,"ngModel","ngModelChange","keypress"],["fNameref","ngModel"],["type","text","name","txtLname","placeholder","Last Name",1,"form-control",3,"ngModel","ngModelChange","keypress"],["type","text","name","txtMobile","placeholder","Enter Phone Number","pattern","[0-9]{10}$","minlength","10","maxlength","10",1,"form-control",3,"ngModel","ngModelChange","keypress"],["mobileref","ngModel"],[1,"form-group","tow-col"],["type","text","placeholder","AddressLine 1","name","AddressLine1",1,"form-control",3,"ngModel","ngModelChange"],[1,"col","col-md-3","col-12","mt-7"],[1,"input-group"],[1,"mr-2"],["type","checkbox","name","chkIsStaff",3,"ngModel","ngModelChange"],["class","col col-md-3 col-12",4,"ngIf"],["type","text","placeholder","Employee Code","name","EmpCode",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Department","name","Department",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","mt-4","balance"],[1,"pt-1"],[1,"material-icons"],[1,"col-auto","balance-btn"],["type","button","class","btn btn-new-primary mr-2",3,"click",4,"ngIf"],["title","Colon Hydrotherpy Count",1,"btn","btn-new-secondary",3,"click"],[1,"fa","fa-info-circle",2,"font-size","20px"],["class","col-md-2 balance-btn",4,"ngIf"],[1,"material-icons",2,"top","2px"],["type","button",1,"btn","btn-new-primary","mr-2",3,"click"],[1,"fa","fa-plus"],[1,"col-md-2","balance-btn"],["type","button","class","btn btn-new-secondary w-100",3,"click",4,"ngIf"],["type","button",1,"btn","btn-new-secondary","w-100",3,"click"],[1,"fa","fa-minus"],[1,"row","mt-2"],[1,"col","col-md-12"],[3,"activeIndex","activeIndexChange","onChange"],[3,"header"],[4,"ngTemplateOutlet"],["header","Prescribed",4,"ngIf"],[1,"col","col-auto"],["type","button","class","btn btn-new-primary",3,"click",4,"ngIf"],[1,"mr-2","ml-2"],["type","checkbox","name","chkIsListView",1,"mt-2",3,"ngModel","ngModelChange","click"],["header","Prescribed"],["type","button",1,"btn","btn-new-primary",3,"click"],[1,"extmt"],["responsiveLayout","scroll","scrollHeight","250px",3,"value","rowHover","scrollable",4,"ngIf"],["responsiveLayout","scroll","scrollHeight","250px",3,"value","rowHover","scrollable"],["dt11",""],["pTemplate","colgroup"],[2,"width","250px"],[2,"width","100px"],[2,"width","150px"],[2,"text-align","center"],["id","btnCloseOverlayItem","name","btnCloseOverlayItem",2,"display","none",3,"click"],["appendTo","body","icon","pi pi-list",1,"ov-button",3,"id","label","click"],["appendTo","body",3,"id","showCloseIcon"],["op",""],["pTemplate",""],["appendTo","body","optionLabel","UOMName","optionValue","UOMName","placeholder","Select Unit",3,"name","options","ngModel","filter","showClear","ngModelChange"],[2,"display","flex","justify-content","center"],["styleClass","input30px",3,"name","ngModel","useGrouping","min","maxlength","ngModelChange",4,"ngIf"],["class","row",4,"ngIf"],["pInputText","","type","text",3,"name","ngModel","ngModelChange",4,"ngIf"],["href","javascript: void(0);",1,"add-btn","mr-2",3,"click"],["class","add-btn mr-2","href","javascript: void(0);",3,"click",4,"ngIf"],["class","pi pi-refresh","title","Reset Item",3,"click",4,"ngIf"],["selectionMode","single",3,"id","value","filter","selection","styleClass","onNodeSelect","selectionChange",4,"ngIf"],["selectionMode","single",3,"id","value","filter","selection","styleClass","onNodeSelect","selectionChange"],["styleClass","input30px",3,"name","ngModel","useGrouping","min","maxlength","ngModelChange"],[1,"row"],[1,"col-auto","pt-2"],[1,"col-auto","p-0"],["styleClass","input30px",3,"name","ngModel","useGrouping","min","maxlength","onInput","ngModelChange"],[3,"name","ngModel","useGrouping","min","maxlength","ngModelChange"],["pInputText","","type","text",3,"name","ngModel","ngModelChange"],["title","Reset Item",1,"pi","pi-refresh",3,"click"],[2,"width","350px"],[2,"width","650px"],["id","btnCloseOverlayItem1","name","btnCloseOverlayItem1",2,"display","none",3,"click"],["appendTo","body","id","btn_op_lstExtraItemDetails","icon","pi pi-list",1,"ov-button",3,"label","click"],["appendTo","body","id","op_lstExtraItemDetails",3,"showCloseIcon"],["op1",""],["styleClass","input35px",3,"name","ngModel","useGrouping","min","maxlength","ngModelChange",4,"ngIf"],["id","tree_lstExtraItemDetails","selectionMode","checkbox",3,"filter","value","selection","styleClass","onNodeSelect","onNodeUnselect","selectionChange"],["styleClass","input35px",3,"name","ngModel","useGrouping","min","maxlength","ngModelChange"],[1,"row","mt-3"],["header","Billable Item"],["header","Proforma Item List"],["header","Voucher list"],["header","Billed Item List"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","200px",3,"value","rowHover","globalFilterFields","scrollable","selection","selectionChange"],["dt1",""],["pTemplate","caption"],["pTemplate","emptymessage"],[1,"p-d-flex"],["pButton","","pRipple","","title","Estimeted Bill","label","Estimeted Bill","icon","","class","mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","title","Edit Item","label","Edit Item","icon","fa fa-edit",3,"click",4,"ngIf"],["pButton","","pRipple","","title","Save Item","label","Save","icon","",3,"click",4,"ngIf"],["pButton","","pRipple","","title","Cancel Item","label","Cancel","icon","","class","ml-2",3,"click",4,"ngIf"],["pButton","","pRipple","","title","Delete Item","label","Delete Item","icon","","class","ml-2",3,"click",4,"ngIf"],["pButton","","title","Create Proforma Invoice","label","Create Proforma Invoice","class","btn btn-new-primary ml-2","icon","pi pi-file-o",3,"click",4,"ngIf"],[1,"p-input-icon-left","p-ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["pButton","","pRipple","","title","Estimeted Bill","label","Estimeted Bill","icon","",1,"mr-2",3,"click"],["pButton","","pRipple","","title","Edit Item","label","Edit Item","icon","fa fa-edit",3,"click"],["pButton","","pRipple","","title","Save Item","label","Save","icon","",3,"click"],["pButton","","pRipple","","title","Cancel Item","label","Cancel","icon","",1,"ml-2",3,"click"],["pButton","","pRipple","","title","Delete Item","label","Delete Item","icon","",1,"ml-2",3,"click"],["pButton","","title","Create Proforma Invoice","label","Create Proforma Invoice","icon","pi pi-file-o",1,"btn","btn-new-primary","ml-2",3,"click"],[2,"width","70px"],[2,"width","120px"],[2,"width","190px"],[2,"width","80px"],[2,"width","90px"],[2,"width","130px"],["pFrozenColumn",""],[3,"value"],["matTooltip","Delete",3,"click",4,"ngIf"],["pInputText","","type","text","required","",2,"width","100%",3,"name","ngModel","keypress","ngModelChange"],["matTooltip","Delete",3,"click"],["src","./assets/custom-icons/no.svg",1,"custom-ico"],["styleClass","p-datatable-striped","scrollHeight","150px","responsiveLayout","scroll",3,"value","rowHover","globalFilterFields","scrollable"],["pButton","","title","All Invoice Print","label","Print","class","p-button-outlined","icon","pi pi-print",3,"click",4,"ngIf"],["pButton","","title","All Invoice Print","label","Print","icon","pi pi-print",1,"p-button-outlined",3,"click"],[2,"width","60px"],["binary","true","inputId","binary",3,"ngModel","ngModelChange","onChange"],["binary","true",3,"ngModel","ngModelChange"],["matTooltip","Cancel",3,"click",4,"ngIf"],["matTooltip","Cancel",3,"click"],["styleClass","p-datatable-striped","scrollHeight","250px","responsiveLayout","scroll",3,"value","rowHover","globalFilterFields","scrollable",4,"ngIf"],["styleClass","p-datatable-striped","scrollHeight","250px","responsiveLayout","scroll",3,"value","rowHover","globalFilterFields","scrollable"],["dt2",""],[1,"p-d-flex","bills"],["pButton","","title","Complete Invoice","label","Complete Invoice","class","btn btn-new-primary","icon","pi pi-print",3,"click",4,"ngIf"],["pButton","","title","Complete Invoice","label","Complete Invoice","icon","pi pi-print",1,"btn","btn-new-primary",3,"click"],[2,"width","105px"],[2,"width","95px"],["class","material-icons mr-3","matTooltip","Print Voucher",3,"click",4,"ngIf"],["class","material-icons mr-3","matTooltip","Download Bank Deposit Slip",3,"click",4,"ngIf"],["matTooltip","Transaction Details",1,"material-icons","mr-3",3,"click"],["matTooltip","Print Voucher",1,"material-icons","mr-3",3,"click"],["matTooltip","Download Bank Deposit Slip",1,"material-icons","mr-3",3,"click"],["dt33",""],["pButton","","title","Create Complete Invoice","label","Create Complete Invoice","class","btn btn-new-primary mr-2","icon","pi pi-print",3,"click",4,"ngIf"],["pButton","","title","Create Complete Invoice","label","Print Pre Invoice","class","btn btn-new-primary","icon","pi pi-print",3,"click",4,"ngIf"],["pButton","","title","Create Complete Invoice","label","Create Complete Invoice","icon","pi pi-print",1,"btn","btn-new-primary","mr-2",3,"click"],["pButton","","title","Create Complete Invoice","label","Print Pre Invoice","icon","pi pi-print",1,"btn","btn-new-primary",3,"click"],[2,"width","125px"],["class","fas fa-print mr-3","title","Print",3,"click",4,"ngIf"],["class","fas fa-edit mr-3","title","Edit Proforma Invoice",3,"click",4,"ngIf"],["class","fas fa-plane-slash mr-3","title","Cancel Proforma Invoice With No Refund",3,"click",4,"ngIf"],["class","fas fa-window-close","title","Cancel Proforma Invoice",3,"click",4,"ngIf"],["title","Print",1,"fas","fa-print","mr-3",3,"click"],["title","Edit Proforma Invoice",1,"fas","fa-edit","mr-3",3,"click"],["title","Cancel Proforma Invoice With No Refund",1,"fas","fa-plane-slash","mr-3",3,"click"],["title","Cancel Proforma Invoice",1,"fas","fa-window-close",3,"click"],[1,"row","mt-5"],["class","col col-md-12",4,"ngIf"],[3,"showIndividualInvoiceList","slotBookingId","IsGrouped","BookingType"],[1,"modal-header"],[1,"modal-title"],["type","button","id","btnExtraItemModel","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"col-md-12"],[1,"table","table-striped","table-bordered",2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange","change",4,"ngIf"],[4,"ngFor","ngForOf"],["colspan","3"],["name","txtBillWiseDiscountPer","mode","decimal",3,"disabled","ngModel","min","max","minFractionDigits","maxFractionDigits","ngModelChange","onInput","onBlur"],["name","txtBillWiseDiscountAmount","mode","decimal",3,"disabled","ngModel","min","max","minFractionDigits","maxFractionDigits","ngModelChange","onInput","onBlur"],["style","display: none;",4,"ngIf"],["colspan","1"],["colspan","1",1,"text-center"],["type","text","class","ref-input","pInputText","","name","txtRequestedBy","minlength","3","maxlength","150",3,"ngModel","ngModelChange",4,"ngIf"],["required","true","name","txtReferredBy","optionLabel","Name","optionValue","Name","placeholder","Select Authorized Name",3,"options","ngModel","showClear","filter","style","ngModelChange",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-new-secondary",3,"click"],[1,"col-md-3","balance"],["class","col-md-3 balance",4,"ngIf"],["class","col-md-3 balance-btn",4,"ngIf"],[1,"col-md-3","balance-btn"],["type","button",1,"btn","btn-new-primary","w-100",3,"click"],["type","checkbox",3,"ngModel","ngModelChange","change"],["type","checkbox","name","chkExtraItem",3,"disabled","ngModel","change","ngModelChange"],["mode","decimal",3,"name","ngModel","min","max","maxlength","style","ngModelChange","onInput","onBlur",4,"ngIf"],["name","txtItemWiseDiscountPer","mode","decimal",3,"ngModel","min","max","maxlength","disabled","ngModelChange","onInput","onBlur"],["name","txtItemWiseDiscountAmount","mode","decimal",3,"ngModel","disabled","min","max","maxlength","ngModelChange","onInput","onBlur"],[1,"col-md-5"],["type","number","name","txtItemWiseNightCount","min","1","max","col.NightCount",2,"text-align","center","width","40px",3,"ngModel","ngModelChange","keypress","change"],[1,"col-md-2"],["type","number","name","txtItemWiseRoomCount","min","1","max","col.RoomCount",2,"text-align","center","width","40px",3,"ngModel","ngModelChange","keypress","change"],["mode","decimal",3,"name","ngModel","min","max","maxlength","ngModelChange","onInput","onBlur"],[2,"display","none"],[1,"bold"],["colspan","2"],["type","text","name","txtCreditNoteNumber","pInputText","",3,"disabled","ngModel","ngModelChange"],["class","text-center",4,"ngIf"],["colspan","2",4,"ngIf"],["style","text-align: center;",4,"ngIf"],[1,"text-center"],["name","txtCreditNoteTranAmount","mode","decimal",3,"ngModel","min","max","ngModelChange","onBlur"],["type","text","pInputText","","name","txtRequestedBy","minlength","3","maxlength","150",1,"ref-input",3,"ngModel","ngModelChange"],["required","true","name","txtReferredBy","optionLabel","Name","optionValue","Name","placeholder","Select Authorized Name",3,"options","ngModel","showClear","filter","ngModelChange"],["colspan","2",1,"text-left"],["colspan","6",1,"text-center"],["type","text","pInputText","","name","txtPIEditGenRemarks","minlength","3","maxlength","150",1,"ref-input",3,"ngModel","ngModelChange"],["type","button","id","btnRazorPayCloseModal","aria-label","Close",1,"close",3,"click"],[3,"OrderRes","ItemPriceRes","SlotBookingIdSelected","IsSelectedItem","UserRes","BillWiseDiscountPer","ReferredBy","PayRequestFrom","GetPaymentStatusEmit"],["type","button","id","btnWLPayCloseModal","aria-label","Close",1,"close",3,"click"],[3,"WLOrderRes","ItemPriceRes","SlotBookingIdSelected","IsSelectedItem","UserRes","BillWiseDiscountPer","ReferredBy","PayRequestFrom","GetPaymentStatusEmit"],["type","button","id","btnPaymentMethodModel","aria-label","Close",1,"close",3,"click"],["optionLabel","TenderName","optionValue","ACID","placeholder","Please select payment option",3,"options","ngModel","onChange","ngModelChange"],[1,"col-md-12","text-right","bold"],["id","dvCreditTender",4,"ngIf"],["id","dvCashTender",4,"ngIf"],["id","dvCardTender",4,"ngIf"],["id","dvBankTfTender",4,"ngIf"],["id","dvChequeTender",4,"ngIf"],["class","row mb-3 m-2",4,"ngIf"],["id","dvRemarks"],["class","row mt-3",4,"ngIf"],["id","dvCreditTender"],[1,"row","mb-3"],[1,"col-md-3"],[1,"required",2,"color","red"],[1,"col-md-9"],["name","txtCreditAmount","mode","decimal",3,"ngModel","min","max","ngModelChange"],["id","dvCashTender"],[1,"mt-2","mb-2"],["name","txtCashAmount","mode","decimal",3,"ngModel","min","max","ngModelChange"],["inputId","icon",3,"yearNavigator","monthNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["CashRecdDate",""],["id","dvCardTender"],["type","text","name","txtCardNumber","pInputText","",3,"ngModel","ngModelChange"],["type","text","name","txtCardHolderName","pInputText","",3,"ngModel","ngModelChange"],["CardRecdDate",""],["name","txtCardAmount","mode","decimal",3,"ngModel","min","max","ngModelChange"],["id","dvBankTfTender"],["name","txtBankTFAmount","disabled","","mode","decimal",3,"ngModel","min","max","ngModelChange"],["type","text","pInputText","",3,"name","ngModel","ngModelChange"],["BankDepRecdDate",""],["mode","decimal",3,"name","ngModel","min","max","onInput","onBlur","ngModelChange"],["id","dvChequeTender"],["type","text","name","txtChequeBankName","pInputText","",3,"ngModel","ngModelChange"],["appendTo","body","inputId","icon",1,"iconcal",3,"yearNavigator","monthNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["name","txtChequeAmount","mode","decimal",3,"ngModel","min","max","ngModelChange"],["type","text","name","txtChequeHolderName","pInputText","",3,"ngModel","ngModelChange"],[1,"row","mb-3","m-2"],[1,"col-md-3","bold"],["type","file","id","AttBankslip1","name","AttMedicalTest1","accept",".JPEG,.JPG,.PNG,.PDF",1,"custom-file-upload","mr-2",3,"change"],["AttMedicalTest1",""],["type","text","name","txtRemarks","pInputText","",3,"ngModel","ngModelChange"],["id","btnRecivePaymentClose","type","button","matTooltip","close","aria-label","Close",1,"close-btn",3,"click"],[1,"modal-body","p-1"],[1,"row","m-0"],[1,"col-md-6"],["name","txtCreditAmount","mode","decimal",3,"ngModel","min","max","minFractionDigits","maxFractionDigits","ngModelChange","onInput"],[1,"row","m-0","mb-2"],["id","dvTrustDetails",4,"ngIf"],["type","button","id","btnCloseCreditModel","name","btnCloseCreditModel",1,"btn","btn-new-secondary",3,"click"],[1,"row","m-0","mb-3"],[1,"row","mt-3","mb-3"],[1,"col-md-1","mt-1","pt-2","bold"],["BankDepRecdDatecr",""],["inputId","icon",1,"iconcal",3,"yearNavigator","monthNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["id","dvTrustDetails"],["optionLabel","TrustName","optionValue","TrustMasterId","placeholder","Select Trust",3,"options","ngModel","filter","showClear","ngModelChange"],["optionLabel","MemberTypeName","optionValue","TrustMemberTypeMasterId","placeholder","Select Trust Member Type",3,"options","ngModel","filter","showClear","ngModelChange"],["type","text","pInputText","","placeholder","MemberShip Number",3,"ngModel","ngModelChange"],["name","txtRefundCreditAmount","mode","decimal",3,"ngModel","min","max","minFractionDigits","maxFractionDigits","ngModelChange"],["optionLabel","TenderName","optionValue","ACID","placeholder","Please select Refund Mode",3,"options","ngModel","filter","showClear","ngModelChange"],["class","row mb-3","id","dvBankTransferRefund",4,"ngIf"],["class","row mb-3","id","dvCashRefund",4,"ngIf"],["type","text","name","txtRemarksRefund","pInputText","",3,"ngModel","ngModelChange"],["type","text","name","txtApprovedByRefund","pInputText","",3,"ngModel","ngModelChange"],["id","dvBankTransferRefund",1,"row","mb-3"],["type","text","name","txtAccNumber","pInputText","",3,"ngModel","ngModelChange"],["type","text","name","txtAccHolderName","pInputText","",3,"ngModel","ngModelChange"],["type","text","name","txtIFSCCode","pInputText","",3,"ngModel","ngModelChange"],["type","text","name","txtBankName","pInputText","",3,"ngModel","ngModelChange"],["type","text","name","txtTransactionIdRefund","pInputText","",3,"ngModel","ngModelChange"],["id","dvCashRefund",1,"row","mb-3"],["appendTo","body","inputId","icon","dateFormat","dd-mm-yy",1,"iconcal",3,"yearNavigator","monthNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","readonlyInput","ngModelChange"],[3,"clinicId"],[2,"width","100%","overflow-x","auto","overflow-y","auto"],[2,"width","100%"],[3,"IsLetterhead","IsNgxPrint","onselectedLetterhead"],["id","print-section",1,"row"],[3,"slotBookingId","IsGST","IsLetterhead","heading"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","font-size","15px"],["cellpadding","0","cellspacing","3",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","10px"],["align","Center"],[2,"background","#d3d3d3"],["align","Center",2,"padding","6px"],[2,"padding","6px","text-align","right"],["colspan","5","align","right",2,"padding","2px"],["colspan","5"],["colspan","5","align","right",2,"padding","20px 4px","border-top","1px solid #f1f1f1"],["align","center",2,"text-align","center","padding","6px 0","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","center",2,"text-align","center","padding","6px  0px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","right",2,"text-align","right","padding","6px 0px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","right",2,"text-align","center","padding","6px 0px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],[3,"slotBookingId","IsGST","IsLetterhead"],[3,"SelectedSlotBookingId","SelectedVCHRNO","SelectedPhiscalID","SelectedDivision","InvType"],[3,"SlotBookingIdSelected","InvoiceNumberSelected","PhiscalIdSelected","DivisionSelected"],[3,"slotBookingId","SelectedVCHRNO","SelectedPhiscalID","SelectedDivision"],[3,"slotBookingId","IsVisitor"],[3,"SlotBookingIdSelected","RemainingAmount"]],template:function(t,e){if(1&t){const t=c.Zb();c.Sc(0,_,8,2,"div",0),c.Sc(1,W,1,0,"hr",1),c.Yb(2,"div",2),c.Sc(3,j,8,2,"div",3),c.Sc(4,V,3,0,"div",3),c.Sc(5,Z,3,0,"div",4),c.Sc(6,Q,4,7,"div",5),c.Xb(),c.Sc(7,J,33,7,"div",6),c.Sc(8,ot,20,12,"div",7),c.Sc(9,bt,16,7,"div",8),c.Sc(10,Nt,3,2,"ng-template",null,9,c.Tc),c.Sc(12,kt,11,4,"div",10),c.Sc(13,te,9,6,"ng-template",null,11,c.Tc),c.Sc(15,re,9,5,"ng-template",null,12,c.Tc),c.Sc(17,ve,3,1,"ng-template",null,13,c.Tc),c.Sc(19,Ne,3,1,"ng-template",null,14,c.Tc),c.Sc(21,we,2,1,"ng-template",null,15,c.Tc),c.Yb(23,"button",16),c.ic("click",function(){c.Lc(t);const i=c.Ic(27);return e.openNewExtraItem(i)}),c.Xb(),c.Yb(24,"div",17),c.Yb(25,"div"),c.Sc(26,li,105,38,"ng-template",null,18,c.Tc),c.Xb(),c.Xb(),c.Yb(28,"button",19),c.ic("click",function(){c.Lc(t);const i=c.Ic(32);return e.openNew(i)}),c.Xb(),c.Yb(29,"div",17),c.Yb(30,"div"),c.Sc(31,ci,13,8,"ng-template",null,20,c.Tc),c.Xb(),c.Xb(),c.Yb(33,"button",21),c.ic("click",function(){c.Lc(t);const i=c.Ic(37);return e.openNew(i)}),c.Xb(),c.Yb(34,"div",17),c.Yb(35,"div"),c.Sc(36,ri,13,8,"ng-template",null,22,c.Tc),c.Xb(),c.Xb(),c.Yb(38,"button",23),c.ic("click",function(){c.Lc(t);const i=c.Ic(42);return e.openPaymentMethod(i)}),c.Xb(),c.Yb(39,"div",17),c.Yb(40,"div"),c.Sc(41,Si,29,16,"ng-template",null,24,c.Tc),c.Xb(),c.Xb(),c.Yb(43,"button",25),c.ic("click",function(){c.Lc(t);const i=c.Ic(47);return e.openCRNoteModel(i)}),c.Xb(),c.Yb(44,"div",17),c.Yb(45,"div"),c.Sc(46,Li,32,21,"ng-template",null,26,c.Tc),c.Xb(),c.Xb(),c.Yb(48,"p-dialog",27),c.ic("visibleChange",function(t){return e.ShowPaymentRefundMethodModel=t}),c.Sc(49,_i,26,25,"ng-template",28),c.Sc(50,ji,1,1,"ng-template",29),c.Xb(),c.Yb(51,"p-dialog",30),c.ic("visibleChange",function(t){return e.ShowColonHydroModel=t}),c.Sc(52,Vi,2,1,"div",1),c.Xb(),c.Yb(53,"p-dialog",31),c.ic("visibleChange",function(t){return e.showModalRoomCategorySelect=t}),c.Sc(54,Zi,2,0,"ng-template",32),c.Tb(55,"hr",33),c.Sc(56,qi,11,1,"ng-template",28),c.Tb(57,"hr",33),c.Sc(58,Hi,0,0,"ng-template",29),c.Xb(),c.Yb(59,"p-dialog",34),c.ic("visibleChange",function(t){return e.ShowEstimetedBillListModel=t}),c.Sc(60,$i,2,1,"div",1),c.Xb(),c.Sc(61,Ki,34,11,"ng-template",null,35,c.Tc),c.Yb(63,"p-dialog",36),c.ic("visibleChange",function(t){return e.ShowPerformaInvoiceListModel=t}),c.Sc(64,tn,2,1,"div",1),c.Xb(),c.Sc(65,nn,58,26,"ng-template",null,37,c.Tc),c.Yb(67,"p-dialog",38),c.ic("visibleChange",function(t){return e.ShowPrintPaymentVoucherModel=t}),c.Sc(68,sn,2,1,"ng-template",32),c.Sc(69,on,2,5,"div",1),c.Xb(),c.Yb(70,"p-dialog",36),c.ic("visibleChange",function(t){return e.ShowPrintProfileModel=t}),c.Sc(71,ln,2,4,"div",1),c.Xb(),c.Yb(72,"p-dialog",39),c.ic("visibleChange",function(t){return e.ShowTransactionDetailsModel=t}),c.Sc(73,cn,2,4,"div",1),c.Xb(),c.Yb(74,"p-dialog",40),c.ic("visibleChange",function(t){return e.ShowInvoiceListModel=t}),c.Sc(75,rn,2,2,"div",1),c.Xb(),c.Yb(76,"p-dialog",41),c.ic("visibleChange",function(t){return e.ShowPreInvoiceModel=t}),c.Sc(77,an,2,2,"div",1),c.Xb()}2&t&&(c.tc("ngIf",e.UserTypeCurre===e.UserTypes.SuperAdmin),c.Fb(1),c.tc("ngIf",e.UserTypeCurre===e.UserTypes.SuperAdmin),c.Fb(2),c.tc("ngIf",e.IsVistorBilling),c.Fb(1),c.tc("ngIf","Visitor"==e.CustomerType&&""!=e.VisitorSelected&&null!=e.VisitorSelected&&null!=e.VisitorSelected),c.Fb(1),c.tc("ngIf","Patient"==e.CustomerType),c.Fb(1),c.tc("ngIf","Patient"==e.CustomerType),c.Fb(1),c.tc("ngIf","Visitor"==e.CustomerType),c.Fb(1),c.tc("ngIf",null!=e.userSelected&&""!=e.userSelected&&"Patient"==e.CustomerType),c.Fb(1),c.tc("ngIf",""!==e.userSelected&&null!=e.userSelected||"Visitor"==e.CustomerType),c.Fb(3),c.tc("ngIf",""!==e.userSelected&&null!=e.userSelected&&"Patient"==e.CustomerType),c.Fb(36),c.Pc(c.yc(66,dn)),c.tc("modal",!0)("visible",e.ShowPaymentRefundMethodModel),c.Fb(3),c.Pc(c.yc(67,bn)),c.tc("visible",e.ShowColonHydroModel)("modal",!0)("closeOnEscape",!1)("closable",!0)("draggable",!0)("resizable",!0),c.Fb(1),c.tc("ngIf",e.ShowColonHydroModel),c.Fb(1),c.Pc(c.yc(68,un)),c.tc("visible",e.showModalRoomCategorySelect)("modal",!0)("closeOnEscape",!1)("closable",!1)("draggable",!1),c.Fb(6),c.Pc(c.yc(69,dn)),c.tc("modal",!0)("visible",e.ShowEstimetedBillListModel),c.Fb(1),c.tc("ngIf",e.ShowEstimetedBillListModel),c.Fb(3),c.Pc(c.yc(70,dn)),c.tc("modal",!0)("visible",e.ShowPerformaInvoiceListModel),c.Fb(1),c.tc("ngIf",e.ShowPerformaInvoiceListModel),c.Fb(3),c.Pc(c.yc(71,dn)),c.tc("modal",!0)("visible",e.ShowPrintPaymentVoucherModel),c.Fb(2),c.tc("ngIf",e.ShowPrintPaymentVoucherModel),c.Fb(1),c.Pc(c.yc(72,dn)),c.tc("modal",!0)("visible",e.ShowPrintProfileModel),c.Fb(1),c.tc("ngIf",e.ShowPrintProfileModel),c.Fb(1),c.Pc(c.yc(73,dn)),c.tc("modal",!0)("visible",e.ShowTransactionDetailsModel)("baseZIndex",1e4),c.Fb(1),c.tc("ngIf",e.ShowTransactionDetailsModel),c.Fb(1),c.Pc(c.yc(74,dn)),c.tc("modal",!0)("visible",e.ShowInvoiceListModel),c.Fb(1),c.tc("ngIf",e.ShowInvoiceListModel),c.Fb(1),c.Pc(c.yc(75,dn)),c.tc("modal",!0)("visible",e.ShowPreInvoiceModel),c.Fb(1),c.tc("ngIf",e.ShowPreInvoiceModel))},directives:[m.p,p.a,h.i,g.a,I.a,u.o,u.r,f.a,u.b,u.w,u.u,u.k,u.j,u.a,v.b,v.a,m.t,C.c,S.a,T.a,y.a,M.a,A.a,S.b,R.a,C.e,C.d,D.a,m.o,u.t,Y.a,P.a,X.a,U.a,x.a,N.a,B.a,w.a,E.a,L.a,k.a],pipes:[m.g,m.f],styles:[""]}),t})();function mn(t){var e=t.reduce((t,e)=>(t[e.MCODE]=(t[e.MCODE]||0)+1,t),{});return Object.values(e).some(t=>t>1)}}}]);