!function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,n=c(t);if(e){var o=c(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return r(this,i)}}function r(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"X/Io":function(t,e,i){"use strict";i.d(e,"a",function(){return m});var n,o,r=i("ofXK"),c=i("tyNb"),s=i("x5zU"),l=i("fXoL"),u=[{path:"",component:s.a}],b=((n=function t(){a(this,t)}).\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.Qb({type:n}),n.\u0275inj=l.Pb({imports:[[c.l.forChild(u)],c.l]}),n),d=i("3Pt+"),p=i("rEr+"),f=i("jIHw"),g=i("/RsI"),h=i("vcJ/"),m=((o=function t(){a(this,t)}).\u0275fac=function(t){return new(t||o)},o.\u0275mod=l.Qb({type:o}),o.\u0275inj=l.Pb({imports:[[r.c,b,d.i,p.f,f.c,g.b,h.a]]}),o)},"qC/m":function(t,n,r){"use strict";r.r(n),r.d(n,"FrontdeskBookingModule",function(){return nt});var c=r("ofXK"),s=r("tyNb"),l=r("Nach"),u=r("CwUn"),b=r("fXoL"),d=r("7zfz"),p=r("dcBc"),f=r("eRWq"),g=r("NLkC"),h=r("G+wY"),m=r("/RsI"),v=r("3Pt+"),y=r("58k3"),I=r("rEr+"),S=r("7kUa"),w=r("x5zU"),k=r("aXlx");function P(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",17),b.ic("click",function(){return b.Lc(i),b.mc(2).NewRegistration()}),b.Uc(1," New Registration "),b.Xb()}}function R(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div",9),b.Yb(1,"div",10),b.Yb(2,"div",11),b.Yb(3,"div",12),b.Yb(4,"input",13),b.ic("ngModelChange",function(t){return b.Lc(i),b.mc().searchtxt=t}),b.Xb(),b.Xb(),b.Yb(5,"div"),b.Yb(6,"button",14),b.ic("click",function(){return b.Lc(i),b.mc().LoadPatientList()}),b.Uc(7," Search "),b.Xb(),b.Xb(),b.Yb(8,"div",15),b.Sc(9,P,2,0,"button",16),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.mc();b.Fb(4),b.tc("ngModel",n.searchtxt),b.Fb(5),b.tc("ngIf",null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.ReadWrite.toString()))}}function M(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"app-registration",18),b.ic("RegMRNo",function(t){return b.Lc(i),b.mc().ReceiveMRno(t)}),b.Xb(),b.Xb()}if(2&t){var n=b.mc();b.Fb(1),b.tc("InputType",n.InputType)("RegInputType",n.RegInputType)}}function U(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div",30),b.Yb(1,"span",31),b.Tb(2,"i",32),b.Yb(3,"input",33),b.ic("input",function(t){return b.Lc(i),b.mc(),b.Ic(6).filterGlobal(t.target.value,"contains")}),b.Xb(),b.Xb(),b.Xb()}}function X(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Uc(2," No records found "),b.Xb(),b.Xb()),2&t&&(b.Fb(1),b.Gb("colspan",7))}function C(t,e){1&t&&(b.Yb(0,"colgroup"),b.Tb(1,"col",34),b.Tb(2,"col",35),b.Tb(3,"col",36),b.Tb(4,"col",36),b.Tb(5,"col",37),b.Tb(6,"col",38),b.Tb(7,"col",39),b.Xb())}function Y(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"th"),b.Uc(2,"MR NO"),b.Xb(),b.Yb(3,"th"),b.Uc(4,"Name"),b.Xb(),b.Yb(5,"th"),b.Uc(6,"Id Proof"),b.Xb(),b.Yb(7,"th"),b.Uc(8,"Email"),b.Xb(),b.Yb(9,"th"),b.Uc(10,"Mobile"),b.Xb(),b.Yb(11,"th"),b.Uc(12,"Address"),b.Xb(),b.Yb(13,"th"),b.Uc(14,"Action"),b.Xb(),b.Xb())}function L(t,e){1&t&&(b.Yb(0,"span"),b.Uc(1,", "),b.Xb())}function T(t,e){if(1&t){var i=b.Zb();b.Yb(0,"a",44),b.Yb(1,"img",45),b.ic("click",function(){b.Lc(i);var t=b.mc().$implicit;return b.mc(2).NewBooking(t.UserId,t.Gender)}),b.Xb(),b.Xb()}}function B(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",46),b.ic("click",function(){b.Lc(i);var t=b.mc().$implicit;return b.mc(2).showPatientRegistaration(t.UserId)}),b.Xb()}}function N(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",47),b.ic("click",function(){b.Lc(i);var t=b.mc().$implicit;return b.mc(2).SaveSlotBooking(t.UserId)}),b.Xb()}}function F(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td"),b.Uc(2),b.Xb(),b.Yb(3,"td"),b.Uc(4),b.Xb(),b.Yb(5,"td"),b.Uc(6),b.Xb(),b.Yb(7,"td"),b.Uc(8),b.Xb(),b.Yb(9,"td"),b.Uc(10),b.Xb(),b.Yb(11,"td"),b.Uc(12),b.Sc(13,L,2,0,"span",2),b.Uc(14),b.Xb(),b.Yb(15,"td"),b.Sc(16,T,2,0,"a",40),b.Sc(17,B,1,0,"i",41),b.Yb(18,"i",42),b.ic("click",function(){b.Lc(i);var t=e.$implicit;return b.mc(2).showPatientPrescriptionHistory(t.UserId)}),b.Xb(),b.Sc(19,N,1,0,"i",43),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,o=b.mc(2);b.Fb(2),b.Vc(n.MRNo),b.Fb(2),b.Xc("",n.FirstName," ",n.LastName,""),b.Fb(2),b.Xc("",n.IdProofName," - ",n.IdProofNumber,""),b.Fb(2),b.Vc(n.Email),b.Fb(2),b.Vc(n.ContactNumber),b.Fb(2),b.Vc(n.AddressLine1),b.Fb(1),b.tc("ngIf",""!=(null==n?null:n.AddressLine1)&&null!=(null==n?null:n.AddressLine1)),b.Fb(1),b.Zc("",n.City,", ",n.State,", ",n.CountryName," - ",n.ZipCode,""),b.Fb(2),b.tc("ngIf",null==o.lstIAccessStr?null:o.lstIAccessStr.includes(o.ActionList.ReadWrite.toString())),b.Fb(1),b.tc("ngIf",null==o.lstIAccessStr?null:o.lstIAccessStr.includes(o.ActionList.ReadWrite.toString())),b.Fb(2),b.tc("ngIf",o.IsGuestBooking&&(null==o.lstIAccessStr?null:o.lstIAccessStr.includes(o.ActionList.ReadWrite.toString())))}}var A=function(){return["MRNo","FirstName","LastName","IdProofName","IdProofNumber","Email","ContactNumber","City","State","CountryName"]};function O(t,e){if(1&t&&(b.Yb(0,"div",19),b.Yb(1,"div",20),b.Yb(2,"div",21),b.Yb(3,"div",22),b.Yb(4,"div",23),b.Yb(5,"p-table",24,25),b.Sc(7,U,4,0,"ng-template",26),b.Sc(8,X,3,1,"ng-template",27),b.Sc(9,C,8,0,"ng-template",28),b.Sc(10,Y,15,0,"ng-template",5),b.Sc(11,F,20,16,"ng-template",29),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.mc();b.Fb(5),b.tc("value",i.lstUserMaster)("rowHover",!0)("globalFilterFields",b.yc(4,A))("scrollable",!0)}}function D(t,e){if(1&t&&(b.Yb(0,"h5"),b.Uc(1),b.Xb()),2&t){var i=b.mc();b.Fb(1),b.Wc("Visit History - Total Visits ",i.totalVisitPrescriptionCount,"")}}function _(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"app-patient-all-prescription-history",48),b.ic("TotalVisitPrescriptionCount",function(t){return b.Lc(i),b.mc().VisitPrescriptionCount(t)}),b.Xb(),b.Xb()}if(2&t){var n=b.mc();b.Fb(1),b.tc("PatientId",n.selectedPatientId)}}function x(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",49),b.ic("click",function(){return b.Lc(i),b.mc().hidePrescriptionHistory()}),b.Uc(1," Close "),b.Xb()}}function V(t,e){if(1&t){var i=b.Zb();b.Yb(0,"a",50),b.ic("click",function(){return b.Lc(i),b.mc().CloseModal()}),b.Tb(1,"i",51),b.Xb()}}function z(t,e){if(1&t&&(b.Yb(0,"div"),b.Tb(1,"app-book-appointment",52),b.Xb()),2&t){var i=b.mc();b.Fb(1),b.tc("bookingclinicId",i.bookingclinicId)("gender",i.gender)("patientId",i.patientId)("loginUserId",i.loginUserId)("InputClinicList",i.InputClinicList)}}function H(t,e){1&t&&(b.Yb(0,"h5"),b.Uc(1,"Registration Details"),b.Xb())}function E(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"app-registration",53),b.ic("OnUpdateRegDetails",function(t){return b.Lc(i),b.mc().OnUpdateRegDetails(t)}),b.Xb(),b.Xb()}if(2&t){var n=b.mc();b.Fb(1),b.tc("RegistrationMainModel",n.RegistrationMainModel)("InputType",n.ViewEditInputType)}}var G,j,Z,W=function(){return{width:"70vw"}},J=[{path:"",component:(G=function(t){i(r,t);var n=o(r);function r(t,e,i,o,c,s,u,b,d){var p,f;return a(this,r),(p=n.call(this)).cdRef=t,p.router=e,p.confirmationService=i,p._MasterServices=o,p._ConstantServices=c,p._RegistrationServices=s,p._UtilityService=u,p.datepipe=b,p._PatientServices=d,p.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,p.mode=null,p.bookingclinicId=localStorage.getItem("ClinicId"),p.loginUserId=localStorage.getItem("userId"),p.InputClinicList=[],p.showNewRegistration=!1,p.RegMRNo=null,p.InputType=1,p.RegInputType=0,p.totalVisitPrescriptionCount=0,p.showModalPrescriptionHistory=!1,p.showModalPatientRegistaration=!1,p.RegistrationMainModel={},p.ViewEditInputType=5,p.selectedPatientId=null,p.UserTypes=l.s,p.userTypeId=localStorage.getItem("userTypeId"),p.patienttype=l.p,p.lstslotBookingMaster=[],p.bookingMainModel={},p.IsGuestBooking=!1,p.ActionList=l.a,p.lstIAccess=[],p.lstIAccessStr=[],p.IsGuestBooking=1==(null===(f=p.lsobjClinicMaster)||void 0===f?void 0:f.IsGuestBooking),p.getPageLevelAccess(),p}return e(r,[{key:"getPageLevelAccess",value:function(){var t,e,i=this,n=this.getUrlWithoutParams(),o=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==o?void 0:o.find(function(t){return t.MenuItemURL===n}))&&(this.lstIAccess=null===(t=o.find(function(t){return t.MenuItemURL===n}))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(function(t){i.lstIAccessStr.push(t.ActionId.toString())}))}},{key:"getUrlWithoutParams",value:function(){var t=this.router.parseUrl(this.router.url);return t.queryParams={},t.fragment=null,t.toString()}},{key:"ngOnInit",value:function(){this._ConstantServices.ActiveMenuName="New Booking",this.LoadClinicList(),this.cdRef.detectChanges()}},{key:"LoadClinicList",value:function(){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetClinicMaster().subscribe(function(e){if(t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);t.InputClinicList=i=i||[]}else t.InputClinicList=null;t.cdRef.detectChanges()},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"LoadPatientList",value:function(){var t,e=this;""!=(null===(t=this.searchtxt)||void 0===t?void 0:t.trim())&&null!=this.searchtxt&&null!=this.searchtxt?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.GetPaitentRegistrtionDetailsByFilter(this.searchtxt).subscribe(function(t){if(e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstUserMaster=i=i||[],e.searchtxt="",e.mode=null,e.cdRef.detectChanges()}else e.lstUserMaster=null,e.searchtxt="",e.mode=null})):this._UtilityService.showWarningAlert("Please enter MR No.")}},{key:"showPatientPrescriptionHistory",value:function(t){this.selectedPatientId=t,this.showModalPrescriptionHistory=!0}},{key:"hidePrescriptionHistory",value:function(){this.selectedPatientId=null,this.showModalPrescriptionHistory=!1}},{key:"VisitPrescriptionCount",value:function(t){this.totalVisitPrescriptionCount=t}},{key:"NewBooking",value:function(t,e){this.mode="booking",this.patientId=t,this.gender=e}},{key:"CloseModal",value:function(){this.mode=null}},{key:"NewRegistration",value:function(){this.showNewRegistration=!0}},{key:"ReceiveMRno",value:function(t){var e=this,i={};if(this.userTypeId!=this.UserTypes.SuperAdmin&&(i=this.InputClinicList.find(function(t){return t.ClinicId==localStorage.getItem("ClinicId")})),null==i||"OPD"!=i.ClinicType||1!=i.IsChikitsalaya||0!=i.IsOPDChargeable&&null!=i.IsOPDChargeable)this._UtilityService.showSuccessAlert("Patient (MRNo : "+t.split("~")[0]+") registered successfully."),this.searchtxt=t.split("~")[0],$("#clickSearch").click();else{var n={PayType:1};n.ClinicId=localStorage.getItem("ClinicId");var o=[{SlotBookingId:null,PackageMasterId:null,ReviewerDoctorId:null,PeriodFrom:new Date(this.datepipe.transform(new Date,"yyyy-MM-dd")),BookModifiedOn:new Date,BookingModifiedBy:null,ClinicId:localStorage.getItem("ClinicId"),BookingType:"OPD",BookingFor:"Chikitsalay Direct Booking on Registration",BookingStatus:9,CreatedBy:localStorage.getItem("userId"),CreatedOn:new Date,ModifiedBy:localStorage.getItem("userId"),ModifiedOn:new Date,SlotBookedOn:new Date,SlotBookedBy:localStorage.getItem("userId"),PatientId:t.split("~")[1],IsGrouped:!1,IsGrouphead:!1,GroupNumber:null}];n.SlotBooking=o,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.AddSlotBooking(n).subscribe(function(i){e._UtilityService.hideSpinner(),1==i.actionResult.success?(alert(i.actionResult.errMsg),e.router.navigateByUrl(e.userTypeId===l.s.Patient||e.userTypeId===l.s.Doctor?"/common-dashboard":"/patient/health-seekeer-registration?BookingNumber="+i.actionResult.stringVal2)):(e._UtilityService.showWarningAlert(i.actionResult.errMsg),e.searchtxt=t.split("~")[0],$("#clickSearch").click())})}this.showNewRegistration=!1}},{key:"showPatientRegistaration",value:function(t){this.selectedPatientId=t,this.LoadPaitentDetails()}},{key:"hidePatientRegistaration",value:function(){this.selectedPatientId=null,this.showModalPatientRegistaration=!1}},{key:"LoadPaitentDetails",value:function(){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.GetOnlineRegistrationDetailsById("",this.selectedPatientId).subscribe(function(e){var i,n,o;if(t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success){var r=JSON.parse(e.actionResult.result);t.RegistrationMainModel=r=r||[],null!=(null===(i=t.RegistrationMainModel)||void 0===i?void 0:i.DateOfBirth)&&null!=(null===(n=t.RegistrationMainModel)||void 0===n?void 0:n.DateOfBirth)&&(t.RegistrationMainModel.DateOfBirth=new Date(null===(o=t.RegistrationMainModel)||void 0===o?void 0:o.DateOfBirth)),t.showModalPatientRegistaration=!0,t.cdRef.detectChanges()}},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"OnUpdateRegDetails",value:function(t){"Update"==t&&(this.showModalPatientRegistaration=!1,this.searchtxt=this.RegistrationMainModel.MRNo,this.LoadPatientList())}},{key:"SaveSlotBooking",value:function(t){var e=this;this.confirmationService.confirm({header:"Confirmation",message:"Are you sure you want to booking as a guest?",icon:"pi pi-exclamation-triangle",accept:function(){e.bookingMainModel.ClinicId=e.bookingclinicId,e.lstslotBookingMaster=[],e.lstslotBookingMaster.push({SlotBookingId:null,PackageMasterId:null,ReviewerDoctorId:null,PeriodFrom:void 0,PeriodUpto:void 0,BookModifiedOn:new Date,BookingModifiedBy:null,ClinicId:e.bookingclinicId,BookingType:"IPD",BookingFor:"Guest Booking",BookingStatus:l.d.Approved,CreatedBy:e.loginUserId,CreatedOn:new Date,ModifiedBy:e.loginUserId,ModifiedOn:new Date,SlotBookedOn:new Date,SlotBookedBy:e.loginUserId,PatientId:t,IsGrouped:!1,IsGrouphead:!1,GroupNumber:null,PatientRelation:null,PatientType:l.p.Guest}),e.bookingMainModel.SlotBooking=e.lstslotBookingMaster,e._UtilityService.showSpinner(),e.unsubscribe.add=e._PatientServices.AddSlotBooking(e.bookingMainModel).subscribe(function(t){e._UtilityService.hideSpinner(),1==t.actionResult.success?(e._UtilityService.showSuccessAlert(t.actionResult.errMsg),e.router.navigateByUrl("/patient/health-seekeer-registration?BookingNumber="+t.actionResult.stringVal2)):e._UtilityService.showWarningAlert(t.actionResult.errMsg)},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}})}}]),r}(u.a),G.\u0275fac=function(t){return new(t||G)(b.Sb(b.h),b.Sb(s.i),b.Sb(d.a),b.Sb(p.a),b.Sb(l.f),b.Sb(f.a),b.Sb(g.a),b.Sb(c.f),b.Sb(h.a))},G.\u0275cmp=b.Mb({type:G,selectors:[["app-frontdesk-booking"]],features:[b.Cb],decls:14,vars:37,consts:[["class","row ml-0 mr-0 mt25",4,"ngIf"],["id","childRef","header","New Registration",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","visibleChange"],[4,"ngIf"],["class","mt10 mb10",4,"ngIf"],[3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","visibleChange"],["pTemplate","header"],["pTemplate","footer"],[1,"row","d-flex"],["class","ml-auto close",3,"click",4,"ngIf"],[1,"row","ml-0","mr-0","mt25"],[1,"col-md-12","mb-2"],[1,"row"],[1,"col-md-4","col-6","pl-0"],["type","text","name","searchtxt","placeholder","Search By MRNo/Name/Phone/Email/Id Proof",1,"form-control",3,"ngModel","ngModelChange"],["type","button","matTooltip","Search","id","clickSearch",1,"btn","btn-new-primary",3,"click"],[1,"col-md-2","col-3"],["type","button","matTooltip","New Registration","class","btn btn-new-primary",3,"click",4,"ngIf"],["type","button","matTooltip","New Registration",1,"btn","btn-new-primary",3,"click"],[3,"InputType","RegInputType","RegMRNo"],[1,"mt10","mb10"],[1,"card"],[1,"card-body"],[1,"row","mb-4"],[1,"col-md-12"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","body"],[1,"p-d-flex"],[1,"p-input-icon-left","p-ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","125px"],[2,"width","130px"],[2,"width","170px"],[2,"width","95px"],[2,"width","200px"],[2,"width","120px"],["title","New Booking",4,"ngIf"],["title","View/Edit","class","pi pi-user-edit  mr-2","style","font-size:1.5rem !important",3,"click",4,"ngIf"],["title","View History",1,"pi","pi-calendar-times","mr-2",2,"font-size","1.5rem !important",3,"click"],["title","Guest Booking","class","pi pi-home","style","font-size:1.5rem !important",3,"click",4,"ngIf"],["title","New Booking"],["src","./assets/custom-icons/book.svg",1,"custom-ico","mr-2",2,"width","18px !important","vertical-align","baseline",3,"click"],["title","View/Edit",1,"pi","pi-user-edit","mr-2",2,"font-size","1.5rem !important",3,"click"],["title","Guest Booking",1,"pi","pi-home",2,"font-size","1.5rem !important",3,"click"],[3,"PatientId","TotalVisitPrescriptionCount"],["type","button",1,"btn","btn-new-secondary",3,"click"],[1,"ml-auto","close",3,"click"],[1,"fas","fa-window-close"],[3,"bookingclinicId","gender","patientId","loginUserId","InputClinicList"],[3,"RegistrationMainModel","InputType","OnUpdateRegDetails"]],template:function(t,e){1&t&&(b.Sc(0,R,10,2,"div",0),b.Yb(1,"p-dialog",1),b.ic("visibleChange",function(t){return e.showNewRegistration=t}),b.Sc(2,M,2,2,"div",2),b.Xb(),b.Sc(3,O,12,5,"div",3),b.Yb(4,"p-dialog",4),b.ic("visibleChange",function(t){return e.showModalPrescriptionHistory=t}),b.Sc(5,D,2,1,"ng-template",5),b.Sc(6,_,2,1,"div",2),b.Sc(7,x,2,0,"ng-template",6),b.Xb(),b.Yb(8,"div",7),b.Sc(9,V,2,0,"a",8),b.Xb(),b.Sc(10,z,2,5,"div",2),b.Yb(11,"p-dialog",4),b.ic("visibleChange",function(t){return e.showModalPatientRegistaration=t}),b.Sc(12,H,2,0,"ng-template",5),b.Sc(13,E,2,2,"div",2),b.Xb()),2&t&&(b.tc("ngIf",null==e.mode),b.Fb(1),b.Pc(b.yc(34,W)),b.tc("visible",e.showNewRegistration)("modal",!0)("maximizable",!0)("closeOnEscape",!0)("closable",!0)("draggable",!1)("resizable",!0),b.Fb(1),b.tc("ngIf",e.showNewRegistration),b.Fb(1),b.tc("ngIf",null==e.mode),b.Fb(1),b.Pc(b.yc(35,W)),b.tc("visible",e.showModalPrescriptionHistory)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!1)("draggable",!1)("resizable",!1),b.Fb(2),b.tc("ngIf",e.showModalPrescriptionHistory),b.Fb(3),b.tc("ngIf","booking"==e.mode),b.Fb(1),b.tc("ngIf","booking"==e.mode),b.Fb(1),b.Pc(b.yc(36,W)),b.tc("visible",e.showModalPatientRegistaration)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!0)("draggable",!1)("resizable",!1),b.Fb(2),b.tc("ngIf",e.showModalPatientRegistaration))},directives:[c.p,m.a,d.i,v.b,v.o,v.r,y.a,I.c,S.a,w.a,k.a],styles:[""]}),G)}],q=((j=function t(){a(this,t)}).\u0275fac=function(t){return new(t||j)},j.\u0275mod=b.Qb({type:j}),j.\u0275inj=b.Pb({imports:[[s.l.forChild(J)],s.l]}),j),Q=r("jIHw"),K=r("eO1q"),tt=r("305l"),et=r("X/Io"),it=r("rmfV"),nt=((Z=function t(){a(this,t)}).\u0275fac=function(t){return new(t||Z)},Z.\u0275mod=b.Qb({type:Z}),Z.\u0275inj=b.Pb({imports:[[c.c,q,v.i,I.f,Q.c,S.b,K.b,tt.AuthModule,m.b,et.a,it.BookAppointmentModule]]}),Z)},x5zU:function(t,n,r){"use strict";r.d(n,"a",function(){return R});var c=r("fXoL"),s=r("CwUn"),l=r("Nach"),u=r("ReGW"),b=r("NLkC"),d=r("rEr+"),p=r("7zfz"),f=r("/RsI"),g=r("ofXK"),h=r("Xj43");function m(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2," No records found "),c.Xb(),c.Xb()),2&t){var i=e.$implicit;c.Fb(1),c.Gb("colspan",null==i?null:i.length)}}function v(t,e){1&t&&(c.Yb(0,"colgroup"),c.Tb(1,"col",12),c.Tb(2,"col",12),c.Tb(3,"col",12),c.Tb(4,"col",12),c.Tb(5,"col",13),c.Tb(6,"col",14),c.Tb(7,"col",15),c.Xb())}function y(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"th"),c.Uc(2,"Center"),c.Xb(),c.Yb(3,"th"),c.Uc(4,"Booking No"),c.Xb(),c.Yb(5,"th"),c.Uc(6,"Adm. Date"),c.Xb(),c.Yb(7,"th"),c.Uc(8,"Dis. Date"),c.Xb(),c.Yb(9,"th"),c.Uc(10,"Status"),c.Xb(),c.Yb(11,"th"),c.Uc(12,"Dr."),c.Xb(),c.Yb(13,"th"),c.Uc(14,"Actions"),c.Xb(),c.Xb())}function I(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",18),c.ic("click",function(){c.Lc(i);var t=c.mc().$implicit;return c.mc().DownloadLabReport(t.BookingNumber)}),c.Xb()}}function S(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Uc(2),c.Xb(),c.Yb(3,"td"),c.Uc(4),c.Xb(),c.Yb(5,"td"),c.Uc(6),c.nc(7,"date"),c.nc(8,"date"),c.Xb(),c.Yb(9,"td"),c.Uc(10),c.nc(11,"date"),c.nc(12,"date"),c.Xb(),c.Yb(13,"td"),c.Yb(14,"span"),c.Uc(15),c.Xb(),c.Xb(),c.Yb(16,"td"),c.Uc(17),c.Xb(),c.Yb(18,"td"),c.Yb(19,"i",16),c.ic("click",function(){c.Lc(i);var t=e.$implicit;return c.mc().PrintHistoryPrescription(t.SlotBookingId,t.BookingType)}),c.Xb(),c.Sc(20,I,1,0,"i",17),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit,o=c.mc();c.Fb(2),c.Vc(n.ClinicName),c.Fb(2),c.Vc(n.BookingNumber),c.Fb(2),c.Vc("0001"==c.pc(7,10,n.PeriodFrom,"yyyy")?"":c.pc(8,13,n.PeriodFrom,o.customDateFormat.DEF_DATE)),c.Fb(4),c.Vc("0001"==c.pc(11,16,n.PeriodUpto,"yyyy")?"":c.pc(12,19,n.PeriodUpto,o.customDateFormat.DEF_DATE)),c.Fb(4),c.Hb(n.BookingStatus),c.Fb(1),c.Vc(n.BookingStatus),c.Fb(2),c.Vc(n.DoctorName),c.Fb(3),c.tc("ngIf",o.lsobjClinicMaster.IsLIMS)}}function w(t,e){1&t&&(c.Yb(0,"h4"),c.Uc(1,"Patient Lab / Report Document"),c.Xb())}function k(t,e){if(1&t&&(c.Yb(0,"div"),c.Tb(1,"app-lab-report-queue",19),c.Xb()),2&t){var i=c.mc();c.Fb(1),c.tc("bookingNumber",i.bookingNumber)}}var P=function(){return{width:"70vw"}},R=function(){var t=function(t){i(r,t);var n=o(r);function r(t,e,i){var o;return a(this,r),(o=n.call(this)).cdRef=t,o._DoctorServices=e,o._UtilityService=i,o.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,o.PatientId=null,o.TotalVisitPrescriptionCount=new c.o,o.bookingStatus=l.d,o.customDateFormat=l.h,o.first=0,o.lstPatientHistory=[],o.TotalVisit=0,o.ShowLabReportModel=!1,o.bookingNumber=null,o}return e(r,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){this.LoadPatientAllPrescriptionHistory(0,5)}},{key:"LoadPatientAllPrescriptionHistory",value:function(t,e){var i=this,n={};n.patientId=this.PatientId,n.first=t.toString(),n.rows=e.toString(),this._UtilityService.showSpinner(),this.unsubscribe.add=this._DoctorServices.PatientAllPrescriptionHistory(n).subscribe(function(t){i._UtilityService.hideSpinner(),t.actionResult.result.length>0?(i.lstPatientHistory=JSON.parse(t.actionResult.result[0]),i.TotalVisit=JSON.parse(t.actionResult.result[1]),i.cdRef.detectChanges()):(i.TotalVisit=0,i.lstPatientHistory=[],i.cdRef.detectChanges()),i.TotalVisitPrescriptionCount.emit(i.TotalVisit)})}},{key:"loadPatientList",value:function(t){this.lstPatientHistory&&this.LoadPatientAllPrescriptionHistory(t.first,t.rows)}},{key:"PrintHistoryPrescription",value:function(t,e){"IPD"==e?window.open("#/print/ipd-print-prescription?UserId="+this.PatientId+"&SlotBookingId="+t+"&tag="+e):window.open("#/print/patient-print-prescription?UserId="+this.PatientId+"&SlotBookingId="+t+"&tag="+e)}},{key:"DownloadLabReport",value:function(t){this.bookingNumber=t,this.ShowLabReportModel=!0}}]),r}(s.a);return t.\u0275fac=function(e){return new(e||t)(c.Sb(c.h),c.Sb(u.a),c.Sb(b.a))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-patient-all-prescription-history"]],inputs:{PatientId:"PatientId"},outputs:{TotalVisitPrescriptionCount:"TotalVisitPrescriptionCount"},features:[c.Cb,c.Db],decls:13,vars:20,consts:[[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],["responsiveLayout","scroll","scrollHeight","calc(100vh - 360px)",1,"ColumnFilterTable",3,"value","lazy","rowHover","lazyLoadOnInit","scrollable","paginator","rows","totalRecords","first","onLazyLoad","firstChange"],["dtHistory",""],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["modal","true","appendTo","body","id","ShowLabReportModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","visibleChange"],[4,"ngIf"],[2,"width","100px"],[2,"width","110px"],[2,"width","80px"],[2,"width","65px"],["title","Print Prescription",1,"pi","pi-print","mt-4","mr-2",2,"font-size","18px",3,"click"],["title","View Report","class","fa fa-print",3,"click",4,"ngIf"],["title","View Report",1,"fa","fa-print",3,"click"],[3,"bookingNumber"]],template:function(t,e){1&t&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"div",2),c.Yb(3,"div",3),c.Yb(4,"p-table",4,5),c.ic("onLazyLoad",function(t){return e.loadPatientList(t)})("firstChange",function(t){return e.first=t}),c.Sc(6,m,3,1,"ng-template",6),c.Sc(7,v,8,0,"ng-template",7),c.Sc(8,y,15,0,"ng-template",8),c.Sc(9,S,21,22,"ng-template",9),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(10,"p-dialog",10),c.ic("visibleChange",function(t){return e.ShowLabReportModel=t}),c.Sc(11,w,2,0,"ng-template",8),c.Sc(12,k,2,1,"div",11),c.Xb()),2&t&&(c.Fb(4),c.tc("value",e.lstPatientHistory)("lazy",!0)("rowHover",!0)("lazyLoadOnInit",!1)("scrollable",!0)("paginator",!0)("rows",5)("totalRecords",e.TotalVisit)("first",e.first),c.Fb(6),c.Pc(c.yc(19,P)),c.tc("visible",e.ShowLabReportModel)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!0)("draggable",!1)("resizable",!0),c.Fb(2),c.tc("ngIf",e.ShowLabReportModel))},directives:[d.c,p.i,f.a,g.p,h.a],pipes:[g.f],styles:[""]}),t}()}}])}();