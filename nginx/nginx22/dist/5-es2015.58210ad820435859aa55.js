(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"9b74":function(t,e,i){"use strict";i.d(e,"a",function(){return y});var n=i("fXoL"),s=i("CwUn"),o=i("Nach"),c=i("tyNb"),l=i("G+wY"),a=i("NLkC"),r=i("rEr+"),b=i("7zfz"),d=i("ofXK"),u=i("7kUa");function h(t,e){if(1&t){const t=n.Zb();n.Yb(0,"div",13),n.Tb(1,"span",14),n.Yb(2,"span",15),n.Yb(3,"span",16),n.Tb(4,"i",17),n.Yb(5,"input",18),n.ic("input",function(e){return n.Lc(t),n.mc(),n.Ic(3).filterGlobal(e.target.value,"contains")}),n.Xb(),n.Xb(),n.Xb(),n.Xb()}}function m(t,e){if(1&t&&(n.Yb(0,"tr"),n.Yb(1,"td"),n.Uc(2," No records found "),n.Xb(),n.Xb()),2&t){const t=e.$implicit;n.Fb(1),n.Gb("colspan",null==t?null:t.length)}}function p(t,e){1&t&&(n.Yb(0,"tr"),n.Yb(1,"th"),n.Uc(2,"S.No"),n.Xb(),n.Yb(3,"th"),n.Uc(4,"Payment Mode"),n.Xb(),n.Yb(5,"th"),n.Uc(6,"Receive / Refund Date"),n.Xb(),n.Yb(7,"th"),n.Uc(8,"Transaction Date"),n.Xb(),n.Yb(9,"th"),n.Uc(10,"Transaction Id"),n.Xb(),n.Yb(11,"th"),n.Uc(12,"Card Holder Name"),n.Xb(),n.Yb(13,"th"),n.Uc(14,"Card Number"),n.Xb(),n.Yb(15,"th"),n.Uc(16,"Amount"),n.Xb(),n.Yb(17,"th"),n.Uc(18,"Remarks"),n.Xb(),n.Xb())}function T(t,e){if(1&t&&(n.Yb(0,"tr"),n.Yb(1,"td"),n.Uc(2),n.Xb(),n.Yb(3,"td"),n.Uc(4),n.nc(5,"titlecase"),n.Xb(),n.Yb(6,"td"),n.Uc(7),n.nc(8,"date"),n.Xb(),n.Yb(9,"td"),n.Uc(10),n.nc(11,"date"),n.Xb(),n.Yb(12,"td"),n.Uc(13),n.Xb(),n.Yb(14,"td"),n.Uc(15),n.Xb(),n.Yb(16,"td"),n.Uc(17),n.Xb(),n.Yb(18,"td"),n.Uc(19),n.Xb(),n.Yb(20,"td"),n.Uc(21),n.Xb(),n.Xb()),2&t){const t=e.$implicit,i=e.rowIndex,s=n.mc();n.Fb(2),n.Vc(i+1),n.Fb(2),n.Vc(n.oc(5,9,t.TrnMode)),n.Fb(3),n.Vc(n.pc(8,11,t.ReceivedDate,s.customDateFormat.DEF_DATE)),n.Fb(3),n.Vc(n.pc(11,14,t.CreatedOn,s.customDateFormat.DEF_DATE)),n.Fb(3),n.Vc(t.TransactionId),n.Fb(2),n.Vc(t.CardHolderName),n.Fb(2),n.Vc(t.CardNo),n.Fb(2),n.Vc(t.Amount),n.Fb(2),n.Vc(t.Remarks)}}function S(t,e){if(1&t&&(n.Yb(0,"tr"),n.Yb(1,"td"),n.Uc(2," No records found "),n.Xb(),n.Xb()),2&t){const t=e.$implicit;n.Fb(1),n.Gb("colspan",t.length)}}function f(t,e){1&t&&(n.Yb(0,"tr"),n.Yb(1,"th"),n.Uc(2,"Bank Name"),n.Xb(),n.Yb(3,"th"),n.Uc(4,"Transaction Id"),n.Xb(),n.Yb(5,"th"),n.Uc(6,"Account Number"),n.Xb(),n.Yb(7,"th"),n.Uc(8,"Account Holder Name"),n.Xb(),n.Yb(9,"th"),n.Uc(10,"IFSC Code"),n.Xb(),n.Xb())}function I(t,e){if(1&t&&(n.Yb(0,"tr"),n.Yb(1,"td"),n.Uc(2),n.Xb(),n.Yb(3,"td"),n.Uc(4),n.Xb(),n.Yb(5,"td"),n.Uc(6),n.Xb(),n.Yb(7,"td"),n.Uc(8),n.Xb(),n.Yb(9,"td"),n.Uc(10),n.Xb(),n.Xb()),2&t){const t=e.$implicit;n.Fb(2),n.Vc(t.BankName),n.Fb(2),n.Vc(t.TransactionId),n.Fb(2),n.Vc(t.AccNumber),n.Fb(2),n.Vc(t.AccHolderName),n.Fb(2),n.Vc(t.IFSCCode)}}function g(t,e){if(1&t&&(n.Yb(0,"div",0),n.Yb(1,"div",1),n.Yb(2,"p-table",19,20),n.Sc(4,S,3,1,"ng-template",5),n.Sc(5,f,11,0,"ng-template",6),n.Sc(6,I,11,5,"ng-template",7),n.Xb(),n.Xb(),n.Xb()),2&t){const t=n.mc();n.Fb(2),n.tc("value",t.lstTransaction)("rowHover",!0)("scrollable",!0)}}function v(t,e){if(1&t&&(n.Yb(0,"div",23),n.Yb(1,"div",1),n.Yb(2,"p",24),n.Uc(3),n.Xb(),n.Xb(),n.Xb()),2&t){const t=e.$implicit,i=e.index;n.Fb(3),n.Zc("",i+1,") ",t.patientName," (MR No. - ",t.mrNo,") (Booking Number. - ",t.bookingNumber,")")}}function X(t,e){if(1&t&&(n.Yb(0,"div",21),n.Yb(1,"div",1),n.Sc(2,v,4,4,"div",22),n.Xb(),n.Xb()),2&t){const t=n.mc();n.Fb(2),n.tc("ngForOf",t.lstGroupInfo)}}function D(t,e){if(1&t){const t=n.Zb();n.Yb(0,"a",25),n.ic("click",function(){return n.Lc(t),n.mc().DownloadDepositSlip()}),n.Uc(1,"Download Transaction Slip"),n.Xb()}}const Y=function(){return["TrnMode","CardHolderName","CardNo","Amount"]};let y=(()=>{class t extends s.a{constructor(t,e,i,s){super(),this.router=t,this._ConstantsService=e,this._PatientServices=i,this._UtilityService=s,this.IsVisitor=!1,this.slotBookingId=null,this.SelectedVCHRNO=null,this.SelectedPhiscalID=null,this.SelectedDivision=null,this.GetShowTransactionDetailsModel=new n.o,this.customDateFormat=o.h,this.userTypes=o.s,this.lstTransaction=[],this.lstGroupInfo=[],this.IsRefundVoucher=!1,this.DepositSlipLink=null,this.ActionList=o.a,this.lstIAccess=[],this.lstIAccessStr=[],this.getPageLevelAccess()}getPageLevelAccess(){var t,e,i=this.getUrlWithoutParams();"/common-dashboard"==i&&o.s.CallCenter===localStorage.getItem("userTypeId")?i="/patient/health-seekeer-registration":"/common-dashboard"==i&&o.s.Finance===localStorage.getItem("userTypeId")?i="/report/patient-billing-report":"/common-dashboard"==i&&o.s.Billing===localStorage.getItem("userTypeId")&&(i="/payment/extra-item-entry");var n=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==n?void 0:n.find(t=>t.MenuItemURL===i))&&(this.lstIAccess=null===(t=n.find(t=>t.MenuItemURL===i))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(t=>{this.lstIAccessStr.push(t.ActionId.toString())}))}getUrlWithoutParams(){let t=this.router.parseUrl(this.router.url);return t.queryParams={},t.fragment=null,t.toString()}ngOnInit(){}ngOnChanges(t){this.ShowTransactionDetails()}ShowTransactionDetails(){if(this.IsRefundVoucher=!1,this.lstTransaction=[],this.DepositSlipLink=null,null!=this.slotBookingId&&null!=this.slotBookingId&&""!=this.slotBookingId&&null!=this.SelectedVCHRNO&&null!=this.SelectedVCHRNO&&""!=this.SelectedVCHRNO&&null!=this.SelectedPhiscalID&&null!=this.SelectedPhiscalID&&""!=this.SelectedPhiscalID&&null!=this.SelectedDivision&&null!=this.SelectedDivision&&""!=this.SelectedDivision){this._UtilityService.showSpinner();var t=this._PatientServices.GetTransactionDetailsByVCHRNumber(this.slotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision);this.IsVisitor&&(t=this._PatientServices.GetVisitorTransactionDetailsByVCHRNumber(this.slotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision)),this.unsubscribe.add=t.subscribe({next:t=>{var e;if(this._UtilityService.hideSpinner(),1==t.actionResult.success&&null!=t.actionResult.result){var i=JSON.parse(t.actionResult.result);if(this.lstTransaction=i=i||[],(null===(e=this.lstTransaction)||void 0===e?void 0:e.length)>0&&this.lstTransaction[0].VoucherNumber.toString().includes("JV")&&null!=this.lstTransaction[0].IFSCCode&&null!=this.lstTransaction[0].IFSCCode&&""!=this.lstTransaction[0].IFSCCode&&(this.IsRefundVoucher=!0),null!=t.actionResult.result4[0]){var n=t.actionResult.result4[0];this.lstGroupInfo=n=n||[]}null!=t.actionResult.stringVal&&(this.DepositSlipLink=this._ConstantsService.BaseURIFileServer+"FolderTransaction/"+t.actionResult.stringVal),this.GetShowTransactionDetailsModel.emit(!0)}},error:t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}})}else this._UtilityService.showWarningAlert("No record found")}DownloadDepositSlip(){window.open(this.DepositSlipLink)}}return t.\u0275fac=function(e){return new(e||t)(n.Sb(c.i),n.Sb(o.f),n.Sb(l.a),n.Sb(a.a))},t.\u0275cmp=n.Mb({type:t,selectors:[["app-individual-transaction-list"]],inputs:{IsVisitor:"IsVisitor",slotBookingId:"slotBookingId",SelectedVCHRNO:"SelectedVCHRNO",SelectedPhiscalID:"SelectedPhiscalID",SelectedDivision:"SelectedDivision"},outputs:{GetShowTransactionDetailsModel:"GetShowTransactionDetailsModel"},features:[n.Cb,n.Db],decls:14,vars:8,consts:[[1,"row","mb-4"],[1,"col-md-12"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["class","row mb-4",4,"ngIf"],["class","row m-0 mb-4",4,"ngIf"],[1,"col-md-9","text-left"],[3,"click",4,"ngIf"],[1,"col-md-3"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","scrollable"],["dt2",""],[1,"row","m-0","mb-4"],["class","row mb-2",4,"ngFor","ngForOf"],[1,"row","mb-2"],[2,"margin","6px 0 2px","font-size","10"],[3,"click"]],template:function(t,e){1&t&&(n.Yb(0,"div",0),n.Yb(1,"div",1),n.Yb(2,"p-table",2,3),n.Sc(4,h,6,0,"ng-template",4),n.Sc(5,m,3,1,"ng-template",5),n.Sc(6,p,19,0,"ng-template",6),n.Sc(7,T,22,17,"ng-template",7),n.Xb(),n.Xb(),n.Xb(),n.Sc(8,g,7,3,"div",8),n.Sc(9,X,3,1,"div",9),n.Yb(10,"div",0),n.Yb(11,"div",10),n.Sc(12,D,2,0,"a",11),n.Xb(),n.Tb(13,"div",12),n.Xb()),2&t&&(n.Fb(2),n.tc("value",e.lstTransaction)("rowHover",!0)("globalFilterFields",n.yc(7,Y))("scrollable",!0),n.Fb(6),n.tc("ngIf",e.IsRefundVoucher),n.Fb(1),n.tc("ngIf",e.lstGroupInfo.length>0),n.Fb(3),n.tc("ngIf",(null==e.lstIAccessStr?null:e.lstIAccessStr.includes(e.ActionList.Download.toString()))&&null!=e.DepositSlipLink))},directives:[r.c,b.i,d.p,u.a,d.o],pipes:[d.y,d.f],styles:[""]}),t})()},ELi9:function(t,e,i){"use strict";i.d(e,"a",function(){return h});var n=i("ofXK"),s=i("tyNb"),o=i("KkSF"),c=i("fXoL");const l=[{path:"",component:o.a}];let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[s.l.forChild(l)],s.l]}),t})();var r=i("3Pt+"),b=i("QoE7"),d=i("9XlL"),u=i("ycwT");let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[n.c,a,r.i,b.a,d.a,u.a]]}),t})()},KkSF:function(t,e,i){"use strict";i.d(e,"a",function(){return W});var n=i("CwUn"),s=i("Nach"),o=i("fXoL"),c=i("G+wY"),l=i("NLkC"),a=i("Q8Cd"),r=i("sCq/"),b=i("ofXK"),d=i("Yh3i");function u(t,e){if(1&t&&(o.Yb(0,"tr",7),o.Yb(1,"td",8),o.Yb(2,"b"),o.Uc(3,"Payment Mode: "),o.Xb(),o.Yb(4,"span"),o.Uc(5),o.Xb(),o.Xb(),o.Yb(6,"td",9),o.Yb(7,"b"),o.Uc(8),o.Xb(),o.Yb(9,"span"),o.Uc(10),o.nc(11,"number"),o.Xb(),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(5),o.Vc(t.VoucherInfo.PayMode),o.Fb(3),o.Wc("","RefundPayment"==t.InvType?"Refunded":"CreditNote"==t.InvType?"Credit Note":"Received"," Amount: "),o.Fb(2),o.Vc(o.pc(11,3,t.VoucherInfo.NetProfit,"1.1-2"))}}function h(t,e){if(1&t&&(o.Yb(0,"p"),o.Yb(1,"b"),o.Uc(2,"Reference Tax Invoice Number: "),o.Xb(),o.Yb(3,"span"),o.Uc(4),o.Xb(),o.Xb()),2&t){const t=o.mc(2);o.Fb(4),o.Vc(t.VoucherInfo.RefTaxInvNumber)}}function m(t,e){if(1&t&&(o.Yb(0,"p"),o.Yb(1,"b"),o.Uc(2," Reference Tax Invoice Date: "),o.Xb(),o.Yb(3,"span"),o.Uc(4),o.nc(5,"date"),o.Xb(),o.Xb()),2&t){const t=o.mc(2);o.Fb(4),o.Vc(o.pc(5,1,t.VoucherInfo.RefTaxInvoiceDate,t.customDateFormat.DEF_DATE))}}function p(t,e){if(1&t&&(o.Yb(0,"tr",7),o.Yb(1,"td",8),o.Sc(2,h,5,1,"p",20),o.Xb(),o.Yb(3,"td",9),o.Sc(4,m,6,4,"p",20),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(2),o.tc("ngIf",null!=(null==t.VoucherInfo?null:t.VoucherInfo.RefTaxInvNumber)&&null!=(null==t.VoucherInfo?null:t.VoucherInfo.RefTaxInvNumber)),o.Fb(2),o.tc("ngIf",null!=(null==t.VoucherInfo?null:t.VoucherInfo.RefTaxInvoiceDate)&&null!=(null==t.VoucherInfo?null:t.VoucherInfo.RefTaxInvoiceDate))}}function T(t,e){if(1&t&&(o.Yb(0,"p"),o.Yb(1,"b"),o.Uc(2),o.Xb(),o.Yb(3,"span"),o.Uc(4),o.Xb(),o.Xb()),2&t){const t=o.mc(2);o.Fb(2),o.Wc("","RefundPayment"==t.InvType?"Refund":"CreditNote"==t.InvType?"Credit":"Receive"," Application Number: "),o.Fb(2),o.Vc(t.VoucherInfo.CRDocumentNumber)}}function S(t,e){if(1&t&&(o.Yb(0,"p"),o.Yb(1,"b"),o.Uc(2),o.Xb(),o.Yb(3,"span"),o.Uc(4),o.Xb(),o.Xb()),2&t){const t=o.mc(2);o.Fb(2),o.Wc("","RefundPayment"==t.InvType?"Refund":"CreditNote"==t.InvType?"Credit":"Receive"," UTR Number: "),o.Fb(2),o.Vc(t.VoucherInfo.CRUTRNumber)}}function f(t,e){if(1&t&&(o.Yb(0,"tr",7),o.Yb(1,"td",8),o.Sc(2,T,5,2,"p",20),o.Xb(),o.Yb(3,"td",9),o.Sc(4,S,5,2,"p",20),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(2),o.tc("ngIf",null!=(null==t.VoucherInfo?null:t.VoucherInfo.CRDocumentNumber)&&null!=(null==t.VoucherInfo?null:t.VoucherInfo.CRDocumentNumber)),o.Fb(2),o.tc("ngIf",null!=(null==t.VoucherInfo?null:t.VoucherInfo.CRUTRNumber)&&null!=(null==t.VoucherInfo?null:t.VoucherInfo.CRUTRNumber))}}function I(t,e){if(1&t&&(o.Yb(0,"p"),o.Yb(1,"b"),o.Uc(2,"Purpose: "),o.Xb(),o.Yb(3,"span"),o.Uc(4),o.Xb(),o.Xb()),2&t){const t=o.mc(2);o.Fb(4),o.Vc(t.VoucherInfo.CreditReason)}}function g(t,e){if(1&t&&(o.Yb(0,"tr",7),o.Yb(1,"td",8),o.Sc(2,I,5,1,"p",20),o.Xb(),o.Tb(3,"td",9),o.Xb()),2&t){const t=o.mc();o.Fb(2),o.tc("ngIf",null!=(null==t.VoucherInfo?null:t.VoucherInfo.CreditReason)&&null!=(null==t.VoucherInfo?null:t.VoucherInfo.CreditReason))}}function v(t,e){if(1&t&&(o.Yb(0,"td",34),o.Uc(1),o.nc(2,"number"),o.Xb()),2&t){const t=o.mc().$implicit;o.Fb(1),o.Wc(" ",o.pc(2,1,t.MRP,"1.1-2"),"")}}function X(t,e){1&t&&o.Tb(0,"td",34)}function D(t,e){if(1&t&&(o.Yb(0,"td",34),o.Uc(1),o.Xb()),2&t){const t=o.mc().$implicit;o.Fb(1),o.Wc(" ",t.Qty,"")}}function Y(t,e){1&t&&o.Tb(0,"td",34)}function y(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",30),o.Uc(2),o.Xb(),o.Yb(3,"td",31),o.Uc(4),o.Xb(),o.Sc(5,v,3,4,"td",32),o.Sc(6,X,1,0,"td",32),o.Sc(7,D,2,1,"td",32),o.Sc(8,Y,1,0,"td",32),o.Yb(9,"td",33),o.Uc(10),o.nc(11,"number"),o.Xb(),o.Xb()),2&t){const t=e.$implicit,i=o.mc(2);o.Fb(2),o.Wc(" ",t.RoomCount>0&&1==i.IsRoomDesc?"Treatment ("+t.Description+")":t.Description,""),o.Fb(2),o.Wc(" ",t.HSNCODE,""),o.Fb(1),o.tc("ngIf","CreditNote"!=i.InvType),o.Fb(1),o.tc("ngIf","CreditNote"==i.InvType),o.Fb(1),o.tc("ngIf","CreditNote"!=i.InvType),o.Fb(1),o.tc("ngIf","CreditNote"==i.InvType),o.Fb(2),o.Wc(" ",o.pc(11,7,t.PriceWithGST,"1.1-2"),"")}}function C(t,e){if(1&t&&(o.Yb(0,"b"),o.Uc(1),o.nc(2,"number"),o.Xb()),2&t){const t=o.mc(3);o.Fb(1),o.Wc("(",o.pc(2,1,t.BillWiseDiscountPer,"1.1-2"),"%)")}}function N(t,e){if(1&t&&(o.Yb(0,"td",25),o.Yb(1,"b"),o.Uc(2,"Total Discount"),o.Xb(),o.Sc(3,C,3,4,"b",20),o.Yb(4,"b"),o.Uc(5,":"),o.Xb(),o.Uc(6),o.nc(7,"number"),o.Xb()),2&t){const t=o.mc(2);o.Fb(3),o.tc("ngIf",t.BillWiseDiscountPer>0),o.Fb(3),o.Wc(" \u20b9 ",o.pc(7,2,t.TotalDiscAmount,"1.1-2"),"")}}function R(t,e){1&t&&o.Tb(0,"td",25)}function U(t,e){if(1&t&&(o.Yb(0,"td",25),o.Yb(1,"b"),o.Uc(2,"Net Payable: "),o.Xb(),o.Uc(3),o.nc(4,"number"),o.Xb()),2&t){const t=o.mc(2);o.Fb(3),o.Wc(" \u20b9 ",o.pc(4,1,t.TotalNetAmount,"1.1-2"),"")}}function A(t,e){1&t&&o.Tb(0,"td",25)}function F(t,e){if(1&t&&(o.Yb(0,"td",35),o.Yb(1,"b"),o.Uc(2),o.Xb(),o.Uc(3),o.nc(4,"number"),o.Xb()),2&t){const t=o.mc(2);o.Fb(2),o.Wc("","RefundPayment"==t.InvType?"Refunded":"Received"," Amount: "),o.Fb(1),o.Wc(" \u20b9 ",o.pc(4,2,t.VoucherInfo.NetProfit,"1.1-2"),"")}}function P(t,e){1&t&&o.Tb(0,"td",35)}function k(t,e){if(1&t&&(o.Yb(0,"td",35),o.Yb(1,"b"),o.Uc(2,"Wallet Used Amount: "),o.Xb(),o.Uc(3),o.nc(4,"number"),o.Xb()),2&t){const t=o.mc(2);o.Fb(3),o.Wc(" \u20b9 ",o.pc(4,1,t.VoucherInfo.CreditTranAmount,"1.1-2"),"")}}function M(t,e){1&t&&o.Tb(0,"td",35)}function x(t,e){if(1&t&&(o.Yb(0,"table",12),o.Yb(1,"thead",13),o.Yb(2,"tr",14),o.Yb(3,"th",15),o.Uc(4,"Item"),o.Xb(),o.Yb(5,"th",16),o.Uc(6,"HSN/SAC"),o.Xb(),o.Yb(7,"th",16),o.Uc(8,"Price"),o.Xb(),o.Yb(9,"th",16),o.Uc(10,"Qty"),o.Xb(),o.Yb(11,"th",23),o.Uc(12,"Total"),o.Xb(),o.Xb(),o.Xb(),o.Yb(13,"tbody",13),o.Sc(14,y,12,10,"tr",18),o.Yb(15,"tr"),o.Yb(16,"td",24),o.Yb(17,"b"),o.Uc(18),o.nc(19,"amountToWord"),o.Xb(),o.Xb(),o.Yb(20,"td",25),o.Yb(21,"b"),o.Uc(22,"Grand Total: "),o.Xb(),o.Uc(23),o.nc(24,"number"),o.Xb(),o.Xb(),o.Yb(25,"tr"),o.Sc(26,N,8,5,"td",26),o.Sc(27,R,1,0,"td",26),o.Xb(),o.Yb(28,"tr"),o.Sc(29,U,5,4,"td",26),o.Sc(30,A,1,0,"td",26),o.Xb(),o.Yb(31,"tr"),o.Yb(32,"td",27),o.Yb(33,"b"),o.Uc(34,"Payment Mode: "),o.Xb(),o.Uc(35),o.Xb(),o.Sc(36,F,5,5,"td",28),o.Sc(37,P,1,0,"td",28),o.Xb(),o.Yb(38,"tr"),o.Tb(39,"td",27),o.Sc(40,k,5,4,"td",28),o.Sc(41,M,1,0,"td",28),o.Xb(),o.Yb(42,"tr"),o.Yb(43,"td",29),o.Tb(44,"hr"),o.Xb(),o.Xb(),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(14),o.tc("ngForOf",t.printBillItem),o.Fb(4),o.Wc("Amount in words: Rupees ",o.oc(19,12,t.VoucherInfo.NetProfit)," Only"),o.Fb(5),o.Wc(" \u20b9 ",o.pc(24,14,t.TotalGrandTotalAmount,"1.1-2"),""),o.Fb(3),o.tc("ngIf","CreditNote"!=t.InvType),o.Fb(1),o.tc("ngIf","CreditNote"==t.InvType),o.Fb(2),o.tc("ngIf","CreditNote"!=t.InvType),o.Fb(1),o.tc("ngIf","CreditNote"==t.InvType),o.Fb(5),o.Vc(t.VoucherInfo.PayMode),o.Fb(1),o.tc("ngIf","CreditNote"!=t.InvType),o.Fb(1),o.tc("ngIf","CreditNote"==t.InvType),o.Fb(3),o.tc("ngIf","CreditNote"!=t.InvType&&t.VoucherInfo.CreditTranAmount>0),o.Fb(1),o.tc("ngIf","CreditNote"==t.InvType||0===t.VoucherInfo.CreditTranAmount)}}function B(t,e){1&t&&(o.Yb(0,"th",16),o.Uc(1,"Cheque Date"),o.Xb())}function w(t,e){if(1&t&&(o.Yb(0,"td",34),o.Uc(1),o.nc(2,"date"),o.Xb()),2&t){const t=o.mc().$implicit,e=o.mc();o.Fb(1),o.Wc(" ",o.pc(2,1,t.IssueDate,e.customDateFormat.DEF_DATE),"")}}function O(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",30),o.Uc(2),o.Xb(),o.Yb(3,"td",34),o.Uc(4),o.nc(5,"date"),o.Xb(),o.Sc(6,w,3,4,"td",32),o.Yb(7,"td",34),o.Uc(8),o.Xb(),o.Yb(9,"td",34),o.Uc(10),o.nc(11,"number"),o.Xb(),o.Xb()),2&t){const t=e.$implicit,i=o.mc();o.Fb(2),o.Wc(" ",t.TransactionId,""),o.Fb(2),o.Wc(" ",o.pc(5,5,t.ReceivedDate,i.customDateFormat.DEF_DATE),""),o.Fb(2),o.tc("ngIf",i.IsPayModeChequeExist),o.Fb(2),o.Wc(" ",t.TrnMode,""),o.Fb(2),o.Wc(" \u20b9",o.pc(11,8,t.Amount,"1.1-2"),"")}}function V(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",36),o.Yb(2,"b"),o.Uc(3,"Authorized By"),o.Xb(),o.Xb(),o.Yb(4,"td",37),o.Uc(5),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(5),o.Wc(" ",null==t.printBillItem[0]?null:t.printBillItem[0].ReferredBy,"")}}function L(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",36),o.Yb(2,"b"),o.Uc(3,"Approved By"),o.Xb(),o.Xb(),o.Yb(4,"td",37),o.Uc(5),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(5),o.Wc(" ",null==t.printTransactionDetails[0]?null:t.printTransactionDetails[0].ApprovedBy,"")}}function _(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",36),o.Yb(2,"b"),o.Uc(3,"Remarks"),o.Xb(),o.Xb(),o.Yb(4,"td",37),o.Uc(5),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(5),o.Wc(" ",null==t.printTransactionDetails[0]?null:t.printTransactionDetails[0].Remarks,"")}}let W=(()=>{class t extends n.a{constructor(t,e,i){super(),this._PatientServices=t,this._ConstantsService=e,this._UtilityService=i,this.IsVisitor=!1,this.Status=1,this.customDateFormat=s.h,this.VoucherInfo={},this.printBillItem=[],this.TotalGrandTotalAmount=0,this.TotalDiscAmount=0,this.TotalNetAmount=0,this.BillWiseDiscountPer=0,this.IsRoomDesc=!0,this.printTransactionDetails=[],this.IsPayModeChequeExist=!1,this.IsLetterhead="false",this.heading=null,this.invStatus=s.l}ngOnInit(){}ngOnChanges(t){this.LoadPaymentVoucherDetails(),this.heading="SalesReturn"==this.InvType?"Sales Return":"RefundPayment"==this.InvType?this.Status==this.invStatus.RefundforCancellationCharge?"Booking Cancellation Voucher":"Payment Refund Voucher":"CreditNote"==this.InvType?"Credit Note":"Payment Receive Voucher"}LoadPaymentVoucherDetails(){this.TotalGrandTotalAmount=0,this.TotalDiscAmount=0,this.TotalNetAmount=0,this.BillWiseDiscountPer=0,this.printBillItem=[],this.VoucherInfo={},this.IsPayModeChequeExist=!1,this.printTransactionDetails=[],this._UtilityService.showSpinner();var t=this._PatientServices.LoadPaymentVoucherDetails(this.SelectedSlotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision);this.IsVisitor&&(t=this._PatientServices.LoadVisitorPaymentVoucherDetails(this.SelectedSlotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision)),this.unsubscribe.add=t.subscribe(t=>{var e,i,n,s;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){if((null===(e=t.actionResult.result)||void 0===e?void 0:e.length)>0){var o=JSON.parse(t.actionResult.result);this.printBillItem=o=o||[],(null===(i=this.printBillItem.filter(t=>"Treatment/Medicated food charges"==t.Description||"Treatment Charges"==t.DESCRIPTION))||void 0===i?void 0:i.length)>0&&(this.IsRoomDesc=!1),this.printBillItem.map(t=>{this.TotalGrandTotalAmount=this.TotalGrandTotalAmount+this._ConstantsService.nullToZeroConverter(t.PriceWithGST),this.TotalDiscAmount=this.TotalDiscAmount+this._ConstantsService.nullToZeroConverter(t.DiscountAmount)}),this.TotalNetAmount=this.TotalGrandTotalAmount-this.TotalDiscAmount,this.BillWiseDiscountPer=this.TotalDiscAmount/this.TotalGrandTotalAmount*100}if((null===(n=t.actionResult.result2)||void 0===n?void 0:n.length)>0){var c=JSON.parse(t.actionResult.result2);this.VoucherInfo=c=c||[]}if((null===(s=t.actionResult.result3)||void 0===s?void 0:s.length)>0){var l=JSON.parse(t.actionResult.result3);this.printTransactionDetails=l=l||[],this.IsPayModeChequeExist=this.printTransactionDetails.some(t=>"Cheque"==t.TrnMode),console.log(this.printTransactionDetails)}}},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}onselectedLetterhead(t){this.IsLetterhead=t}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(c.a),o.Sb(s.f),o.Sb(l.a))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-print-payment-voucher"]],inputs:{IsVisitor:"IsVisitor",SelectedSlotBookingId:"SelectedSlotBookingId",SelectedVCHRNO:"SelectedVCHRNO",SelectedPhiscalID:"SelectedPhiscalID",SelectedDivision:"SelectedDivision",InvType:"InvType",Status:"Status"},features:[o.Cb,o.Db],decls:54,vars:26,consts:[[3,"IsLetterhead","IsNgxPrint","onselectedLetterhead"],["id","print-section",1,"row"],[1,"col-md-12"],[3,"IsPeriod","IsVisitor","slotBookingId","heading","IsGST","IsLetterhead"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","font-size","15px"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box"],["colspan","3"],[2,"background-color","#d3d3d3"],[2,"padding","5px"],[2,"text-align","right","padding","5px"],["style","background-color: #d3d3d3;",4,"ngIf"],["style","width: 100%; margin: 0 auto; box-sizing: border-box; border: 1px solid #d3d3d3; margin-top: 10px;","cellpadding","0","cellspacing","3",4,"ngIf"],["cellpadding","0","cellspacing","3",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","10px"],["align","Center"],[2,"background","#d3d3d3"],["align","left",2,"padding","6px","text-align","left"],["align","Center",2,"padding","6px"],["style","padding: 6px;","align","Center",4,"ngIf"],[4,"ngFor","ngForOf"],["align","left"],[4,"ngIf"],["align","right",2,"padding","20px 4px","border-top","1px solid #f1f1f1"],[1,"mt-3"],[2,"padding","6px","text-align","right"],["colspan","4","rowspan","3",2,"text-align","left","word-wrap","break-word","width","70%","padding-left","5px"],["colspan","1","align","right",2,"padding","2px"],["colspan","1","align","right","style","padding: 2px;",4,"ngIf"],["colspan","2","align","left",2,"padding","2px 5px"],["colspan","3","align","right","style","padding: 2px;",4,"ngIf"],["colspan","5"],["align","center",2,"text-align","left","padding","6px 5px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","center",2,"text-align","center","padding","6px 5px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","center","style","text-align: center;padding: 6px  0px; border-left: 1px solid #d3d3d3; border-bottom: 1px solid #d3d3d3;",4,"ngIf"],["align","right",2,"text-align","right","padding","6px 0px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","center",2,"text-align","center","padding","6px  0px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["colspan","3","align","right",2,"padding","2px"],[2,"width","200px","padding","6px","text-align","left","border","1px solid #d3d3d3"],[2,"padding","6px","text-align","left","border","1px solid #d3d3d3"]],template:function(t,e){1&t&&(o.Yb(0,"app-print-access-header",0),o.ic("onselectedLetterhead",function(t){return e.onselectedLetterhead(t)}),o.Xb(),o.Yb(1,"div",1),o.Yb(2,"div",2),o.Tb(3,"app-print-header",3),o.Yb(4,"table",4),o.Yb(5,"tbody"),o.Yb(6,"tr"),o.Yb(7,"table",5),o.Yb(8,"tbody"),o.Yb(9,"tr"),o.Yb(10,"td",6),o.Tb(11,"hr"),o.Xb(),o.Xb(),o.Yb(12,"tr",7),o.Yb(13,"td",8),o.Yb(14,"b"),o.Uc(15),o.Xb(),o.Yb(16,"span"),o.Uc(17),o.Xb(),o.Xb(),o.Yb(18,"td",9),o.Yb(19,"b"),o.Uc(20,"Generation Date: "),o.Xb(),o.Yb(21,"span"),o.Uc(22),o.nc(23,"date"),o.Xb(),o.Xb(),o.Xb(),o.Sc(24,u,12,6,"tr",10),o.Sc(25,p,5,2,"tr",10),o.Sc(26,f,5,2,"tr",10),o.Sc(27,g,4,1,"tr",10),o.Xb(),o.Xb(),o.Sc(28,x,45,17,"table",11),o.Yb(29,"table",12),o.Yb(30,"thead",13),o.Yb(31,"tr",14),o.Yb(32,"th",15),o.Uc(33,"Transaction Id"),o.Xb(),o.Yb(34,"th",16),o.Uc(35,"Received Date"),o.Xb(),o.Sc(36,B,2,0,"th",17),o.Yb(37,"th",16),o.Uc(38,"Payment Mode"),o.Xb(),o.Yb(39,"th",16),o.Uc(40,"Amount"),o.Xb(),o.Xb(),o.Xb(),o.Yb(41,"tbody",13),o.Sc(42,O,12,11,"tr",18),o.Xb(),o.Xb(),o.Yb(43,"table",12),o.Yb(44,"tbody",19),o.Sc(45,V,6,1,"tr",20),o.Sc(46,L,6,1,"tr",20),o.Sc(47,_,6,1,"tr",20),o.Xb(),o.Xb(),o.Yb(48,"table",12),o.Yb(49,"tr"),o.Yb(50,"td",21),o.Uc(51,"Authorized Signature"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Yb(52,"div",22),o.Yb(53,"app-print-access-header",0),o.ic("onselectedLetterhead",function(t){return e.onselectedLetterhead(t)}),o.Xb(),o.Xb()),2&t&&(o.tc("IsLetterhead",e.IsLetterhead)("IsNgxPrint",!0),o.Fb(3),o.tc("IsPeriod",!1)("IsVisitor",e.IsVisitor)("slotBookingId",e.SelectedSlotBookingId)("heading",e.heading)("IsGST",!0)("IsLetterhead",e.IsLetterhead),o.Fb(12),o.Wc("","CreditNote"==e.InvType?"Credit Note Number":"Voucher Number",": "),o.Fb(2),o.Vc(e.VoucherInfo.InvoiceNumber),o.Fb(5),o.Vc(o.pc(23,23,e.VoucherInfo.GenertaedOn,e.customDateFormat.DEF_DATE)),o.Fb(2),o.tc("ngIf",0==(null==e.printBillItem?null:e.printBillItem.length)),o.Fb(1),o.tc("ngIf",null!=(null==e.VoucherInfo?null:e.VoucherInfo.RefTaxInvNumber)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.RefTaxInvNumber)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.RefTaxInvoiceDate)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.RefTaxInvoiceDate)),o.Fb(1),o.tc("ngIf",null!=(null==e.VoucherInfo?null:e.VoucherInfo.CRDocumentNumber)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.CRDocumentNumber)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.CRUTRNumber)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.CRUTRNumber)),o.Fb(1),o.tc("ngIf",null!=(null==e.VoucherInfo?null:e.VoucherInfo.CreditReason)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.CreditReason)),o.Fb(1),o.tc("ngIf",(null==e.printBillItem?null:e.printBillItem.length)>0),o.Fb(8),o.tc("ngIf",e.IsPayModeChequeExist),o.Fb(6),o.tc("ngForOf",e.printTransactionDetails),o.Fb(3),o.tc("ngIf",""!=(null==e.printBillItem[0]?null:e.printBillItem[0].ReferredBy)&&null!=(null==e.printBillItem[0]?null:e.printBillItem[0].ReferredBy)&&null!=(null==e.printBillItem[0]?null:e.printBillItem[0].ReferredBy)),o.Fb(1),o.tc("ngIf",""!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].ApprovedBy)&&null!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].ApprovedBy)&&null!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].ApprovedBy)),o.Fb(1),o.tc("ngIf",""!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].Remarks)&&null!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].Remarks)&&null!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].Remarks)),o.Fb(6),o.tc("IsLetterhead",e.IsLetterhead)("IsNgxPrint",!0))},directives:[a.a,r.a,b.p,b.o],pipes:[b.f,b.g,d.a],styles:[""]}),t})()},QbTu:function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i("ofXK"),s=i("tyNb"),o=i("jhiP"),c=i("fXoL");const l=[{path:"",component:o.a}];let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[s.l.forChild(l)],s.l]}),t})();var r=i("m1XX"),b=i("9XlL"),d=i("ycwT");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[n.c,a,r.b,b.a,d.a]]}),t})()},Qcri:function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i("ofXK"),s=i("tyNb"),o=i("9b74"),c=i("fXoL");const l=[{path:"",component:o.a}];let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[s.l.forChild(l)],s.l]}),t})();var r=i("rEr+"),b=i("jIHw"),d=i("7kUa");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[n.c,a,r.f,b.c,d.b]]}),t})()},Yh3i:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("fXoL");let s=(()=>{class t{constructor(){this.a=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],this.b=["","","Twenty","Thirty","Fourty","Fifty","Sixty","Seventy","Eighty","Ninety"]}transform(t,e){if(t){let e=Number(t);if(e){if((e=e.toString()).length>9)return"We are not the Iron Bank, you can lower down the stakes :)";const t=("000000000"+e).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(!t)return"";let i="";return i+=0!==Number(t[1])?(this.a[Number(t[1])]||this.b[t[1][0]]+" "+this.a[t[1][1]])+"Crore ":"",i+=0!==Number(t[2])?(this.a[Number(t[2])]||this.b[t[2][0]]+" "+this.a[t[2][1]])+"Lakh ":"",i+=0!==Number(t[3])?(this.a[Number(t[3])]||this.b[t[3][0]]+" "+this.a[t[3][1]])+"Thousand ":"",i+=0!==Number(t[4])?(this.a[Number(t[4])]||this.b[t[4][0]]+" "+this.a[t[4][1]])+"Hundred ":"",i+=0!==Number(t[5])?(""!==i?"and ":"")+(this.a[Number(t[5])]||this.b[t[5][0]]+" "+this.a[t[5][1]])+"Rupees":"",i}return""}return""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Rb({name:"amountToWord",type:t,pure:!0}),t})()},aeiD:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});const n=[{TenderName:"Online (RazorPay)",ACID:"ATONLN",disabled:!1},{TenderName:"Online (WorldLine)",ACID:"ATWLONLN",disabled:!1},{TenderName:"Bank Deposit",ACID:"BT01001",disabled:!1},{TenderName:"Cash",ACID:"AT01002",disabled:!1},{TenderName:"Card",ACID:"AT999999",disabled:!1},{TenderName:"Credit",ACID:"LB1199",disabled:!1},{TenderName:"Cheque",ACID:"DI01001",disabled:!1}],s=[{DoctorName:"Doctor-A",TokenList:[{TokenNumber:"1"},{TokenNumber:"2"},{TokenNumber:"3"},{TokenNumber:"4"},{TokenNumber:"5"},{TokenNumber:"6"}]},{DoctorName:"Doctor-B",TokenList:[{TokenNumber:"7"},{TokenNumber:"8"},{TokenNumber:"9"},{TokenNumber:"10"},{TokenNumber:"11"},{TokenNumber:"12"}]},{DoctorName:"Doctor-C",TokenList:[{TokenNumber:"13"},{TokenNumber:"14"},{TokenNumber:"15"},{TokenNumber:"16"},{TokenNumber:"17"},{TokenNumber:"18"}]},{DoctorName:"Doctor-D",TokenList:[{TokenNumber:"19"},{TokenNumber:"20"},{TokenNumber:"21"},{TokenNumber:"22"},{TokenNumber:"23"},{TokenNumber:"24"}]},{DoctorName:"Doctor-E",TokenList:[{TokenNumber:"25"},{TokenNumber:"26"},{TokenNumber:"27"},{TokenNumber:"28"},{TokenNumber:"29"},{TokenNumber:"30"}]},{DoctorName:"Doctor-F",TokenList:[{TokenNumber:"31"},{TokenNumber:"32"},{TokenNumber:"33"},{TokenNumber:"34"},{TokenNumber:"35"},{TokenNumber:"36"}]},{DoctorName:"Doctor-G",TokenList:[{TokenNumber:"37"},{TokenNumber:"38"},{TokenNumber:"39"},{TokenNumber:"40"},{TokenNumber:"41"},{TokenNumber:"42"}]},{DoctorName:"Doctor-H",TokenList:[{TokenNumber:"43"},{TokenNumber:"44"},{TokenNumber:"45"},{TokenNumber:"46"},{TokenNumber:"47"},{TokenNumber:"48"}]},{DoctorName:"Doctor-I",TokenList:[{TokenNumber:"49"},{TokenNumber:"50"},{TokenNumber:"51"},{TokenNumber:"52"},{TokenNumber:"53"},{TokenNumber:"54"}]},{DoctorName:"Doctor-J",TokenList:[{TokenNumber:"55"},{TokenNumber:"56"},{TokenNumber:"57"},{TokenNumber:"58"},{TokenNumber:"59"},{TokenNumber:"60"}]},{DoctorName:"Doctor-K",TokenList:[{TokenNumber:"61"},{TokenNumber:"62"},{TokenNumber:"63"},{TokenNumber:"64"},{TokenNumber:"65"},{TokenNumber:"66"}]},{DoctorName:"Doctor-L",TokenList:[{TokenNumber:"67"},{TokenNumber:"68"},{TokenNumber:"69"},{TokenNumber:"70"},{TokenNumber:"71"},{TokenNumber:"72"}]}]},btFH:function(t,e,i){"use strict";i.d(e,"a",function(){return bt});var n=i("CwUn"),s=i("Nach"),o=i("fXoL"),c=i("tyNb"),l=i("G+wY"),a=i("NLkC"),r=i("rEr+"),b=i("7zfz"),d=i("/RsI"),u=i("ofXK"),h=i("7kUa"),m=i("KkSF"),p=i("jhiP"),T=i("9b74"),S=i("aeiD"),f=i("lVkt"),I=i("3Pt+"),g=i("Ks7X"),v=i("eO1q");const X=function(){return{width:"100%"}},D=function(){return{standalone:!0}};function Y(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div",12),o.Yb(1,"h6",13),o.Yb(2,"strong"),o.Uc(3,"Cash Details"),o.Xb(),o.Xb(),o.Yb(4,"div",14),o.Yb(5,"div",15),o.Yb(6,"label"),o.Yb(7,"strong"),o.Uc(8," Amount "),o.Yb(9,"span",16),o.Uc(10,"*"),o.Xb(),o.Xb(),o.Xb(),o.Yb(11,"p-inputNumber",17),o.ic("ngModelChange",function(e){return o.Lc(t),o.mc().TenderObj.CASH=e}),o.Xb(),o.Xb(),o.Yb(12,"div",15),o.Yb(13,"label"),o.Yb(14,"strong"),o.Uc(15,"Received Date"),o.Xb(),o.Yb(16,"span",16),o.Uc(17,"*"),o.Xb(),o.Xb(),o.Yb(18,"p-calendar",18,19),o.ic("ngModelChange",function(e){return o.Lc(t),o.mc().TenderObj.CashRecdDate=e}),o.Xb(),o.Xb(),o.Xb(),o.Tb(20,"hr"),o.Xb()}if(2&t){const t=o.mc();o.Fb(11),o.Pc(o.yc(15,X)),o.tc("ngModel",t.TenderObj.CASH)("min",0)("max",t.NetPaybleTotal),o.Fb(7),o.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),o.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",t.todayDate)("ngModel",t.TenderObj.CashRecdDate)("ngModelOptions",o.yc(16,D))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!1)}}function y(t,e){if(1&t){const t=o.Zb();o.Yb(0,"a",27),o.ic("click",function(){return o.Lc(t),o.mc(3).AddCardPaymentDetails()}),o.Tb(1,"i",28),o.Xb()}}function C(t,e){if(1&t){const t=o.Zb();o.Yb(0,"a",27),o.ic("click",function(){o.Lc(t);const e=o.mc().index,i=o.mc(2);return i.RemoveCardPaymentDetails(i.lstCardPaymentTransactionDetails[e].Sequence)}),o.Tb(1,"i",29),o.Xb()}}function N(t,e){if(1&t){const t=o.Zb();o.Yb(0,"tr"),o.Yb(1,"td"),o.Uc(2),o.Xb(),o.Yb(3,"td"),o.Yb(4,"input",23),o.ic("ngModelChange",function(t){return e.$implicit.CardNumber=t}),o.Xb(),o.Xb(),o.Yb(5,"td"),o.Yb(6,"input",23),o.ic("ngModelChange",function(t){return e.$implicit.CardHolderName=t}),o.Xb(),o.Xb(),o.Yb(7,"td"),o.Yb(8,"input",23),o.ic("ngModelChange",function(t){return e.$implicit.TransactionId=t}),o.Xb(),o.Xb(),o.Yb(9,"td"),o.Yb(10,"p-calendar",18,24),o.ic("ngModelChange",function(t){return e.$implicit.RecdDate=t}),o.Xb(),o.Xb(),o.Yb(12,"td"),o.Yb(13,"p-inputNumber",25),o.ic("onInput",function(i){o.Lc(t);const n=e.$implicit;return o.mc(2).CalculateTotalCardPayment(i,n.Sequence)})("onBlur",function(){return o.Lc(t),o.mc(2).CalculateTotalCardPaymentrev()})("ngModelChange",function(t){return e.$implicit.Amount=t}),o.Xb(),o.Xb(),o.Yb(14,"td"),o.Sc(15,y,2,0,"a",26),o.Sc(16,C,2,0,"a",26),o.Xb(),o.Xb()}if(2&t){const t=e.$implicit,i=e.index,n=o.mc(2);o.Fb(2),o.Vc(i+1),o.Fb(2),o.Pc(o.yc(31,X)),o.vc("name","txtTransactionCardNumber_",i,""),o.tc("ngModel",t.CardNumber),o.Fb(2),o.Pc(o.yc(32,X)),o.vc("name","txtTransactionCardHolderName_",i,""),o.tc("ngModel",t.CardHolderName),o.Fb(2),o.Pc(o.yc(33,X)),o.vc("name","txtTransactionIdCardPayment_",i,""),o.tc("ngModel",t.TransactionId),o.Fb(2),o.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),o.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",n.todayDate)("ngModel",t.RecdDate)("ngModelOptions",o.yc(34,D))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!1),o.Fb(3),o.Pc(o.yc(35,X)),o.vc("name","txtBankTFAmountTran_",i,""),o.tc("ngModel",t.Amount)("min",0)("max",n.NetPaybleTotal),o.Fb(2),o.tc("ngIf",(null==n.lstCardPaymentTransactionDetails?null:n.lstCardPaymentTransactionDetails.length)<10),o.Fb(1),o.tc("ngIf",1!==n.lstCardPaymentTransactionDetails[i].Sequence)}}function R(t,e){if(1&t&&(o.Yb(0,"div",20),o.Yb(1,"h3"),o.Uc(2,"Card Details"),o.Xb(),o.Yb(3,"div",14),o.Yb(4,"table",21),o.Yb(5,"thead"),o.Yb(6,"tr"),o.Yb(7,"th"),o.Uc(8,"S.No"),o.Xb(),o.Yb(9,"th"),o.Uc(10,"Card Number"),o.Xb(),o.Yb(11,"th"),o.Uc(12,"Card Holder Name"),o.Xb(),o.Yb(13,"th"),o.Uc(14,"Transaction Id "),o.Yb(15,"span",16),o.Uc(16,"*"),o.Xb(),o.Xb(),o.Yb(17,"th"),o.Uc(18,"Payment Rec. Date "),o.Yb(19,"span",16),o.Uc(20,"*"),o.Xb(),o.Xb(),o.Yb(21,"th"),o.Uc(22,"Amount "),o.Yb(23,"span",16),o.Uc(24,"*"),o.Xb(),o.Xb(),o.Yb(25,"th"),o.Uc(26,"Action"),o.Xb(),o.Xb(),o.Xb(),o.Yb(27,"tbody"),o.Sc(28,N,17,36,"tr",22),o.Xb(),o.Xb(),o.Xb(),o.Tb(29,"hr"),o.Xb()),2&t){const t=o.mc();o.Fb(28),o.tc("ngForOf",t.lstCardPaymentTransactionDetails)}}function U(t,e){if(1&t){const t=o.Zb();o.Yb(0,"a",27),o.ic("click",function(){return o.Lc(t),o.mc(3).AddBankTransactionDetails()}),o.Tb(1,"i",28),o.Xb()}}function A(t,e){if(1&t){const t=o.Zb();o.Yb(0,"a",27),o.ic("click",function(){o.Lc(t);const e=o.mc().index,i=o.mc(2);return i.RemoveBankTransactionDetails(i.lstBankDepositTransactionDetails[e].Sequence)}),o.Tb(1,"i",29),o.Xb()}}function F(t,e){if(1&t){const t=o.Zb();o.Yb(0,"tr"),o.Yb(1,"td"),o.Uc(2),o.Xb(),o.Yb(3,"td"),o.Yb(4,"input",23),o.ic("ngModelChange",function(t){return e.$implicit.BankName=t}),o.Xb(),o.Xb(),o.Yb(5,"td"),o.Yb(6,"input",23),o.ic("ngModelChange",function(t){return e.$implicit.TransactionId=t}),o.Xb(),o.Xb(),o.Yb(7,"td"),o.Yb(8,"p-calendar",18,24),o.ic("ngModelChange",function(t){return e.$implicit.RecdDate=t}),o.Xb(),o.Xb(),o.Yb(10,"td"),o.Yb(11,"p-inputNumber",25),o.ic("onInput",function(i){o.Lc(t);const n=e.$implicit;return o.mc(2).CalculateTotalBankTransaction(i,n.Sequence)})("onBlur",function(){return o.Lc(t),o.mc(2).CalculateTotalBankTransactionrev()})("ngModelChange",function(t){return e.$implicit.Amount=t}),o.Xb(),o.Xb(),o.Yb(12,"td"),o.Sc(13,U,2,0,"a",26),o.Sc(14,A,2,0,"a",26),o.Xb(),o.Xb()}if(2&t){const t=e.$implicit,i=e.index,n=o.mc(2);o.Fb(2),o.Vc(i+1),o.Fb(2),o.Pc(o.yc(27,X)),o.vc("name","txtTransactionBankDepoName_",i,""),o.tc("ngModel",t.BankName),o.Fb(2),o.Pc(o.yc(28,X)),o.vc("name","txtTransactionIdBankDepo_",i,""),o.tc("ngModel",t.TransactionId),o.Fb(2),o.wc("yearRange","",n.customDateFormat.MinYear,":",n.MaxYear,""),o.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",n.todayDate)("ngModel",t.RecdDate)("ngModelOptions",o.yc(29,D))("showIcon",!0)("dateFormat",n.customDateFormat.CalendarFormat)("readonlyInput",!1),o.Fb(3),o.Pc(o.yc(30,X)),o.vc("name","txtBankTFAmountTran_",i,""),o.tc("ngModel",t.Amount)("min",0)("max",n.NetPaybleTotal),o.Fb(2),o.tc("ngIf",(null==n.lstBankDepositTransactionDetails?null:n.lstBankDepositTransactionDetails.length)<10),o.Fb(1),o.tc("ngIf",1!==n.lstBankDepositTransactionDetails[i].Sequence)}}function P(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div",30),o.Yb(1,"h3"),o.Uc(2,"Bank Deposit Details"),o.Xb(),o.Tb(3,"hr"),o.Yb(4,"div",14),o.Yb(5,"table",21),o.Yb(6,"thead"),o.Yb(7,"tr"),o.Yb(8,"th"),o.Uc(9,"S.No"),o.Xb(),o.Yb(10,"th"),o.Uc(11,"Bank Name "),o.Yb(12,"span",16),o.Uc(13,"*"),o.Xb(),o.Xb(),o.Yb(14,"th"),o.Uc(15,"Transaction Id "),o.Yb(16,"span",16),o.Uc(17,"*"),o.Xb(),o.Xb(),o.Yb(18,"th"),o.Uc(19,"Received Date "),o.Yb(20,"span",16),o.Uc(21,"*"),o.Xb(),o.Xb(),o.Yb(22,"th"),o.Uc(23,"Amount "),o.Yb(24,"span",16),o.Uc(25,"*"),o.Xb(),o.Xb(),o.Yb(26,"th"),o.Uc(27,"Action"),o.Xb(),o.Xb(),o.Xb(),o.Yb(28,"tbody"),o.Sc(29,F,15,31,"tr",22),o.Xb(),o.Xb(),o.Xb(),o.Tb(30,"hr"),o.Yb(31,"div",14),o.Yb(32,"div",15),o.Uc(33,"Amount"),o.Xb(),o.Yb(34,"div",31),o.Yb(35,"p-inputNumber",32),o.ic("ngModelChange",function(e){return o.Lc(t),o.mc().TenderObj.BANKTFAMOUNT=e}),o.Xb(),o.Xb(),o.Xb(),o.Tb(36,"hr"),o.Xb()}if(2&t){const t=o.mc();o.Fb(29),o.tc("ngForOf",t.lstBankDepositTransactionDetails),o.Fb(6),o.Pc(o.yc(6,X)),o.tc("ngModel",t.TenderObj.BANKTFAMOUNT)("min",0)("max",t.NetPaybleTotal)}}function k(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div",3),o.Yb(1,"div",15),o.Uc(2,"Remarks"),o.Xb(),o.Yb(3,"div",31),o.Yb(4,"input",33),o.ic("ngModelChange",function(e){return o.Lc(t),o.mc().TenderObj.REMARKS=e}),o.Xb(),o.Xb(),o.Xb()}if(2&t){const t=o.mc();o.Fb(4),o.Pc(o.yc(3,X)),o.tc("ngModel",t.TenderObj.REMARKS)}}let M=(()=>{class t extends n.a{constructor(t,e,i){super(),this._UtilityService=t,this._PatientServices=e,this.cdRef=i,this.slotBookingId=null,this.SelectedVCHRNO=null,this.SelectedPhiscalID=null,this.SelectedDivision=null,this.NetAmount=0,this.GetSuccessStatusEmit=new o.o,this.customDateFormat=s.h,this.IsRefundVoucher=!1,this.DepositSlipLink=null,this.lstTransaction=[],this.lstPayMode=[],this.SelectPaymodeArray=[],this.NetPaybleTotal=0,this.TenderModel={},this.TenderObj={},this.lstBankDepositTransactionDetails=[],this.BankDepTrnCounter=1,this.CardTrnCounter=1,this.todayDate=new Date,this.MaxCreditLimit=0,this.BankDepositSlip1Att=null,this.lsttrnAmount=[],this.PaymentTransactionDetails=[],this.lstReciveVoucher=[],this.lstCardPaymentTransactionDetails=[],this.MaxYear=(new Date).getFullYear()+2,this.lstPayMode=S.a,this.lstPayMode=this.lstPayMode.filter(t=>"ATONLN"!==t.ACID)}ngOnInit(){}ngOnChanges(t){this.LoadTransactionDetails()}LoadTransactionDetails(){this.lsttrnAmount=[],this.NetPaybleTotal=this.NetAmount,this.IsRefundVoucher=!1,this.lstTransaction=[],this.DepositSlipLink=null,null!=this.slotBookingId&&null!=this.slotBookingId&&""!=this.slotBookingId&&null!=this.SelectedVCHRNO&&null!=this.SelectedVCHRNO&&""!=this.SelectedVCHRNO&&null!=this.SelectedPhiscalID&&null!=this.SelectedPhiscalID&&""!=this.SelectedPhiscalID&&null!=this.SelectedDivision&&null!=this.SelectedDivision&&""!=this.SelectedDivision?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetTransactionDetailsByVCHRNumber(this.slotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision).subscribe({next:t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success&&null!=t.actionResult.result){var e=JSON.parse(t.actionResult.result);this.lstTransaction=e=e||[];var i=JSON.parse(t.actionResult.result5);this.lsttrnAmount=i=i||[];var n=[];this.lsttrnAmount.map(t=>{var e,i,s,o,c;n.push(null===(e=this.lstPayMode.find(e=>e.TenderName==t.TrnMode))||void 0===e?void 0:e.ACID),"Cash"==t.TrnMode?(this.TenderObj.CASH=t.Amount,this.TenderObj.CashRecdDate=new Date(null===(i=this.lstTransaction.find(t=>"Cash"==t.TrnMode))||void 0===i?void 0:i.ReceivedDate),this.TenderObj.REMARKS=null===(s=this.lstTransaction.find(t=>"Cash"==t.TrnMode))||void 0===s?void 0:s.Remarks):"Card"==t.TrnMode?(this.lstCardPaymentTransactionDetails=[],this.lstTransaction.filter(t=>"Card"==t.TrnMode).map(t=>{let e={};e.CardNumber=t.CardNo,e.CardHolderName=t.CardHolderName,e.TransactionId=t.TransactionId,e.RecdDate=new Date(t.ReceivedDate),e.Amount=t.Amount,this.lstCardPaymentTransactionDetails.push(e)}),this.TenderObj.REMARKS=null===(o=this.lstTransaction.filter(t=>"Card"==t.TrnMode)[0])||void 0===o?void 0:o.Remarks,this.CalculateTotalCardPaymentrev()):"Bank Deposit"==t.TrnMode&&(this.lstBankDepositTransactionDetails=[],this.lstTransaction.filter(t=>"Bank Deposit"==t.TrnMode||"Bank Transfer"==t.TrnMode).map(t=>{let e={};e.BankName=t.BankName,e.TransactionId=t.TransactionId,e.RecdDate=new Date(t.ReceivedDate),e.Amount=t.Amount,this.lstBankDepositTransactionDetails.push(e)}),this.TenderObj.REMARKS=null===(c=this.lstTransaction.filter(t=>"Bank Deposit"==t.TrnMode||"Bank Transfer"==t.TrnMode)[0])||void 0===c?void 0:c.Remarks,this.CalculateTotalBankTransactionrev())}),this.selectedPaymodeCodes=n,this.ShowSelectedItem()}},error:t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}})):this._UtilityService.showWarningAlert("No record found"),this.cdRef.detectChanges()}ShowSelectedItem(){var t;(null===(t=this.selectedPaymodeCodes)||void 0===t?void 0:t.length)>0?(this.selectedPaymodeCodes.indexOf("ATONLN")>-1&&(this.selectedPaymodeCodes=this.selectedPaymodeCodes.filter(function(t){return"ATONLN"==t})),this.SelectPaymodeArray=this.selectedPaymodeCodes.toString().split(",")):this.SelectPaymodeArray=[]}RemoveBankTransactionDetails(t){this.lstBankDepositTransactionDetails=this.lstBankDepositTransactionDetails.filter(e=>e.Sequence!==t),this.CalculateTotalBankTransactionrev(),this.cdRef.detectChanges()}CalculateTotalBankTransactionrev(){var t=0;this.lstBankDepositTransactionDetails.map(e=>{t+=e.Amount}),this.TenderObj.BANKTFAMOUNT=t,this.cdRef.detectChanges()}AddBankTransactionDetails(){this.BankDepTrnCounter++,this.lstBankDepositTransactionDetails.push({Sequence:this.BankDepTrnCounter,BankName:"",TransactionId:"",RecdDate:null,Amount:0}),this.cdRef.detectChanges()}onFileSelectBankDepositSlip(t,e){var i;if((null===(i=t.target.files)||void 0===i?void 0:i.length)>0){const i=t.target.files[0];[".jpg",".png",".jpeg",".pdf"].includes("."+i.type.split("/")[1])?i.size>5242880?($("#"+e).val(""),"AttBankslip1"==e&&(this.fileInputLabelAttBankslip1="",this.BankDepositSlip1Att=""),this._UtilityService.showWarningAlert("Maximum 5 MB file can be Uploaded")):"AttBankslip1"==e&&(this.fileInputLabelAttBankslip1=i.name,this.fileUploadAttBankslip1.get("AttBankslip1").setValue(i)):($("#"+e).val(""),"AttBankslip1"==e&&(this.fileInputLabelAttBankslip1="",this.BankDepositSlip1Att=""),this._UtilityService.showWarningAlert("Only jpg, png and pdf Allowed!")),this.cdRef.detectChanges()}}CalculateTotalBankTransaction(t,e){if(t.value>0){null!=this.TenderObj.BANKTFAMOUNT&&null!=this.TenderObj.BANKTFAMOUNT||(this.TenderObj.BANKTFAMOUNT=0);var i=0;(null==(n=this.lstBankDepositTransactionDetails.filter(t=>t.Sequence!=e))?void 0:n.length)>0&&n.map(t=>{i+=t.Amount}),this.TenderObj.BANKTFAMOUNT=i+t.value,this.cdRef.detectChanges()}else{var n;null!=this.TenderObj.BANKTFAMOUNT&&null!=this.TenderObj.BANKTFAMOUNT||(this.TenderObj.BANKTFAMOUNT=0),i=0,(null==(n=this.lstBankDepositTransactionDetails.filter(t=>t.Sequence!=e))?void 0:n.length)>0&&n.map(t=>{i+=t.Amount}),this.TenderObj.BANKTFAMOUNT=i,this.cdRef.detectChanges()}}SaveCreditNoteOther(){var t,e,i,n,s,o,c;this.lstReciveVoucher=[],this.PaymentTransactionDetails=[];var l=0;if(null!=this.TenderObj.TrustId||null!=this.TenderObj.TrustId){if(null==this.TenderObj.TMemberTypeId||null==this.TenderObj.TMemberTypeId)return void this._UtilityService.showWarningAlert("Please select member type");if(null==this.TenderObj.MemberShipNumber||null==this.TenderObj.MemberShipNumber||""==this.TenderObj.MemberShipNumber)return void this._UtilityService.showWarningAlert("Please enter membership number")}if(null!=this.TenderObj.TMemberTypeId||null!=this.TenderObj.TMemberTypeId){if(null==this.TenderObj.TrustId||null==this.TenderObj.TrustId)return void this._UtilityService.showWarningAlert("Please select trust type");if(null==this.TenderObj.MemberShipNumber||null==this.TenderObj.MemberShipNumber||""==this.TenderObj.MemberShipNumber)return void this._UtilityService.showWarningAlert("Please enter membership number")}if(this.TenderObj.MemberShipNumber){if(null==this.TenderObj.TrustId||null==this.TenderObj.TrustId)return void this._UtilityService.showWarningAlert("Please select trust type");if(null==this.TenderObj.TMemberTypeId||null==this.TenderObj.TMemberTypeId)return void this._UtilityService.showWarningAlert("Please select member type")}if(this.SelectPaymodeArray.includes("AT01002")){if(null==this.TenderObj.CASH||null==this.TenderObj.CASH||this.TenderObj.CASH<=0)return void this._UtilityService.showWarningAlert("Please enter Cash Tender Amount");if(null==this.TenderObj.CashRecdDate||null==this.TenderObj.CashRecdDate)return void this._UtilityService.showWarningAlert("Please enter Cash Tender Amount Received Date");if(this.TenderObj.CASH>0&&this.TenderObj.CASH!=(null===(t=this.lsttrnAmount.find(t=>"Cash"==t.TrnMode))||void 0===t?void 0:t.Amount))return void this._UtilityService.showWarningAlert("You Cannot Modify total Cash Amount");this.PaymentTransactionDetails.push({TrnMode:"Cash",Remarks:this.TenderObj.REMARKS,ReceivedDate:this.TenderObj.CashRecdDate,Amount:this.TenderObj.CASH,TrustId:this.TenderObj.TrustId,TMemberTypeId:this.TenderObj.TMemberTypeId,MemberShipNumber:this.TenderObj.MemberShipNumber}),l+=this.TenderObj.CASH}if(this.SelectPaymodeArray.includes("AT999999")){for(var a=!0,r=0;r<this.lstCardPaymentTransactionDetails.length;r++)(null==this.lstCardPaymentTransactionDetails[r].TransactionId||null==this.lstCardPaymentTransactionDetails[r].TransactionId||""==this.lstCardPaymentTransactionDetails[r].TransactionId||null==this.lstCardPaymentTransactionDetails[r].RecdDate||null==this.lstCardPaymentTransactionDetails[r].RecdDate||""==this.lstCardPaymentTransactionDetails[r].RecdDate||null==(null===(e=this.lstCardPaymentTransactionDetails[r])||void 0===e?void 0:e.Amount)||null==(null===(i=this.lstCardPaymentTransactionDetails[r])||void 0===i?void 0:i.Amount)||(null===(n=this.lstCardPaymentTransactionDetails[r])||void 0===n?void 0:n.Amount)<=0)&&1==a&&(a=!1);if(0==a)return void this._UtilityService.showWarningAlert("Please enter Transaction Details Properly");if(null==this.TenderObj.CARDAMT||null==this.TenderObj.CARDAMT||this.TenderObj.CARDAMT<=0)return void this._UtilityService.showWarningAlert("Please enter Card tender Amount");var b=this.lsttrnAmount.filter(t=>"Card"==t.TrnMode),d=0;if(b.map(t=>{d+=t.Amount}),this.TenderObj.CARDAMT>0&&this.TenderObj.CARDAMT!=d)return void this._UtilityService.showWarningAlert("You Cannot Modify total Card Amount");var u="",h="",m="";this.lstCardPaymentTransactionDetails.map(t=>{this.PaymentTransactionDetails.push({TrnMode:"Card",Remarks:this.TenderObj.REMARKS,CardNo:t.CardNumber,CardHolderName:t.CardHolderName,TransactionId:t.TransactionId,ReceivedDate:t.RecdDate,Amount:t.Amount,TrustId:this.TenderObj.TrustId,TMemberTypeId:this.TenderObj.TMemberTypeId,MemberShipNumber:this.TenderObj.MemberShipNumber}),u=u+t.TransactionId+",",m=m+t.CardHolderName+",",h=h+t.CardNumber+","}),l+=this.TenderObj.CARDAMT}if(this.SelectPaymodeArray.includes("BT01001")){for(a=!0,r=0;r<this.lstBankDepositTransactionDetails.length;r++)(null==this.lstBankDepositTransactionDetails[r].BankName||null==this.lstBankDepositTransactionDetails[r].BankName||""==this.lstBankDepositTransactionDetails[r].BankName||null==this.lstBankDepositTransactionDetails[r].TransactionId||null==this.lstBankDepositTransactionDetails[r].TransactionId||""==this.lstBankDepositTransactionDetails[r].TransactionId||null==this.lstBankDepositTransactionDetails[r].RecdDate||null==this.lstBankDepositTransactionDetails[r].RecdDate||""==this.lstBankDepositTransactionDetails[r].RecdDate||null==(null===(s=this.lstBankDepositTransactionDetails[r])||void 0===s?void 0:s.Amount)||null==(null===(o=this.lstBankDepositTransactionDetails[r])||void 0===o?void 0:o.Amount)||(null===(c=this.lstBankDepositTransactionDetails[r])||void 0===c?void 0:c.Amount)<=0)&&1==a&&(a=!1);if(0==a)return void this._UtilityService.showWarningAlert("Please enter Transaction Details Properly");if(null==this.TenderObj.BANKTFAMOUNT||null==this.TenderObj.BANKTFAMOUNT||this.TenderObj.BANKTFAMOUNT<=0)return void this._UtilityService.showWarningAlert("Please enter Bank Deposit Amount");var p=this.lsttrnAmount.filter(t=>"Bank Transfer"==t.TrnMode||"Bank Deposit"==t.TrnMode),T=0;if(p.map(t=>{T+=t.Amount}),this.TenderObj.BANKTFAMOUNT>0&&this.TenderObj.BANKTFAMOUNT!=T)return void this._UtilityService.showWarningAlert("You Cannot Modify total Bank Deposit Amount");u="";var S="";this.lstBankDepositTransactionDetails.map(t=>{this.PaymentTransactionDetails.push({TrnMode:"Bank Transfer",Remarks:this.TenderObj.REMARKS,BankName:t.BankName,TransactionId:t.TransactionId,ReceivedDate:t.RecdDate,Amount:t.Amount,TrustId:this.TenderObj.TrustId,TMemberTypeId:this.TenderObj.TMemberTypeId,MemberShipNumber:this.TenderObj.MemberShipNumber}),u=u+t.TransactionId+",",S=S+t.BankName+","}),l+=this.TenderObj.BANKTFAMOUNT}if(Math.round(l)<Math.round(this.NetPaybleTotal)||Math.round(l)>Math.round(this.NetPaybleTotal))this._UtilityService.showWarningAlert("Input Amount not match with Total Amount");else{var f={};f.CreditNoteAmount=this.NetPaybleTotal,f.SlotBookingId=this.slotBookingId,f.PaymentTransactionDetails=this.PaymentTransactionDetails,f.UpdatedBy=localStorage.getItem("userId"),f.VCHRNO=this.SelectedVCHRNO,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UpdateTransactionDetailsByVoucher(f).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success?(this.GetSuccessStatusEmit.emit(!0),this._UtilityService.showSuccessAlert(t.actionResult.errMsg)):this._UtilityService.showErrorAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner()})}}CalculateTotalCardPayment(t,e){if(t.value>0){null!=this.TenderObj.CARDAMT&&null!=this.TenderObj.CARDAMT||(this.TenderObj.CARDAMT=0);var i=0;(null==(n=this.lstCardPaymentTransactionDetails.filter(t=>t.Sequence!=e))?void 0:n.length)>0&&n.map(t=>{i+=t.Amount}),this.TenderObj.CARDAMT=i+t.value,this.cdRef.detectChanges()}else{var n;null!=this.TenderObj.CARDAMT&&null!=this.TenderObj.CARDAMT||(this.TenderObj.CARDAMT=0),i=0,(null==(n=this.lstCardPaymentTransactionDetails.filter(t=>t.Sequence!=e))?void 0:n.length)>0&&n.map(t=>{i+=t.Amount}),this.TenderObj.CARDAMT=i,this.cdRef.detectChanges()}}CalculateTotalCardPaymentrev(){var t=0;this.lstCardPaymentTransactionDetails.map(e=>{t+=e.Amount}),this.TenderObj.CARDAMT=t,this.cdRef.detectChanges()}AddCardPaymentDetails(){this.CardTrnCounter++,this.lstCardPaymentTransactionDetails.push({Sequence:this.CardTrnCounter,CardNumber:"",CardHolderName:"",TransactionId:"",RecdDate:null,Amount:0}),this.cdRef.detectChanges()}RemoveCardPaymentDetails(t){this.lstCardPaymentTransactionDetails=this.lstCardPaymentTransactionDetails.filter(e=>e.Sequence!==t),this.CalculateTotalCardPaymentrev(),this.cdRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(a.a),o.Sb(l.a),o.Sb(o.h))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-individual-edit-transaction-details"]],inputs:{slotBookingId:"slotBookingId",SelectedVCHRNO:"SelectedVCHRNO",SelectedPhiscalID:"SelectedPhiscalID",SelectedDivision:"SelectedDivision",NetAmount:"NetAmount"},outputs:{GetSuccessStatusEmit:"GetSuccessStatusEmit"},features:[o.Cb,o.Db],decls:20,vars:14,consts:[[1,"row"],[1,"col-md-12"],["optionLabel","TenderName","optionValue","ACID","placeholder","Please select payment option","appendTo","body",3,"disabled","options","ngModel","onChange","ngModelChange"],[1,"row","mt-3"],[1,"col-md-12","text-right","bold"],["id","dvCashTender",4,"ngIf"],["id","dvCardTender",4,"ngIf"],["id","dvBankTfTender",4,"ngIf"],["id","dvRemarks"],["class","row mt-3",4,"ngIf"],[1,"col-md-12","text-right"],["type","button",1,"btn","btn-new-primary",3,"click"],["id","dvCashTender"],[1,"mt-2","mb-2"],[1,"row","mb-3"],[1,"col-md-3"],[1,"required",2,"color","red"],["name","txtCashAmount","mode","decimal",3,"ngModel","min","max","ngModelChange"],["appendTo","body","inputId","icon",3,"yearNavigator","monthNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["CashRecdDate",""],["id","dvCardTender"],[1,"table","table-striped","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"],["type","text","pInputText","",3,"name","ngModel","ngModelChange"],["BankDepRecdDate",""],["mode","decimal",3,"name","ngModel","min","max","onInput","onBlur","ngModelChange"],["class","add-btn mr-2","href","javascript: void(0);",3,"click",4,"ngIf"],["href","javascript: void(0);",1,"add-btn","mr-2",3,"click"],[1,"fa","fa-plus"],[1,"fa","fa-minus"],["id","dvBankTfTender"],[1,"col-md-9"],["name","txtBankTFAmount","disabled","","mode","decimal",3,"ngModel","min","max","ngModelChange"],["type","text","name","txtRemarks","pInputText","",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(o.Yb(0,"div",0),o.Yb(1,"div",1),o.Yb(2,"p-multiSelect",2),o.ic("onChange",function(){return e.ShowSelectedItem()})("ngModelChange",function(t){return e.selectedPaymodeCodes=t}),o.Xb(),o.Xb(),o.Xb(),o.Yb(3,"div",0),o.Yb(4,"div",1),o.Yb(5,"div",3),o.Yb(6,"div",4),o.Uc(7),o.nc(8,"number"),o.Xb(),o.Xb(),o.Sc(9,Y,21,17,"div",5),o.Sc(10,R,30,1,"div",6),o.Sc(11,P,37,7,"div",7),o.Yb(12,"div",8),o.Sc(13,k,5,4,"div",9),o.Xb(),o.Tb(14,"hr"),o.Yb(15,"div"),o.Yb(16,"div",0),o.Yb(17,"div",10),o.Yb(18,"button",11),o.ic("click",function(){return e.SaveCreditNoteOther()}),o.Uc(19,"Submit"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb()),2&t&&(o.Fb(2),o.Pc(o.yc(13,X)),o.tc("disabled",!0)("options",e.lstPayMode)("ngModel",e.selectedPaymodeCodes),o.Fb(5),o.Wc(" Total Amount: ",o.pc(8,10,e.NetPaybleTotal,"1.0-0")," "),o.Fb(2),o.tc("ngIf",e.SelectPaymodeArray.includes("AT01002")),o.Fb(1),o.tc("ngIf",e.SelectPaymodeArray.includes("AT999999")),o.Fb(1),o.tc("ngIf",e.SelectPaymodeArray.includes("BT01001")),o.Fb(2),o.tc("ngIf",(null==e.SelectPaymodeArray?null:e.SelectPaymodeArray.length)>0&&!e.SelectPaymodeArray.includes("ATONLN")))},directives:[f.a,I.o,I.r,u.p,g.a,v.a,u.o,I.b,h.a],pipes:[u.g],styles:[""]}),t})();var x=i("Ji6n"),B=i("ykst"),w=i("e+Tu");function O(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div",19),o.Tb(1,"span",20),o.Yb(2,"span",21),o.Yb(3,"span",22),o.Tb(4,"i",23),o.Yb(5,"input",24),o.ic("input",function(e){return o.Lc(t),o.mc(),o.Ic(3).filterGlobal(e.target.value,"contains")}),o.Xb(),o.Xb(),o.Xb(),o.Xb()}}function V(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td"),o.Uc(2," No records found "),o.Xb(),o.Xb()),2&t){const t=e.$implicit;o.Fb(1),o.Gb("colspan",null==t?null:t.length)}}function L(t,e){1&t&&(o.Yb(0,"tr"),o.Yb(1,"th"),o.Uc(2,"S.No"),o.Xb(),o.Yb(3,"th"),o.Uc(4,"Voucher Number"),o.Xb(),o.Yb(5,"th"),o.Uc(6,"Physical Year"),o.Xb(),o.Yb(7,"th"),o.Uc(8,"Generated On"),o.Xb(),o.Yb(9,"th"),o.Uc(10,"Pay Mode"),o.Xb(),o.Yb(11,"th"),o.Uc(12,"Action"),o.Xb(),o.Xb())}function _(t,e){if(1&t){const t=o.Zb();o.Yb(0,"i",31),o.ic("click",function(){o.Lc(t);const e=o.mc().$implicit;return o.mc().PrintInvoice(e.InvoiceNumber,e.PhiscalId,e.Division,e.InvType,e.Status)}),o.Xb()}}function W(t,e){if(1&t){const t=o.Zb();o.Yb(0,"i",32),o.ic("click",function(){o.Lc(t);const e=o.mc().$implicit;return o.mc().ShowTransactionDetails(e.InvoiceNumber,e.PhiscalId,e.Division)}),o.Xb()}}function E(t,e){if(1&t){const t=o.Zb();o.Yb(0,"i",33),o.ic("click",function(){o.Lc(t);const e=o.mc().$implicit;return o.mc().EditTransaction(e.InvoiceNumber,e.PhiscalId,e.Division,e.InvType,e.NetProfit)}),o.Xb()}}function j(t,e){if(1&t){const t=o.Zb();o.Yb(0,"i",34),o.ic("click",function(){o.Lc(t);const e=o.mc().$implicit;return o.mc().ShowSplitVoucher(e.InvoiceNumber,e.SlotBookingId)}),o.Xb()}}function G(t,e){if(1&t){const t=o.Zb();o.Yb(0,"i",35),o.ic("click",function(){o.Lc(t);const e=o.mc().$implicit;return o.mc().ShowSplitedVoucherList(e.InvoiceNumber,e.SlotBookingId)}),o.Xb()}}function H(t,e){if(1&t){const t=o.Zb();o.Yb(0,"i",36),o.ic("click",function(){o.Lc(t);const e=o.mc().$implicit;return o.mc().ShowSalesReturnModel(e.InvoiceNumber,e.SlotBookingId)}),o.Xb()}}function Q(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td"),o.Uc(2),o.Xb(),o.Yb(3,"td"),o.Uc(4),o.Xb(),o.Yb(5,"td"),o.Uc(6),o.Xb(),o.Yb(7,"td"),o.Uc(8),o.nc(9,"date"),o.Xb(),o.Yb(10,"td"),o.Uc(11),o.nc(12,"titlecase"),o.Xb(),o.Yb(13,"td"),o.Sc(14,_,1,0,"i",25),o.Sc(15,W,1,0,"i",26),o.Sc(16,E,1,0,"i",27),o.Sc(17,j,1,0,"i",28),o.Sc(18,G,1,0,"i",29),o.Sc(19,H,1,0,"i",30),o.Xb(),o.Xb()),2&t){const t=e.$implicit,i=e.rowIndex,n=o.mc();o.Fb(2),o.Vc(i+1),o.Fb(2),o.Vc(t.InvoiceNumber),o.Fb(2),o.Vc(t.PhiscalId),o.Fb(2),o.Vc(o.pc(9,11,t.GenertaedOn,n.customDateFormat.DEF_DATE)),o.Fb(3),o.Vc(o.oc(12,14,t.PayMode)),o.Fb(3),o.tc("ngIf","Split"!=t.InvType&&(null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.Print.toString()))),o.Fb(1),o.tc("ngIf","Split"!=t.InvType),o.Fb(1),o.tc("ngIf","Split"!=t.InvType&&!n.IsVisitor&&(null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.ReadWrite.toString()))&&"PaymentReceive"==t.InvType&&"Online"!==t.PayMode),o.Fb(1),o.tc("ngIf",1!=t.IsSplited&&"Yes"==n.lsBillSplit&&"CInv"==t.InvType&&1==n.IsGrouped&&"IPD"==n.BookingType),o.Fb(1),o.tc("ngIf","Split"==t.InvType&&1==n.IsGrouped&&"IPD"==n.BookingType),o.Fb(1),o.tc("ngIf",n.IsSalesReturn&&"CInv"==t.InvType&&1==t.Status&&(null==n.lstIAccessStr?null:n.lstIAccessStr.includes(n.ActionList.Print.toString())))}}function Z(t,e){if(1&t&&(o.Yb(0,"h3"),o.Uc(1),o.Xb()),2&t){const t=o.mc();o.Fb(1),o.Wc("","SalesReturn"==t.SelectedInvType?"Sales Return":"PaymentReceive"==t.SelectedInvType?"Payment Receive":"CreditNote"==t.SelectedInvType?"Payment Credit":"Payment Refund"," Details")}}function K(t,e){if(1&t&&(o.Yb(0,"div"),o.Tb(1,"app-print-payment-voucher",37),o.Xb()),2&t){const t=o.mc();o.Fb(1),o.tc("IsVisitor",t.IsVisitor)("SelectedSlotBookingId",t.slotBookingId)("SelectedVCHRNO",t.InvoiceNumberSelected)("SelectedPhiscalID",t.PhiscalIdSelected)("SelectedDivision",t.DivisionSelected)("InvType",t.SelectedInvType)("Status",t.StatusSelected)}}function z(t,e){if(1&t&&(o.Yb(0,"div"),o.Tb(1,"app-print-profile",38),o.Xb()),2&t){const t=o.mc();o.Fb(1),o.tc("IsVisitor",t.IsVisitor)("SlotBookingIdSelected",t.slotBookingId)("InvoiceNumberSelected",t.InvoiceNumberSelected)("PhiscalIdSelected",t.PhiscalIdSelected)("DivisionSelected",t.DivisionSelected)}}function q(t,e){if(1&t&&(o.Yb(0,"div"),o.Tb(1,"app-individual-transaction-list",39),o.Xb()),2&t){const t=o.mc();o.Fb(1),o.tc("IsVisitor",t.IsVisitor)("slotBookingId",t.slotBookingId)("SelectedVCHRNO",t.InvoiceNumberSelected)("SelectedPhiscalID",t.PhiscalIdSelected)("SelectedDivision",t.DivisionSelected)}}function J(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div"),o.Yb(1,"app-individual-edit-transaction-details",40),o.ic("GetSuccessStatusEmit",function(e){return o.Lc(t),o.mc().GetSuccessStatusEmit(e)}),o.Xb(),o.Xb()}if(2&t){const t=o.mc();o.Fb(1),o.tc("slotBookingId",t.slotBookingId)("SelectedVCHRNO",t.InvoiceNumberSelected)("SelectedPhiscalID",t.PhiscalIdSelected)("SelectedDivision",t.DivisionSelected)("NetAmount",t.NetAmount)}}function tt(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div",19),o.Tb(1,"span",20),o.Yb(2,"span",21),o.Yb(3,"span",22),o.Tb(4,"i",23),o.Yb(5,"input",24),o.ic("input",function(e){return o.Lc(t),o.mc(),o.Ic(21).filterGlobal(e.target.value,"contains")}),o.Xb(),o.Xb(),o.Xb(),o.Xb()}}function et(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td"),o.Uc(2," No records found "),o.Xb(),o.Xb()),2&t){const t=e.$implicit;o.Fb(1),o.Gb("colspan",null==t?null:t.length)}}function it(t,e){1&t&&(o.Yb(0,"tr"),o.Yb(1,"th"),o.Uc(2,"S.No"),o.Xb(),o.Yb(3,"th"),o.Uc(4,"Name"),o.Xb(),o.Yb(5,"th"),o.Uc(6,"Action"),o.Xb(),o.Xb())}function nt(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td"),o.Uc(2),o.Xb(),o.Yb(3,"td"),o.Uc(4),o.Xb(),o.Yb(5,"td",41),o.Yb(6,"p-checkbox",42),o.ic("ngModelChange",function(t){return e.$implicit.Checked=t}),o.Xb(),o.Xb(),o.Xb()),2&t){const t=e.$implicit,i=e.rowIndex;o.Fb(2),o.Vc(i+1),o.Fb(2),o.Vc(t.FullName),o.Fb(2),o.vc("name","chkGrp_",i,""),o.vc("id","chkGrp_",i,""),o.tc("ngModel",t.Checked)("binary",!0)("disabled",1==t.Disabled)}}function st(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div",14),o.Tb(1,"div",43),o.Yb(2,"div",44),o.Yb(3,"button",45),o.ic("click",function(){return o.Lc(t),o.mc().SubmitSplitBill()}),o.Uc(4,"Submit"),o.Xb(),o.Xb(),o.Xb()}}function ot(t,e){if(1&t&&(o.Yb(0,"div"),o.Tb(1,"app-split-print-voucher",46),o.Xb()),2&t){const t=o.mc();o.Fb(1),o.tc("SlotBookingIdSelected",t.SlotBookingIdSelected)("VCHRNO",t.VCHRNO)}}function ct(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div"),o.Yb(1,"app-sales-return",47),o.ic("EmitSuccessSalesReturn",function(e){return o.Lc(t),o.mc().EmitSuccessSalesReturn(e)}),o.Xb(),o.Xb()}if(2&t){const t=o.mc();o.Fb(1),o.tc("SlotBookingIdSelected",t.SlotBookingIdSelected)("VCHRNO",t.VCHRNO)}}const lt=function(){return["InvoiceNumber","PhiscalId"]},at=function(){return{width:"100vw"}},rt=function(){return{width:"90vw"}};let bt=(()=>{class t extends n.a{constructor(t,e,i,n){var o;super(),this.router=t,this._ConstantsService=e,this._PatientServices=i,this._UtilityService=n,this.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,this.slotBookingId=null,this.IsVisitor=!1,this.IsGrouped=!1,this.BookingType="IPD",this.showIndividualInvoiceList=!0,this.customDateFormat=s.h,this.userTypes=s.s,this.InvoiceNumberSelected=null,this.PhiscalIdSelected=null,this.DivisionSelected=null,this.SelectedInvType=null,this.lstInvoice=[],this.ShowPrintPaymentVoucherModel=!1,this.ShowPrintProfileModel=!1,this.ShowTransactionDetailsModel=!1,this.ActionList=s.a,this.lstIAccess=[],this.lstIAccessStr=[],this.ShowEditTransactionDetailsModel=!1,this.NetAmount=0,this.StatusSelected=0,this.lstGroupMember=[],this.ShowGroupMemberDetailsModel=!1,this.ShowSplitedPrintModel=!1,this.SlotBookingIdSelected=null,this.VCHRNO=null,this.ShowDialogSalesReturnModel=!1,this.IsSalesReturn=!1,this.IsSalesReturn=1==(null===(o=this.lsobjClinicMaster)||void 0===o?void 0:o.IsSalesReturn),this.getPageLevelAccess()}getPageLevelAccess(){var t,e,i=this.getUrlWithoutParams();"/common-dashboard"==i&&s.s.CallCenter===localStorage.getItem("userTypeId")?i="/patient/health-seekeer-registration":"/common-dashboard"==i&&s.s.Finance===localStorage.getItem("userTypeId")?i="/report/patient-billing-report":"/common-dashboard"==i&&s.s.Billing===localStorage.getItem("userTypeId")&&(i="/payment/extra-item-entry");var n=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==n?void 0:n.find(t=>t.MenuItemURL===i))&&(this.lstIAccess=null===(t=n.find(t=>t.MenuItemURL===i))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(t=>{this.lstIAccessStr.push(t.ActionId.toString())}))}getUrlWithoutParams(){let t=this.router.parseUrl(this.router.url);return t.queryParams={},t.fragment=null,t.toString()}ngOnInit(){}ngOnChanges(t){this.ShowInvoiceList()}ShowInvoiceList(){null!=this.slotBookingId&&null!=this.slotBookingId&&""!=this.slotBookingId?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetInvoiceListBySlotBookingId(this.slotBookingId,this.IsVisitor).subscribe({next:t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.lstInvoice=e=e||[],this.lsBillSplit=t.actionResult.stringVal}else this.lstInvoice=[]},error:t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}})):this._UtilityService.showWarningAlert("No record found")}EditTransaction(t,e,i,n,s){this.InvoiceNumberSelected=t,this.PhiscalIdSelected=e,this.DivisionSelected=i,this.SelectedInvType=n,this.NetAmount=s,"PaymentReceive"==n||"RefundPayment"==n||"CreditNote"==n?this.ShowEditTransactionDetailsModel=!0:this._UtilityService.showWarningAlert("Tax Invoice Transaction cannot be editable")}PrintInvoice(t,e,i,n,s){this.InvoiceNumberSelected=t,this.PhiscalIdSelected=e,this.DivisionSelected=i,this.SelectedInvType=n,this.StatusSelected=s,"PaymentReceive"==n||"RefundPayment"==n||"CreditNote"==n||"SalesReturn"==n?this.ShowPrintPaymentVoucherModel=!0:this.ShowPrintProfileModel=!0}ShowTransactionDetails(t,e,i){this.InvoiceNumberSelected=t,this.PhiscalIdSelected=e,this.DivisionSelected=i,this.ShowTransactionDetailsModel=!0}GetSuccessStatusEmit(t){1==t&&(this.ShowEditTransactionDetailsModel=!1)}ShowSplitVoucher(t,e){this.InvoiceNumberSelected=t,this.lstGroupMember=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetGroupMemberDetails(e).subscribe({next:t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.lstGroupMember=e=e||[],this.ShowGroupMemberDetailsModel=!0}else this.lstGroupMember=[]},error:t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}})}SubmitSplitBill(){var t;if((null===(t=this.lstGroupMember.filter(t=>1==t.Checked))||void 0===t?void 0:t.length)<2)this._UtilityService.showWarningAlert("Please Select Atleast 2 Group Member to Split Bill");else{var e={};e.lstSplit=this.lstGroupMember.filter(t=>1==t.Checked),e.VCHRNO=this.InvoiceNumberSelected,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.SplitBillonGroupMember(e).subscribe({next:t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success?(this._UtilityService.showSuccessAlert(t.actionResult.errMsg),this.ShowInvoiceList(),this.ShowGroupMemberDetailsModel=!1):this._UtilityService.showWarningAlert(t.actionResult.errMsg)},error:t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}})}}ShowSplitedVoucherList(t,e){this.SlotBookingIdSelected=e,this.VCHRNO=t,this.ShowSplitedPrintModel=!0}ShowSalesReturnModel(t,e){this.SlotBookingIdSelected=e,this.VCHRNO=t,this.ShowDialogSalesReturnModel=!0}EmitSuccessSalesReturn(t){1==t&&(this.ShowDialogSalesReturnModel=!1,this.ShowInvoiceList())}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(c.i),o.Sb(s.f),o.Sb(l.a),o.Sb(a.a))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-individual-invoice-list"]],inputs:{slotBookingId:"slotBookingId",IsVisitor:"IsVisitor",IsGrouped:"IsGrouped",BookingType:"BookingType",showIndividualInvoiceList:"showIndividualInvoiceList"},features:[o.Cb,o.Db],decls:31,vars:53,consts:[[1,"row","mb-4"],[1,"col-md-12"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["appendTo","body",3,"modal","visible","resizable","maximizable","visibleChange"],[4,"ngIf"],["header","Print Voucher","appendTo","body",3,"modal","visible","maximizable","visibleChange"],["header","Transaction Details","appendTo","body",3,"modal","visible","visibleChange"],["header","Edit Transaction Details","appendTo","body",3,"modal","visible","visibleChange"],["header","Group Member Details","appendTo","body",3,"modal","visible","visibleChange"],[1,"row"],["dt3",""],["pTemplate","footer"],["header","Print Splited Voucher","appendTo","body",3,"modal","visible","maximizable","visibleChange"],["header","Sales Return","appendTo","body",3,"modal","visible","maximizable","visibleChange"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["title","Print Voucher","class","fa fa-print mr-2",3,"click",4,"ngIf"],["title","Transaction Details","class","fa fa-list-alt mr-2",3,"click",4,"ngIf"],["title","Edit Transaction","class","fas fa-fw fa-pencil-alt",3,"click",4,"ngIf"],["title","Split Voucher","class","fas fa-people-arrows mr-2",3,"click",4,"ngIf"],["title","Print Splited Voucher","class","fa fa-money-bill mr-2",3,"click",4,"ngIf"],["title","Sales Return","class","fas fa-undo mr-2",3,"click",4,"ngIf"],["title","Print Voucher",1,"fa","fa-print","mr-2",3,"click"],["title","Transaction Details",1,"fa","fa-list-alt","mr-2",3,"click"],["title","Edit Transaction",1,"fas","fa-fw","fa-pencil-alt",3,"click"],["title","Split Voucher",1,"fas","fa-people-arrows","mr-2",3,"click"],["title","Print Splited Voucher",1,"fa","fa-money-bill","mr-2",3,"click"],["title","Sales Return",1,"fas","fa-undo","mr-2",3,"click"],[3,"IsVisitor","SelectedSlotBookingId","SelectedVCHRNO","SelectedPhiscalID","SelectedDivision","InvType","Status"],[3,"IsVisitor","SlotBookingIdSelected","InvoiceNumberSelected","PhiscalIdSelected","DivisionSelected"],[3,"IsVisitor","slotBookingId","SelectedVCHRNO","SelectedPhiscalID","SelectedDivision"],[3,"slotBookingId","SelectedVCHRNO","SelectedPhiscalID","SelectedDivision","NetAmount","GetSuccessStatusEmit"],[1,"field-checkbox"],[3,"ngModel","name","id","binary","disabled","ngModelChange"],[1,"col-md-9"],[1,"col-md-3"],["type","button",1,"btn","btn-new-primary","mr-2",3,"click"],[3,"SlotBookingIdSelected","VCHRNO"],[3,"SlotBookingIdSelected","VCHRNO","EmitSuccessSalesReturn"]],template:function(t,e){1&t&&(o.Yb(0,"div",0),o.Yb(1,"div",1),o.Yb(2,"p-table",2,3),o.Sc(4,O,6,0,"ng-template",4),o.Sc(5,V,3,1,"ng-template",5),o.Sc(6,L,13,0,"ng-template",6),o.Sc(7,Q,20,16,"ng-template",7),o.Xb(),o.Xb(),o.Xb(),o.Yb(8,"p-dialog",8),o.ic("visibleChange",function(t){return e.ShowPrintPaymentVoucherModel=t}),o.Sc(9,Z,2,1,"ng-template",6),o.Sc(10,K,2,7,"div",9),o.Xb(),o.Yb(11,"p-dialog",10),o.ic("visibleChange",function(t){return e.ShowPrintProfileModel=t}),o.Sc(12,z,2,5,"div",9),o.Xb(),o.Yb(13,"p-dialog",11),o.ic("visibleChange",function(t){return e.ShowTransactionDetailsModel=t}),o.Sc(14,q,2,5,"div",9),o.Xb(),o.Yb(15,"p-dialog",12),o.ic("visibleChange",function(t){return e.ShowEditTransactionDetailsModel=t}),o.Sc(16,J,2,5,"div",9),o.Xb(),o.Yb(17,"p-dialog",13),o.ic("visibleChange",function(t){return e.ShowGroupMemberDetailsModel=t}),o.Yb(18,"div",14),o.Yb(19,"div",1),o.Yb(20,"p-table",2,15),o.Sc(22,tt,6,0,"ng-template",4),o.Sc(23,et,3,1,"ng-template",5),o.Sc(24,it,7,0,"ng-template",6),o.Sc(25,nt,7,7,"ng-template",7),o.Sc(26,st,5,0,"ng-template",16),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Yb(27,"p-dialog",17),o.ic("visibleChange",function(t){return e.ShowSplitedPrintModel=t}),o.Sc(28,ot,2,2,"div",9),o.Xb(),o.Yb(29,"p-dialog",18),o.ic("visibleChange",function(t){return e.ShowDialogSalesReturnModel=t}),o.Sc(30,ct,2,2,"div",9),o.Xb()),2&t&&(o.Fb(2),o.tc("value",e.lstInvoice)("rowHover",!0)("globalFilterFields",o.yc(45,lt))("scrollable",!0),o.Fb(6),o.tc("modal",!0)("visible",e.ShowPrintPaymentVoucherModel)("resizable",!0)("maximizable",!0),o.Fb(2),o.tc("ngIf",e.ShowPrintPaymentVoucherModel),o.Fb(1),o.Pc(o.yc(46,at)),o.tc("modal",!0)("visible",e.ShowPrintProfileModel)("maximizable",!0),o.Fb(1),o.tc("ngIf",e.ShowPrintProfileModel),o.Fb(1),o.Pc(o.yc(47,rt)),o.tc("modal",!0)("visible",e.ShowTransactionDetailsModel),o.Fb(1),o.tc("ngIf",e.ShowTransactionDetailsModel),o.Fb(1),o.Pc(o.yc(48,rt)),o.tc("modal",!0)("visible",e.ShowEditTransactionDetailsModel),o.Fb(1),o.tc("ngIf",e.ShowEditTransactionDetailsModel),o.Fb(1),o.Pc(o.yc(49,rt)),o.tc("modal",!0)("visible",e.ShowGroupMemberDetailsModel),o.Fb(3),o.tc("value",e.lstGroupMember)("rowHover",!0)("globalFilterFields",o.yc(50,lt))("scrollable",!0),o.Fb(7),o.Pc(o.yc(51,at)),o.tc("modal",!0)("visible",e.ShowSplitedPrintModel)("maximizable",!0),o.Fb(1),o.tc("ngIf",e.ShowSplitedPrintModel),o.Fb(1),o.Pc(o.yc(52,at)),o.tc("modal",!0)("visible",e.ShowDialogSalesReturnModel)("maximizable",!0),o.Fb(1),o.tc("ngIf",e.ShowDialogSalesReturnModel))},directives:[r.c,b.i,d.a,u.p,h.a,m.a,p.a,T.a,M,x.a,I.o,I.r,B.a,w.a],pipes:[u.f,u.y],styles:[""]}),t})()},"e+Tu":function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i("fXoL"),s=i("CwUn"),o=i("NLkC"),c=i("G+wY"),l=i("Nach"),a=i("3Pt+"),r=i("ofXK"),b=i("Ks7X"),d=i("jIHw");const u=function(){return{width:"100%"}};function h(t,e){if(1&t){const t=n.Zb();n.Yb(0,"tr"),n.Yb(1,"td"),n.Yb(2,"input",8),n.ic("ngModelChange",function(t){return e.$implicit.IsChecked=t}),n.Xb(),n.Xb(),n.Yb(3,"td"),n.Uc(4),n.Xb(),n.Yb(5,"td"),n.Uc(6),n.Xb(),n.Yb(7,"td"),n.Uc(8),n.Xb(),n.Yb(9,"td"),n.Uc(10),n.Xb(),n.Yb(11,"td"),n.Uc(12),n.Xb(),n.Yb(13,"td"),n.Uc(14),n.Xb(),n.Yb(15,"td"),n.Yb(16,"p-inputNumber",9),n.ic("ngModelChange",function(t){return e.$implicit.ReQty=t})("onInput",function(i){n.Lc(t);const s=e.index;return n.mc().CalculateItemTotal(i,s)})("onBlur",function(){n.Lc(t);const i=e.index;return n.mc().CalculateItemTotalNew(i)}),n.Xb(),n.Xb(),n.Yb(17,"td"),n.Uc(18),n.nc(19,"number"),n.Xb(),n.Yb(20,"td"),n.Uc(21),n.nc(22,"number"),n.Xb(),n.Yb(23,"td"),n.Uc(24),n.nc(25,"number"),n.Xb(),n.Yb(26,"td"),n.Uc(27),n.nc(28,"number"),n.Xb(),n.Yb(29,"td"),n.Uc(30),n.nc(31,"number"),n.Xb(),n.Xb()}if(2&t){const t=e.$implicit,i=e.index;n.Fb(2),n.tc("disabled",0==t.AvQty)("ngModel",t.IsChecked),n.Fb(2),n.Wc(" ",t.MCODE," "),n.Fb(2),n.Wc(" ",t.Description," "),n.Fb(2),n.Vc(t.MRP),n.Fb(2),n.Vc(t.SPRICE),n.Fb(2),n.Vc(t.SoldQty),n.Fb(2),n.Vc(t.AvQty),n.Fb(2),n.Pc(n.yc(36,u)),n.vc("name","txtItemWiseQty_",i+1,""),n.tc("disabled",1!=t.IsChecked)("ngModel",t.ReQty)("min",0)("max",t.AvQty)("maxlength",10),n.Fb(2),n.Vc(n.pc(19,21,t.GST,"1.1-2")),n.Fb(3),n.Wc(" ",n.pc(22,24,t.Taxable,"1.1-2")," "),n.Fb(3),n.Wc(" ",n.pc(25,27,t.DiscPer,"1.1-2")," "),n.Fb(3),n.Wc(" ",n.pc(28,30,t.DiscAmnt,"1.1-2")," "),n.Fb(3),n.Wc(" ",n.pc(31,33,t.NetPayble,"1.1-2")," ")}}function m(t,e){if(1&t){const t=n.Zb();n.Yb(0,"p-button",10),n.ic("onClick",function(e){n.Lc(t);const i=n.mc();return e.stopPropagation(),i.SaveSalesReturn()}),n.Uc(1," Save "),n.Xb()}}let p=(()=>{class t extends s.a{constructor(t,e,i,s){super(),this._UtilityService=t,this.cdRef=e,this._PatientServices=i,this._ConstantServices=s,this.SlotBookingIdSelected=null,this.VCHRNO=null,this.EmitSuccessSalesReturn=new n.o,this.lstItemDetails=[],this.selectAllItem=!1,this.ItemTotalDiscount=0,this.ItemTotalTaxable=0,this.ItemTotalGST=0,this.TotalDiscount=0,this.TotalGST=0,this.TotalTaxable=0,this.ItemCheckedTotal=0,this.TotalSoldQty=0,this.TotalAvQty=0,this.TotalReQty=0,this.TotalNetPayble=0}ngOnInit(){}ngOnChanges(t){this.LoadAvailableItem()}LoadAvailableItem(){this.lstItemDetails=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetTIProdItemDueForSRE(this.SlotBookingIdSelected,this.VCHRNO).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.lstItemDetails=e=e||[],this.cdRef.detectChanges()}else this.lstItemDetails=[],this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}),this.cdRef.detectChanges()}getSelectAllItem(){var t;if(1==this.selectAllItem)for(var e=0;e<(null===(t=this.lstItemDetails)||void 0===t?void 0:t.length);e++)this.lstItemDetails[e].IsChecked=!0;else for(e=0;e<this.lstItemDetails.length;e++)this.lstItemDetails[e].IsChecked=!1;this.cdRef.detectChanges()}CalculateItemTotal(t,e){if(this._ConstantServices.nullToZeroConverter(t.value)>0){let c=this._ConstantServices.nullToZeroConverter(t.value);var i,n,s=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].SPRICE),o=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].DiscPer);i=o>0?s*c*o/100:0,n=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].GSTRATE)>0?(s*c-i)*this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].GSTRATE)/100:0,this.lstItemDetails[e].ReQty=c,this.lstItemDetails[e].GST=n,this.lstItemDetails[e].DiscAmnt=i,this.lstItemDetails[e].PriceWithGST=s*c-i+n,this.lstItemDetails[e].NetPayble=s*c-i+n,this.lstItemDetails[e].Taxable=s*c-i}else this.lstItemDetails[e].GST=0,this.lstItemDetails[e].DiscAmnt=0,this.lstItemDetails[e].PriceWithGST=0,this.lstItemDetails[e].NetPayble=0,this.lstItemDetails[e].Taxable=0;this.CalculateTotalItemPrice(),this.cdRef.detectChanges()}CalculateItemTotalNew(t){var e=this.lstItemDetails[t];if(this._ConstantServices.nullToZeroConverter(e.ReQty)>0){let c=this._ConstantServices.nullToZeroConverter(e.ReQty);var i,n,s=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].SPRICE),o=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].DiscPer);i=o>0?s*c*o/100:0,n=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].GSTRATE)>0?(s*c-i)*this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].GSTRATE)/100:0,this.lstItemDetails[t].ReQty=c,this.lstItemDetails[t].GST=n,this.lstItemDetails[t].DiscAmnt=i,this.lstItemDetails[t].PriceWithGST=s*c-i+n,this.lstItemDetails[t].NetPayble=s*c-i+n}else this.lstItemDetails[t].GST=0,this.lstItemDetails[t].DiscAmnt=0,this.lstItemDetails[t].PriceWithGST=0,this.lstItemDetails[t].NetPayble=0;this.CalculateTotalItemPrice(),this.cdRef.detectChanges()}CalculateTotalItemPrice(){if(this.ItemTotalDiscount=0,this.ItemTotalTaxable=0,this.ItemTotalGST=0,this.TotalDiscount=0,this.TotalGST=0,this.TotalTaxable=0,this.TotalSoldQty=0,this.TotalAvQty=0,this.TotalReQty=0,this.TotalNetPayble=0,null!=this.lstItemDetails.filter(t=>1==t.IsChecked&&t.ReQty>0)){var t=this.lstItemDetails.filter(t=>1==t.IsChecked&&t.ReQty>0),e=0;t.length>0&&(e=t.map(t=>t.PriceWithGST).reduce((t,e)=>t+e,0)),this.ItemCheckedTotal=e,t.map(t=>{this.ItemTotalDiscount=this.ItemTotalDiscount+this._ConstantServices.nullToZeroConverter(t.DiscAmnt),this.ItemTotalTaxable=this.ItemTotalTaxable+this._ConstantServices.nullToZeroConverter(t.Taxable),this.ItemTotalGST=this.ItemTotalGST+this._ConstantServices.nullToZeroConverter(t.GST),this.TotalSoldQty=this.TotalSoldQty+this._ConstantServices.nullToZeroConverter(t.SoldQty),this.TotalAvQty=this.TotalAvQty+this._ConstantServices.nullToZeroConverter(t.AvQty),this.TotalReQty=this.TotalReQty+this._ConstantServices.nullToZeroConverter(t.ReQty),this.TotalNetPayble=this.TotalNetPayble+this._ConstantServices.nullToZeroConverter(t.NetPayble)}),this.cdRef.detectChanges()}}SaveSalesReturn(){var t;if(0!=(null===(t=this.lstItemDetails.filter(t=>1==t.IsChecked&&t.ReQty>0))||void 0===t?void 0:t.length))if(this.TotalNetPayble<=0)this._UtilityService.showWarningAlert("Return Amount less");else{var e={};e.lstReturnDTO=this.lstItemDetails.filter(t=>1==t.IsChecked&&t.ReQty>0),e.ModifiedBy=localStorage.getItem("userId"),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.SaveSalesReturn(e).subscribe(t=>{this._UtilityService.hideSpinner(),1==t.actionResult.success?(this.EmitSuccessSalesReturn.emit(!0),this._UtilityService.showSuccessAlert(t.actionResult.errMsg)):this._UtilityService.showWarningAlert(t.actionResult.errMsg)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}else this._UtilityService.showWarningAlert("Please Check Any Item to return")}}return t.\u0275fac=function(e){return new(e||t)(n.Sb(o.a),n.Sb(n.h),n.Sb(c.a),n.Sb(l.f))},t.\u0275cmp=n.Mb({type:t,selectors:[["app-sales-return"]],inputs:{SlotBookingIdSelected:"SlotBookingIdSelected",VCHRNO:"VCHRNO"},outputs:{EmitSuccessSalesReturn:"EmitSuccessSalesReturn"},features:[n.Cb,n.Db],decls:67,vars:31,consts:[[1,"row"],[1,"col-md-12"],[1,"table","table-striped","table-bordered",2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"col-md-10"],[1,"col-md-2",2,"text-align","right"],["type","button","class","print-prew",3,"onClick",4,"ngIf"],["type","checkbox","name","chkExtraItem",3,"disabled","ngModel","ngModelChange"],["mode","decimal",3,"disabled","name","ngModel","min","max","maxlength","ngModelChange","onInput","onBlur"],["type","button",1,"print-prew",3,"onClick"]],template:function(t,e){1&t&&(n.Yb(0,"div",0),n.Yb(1,"div",1),n.Yb(2,"table",2),n.Yb(3,"thead"),n.Yb(4,"tr"),n.Yb(5,"th"),n.Yb(6,"input",3),n.ic("ngModelChange",function(t){return e.selectAllItem=t})("change",function(){return e.getSelectAllItem()}),n.Xb(),n.Xb(),n.Yb(7,"th"),n.Uc(8,"Item Code"),n.Xb(),n.Yb(9,"th"),n.Uc(10,"Item Details"),n.Xb(),n.Yb(11,"th"),n.Uc(12,"Rate"),n.Xb(),n.Yb(13,"th"),n.Uc(14,"Selling Price"),n.Xb(),n.Yb(15,"th"),n.Uc(16,"Sold Qty"),n.Xb(),n.Yb(17,"th"),n.Uc(18,"Available Qty"),n.Xb(),n.Yb(19,"th"),n.Uc(20,"Return Qty"),n.Xb(),n.Yb(21,"th"),n.Uc(22,"GST"),n.Xb(),n.Yb(23,"th"),n.Uc(24,"Taxable"),n.Xb(),n.Yb(25,"th"),n.Uc(26,"Discount %"),n.Xb(),n.Yb(27,"th"),n.Uc(28,"Discount Amount"),n.Xb(),n.Yb(29,"th"),n.Uc(30,"Net Amount"),n.Xb(),n.Xb(),n.Xb(),n.Yb(31,"tbody"),n.Sc(32,h,32,37,"tr",4),n.Yb(33,"tr"),n.Tb(34,"td"),n.Tb(35,"td"),n.Yb(36,"td"),n.Yb(37,"b"),n.Uc(38,"Total"),n.Xb(),n.Xb(),n.Tb(39,"td"),n.Tb(40,"td"),n.Yb(41,"td"),n.Uc(42),n.nc(43,"number"),n.Xb(),n.Yb(44,"td"),n.Uc(45),n.nc(46,"number"),n.Xb(),n.Yb(47,"td"),n.Uc(48),n.nc(49,"number"),n.Xb(),n.Yb(50,"td"),n.Uc(51),n.nc(52,"number"),n.Xb(),n.Yb(53,"td"),n.Uc(54),n.nc(55,"number"),n.Xb(),n.Tb(56,"td"),n.Yb(57,"td"),n.Uc(58),n.nc(59,"number"),n.Xb(),n.Yb(60,"td"),n.Uc(61),n.nc(62,"number"),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Xb(),n.Yb(63,"div",0),n.Tb(64,"div",5),n.Yb(65,"div",6),n.Sc(66,m,2,0,"p-button",7),n.Xb(),n.Xb()),2&t&&(n.Fb(6),n.tc("ngModel",e.selectAllItem),n.Fb(26),n.tc("ngForOf",e.lstItemDetails),n.Fb(10),n.Vc(n.pc(43,10,e.TotalSoldQty,"1.1-2")),n.Fb(3),n.Vc(n.pc(46,13,e.TotalAvQty,"1.1-2")),n.Fb(3),n.Vc(n.pc(49,16,e.TotalReQty,"1.1-2")),n.Fb(3),n.Vc(n.pc(52,19,e.ItemTotalGST,"1.1-2")),n.Fb(3),n.Vc(n.pc(55,22,e.ItemTotalTaxable,"1.1-2")),n.Fb(4),n.Vc(n.pc(59,25,e.ItemTotalDiscount,"1.1-2")),n.Fb(3),n.Vc(n.pc(62,28,e.TotalNetPayble,"1.1-2")),n.Fb(5),n.tc("ngIf",e.TotalNetPayble>0))},directives:[a.a,a.o,a.r,r.o,r.p,b.a,a.j,d.a],pipes:[r.g],styles:[""]}),t})()},jhiP:function(t,e,i){"use strict";i.d(e,"a",function(){return P});var n=i("Nach"),s=i("CwUn"),o=i("fXoL"),c=i("dcBc"),l=i("G+wY"),a=i("NLkC"),r=i("Q8Cd"),b=i("sCq/"),d=i("ofXK");function u(t,e){1&t&&(o.Yb(0,"th",11),o.Uc(1,"Dis %"),o.Xb())}function h(t,e){1&t&&(o.Yb(0,"th",11),o.Uc(1," Dis Amount"),o.Xb())}function m(t,e){if(1&t&&(o.Yb(0,"td",28),o.Uc(1),o.nc(2,"number"),o.Xb()),2&t){const t=o.mc().$implicit;o.Fb(1),o.Wc(" ",o.pc(2,1,t.INDDISCOUNTRATE,"1.1-2"),"")}}function p(t,e){if(1&t&&(o.Yb(0,"td",28),o.Uc(1),o.nc(2,"number"),o.Xb()),2&t){const t=o.mc().$implicit;o.Fb(1),o.Wc(" ",o.pc(2,1,t.INDDISCOUNT,"1.1-2")," ")}}function T(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",28),o.Uc(2),o.Xb(),o.Yb(3,"td",28),o.Uc(4),o.Xb(),o.Yb(5,"td",28),o.Uc(6),o.Xb(),o.Yb(7,"td",28),o.Uc(8),o.Xb(),o.Yb(9,"td",28),o.Uc(10),o.nc(11,"number"),o.Xb(),o.Sc(12,m,3,4,"td",29),o.Sc(13,p,3,4,"td",29),o.Yb(14,"td",28),o.Uc(15),o.nc(16,"number"),o.Xb(),o.Xb()),2&t){const t=e.$implicit,i=e.index,n=o.mc();o.Fb(2),o.Wc(" ",i+1,""),o.Fb(2),o.Wc(" ",t.SELECTEDITEM.HSNCODE,""),o.Fb(2),o.Wc(" ",null==t.FGENERIC||null==t.FGENERIC||"0 x 0"==t.FGENERIC||0==n.IsRoomDesc?t.DESCRIPTION:"Treatment ("+t.DESCRIPTION+")",""),o.Fb(2),o.Wc(" ",t.AltQty,""),o.Fb(2),o.Wc(" ",o.pc(11,8,t.MRP,"1.1-2"),""),o.Fb(2),o.tc("ngIf",n.ItemWiseTotalDisAmount>0),o.Fb(1),o.tc("ngIf",n.ItemWiseTotalDisAmount>0),o.Fb(2),o.Wc(" ",o.pc(16,11,t.MRP*t.AltQty-t.INDDISCOUNT,"1.1-2"),"")}}function S(t,e){1&t&&o.Tb(0,"td",30)}function f(t,e){1&t&&o.Tb(0,"td",30)}function I(t,e){1&t&&o.Tb(0,"td",30)}function g(t,e){if(1&t&&(o.Yb(0,"tr"),o.Sc(1,I,1,0,"td",17),o.Yb(2,"td",21),o.Yb(3,"b"),o.Uc(4),o.nc(5,"number"),o.Xb(),o.Xb(),o.Yb(6,"td"),o.Uc(7),o.nc(8,"number"),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(1),o.tc("ngIf",t.ItemWiseTotalDisAmount>0&&t.TotalFlatDiscount>0),o.Fb(3),o.Wc("Bill Wise Dis Amount (",o.pc(5,3,t.BillWiseDiscountPer,"1.2-2")," %):"),o.Fb(3),o.Vc(o.pc(8,6,t.TotalFlatDiscount,"1.1-2"))}}function v(t,e){1&t&&o.Tb(0,"td",30)}function X(t,e){1&t&&(o.Yb(0,"th",34),o.Uc(1,"Transaction By"),o.Xb())}function D(t,e){if(1&t&&(o.Yb(0,"td",39),o.Uc(1),o.Xb()),2&t){const t=o.mc().$implicit;o.Fb(1),o.Wc(" ",t.DepositPatient," ")}}function Y(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",39),o.Uc(2),o.nc(3,"titlecase"),o.Xb(),o.Yb(4,"td",39),o.Uc(5),o.nc(6,"titlecase"),o.Xb(),o.Sc(7,D,2,1,"td",40),o.Yb(8,"td",39),o.Uc(9),o.Xb(),o.Yb(10,"td",39),o.Uc(11),o.nc(12,"date"),o.Xb(),o.Yb(13,"td",39),o.Uc(14),o.nc(15,"date"),o.Xb(),o.Yb(16,"td",39),o.Uc(17),o.nc(18,"number"),o.Xb(),o.Xb()),2&t){const t=e.$implicit,i=o.mc(3);o.Fb(2),o.Xc(" ",o.oc(3,9,t.TrnMode)," ","Bank Transfer"==t.TrnMode&&null!=t.BankName?" - "+t.BankName:""," "),o.Fb(3),o.Xc(" ",o.oc(6,11,t.InvType)," ",null==t.RequestTypeStatus||""==t.RequestTypeStatus?"":t.RequestTypeStatus," "),o.Fb(2),o.tc("ngIf",1==i.lsobjClinicMaster.IsShowTranPatient),o.Fb(2),o.Wc(" ",t.TransactionId," "),o.Fb(2),o.Wc(" ",o.pc(12,13,t.TrnDate,i.customDateFormat.DEF_DATE)," "),o.Fb(3),o.Wc(" ",o.pc(15,16,t.CreatedOn,i.customDateFormat.DEF_DATE)," "),o.Fb(3),o.Wc(" ",o.pc(18,19,"Refund"==t.InvType?-t.Amount:t.Amount,"1.1-2")," ")}}function y(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"th",41),o.Uc(2," Total Refund"),o.Xb(),o.Yb(3,"th",38),o.Uc(4),o.nc(5,"number"),o.Xb(),o.Xb()),2&t){const t=o.mc(3);o.Fb(1),o.tc("colSpan",1==t.lsobjClinicMaster.IsShowTranPatient?6:5),o.Fb(3),o.Wc(" ",o.pc(5,2,t.TotalRefund,"1.1-2"),"")}}function C(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"th",41),o.Uc(2," Total Balance"),o.Xb(),o.Yb(3,"th",38),o.Uc(4),o.nc(5,"number"),o.Xb(),o.Xb()),2&t){const t=o.mc(3);o.Fb(1),o.tc("colSpan",1==t.lsobjClinicMaster.IsShowTranPatient?6:5),o.Fb(3),o.Wc(" ",o.pc(5,2,t.TotalReceive-(null==t.TrnMain[0]?null:t.TrnMain[0].NETAMNT)-t.TotalRefund>0?-(t.TotalReceive-(null==t.TrnMain[0]?null:t.TrnMain[0].NETAMNT)-t.TotalRefund):t.TotalReceive-(null==t.TrnMain[0]?null:t.TrnMain[0].NETAMNT)-t.TotalRefund,"1.1-2")," ")}}function N(t,e){if(1&t&&(o.Yb(0,"table",32),o.Yb(1,"thead",10),o.Yb(2,"tr",33),o.Yb(3,"th",34),o.Uc(4,"Payment Mode"),o.Xb(),o.Yb(5,"th",34),o.Uc(6,"Type"),o.Xb(),o.Sc(7,X,2,0,"th",35),o.Yb(8,"th",34),o.Uc(9,"TransactionId"),o.Xb(),o.Yb(10,"th",34),o.Uc(11,"Transaction Date"),o.Xb(),o.Yb(12,"th",34),o.Uc(13,"Receipt Date"),o.Xb(),o.Yb(14,"th",34),o.Uc(15,"Amount"),o.Xb(),o.Xb(),o.Xb(),o.Yb(16,"tbody",10),o.Sc(17,Y,19,22,"tr",14),o.Yb(18,"tr"),o.Yb(19,"th",36),o.Uc(20,"\xa0"),o.Xb(),o.Xb(),o.Yb(21,"tr"),o.Yb(22,"th",37),o.Uc(23," Total Receive"),o.Xb(),o.Yb(24,"th",38),o.Uc(25),o.nc(26,"number"),o.Xb(),o.Xb(),o.Sc(27,y,6,5,"tr",20),o.Sc(28,C,6,5,"tr",20),o.Xb(),o.Xb()),2&t){const t=o.mc(2);o.Fb(7),o.tc("ngIf",1==t.lsobjClinicMaster.IsShowTranPatient),o.Fb(10),o.tc("ngForOf",t.TenderInfo),o.Fb(2),o.tc("colSpan",1==t.lsobjClinicMaster.IsShowTranPatient?7:6),o.Fb(3),o.tc("colSpan",1==t.lsobjClinicMaster.IsShowTranPatient?6:5),o.Fb(3),o.Wc(" ",o.pc(26,7,t.TotalReceive,"1.1-2"),""),o.Fb(2),o.tc("ngIf",t.TotalRefund>0),o.Fb(1),o.tc("ngIf",t.TenderInfo.length>0&&t.lsobjClinicMaster.IsTIBriefSummary)}}function R(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",31),o.Sc(2,N,29,10,"table",23),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(2),o.tc("ngIf",t.TenderInfo.length>0)}}function U(t,e){1&t&&(o.Yb(0,"table",5),o.Yb(1,"tbody"),o.Yb(2,"tr"),o.Yb(3,"td",34),o.Yb(4,"strong"),o.Uc(5,"Brief Summary"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb())}function A(t,e){if(1&t&&(o.Yb(0,"table",32),o.Yb(1,"thead",10),o.Yb(2,"tr",33),o.Yb(3,"th",34),o.Uc(4,"Added Rs"),o.Xb(),o.Yb(5,"th",34),o.Uc(6,"Concession Rs"),o.Xb(),o.Yb(7,"th",34),o.Uc(8,"Total Due Rs"),o.Xb(),o.Yb(9,"th",34),o.Uc(10,"Deposited Rs"),o.Xb(),o.Yb(11,"th",34),o.Uc(12,"Refund Rs"),o.Xb(),o.Yb(13,"th",34),o.Uc(14,"Balance Rs"),o.Xb(),o.Xb(),o.Xb(),o.Yb(15,"tbody",10),o.Yb(16,"tr"),o.Yb(17,"td",39),o.Uc(18),o.nc(19,"number"),o.Xb(),o.Yb(20,"td",39),o.Uc(21),o.nc(22,"number"),o.Xb(),o.Yb(23,"td",39),o.Uc(24),o.nc(25,"number"),o.Xb(),o.Yb(26,"td",39),o.Uc(27),o.nc(28,"number"),o.Xb(),o.Yb(29,"td",39),o.Uc(30),o.nc(31,"number"),o.Xb(),o.Yb(32,"td",39),o.Uc(33),o.nc(34,"number"),o.Xb(),o.Xb(),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(18),o.Wc(" ",o.pc(19,6,(null==t.TrnMain[0]?null:t.TrnMain[0].NETAMNT)+t.TotalDiscount,"1.1-2")," "),o.Fb(3),o.Wc(" ",o.pc(22,9,t.TotalDiscount,"1.1-2")," "),o.Fb(3),o.Wc(" ",o.pc(25,12,null==t.TrnMain[0]?null:t.TrnMain[0].NETAMNT,"1.1-2")," "),o.Fb(3),o.Wc(" ",o.pc(28,15,t.TotalReceive,"1.1-2")," "),o.Fb(3),o.Wc(" ",o.pc(31,18,t.TotalRefund,"1.1-2")," "),o.Fb(3),o.Wc(" ",o.pc(34,21,t.TotalReceive-(null==t.TrnMain[0]?null:t.TrnMain[0].NETAMNT)-t.TotalRefund>0?-(t.TotalReceive-(null==t.TrnMain[0]?null:t.TrnMain[0].NETAMNT)-t.TotalRefund):t.TotalReceive-(null==t.TrnMain[0]?null:t.TrnMain[0].NETAMNT)-t.TotalRefund,"1.1-2")," ")}}function F(t,e){1&t&&(o.Yb(0,"table",5),o.Yb(1,"tbody"),o.Yb(2,"tr"),o.Yb(3,"td",42),o.Yb(4,"strong"),o.Uc(5,"Bill Is Fully Settled"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb())}let P=(()=>{class t extends s.a{constructor(t,e,i,s){super(),this.cdRef=t,this._MasterServices=e,this._PatientServices=i,this._UtilityService=s,this.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,this.IsVisitor=!1,this.customDateFormat=n.h,this.TrnMain=[],this.ProdList=[],this.ShowBatchExpiry=!1,this.lstItem=[],this.TotalAmount=0,this.ItemWiseTotalDisAmount=0,this.BillWiseDiscountPer=0,this.TenderInfo=[],this.TotalFlatDiscount=0,this.TotalDiscount=0,this.RoomNumber=0,this.LstRoomCountByMCode=[],this.IsRoomDesc=!0,this.TotalReceive=0,this.TotalRefund=0,this.IsLetterhead="false"}ngOnChanges(t){this.IsVisitor?this.LoadVisitorInvoiceData():this.LoadInvoiceData()}ngOnInit(){}LoadVisitorInvoiceData(){this.TotalReceive=0,this.TotalRefund=0,this.TenderInfo=[],this.TrnMain=[],this.ProdList=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.LoadVisitorInvoiceData(this.SlotBookingIdSelected,this.InvoiceNumberSelected,this.PhiscalIdSelected,this.DivisionSelected).subscribe(t=>{var e,i,n;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var s=t.actionResult.result;if(this.TrnMain=s=s||[],this.ProdList=this.TrnMain[0].ProdList,(null===(e=this.ProdList.filter(t=>"Treatment/Medicated food charges"==t.DESCRIPTION||"Treatment Charges"==t.DESCRIPTION))||void 0===e?void 0:e.length)>0&&(this.IsRoomDesc=!1),this.TotalAmount=0,this.ProdList.map(t=>{this.TotalAmount=this.TotalAmount+(t.MRP*t.AltQty-t.INDDISCOUNT),this.ItemWiseTotalDisAmount=this.ItemWiseTotalDisAmount+t.INDDISCOUNT,this.TotalFlatDiscount=this.TotalFlatDiscount+t.FLATDISCOUNT}),this.BillWiseDiscountPer=100*this.TotalFlatDiscount/this.TotalAmount,null!=t.actionResult.result2&&null!=t.actionResult.result2&&(null===(i=t.actionResult.result2)||void 0===i?void 0:i.length)>0){var o=JSON.parse(t.actionResult.result2);this.TenderInfo=o=o||[],(null===(n=this.TenderInfo)||void 0===n?void 0:n.length)>0&&(this.TenderInfo.map(t=>{"Receive"==t.InvType&&(this.TotalReceive=this.TotalReceive+parseFloat(t.Amount)),"Refund"==t.InvType&&(this.TotalRefund=this.TotalRefund+parseFloat(t.Amount))}),this.cdRef.detectChanges())}}this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}LoadInvoiceData(){this.TotalReceive=0,this.TotalRefund=0,this.TenderInfo=[],this.TrnMain=[],this.ProdList=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.LoadInvoiceData(this.SlotBookingIdSelected,this.InvoiceNumberSelected,this.PhiscalIdSelected,this.DivisionSelected).subscribe(t=>{var e,i,n;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){this.LoadRoomCount();var s=t.actionResult.result;if(this.TrnMain=s=s||[],this.ProdList=this.TrnMain[0].ProdList,(null===(e=this.ProdList.filter(t=>"Treatment/Medicated food charges"==t.DESCRIPTION||"Treatment Charges"==t.DESCRIPTION))||void 0===e?void 0:e.length)>0&&(this.IsRoomDesc=!1),this.TotalAmount=0,this.ProdList.map(t=>{this.TotalAmount=this.TotalAmount+(t.MRP*t.AltQty-t.INDDISCOUNT),this.ItemWiseTotalDisAmount=this.ItemWiseTotalDisAmount+t.INDDISCOUNT,this.TotalFlatDiscount=this.TotalFlatDiscount+t.FLATDISCOUNT}),this.BillWiseDiscountPer=100*this.TotalFlatDiscount/this.TotalAmount,this.TotalDiscount=this.ItemWiseTotalDisAmount+this.TotalFlatDiscount,null!=t.actionResult.result2&&null!=t.actionResult.result2&&(null===(i=t.actionResult.result2)||void 0===i?void 0:i.length)>0){var o=JSON.parse(t.actionResult.result2);this.TenderInfo=o=o||[],(null===(n=this.TenderInfo)||void 0===n?void 0:n.length)>0&&(this.TenderInfo.map(t=>{"Receive"==t.InvType&&(this.TotalReceive=this.TotalReceive+parseFloat(t.Amount)),"Refund"==t.InvType&&(this.TotalRefund=this.TotalRefund+parseFloat(t.Amount))}),this.cdRef.detectChanges())}}this.cdRef.detectChanges()},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}LoadRoomCount(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetBookingQuantityVoucherDetailsById(this.SlotBookingIdSelected,this.InvoiceNumberSelected).subscribe(t=>{if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.LstRoomCountByMCode=e=e||[],this.LstRoomCountByMCode.map(t=>{var e=this.ProdList.findIndex(e=>e.MCODE===t.MCODE);e>=0&&(this.ProdList[e].FGENERIC=t.NightCount.toString()+" x "+t.RoomCount.toString())})}},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}ShowHideBatchExpiry(t=[]){t.length>0&&(t.map(t=>{var e={};e.MCODE=t.MCODE,this.lstItem.push(e)}),this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.CheckItemIsRoom(this.lstItem).subscribe(t=>{this._UtilityService.hideSpinner(),this.ShowBatchExpiry=1!=t.actionResult.success},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}))}onselectedLetterhead(t){this.IsLetterhead=t}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(o.h),o.Sb(c.a),o.Sb(l.a),o.Sb(a.a))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-print-profile"]],inputs:{IsVisitor:"IsVisitor",SlotBookingIdSelected:"SlotBookingIdSelected",InvoiceNumberSelected:"InvoiceNumberSelected",PhiscalIdSelected:"PhiscalIdSelected",DivisionSelected:"DivisionSelected"},features:[o.Cb,o.Db],decls:98,vars:42,consts:[[3,"IsLetterhead","IsNgxPrint","onselectedLetterhead"],["id","print-section",1,"row"],[1,"col-md-12"],[3,"IsVisitor","slotBookingId","IsGroup","IsGST","IsLetterhead"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","font-size","15px"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box"],[2,"background-color","#d3d3d3"],[2,"padding","5px"],[2,"text-align","right","padding","5px"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","10px","overflow-x","scroll"],["align","Center"],[2,"padding","6px","border-left","1px solid #d3d3d3"],["style","padding: 6px;border-left: 1px solid #d3d3d3;",4,"ngIf"],[2,"padding","6px","border-left","1px solid #d3d3d3","border-right","1px solid #d3d3d3"],[4,"ngFor","ngForOf"],["colspan","3","align","right",2,"padding","2px"],[2,"padding","2px"],["colspan","2",4,"ngIf"],["align","right",2,"padding","2px"],["colspan","4","align","left",2,"padding","2px"],[4,"ngIf"],["colspan","5","align","right",2,"padding","2px"],["style","width: 100%; margin: 0 auto; box-sizing: border-box;","cellpadding","0","cellspacing","0",4,"ngIf"],["style","width: 100%; margin: 0 auto; box-sizing: border-box; border: 1px solid #d3d3d3; margin-top: 5px;","cellpadding","0","cellspacing","0",4,"ngIf"],[2,"width","100%","line-height","80px"],[2,"width","60%"],[2,"width","40%"],[1,"mt-3"],[2,"padding","6px 0","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3"],["style","padding: 6px 0; border-left: 1px solid #d3d3d3; border-bottom: 1px solid #d3d3d3;border-top: 1px solid #d3d3d3;",4,"ngIf"],["colspan","2"],["colspan","8"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","5px"],[2,"background","#d3d3d3"],[2,"padding","6px"],["style","padding: 6px;",4,"ngIf"],[3,"colSpan"],[2,"padding","6px 10px","border-left","1px solid #d5d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3","text-align","right",3,"colSpan"],[2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3"],[2,"padding","6px 0","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["style","padding: 6px 0; border-left: 1px solid #d3d3d3; border-bottom: 1px solid #d3d3d3;",4,"ngIf"],[2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3","text-align","right",3,"colSpan"],["align","Center",2,"padding","6px"]],template:function(t,e){1&t&&(o.Yb(0,"app-print-access-header",0),o.ic("onselectedLetterhead",function(t){return e.onselectedLetterhead(t)}),o.Xb(),o.Yb(1,"div",1),o.Yb(2,"div",2),o.Tb(3,"app-print-header",3),o.Yb(4,"table",4),o.Yb(5,"tbody"),o.Yb(6,"tr"),o.Yb(7,"table",5),o.Yb(8,"tbody"),o.Yb(9,"tr",6),o.Yb(10,"td",7),o.Yb(11,"strong"),o.Uc(12," Bill of Supply No: "),o.Yb(13,"span"),o.Uc(14),o.Xb(),o.Xb(),o.Xb(),o.Yb(15,"td",8),o.Yb(16,"b"),o.Uc(17,"Bill of Supply Date: "),o.Xb(),o.Yb(18,"span"),o.Uc(19),o.nc(20,"date"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Yb(21,"table",9),o.Yb(22,"thead",10),o.Yb(23,"tr",6),o.Yb(24,"th",11),o.Uc(25,"S.No"),o.Xb(),o.Yb(26,"th",11),o.Uc(27,"HSN/SAC"),o.Xb(),o.Yb(28,"th",11),o.Uc(29,"Description"),o.Xb(),o.Yb(30,"th",11),o.Uc(31,"QTY"),o.Xb(),o.Yb(32,"th",11),o.Uc(33,"MRP"),o.Xb(),o.Sc(34,u,2,0,"th",12),o.Sc(35,h,2,0,"th",12),o.Yb(36,"th",13),o.Uc(37," Amount"),o.Xb(),o.Xb(),o.Xb(),o.Yb(38,"tbody",10),o.Sc(39,T,17,14,"tr",14),o.Yb(40,"tr"),o.Yb(41,"td",15),o.Yb(42,"b"),o.Uc(43,"No of item:"),o.Xb(),o.Xb(),o.Yb(44,"td",16),o.Uc(45),o.nc(46,"number"),o.Xb(),o.Sc(47,S,1,0,"td",17),o.Yb(48,"td",18),o.Yb(49,"b"),o.Uc(50,"Total Amount:"),o.Xb(),o.Xb(),o.Yb(51,"td"),o.Uc(52),o.nc(53,"number"),o.Xb(),o.Xb(),o.Yb(54,"tr"),o.Yb(55,"td",19),o.Yb(56,"b"),o.Uc(57,"Amount in words:"),o.Xb(),o.Uc(58),o.Xb(),o.Sc(59,f,1,0,"td",17),o.Yb(60,"td",18),o.Yb(61,"b"),o.Uc(62,"Round Off:"),o.Xb(),o.Xb(),o.Yb(63,"td"),o.Uc(64),o.nc(65,"number"),o.Xb(),o.Xb(),o.Sc(66,g,9,9,"tr",20),o.Tb(67,"tr"),o.Yb(68,"tr"),o.Sc(69,v,1,0,"td",17),o.Yb(70,"td",21),o.Yb(71,"b"),o.Uc(72,"Total:"),o.Xb(),o.Xb(),o.Yb(73,"td"),o.Uc(74),o.nc(75,"number"),o.Xb(),o.Xb(),o.Sc(76,R,3,1,"tr",20),o.Xb(),o.Xb(),o.Sc(77,U,6,0,"table",22),o.Sc(78,A,35,24,"table",23),o.Sc(79,F,6,0,"table",22),o.Yb(80,"table",5),o.Yb(81,"tbody"),o.Yb(82,"tr",24),o.Yb(83,"td",25),o.Yb(84,"b"),o.Uc(85,"Health Seeker's Signature: ................................"),o.Xb(),o.Xb(),o.Yb(86,"td",26),o.Yb(87,"b"),o.Uc(88,"Authorised Signatory: ................................"),o.Xb(),o.Xb(),o.Xb(),o.Yb(89,"tr"),o.Yb(90,"td",25),o.Yb(91,"b"),o.Uc(92,"Prepared By: .........................................................."),o.Xb(),o.Xb(),o.Yb(93,"td",26),o.Yb(94,"b"),o.Uc(95,"Checked By: ...................................................."),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Yb(96,"div",27),o.Yb(97,"app-print-access-header",0),o.ic("onselectedLetterhead",function(t){return e.onselectedLetterhead(t)}),o.Xb(),o.Xb()),2&t&&(o.tc("IsLetterhead",e.IsLetterhead)("IsNgxPrint",!0),o.Fb(3),o.tc("IsVisitor",e.IsVisitor)("slotBookingId",e.SlotBookingIdSelected)("IsGroup",!0)("IsGST",!0)("IsLetterhead",e.IsLetterhead),o.Fb(11),o.Vc(null==e.TrnMain[0]?null:e.TrnMain[0].VCHRNO),o.Fb(5),o.Vc(o.pc(20,27,null==e.TrnMain[0]?null:e.TrnMain[0].TRNDATE,e.customDateFormat.DEF_DATE)),o.Fb(15),o.tc("ngIf",e.ItemWiseTotalDisAmount>0),o.Fb(1),o.tc("ngIf",e.ItemWiseTotalDisAmount>0),o.Fb(4),o.tc("ngForOf",e.ProdList),o.Fb(6),o.Vc(o.pc(46,30,null==e.TrnMain[0]?null:e.TrnMain[0].TotalQuantity,"1.0-0")),o.Fb(2),o.tc("ngIf",e.ItemWiseTotalDisAmount>0),o.Fb(5),o.Wc("",o.pc(53,33,e.TotalAmount,"1.1-2")," "),o.Fb(6),o.Wc(" ",null==e.TrnMain[0]?null:e.TrnMain[0].NETAMOUNTINWORD,""),o.Fb(1),o.tc("ngIf",e.ItemWiseTotalDisAmount>0),o.Fb(5),o.Vc(o.pc(65,36,null==e.TrnMain[0]?null:e.TrnMain[0].RoundOffAmount,"1.1-2")),o.Fb(2),o.tc("ngIf",e.TotalFlatDiscount>0),o.Fb(3),o.tc("ngIf",e.ItemWiseTotalDisAmount>0),o.Fb(5),o.Wc("",o.pc(75,39,null==e.TrnMain[0]?null:e.TrnMain[0].NETAMNT,"1.1-2")," "),o.Fb(2),o.tc("ngIf",e.TenderInfo.length>0),o.Fb(1),o.tc("ngIf",e.TenderInfo.length>0&&e.lsobjClinicMaster.IsTIBriefSummary),o.Fb(1),o.tc("ngIf",e.TenderInfo.length>0&&e.lsobjClinicMaster.IsTIBriefSummary),o.Fb(1),o.tc("ngIf",e.TenderInfo.length>0&&e.lsobjClinicMaster.IsTIBriefSummary),o.Fb(18),o.tc("IsLetterhead",e.IsLetterhead)("IsNgxPrint",!0))},directives:[r.a,b.a,d.p,d.o],pipes:[d.f,d.g,d.y],styles:[""]}),t})()},kcK2:function(t,e,i){"use strict";i.d(e,"a",function(){return O});var n=i("ofXK"),s=i("tyNb"),o=i("btFH"),c=i("fXoL");const l=[{path:"",component:o.a}];let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[s.l.forChild(l)],s.l]}),t})();var r=i("rEr+"),b=i("jIHw"),d=i("7kUa"),u=i("/RsI"),h=i("ELi9"),m=i("QbTu"),p=i("Qcri");const T=[];let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[s.l.forChild(T)],s.l]}),t})();var f=i("Ks7X"),I=i("eO1q"),g=i("lVkt"),v=i("3Pt+");let X=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[n.c,S,v.i,r.f,b.c,d.b,u.b,f.b,I.b,g.b]]}),t})();var D=i("Ji6n");const Y=[{path:"",component:i("ykst").a}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[s.l.forChild(Y)],s.l]}),t})();var C=i("m1XX"),N=i("9XlL"),R=i("ycwT"),U=i("QoE7");let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[n.c,y,C.b,N.a,R.a,U.a]]}),t})();const F=[{path:"",component:i("e+Tu").a}];let P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[s.l.forChild(F)],s.l]}),t})();var k=i("Q4Mo"),M=i("arFO"),x=i("Nf9I"),B=i("LuMj");let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[n.c,P,v.i,v.v,r.f,b.c,k.b,M.b,d.b,I.b,x.b,f.b,B.b]]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({imports:[[n.c,a,v.i,r.f,b.c,d.b,u.b,h.a,m.a,p.a,X,D.b,A,w]]}),t})()},ykst:function(t,e,i){"use strict";i.d(e,"a",function(){return T});var n=i("CwUn"),s=i("Nach"),o=i("fXoL"),c=i("NLkC"),l=i("G+wY"),a=i("ofXK"),r=i("sCq/"),b=i("Q8Cd");function d(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div"),o.Yb(1,"app-print-access-header",27),o.ic("onselectedLetterhead",function(e){return o.Lc(t),o.mc().onselectedLetterhead(e)}),o.Xb(),o.Xb()}if(2&t){const t=o.mc();o.Fb(1),o.tc("IsLetterhead",t.IsLetterhead)("IsNgxPrint",!0)}}function u(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",18),o.Uc(2),o.nc(3,"date"),o.Xb(),o.Yb(4,"td",18),o.Uc(5),o.Xb(),o.Yb(6,"td",18),o.Uc(7),o.Xb(),o.Yb(8,"td",18),o.Uc(9),o.nc(10,"number"),o.Xb(),o.Yb(11,"td",18),o.Uc(12),o.Xb(),o.Yb(13,"td",18),o.Uc(14),o.nc(15,"number"),o.Xb(),o.Yb(16,"td",18),o.Uc(17),o.nc(18,"number"),o.Xb(),o.Yb(19,"td",18),o.Uc(20),o.nc(21,"number"),o.Xb(),o.Xb()),2&t){const t=e.$implicit,i=o.mc();o.Fb(2),o.Wc(" ",o.pc(3,8,t.PurchaseDate,i.customDateFormat.DEF_DATE)," "),o.Fb(3),o.Wc(" ",t.MRNo," "),o.Fb(2),o.Wc(" ",t.Description,""),o.Fb(2),o.Wc(" ",o.pc(10,11,t.MRP,"1.1-2"),""),o.Fb(3),o.Wc(" ",t.Qty,""),o.Fb(2),o.Wc(" ",o.pc(15,14,t.PriceWithGST,"1.1-2"),""),o.Fb(3),o.Wc(" ",o.pc(18,17,t.DiscountAmount,"1.1-2")," "),o.Fb(3),o.Wc(" ",o.pc(21,20,t.NetPayble,"1.1-2")," ")}}function h(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td",18),o.Uc(2),o.nc(3,"titlecase"),o.Xb(),o.Yb(4,"td",18),o.Uc(5),o.nc(6,"date"),o.Xb(),o.Yb(7,"td",18),o.Uc(8),o.nc(9,"titlecase"),o.Xb(),o.Yb(10,"td",18),o.Uc(11),o.nc(12,"titlecase"),o.Xb(),o.Yb(13,"td",18),o.Uc(14),o.nc(15,"number"),o.Xb(),o.Xb()),2&t){const t=e.$implicit,i=o.mc(2);o.Fb(2),o.Wc(" ",o.oc(3,5,t.TrnMode)," "),o.Fb(3),o.Wc(" ",o.pc(6,7,t.TrnDate,i.customDateFormat.DEF_DATE)," "),o.Fb(3),o.Wc(" ",o.oc(9,10,t.InvType)," "),o.Fb(3),o.Wc(" ",o.oc(12,12,t.TransactionId)," "),o.Fb(3),o.Wc(" ",o.pc(15,14,t.Amount,"1.1-2")," ")}}function m(t,e){if(1&t&&(o.Yb(0,"table",11),o.Yb(1,"thead",12),o.Yb(2,"tr",13),o.Yb(3,"th",14),o.Uc(4,"Payment Mode"),o.Xb(),o.Yb(5,"th",14),o.Uc(6,"Date"),o.Xb(),o.Yb(7,"th",14),o.Uc(8,"Type"),o.Xb(),o.Yb(9,"th",14),o.Uc(10,"TransactionId"),o.Xb(),o.Yb(11,"th",14),o.Uc(12,"Amount"),o.Xb(),o.Xb(),o.Xb(),o.Yb(13,"tbody",12),o.Sc(14,h,16,17,"tr",16),o.Yb(15,"tr"),o.Yb(16,"th",28),o.Uc(17," Total Receive"),o.Xb(),o.Yb(18,"th",29),o.Uc(19),o.nc(20,"number"),o.Xb(),o.Xb(),o.Yb(21,"tr"),o.Yb(22,"th",28),o.Uc(23," Total Refund"),o.Xb(),o.Yb(24,"th",29),o.Uc(25),o.nc(26,"number"),o.Xb(),o.Xb(),o.Xb(),o.Xb()),2&t){const t=o.mc();o.Fb(14),o.tc("ngForOf",t.TenderInfo),o.Fb(5),o.Wc(" ",o.pc(20,3,t.TotalReceive,"1.1-2"),""),o.Fb(6),o.Wc(" ",o.pc(26,6,t.TotalRefund,"1.1-2"),"")}}function p(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div",30),o.Yb(1,"app-print-access-header",27),o.ic("onselectedLetterhead",function(e){return o.Lc(t),o.mc().onselectedLetterhead(e)}),o.Xb(),o.Xb()}if(2&t){const t=o.mc();o.Fb(1),o.tc("IsLetterhead",t.IsLetterhead)("IsNgxPrint",!0)}}let T=(()=>{class t extends n.a{constructor(t,e){super(),this._UtilityService=t,this._PatientServices=e,this.SlotBookingIdSelected=null,this.VCHRNO=null,this.IsLetterhead="false",this.RecordInput=0,this.ProdList=[],this.TenderInfo=[],this.lstTenderDetails=[],this.TotalReceive=0,this.TotalRefund=0,this.NetPayble=0,this.TotalQuantity=0,this.TotalAmount=0,this.ItemWiseTotalDisAmount=0,this.BillWiseDiscountPer=0,this.customDateFormat=s.h}ngOnInit(){}ngOnChanges(){this.LoadSplitProdDetails()}onselectedLetterhead(t){this.IsLetterhead=t}LoadSplitProdDetails(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetSplitedVoucherList(this.SlotBookingIdSelected,this.VCHRNO).subscribe({next:t=>{var e,i;if(this._UtilityService.hideSpinner(),1==t.actionResult.success){var n=JSON.parse(t.actionResult.result);if(this.ProdList=n=n||[],this.ProdList.map(t=>{this.TotalQuantity=this.TotalQuantity+t.Qty,this.TotalAmount=this.TotalAmount+t.PriceWithGST,this.ItemWiseTotalDisAmount=this.ItemWiseTotalDisAmount+t.DiscountAmount,this.NetPayble=this.NetPayble+t.NetPayble}),this.NetPayble=Math.round(this.NetPayble),null!=t.actionResult.result2&&null!=t.actionResult.result2&&(null===(e=t.actionResult.result2)||void 0===e?void 0:e.length)>0){var s=JSON.parse(t.actionResult.result2);if(this.TenderInfo=s=s||[],(null===(i=this.TenderInfo)||void 0===i?void 0:i.length)>0){let t=this.NetPayble,e=this.TenderInfo.map(t=>t.Amount).reduce(function(t,e){return t+e}),i=t-e;for(let n of this.TenderInfo)n.Amount+=n.Amount/e*i;this.TenderInfo.map(t=>{"Receive"==t.InvType&&(this.TotalReceive=this.TotalReceive+parseFloat(t.Amount)),"Refund"==t.InvType&&(this.TotalRefund=this.TotalRefund+parseFloat(t.Amount))})}}}else this.ProdList=[],this._UtilityService.showWarningAlert(t.actionResult.errMsg)},error:t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)}})}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(c.a),o.Sb(l.a))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-split-print-voucher"]],inputs:{SlotBookingIdSelected:"SlotBookingIdSelected",VCHRNO:"VCHRNO"},features:[o.Cb,o.Db],decls:125,vars:52,consts:[[1,"container"],[4,"ngIf"],["id","print-section",1,"row"],[1,"col-md-12"],[3,"slotBookingId","IsGST","IsLetterhead"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","font-size","15px"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box"],[2,"background-color","#d3d3d3"],[2,"padding","5px"],[2,"text-align","right","padding","5px"],[1,"mt-2"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","10px"],["align","Center"],[2,"background","#d3d3d3"],[2,"padding","6px"],[2,"padding","6px","text-align","right"],[4,"ngFor","ngForOf"],["colspan","4","align","right",2,"padding","2px"],[2,"padding","6px 0","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["style","width: 100%; margin: 0 auto; box-sizing: border-box; border: 1px solid #d3d3d3; margin-top: 10px;","cellpadding","0","cellspacing","0",4,"ngIf"],[1,"mt-5","text-center"],[2,"font-size","larger"],[1,"w-100","mt-10"],["width","50%",1,"text-left"],["width","50%",1,"text-right"],[1,"w-100","mt-15"],["class","mt-3",4,"ngIf"],[3,"IsLetterhead","IsNgxPrint","onselectedLetterhead"],["colspan","4",2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3","text-align","right"],[2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3"],[1,"mt-3"]],template:function(t,e){1&t&&(o.Yb(0,"article"),o.Yb(1,"div",0),o.Sc(2,d,2,2,"div",1),o.Yb(3,"div",2),o.Yb(4,"div",3),o.Tb(5,"app-print-header",4),o.Yb(6,"table",5),o.Yb(7,"tbody"),o.Yb(8,"tr"),o.Yb(9,"table",6),o.Yb(10,"tbody"),o.Yb(11,"tr",7),o.Yb(12,"td",8),o.Yb(13,"strong"),o.Uc(14," Bill No: "),o.Yb(15,"span"),o.Uc(16),o.Xb(),o.Xb(),o.Xb(),o.Yb(17,"td",9),o.Yb(18,"b"),o.Uc(19,"Bill Date: "),o.Xb(),o.Yb(20,"span"),o.Uc(21),o.nc(22,"date"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Yb(23,"p",10),o.Yb(24,"strong"),o.Uc(25,"Detail of Charges"),o.Xb(),o.Xb(),o.Yb(26,"table",11),o.Yb(27,"thead",12),o.Yb(28,"tr",13),o.Yb(29,"th",14),o.Uc(30,"Date"),o.Xb(),o.Yb(31,"th",14),o.Uc(32,"MR No"),o.Xb(),o.Yb(33,"th",14),o.Uc(34,"Descriptions"),o.Xb(),o.Yb(35,"th",14),o.Uc(36,"Charges Rs"),o.Xb(),o.Yb(37,"th",14),o.Uc(38,"Qty"),o.Xb(),o.Yb(39,"th",14),o.Uc(40,"Amount Rs"),o.Xb(),o.Yb(41,"th",14),o.Uc(42,"Concession Rs"),o.Xb(),o.Yb(43,"th",15),o.Uc(44,"Total Amount Rs"),o.Xb(),o.Xb(),o.Xb(),o.Yb(45,"tbody",12),o.Sc(46,u,22,23,"tr",16),o.Yb(47,"tr"),o.Yb(48,"td",17),o.Yb(49,"b"),o.Uc(50,"No of item:"),o.Xb(),o.Xb(),o.Yb(51,"th",18),o.Uc(52),o.nc(53,"number"),o.Xb(),o.Yb(54,"th",18),o.Uc(55),o.nc(56,"number"),o.Xb(),o.Yb(57,"th",18),o.Uc(58),o.nc(59,"number"),o.Xb(),o.Yb(60,"th",18),o.Uc(61),o.nc(62,"number"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Yb(63,"p",10),o.Yb(64,"strong"),o.Uc(65,"Detail of Receipts"),o.Xb(),o.Xb(),o.Sc(66,m,27,9,"table",19),o.Yb(67,"p",10),o.Yb(68,"strong"),o.Uc(69,"Brief Summary:"),o.Xb(),o.Xb(),o.Yb(70,"table",11),o.Yb(71,"thead",12),o.Yb(72,"tr",13),o.Yb(73,"th",14),o.Uc(74,"Charges Rs"),o.Xb(),o.Yb(75,"th",14),o.Uc(76,"Concession Rs"),o.Xb(),o.Yb(77,"th",14),o.Uc(78,"Total Due Rs"),o.Xb(),o.Yb(79,"th",14),o.Uc(80,"Deposited Rs"),o.Xb(),o.Yb(81,"th",14),o.Uc(82,"Refund Rs"),o.Xb(),o.Yb(83,"th",14),o.Uc(84,"Balance Rs"),o.Xb(),o.Xb(),o.Xb(),o.Yb(85,"tbody",12),o.Yb(86,"tr"),o.Yb(87,"td",18),o.Uc(88),o.nc(89,"number"),o.Xb(),o.Yb(90,"td",18),o.Uc(91),o.nc(92,"number"),o.Xb(),o.Yb(93,"td",18),o.Uc(94),o.nc(95,"number"),o.Xb(),o.Yb(96,"td",18),o.Uc(97),o.nc(98,"number"),o.Xb(),o.Yb(99,"td",18),o.Uc(100),o.nc(101,"number"),o.Xb(),o.Yb(102,"td",18),o.Uc(103),o.nc(104,"number"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Yb(105,"p",20),o.Yb(106,"strong",21),o.Uc(107,"Bill is Fully Settled"),o.Xb(),o.Xb(),o.Yb(108,"table",22),o.Yb(109,"tr"),o.Yb(110,"td",23),o.Yb(111,"span"),o.Uc(112,"Health Seeker's Signature: ..........................."),o.Xb(),o.Xb(),o.Yb(113,"td",24),o.Yb(114,"span"),o.Uc(115,"Authorised Signatory: ..........................."),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Yb(116,"table",25),o.Yb(117,"tr"),o.Yb(118,"td",23),o.Yb(119,"span"),o.Uc(120,"Prepared By: ..................................."),o.Xb(),o.Xb(),o.Yb(121,"td",24),o.Yb(122,"span"),o.Uc(123,"Checked By: ......................................."),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Sc(124,p,2,2,"div",26),o.Xb(),o.Xb()),2&t&&(o.Fb(2),o.tc("ngIf",0==e.RecordInput),o.Fb(3),o.tc("slotBookingId",e.SlotBookingIdSelected)("IsGST",!0)("IsLetterhead",e.IsLetterhead),o.Fb(11),o.Vc(null==e.ProdList[0]?null:e.ProdList[0].SONumber),o.Fb(5),o.Vc(o.pc(22,19,null==e.ProdList[0]?null:e.ProdList[0].BillDate,e.customDateFormat.DEF_DATE)),o.Fb(25),o.tc("ngForOf",e.ProdList),o.Fb(6),o.Vc(o.pc(53,22,e.TotalQuantity,"1.0-0")),o.Fb(3),o.Vc(o.pc(56,25,e.TotalAmount,"1.1-2")),o.Fb(3),o.Wc("",o.pc(59,28,e.ItemWiseTotalDisAmount,"1.1-2")," "),o.Fb(3),o.Vc(o.pc(62,31,e.NetPayble,"1.1-2")),o.Fb(5),o.tc("ngIf",e.TenderInfo.length>0),o.Fb(22),o.Wc(" \u20b9",o.pc(89,34,e.TotalAmount,"1.1-2")," "),o.Fb(3),o.Wc(" \u20b9",o.pc(92,37,e.ItemWiseTotalDisAmount,"1.1-2")," "),o.Fb(3),o.Wc(" \u20b9",o.pc(95,40,e.NetPayble,"1.1-2")," "),o.Fb(3),o.Wc(" \u20b9",o.pc(98,43,e.NetPayble,"1.1-2")," "),o.Fb(3),o.Wc(" \u20b9",o.pc(101,46,0,"1.1-2")," "),o.Fb(3),o.Wc(" \u20b9",o.pc(104,49,0,"1.1-2")," "),o.Fb(21),o.tc("ngIf",0==e.RecordInput))},directives:[a.p,r.a,a.o,b.a],pipes:[a.f,a.g,a.y],styles:[""]}),t})()}}]);