!function(){function t(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return c=t.done,t},e:function(t){l=!0,a=t},f:function(){try{c||null==i.return||i.return()}finally{if(l)throw a}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"9b74":function(t,e,i){"use strict";i.d(e,"a",function(){return U});var a=i("fXoL"),l=i("CwUn"),s=i("Nach"),b=i("tyNb"),d=i("G+wY"),u=i("NLkC"),h=i("rEr+"),m=i("7zfz"),p=i("ofXK"),f=i("7kUa");function T(t,e){if(1&t){var n=a.Zb();a.Yb(0,"div",13),a.Tb(1,"span",14),a.Yb(2,"span",15),a.Yb(3,"span",16),a.Tb(4,"i",17),a.Yb(5,"input",18),a.ic("input",function(t){return a.Lc(n),a.mc(),a.Ic(3).filterGlobal(t.target.value,"contains")}),a.Xb(),a.Xb(),a.Xb(),a.Xb()}}function v(t,e){if(1&t&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2," No records found "),a.Xb(),a.Xb()),2&t){var n=e.$implicit;a.Fb(1),a.Gb("colspan",null==n?null:n.length)}}function S(t,e){1&t&&(a.Yb(0,"tr"),a.Yb(1,"th"),a.Uc(2,"S.No"),a.Xb(),a.Yb(3,"th"),a.Uc(4,"Payment Mode"),a.Xb(),a.Yb(5,"th"),a.Uc(6,"Receive / Refund Date"),a.Xb(),a.Yb(7,"th"),a.Uc(8,"Transaction Date"),a.Xb(),a.Yb(9,"th"),a.Uc(10,"Transaction Id"),a.Xb(),a.Yb(11,"th"),a.Uc(12,"Card Holder Name"),a.Xb(),a.Yb(13,"th"),a.Uc(14,"Card Number"),a.Xb(),a.Yb(15,"th"),a.Uc(16,"Amount"),a.Xb(),a.Yb(17,"th"),a.Uc(18,"Remarks"),a.Xb(),a.Xb())}function I(t,e){if(1&t&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2),a.Xb(),a.Yb(3,"td"),a.Uc(4),a.nc(5,"titlecase"),a.Xb(),a.Yb(6,"td"),a.Uc(7),a.nc(8,"date"),a.Xb(),a.Yb(9,"td"),a.Uc(10),a.nc(11,"date"),a.Xb(),a.Yb(12,"td"),a.Uc(13),a.Xb(),a.Yb(14,"td"),a.Uc(15),a.Xb(),a.Yb(16,"td"),a.Uc(17),a.Xb(),a.Yb(18,"td"),a.Uc(19),a.Xb(),a.Yb(20,"td"),a.Uc(21),a.Xb(),a.Xb()),2&t){var n=e.$implicit,i=e.rowIndex,o=a.mc();a.Fb(2),a.Vc(i+1),a.Fb(2),a.Vc(a.oc(5,9,n.TrnMode)),a.Fb(3),a.Vc(a.pc(8,11,n.ReceivedDate,o.customDateFormat.DEF_DATE)),a.Fb(3),a.Vc(a.pc(11,14,n.CreatedOn,o.customDateFormat.DEF_DATE)),a.Fb(3),a.Vc(n.TransactionId),a.Fb(2),a.Vc(n.CardHolderName),a.Fb(2),a.Vc(n.CardNo),a.Fb(2),a.Vc(n.Amount),a.Fb(2),a.Vc(n.Remarks)}}function g(t,e){if(1&t&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2," No records found "),a.Xb(),a.Xb()),2&t){var n=e.$implicit;a.Fb(1),a.Gb("colspan",n.length)}}function y(t,e){1&t&&(a.Yb(0,"tr"),a.Yb(1,"th"),a.Uc(2,"Bank Name"),a.Xb(),a.Yb(3,"th"),a.Uc(4,"Transaction Id"),a.Xb(),a.Yb(5,"th"),a.Uc(6,"Account Number"),a.Xb(),a.Yb(7,"th"),a.Uc(8,"Account Holder Name"),a.Xb(),a.Yb(9,"th"),a.Uc(10,"IFSC Code"),a.Xb(),a.Xb())}function X(t,e){if(1&t&&(a.Yb(0,"tr"),a.Yb(1,"td"),a.Uc(2),a.Xb(),a.Yb(3,"td"),a.Uc(4),a.Xb(),a.Yb(5,"td"),a.Uc(6),a.Xb(),a.Yb(7,"td"),a.Uc(8),a.Xb(),a.Yb(9,"td"),a.Uc(10),a.Xb(),a.Xb()),2&t){var n=e.$implicit;a.Fb(2),a.Vc(n.BankName),a.Fb(2),a.Vc(n.TransactionId),a.Fb(2),a.Vc(n.AccNumber),a.Fb(2),a.Vc(n.AccHolderName),a.Fb(2),a.Vc(n.IFSCCode)}}function D(t,e){if(1&t&&(a.Yb(0,"div",0),a.Yb(1,"div",1),a.Yb(2,"p-table",19,20),a.Sc(4,g,3,1,"ng-template",5),a.Sc(5,y,11,0,"ng-template",6),a.Sc(6,X,11,5,"ng-template",7),a.Xb(),a.Xb(),a.Xb()),2&t){var n=a.mc();a.Fb(2),a.tc("value",n.lstTransaction)("rowHover",!0)("scrollable",!0)}}function Y(t,e){if(1&t&&(a.Yb(0,"div",23),a.Yb(1,"div",1),a.Yb(2,"p",24),a.Uc(3),a.Xb(),a.Xb(),a.Xb()),2&t){var n=e.$implicit,i=e.index;a.Fb(3),a.Zc("",i+1,") ",n.patientName," (MR No. - ",n.mrNo,") (Booking Number. - ",n.bookingNumber,")")}}function C(t,e){if(1&t&&(a.Yb(0,"div",21),a.Yb(1,"div",1),a.Sc(2,Y,4,4,"div",22),a.Xb(),a.Xb()),2&t){var n=a.mc();a.Fb(2),a.tc("ngForOf",n.lstGroupInfo)}}function N(t,e){if(1&t){var n=a.Zb();a.Yb(0,"a",25),a.ic("click",function(){return a.Lc(n),a.mc().DownloadDepositSlip()}),a.Uc(1,"Download Transaction Slip"),a.Xb()}}var R=function(){return["TrnMode","CardHolderName","CardNo","Amount"]},U=function(){var t=function(t){r(i,t);var e=c(i);function i(t,o,r,c){var l;return n(this,i),(l=e.call(this)).router=t,l._ConstantsService=o,l._PatientServices=r,l._UtilityService=c,l.IsVisitor=!1,l.slotBookingId=null,l.SelectedVCHRNO=null,l.SelectedPhiscalID=null,l.SelectedDivision=null,l.GetShowTransactionDetailsModel=new a.o,l.customDateFormat=s.h,l.userTypes=s.s,l.lstTransaction=[],l.lstGroupInfo=[],l.IsRefundVoucher=!1,l.DepositSlipLink=null,l.ActionList=s.a,l.lstIAccess=[],l.lstIAccessStr=[],l.getPageLevelAccess(),l}return o(i,[{key:"getPageLevelAccess",value:function(){var t,e,n=this,i=this.getUrlWithoutParams();"/common-dashboard"==i&&s.s.CallCenter===localStorage.getItem("userTypeId")?i="/patient/health-seekeer-registration":"/common-dashboard"==i&&s.s.Finance===localStorage.getItem("userTypeId")?i="/report/patient-billing-report":"/common-dashboard"==i&&s.s.Billing===localStorage.getItem("userTypeId")&&(i="/payment/extra-item-entry");var o=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==o?void 0:o.find(function(t){return t.MenuItemURL===i}))&&(this.lstIAccess=null===(t=o.find(function(t){return t.MenuItemURL===i}))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(function(t){n.lstIAccessStr.push(t.ActionId.toString())}))}},{key:"getUrlWithoutParams",value:function(){var t=this.router.parseUrl(this.router.url);return t.queryParams={},t.fragment=null,t.toString()}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){this.ShowTransactionDetails()}},{key:"ShowTransactionDetails",value:function(){var t=this;if(this.IsRefundVoucher=!1,this.lstTransaction=[],this.DepositSlipLink=null,null!=this.slotBookingId&&null!=this.slotBookingId&&""!=this.slotBookingId&&null!=this.SelectedVCHRNO&&null!=this.SelectedVCHRNO&&""!=this.SelectedVCHRNO&&null!=this.SelectedPhiscalID&&null!=this.SelectedPhiscalID&&""!=this.SelectedPhiscalID&&null!=this.SelectedDivision&&null!=this.SelectedDivision&&""!=this.SelectedDivision){this._UtilityService.showSpinner();var e=this._PatientServices.GetTransactionDetailsByVCHRNumber(this.slotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision);this.IsVisitor&&(e=this._PatientServices.GetVisitorTransactionDetailsByVCHRNumber(this.slotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision)),this.unsubscribe.add=e.subscribe({next:function(e){var n;if(t._UtilityService.hideSpinner(),1==e.actionResult.success&&null!=e.actionResult.result){var i=JSON.parse(e.actionResult.result);if(t.lstTransaction=i=i||[],(null===(n=t.lstTransaction)||void 0===n?void 0:n.length)>0&&t.lstTransaction[0].VoucherNumber.toString().includes("JV")&&null!=t.lstTransaction[0].IFSCCode&&null!=t.lstTransaction[0].IFSCCode&&""!=t.lstTransaction[0].IFSCCode&&(t.IsRefundVoucher=!0),null!=e.actionResult.result4[0]){var o=e.actionResult.result4[0];t.lstGroupInfo=o=o||[]}null!=e.actionResult.stringVal&&(t.DepositSlipLink=t._ConstantsService.BaseURIFileServer+"FolderTransaction/"+e.actionResult.stringVal),t.GetShowTransactionDetailsModel.emit(!0)}},error:function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)}})}else this._UtilityService.showWarningAlert("No record found")}},{key:"DownloadDepositSlip",value:function(){window.open(this.DepositSlipLink)}}]),i}(l.a);return t.\u0275fac=function(e){return new(e||t)(a.Sb(b.i),a.Sb(s.f),a.Sb(d.a),a.Sb(u.a))},t.\u0275cmp=a.Mb({type:t,selectors:[["app-individual-transaction-list"]],inputs:{IsVisitor:"IsVisitor",slotBookingId:"slotBookingId",SelectedVCHRNO:"SelectedVCHRNO",SelectedPhiscalID:"SelectedPhiscalID",SelectedDivision:"SelectedDivision"},outputs:{GetShowTransactionDetailsModel:"GetShowTransactionDetailsModel"},features:[a.Cb,a.Db],decls:14,vars:8,consts:[[1,"row","mb-4"],[1,"col-md-12"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["class","row mb-4",4,"ngIf"],["class","row m-0 mb-4",4,"ngIf"],[1,"col-md-9","text-left"],[3,"click",4,"ngIf"],[1,"col-md-3"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","scrollable"],["dt2",""],[1,"row","m-0","mb-4"],["class","row mb-2",4,"ngFor","ngForOf"],[1,"row","mb-2"],[2,"margin","6px 0 2px","font-size","10"],[3,"click"]],template:function(t,e){1&t&&(a.Yb(0,"div",0),a.Yb(1,"div",1),a.Yb(2,"p-table",2,3),a.Sc(4,T,6,0,"ng-template",4),a.Sc(5,v,3,1,"ng-template",5),a.Sc(6,S,19,0,"ng-template",6),a.Sc(7,I,22,17,"ng-template",7),a.Xb(),a.Xb(),a.Xb(),a.Sc(8,D,7,3,"div",8),a.Sc(9,C,3,1,"div",9),a.Yb(10,"div",0),a.Yb(11,"div",10),a.Sc(12,N,2,0,"a",11),a.Xb(),a.Tb(13,"div",12),a.Xb()),2&t&&(a.Fb(2),a.tc("value",e.lstTransaction)("rowHover",!0)("globalFilterFields",a.yc(7,R))("scrollable",!0),a.Fb(6),a.tc("ngIf",e.IsRefundVoucher),a.Fb(1),a.tc("ngIf",e.lstGroupInfo.length>0),a.Fb(3),a.tc("ngIf",(null==e.lstIAccessStr?null:e.lstIAccessStr.includes(e.ActionList.Download.toString()))&&null!=e.DepositSlipLink))},directives:[h.c,m.i,p.p,f.a,p.o],pipes:[p.y,p.f],styles:[""]}),t}()},ELi9:function(t,e,i){"use strict";i.d(e,"a",function(){return f});var o,r,a=i("ofXK"),c=i("tyNb"),l=i("KkSF"),s=i("fXoL"),b=[{path:"",component:l.a}],d=((o=function t(){n(this,t)}).\u0275fac=function(t){return new(t||o)},o.\u0275mod=s.Qb({type:o}),o.\u0275inj=s.Pb({imports:[[c.l.forChild(b)],c.l]}),o),u=i("3Pt+"),h=i("QoE7"),m=i("9XlL"),p=i("ycwT"),f=((r=function t(){n(this,t)}).\u0275fac=function(t){return new(t||r)},r.\u0275mod=s.Qb({type:r}),r.\u0275inj=s.Pb({imports:[[a.c,d,u.i,h.a,m.a,p.a]]}),r)},KkSF:function(t,e,i){"use strict";i.d(e,"a",function(){return H});var a=i("CwUn"),l=i("Nach"),s=i("fXoL"),b=i("G+wY"),d=i("NLkC"),u=i("Q8Cd"),h=i("sCq/"),m=i("ofXK"),p=i("Yh3i");function f(t,e){if(1&t&&(s.Yb(0,"tr",7),s.Yb(1,"td",8),s.Yb(2,"b"),s.Uc(3,"Payment Mode: "),s.Xb(),s.Yb(4,"span"),s.Uc(5),s.Xb(),s.Xb(),s.Yb(6,"td",9),s.Yb(7,"b"),s.Uc(8),s.Xb(),s.Yb(9,"span"),s.Uc(10),s.nc(11,"number"),s.Xb(),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(5),s.Vc(n.VoucherInfo.PayMode),s.Fb(3),s.Wc("","RefundPayment"==n.InvType?"Refunded":"CreditNote"==n.InvType?"Credit Note":"Received"," Amount: "),s.Fb(2),s.Vc(s.pc(11,3,n.VoucherInfo.NetProfit,"1.1-2"))}}function T(t,e){if(1&t&&(s.Yb(0,"p"),s.Yb(1,"b"),s.Uc(2,"Reference Tax Invoice Number: "),s.Xb(),s.Yb(3,"span"),s.Uc(4),s.Xb(),s.Xb()),2&t){var n=s.mc(2);s.Fb(4),s.Vc(n.VoucherInfo.RefTaxInvNumber)}}function v(t,e){if(1&t&&(s.Yb(0,"p"),s.Yb(1,"b"),s.Uc(2," Reference Tax Invoice Date: "),s.Xb(),s.Yb(3,"span"),s.Uc(4),s.nc(5,"date"),s.Xb(),s.Xb()),2&t){var n=s.mc(2);s.Fb(4),s.Vc(s.pc(5,1,n.VoucherInfo.RefTaxInvoiceDate,n.customDateFormat.DEF_DATE))}}function S(t,e){if(1&t&&(s.Yb(0,"tr",7),s.Yb(1,"td",8),s.Sc(2,T,5,1,"p",20),s.Xb(),s.Yb(3,"td",9),s.Sc(4,v,6,4,"p",20),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(2),s.tc("ngIf",null!=(null==n.VoucherInfo?null:n.VoucherInfo.RefTaxInvNumber)&&null!=(null==n.VoucherInfo?null:n.VoucherInfo.RefTaxInvNumber)),s.Fb(2),s.tc("ngIf",null!=(null==n.VoucherInfo?null:n.VoucherInfo.RefTaxInvoiceDate)&&null!=(null==n.VoucherInfo?null:n.VoucherInfo.RefTaxInvoiceDate))}}function I(t,e){if(1&t&&(s.Yb(0,"p"),s.Yb(1,"b"),s.Uc(2),s.Xb(),s.Yb(3,"span"),s.Uc(4),s.Xb(),s.Xb()),2&t){var n=s.mc(2);s.Fb(2),s.Wc("","RefundPayment"==n.InvType?"Refund":"CreditNote"==n.InvType?"Credit":"Receive"," Application Number: "),s.Fb(2),s.Vc(n.VoucherInfo.CRDocumentNumber)}}function g(t,e){if(1&t&&(s.Yb(0,"p"),s.Yb(1,"b"),s.Uc(2),s.Xb(),s.Yb(3,"span"),s.Uc(4),s.Xb(),s.Xb()),2&t){var n=s.mc(2);s.Fb(2),s.Wc("","RefundPayment"==n.InvType?"Refund":"CreditNote"==n.InvType?"Credit":"Receive"," UTR Number: "),s.Fb(2),s.Vc(n.VoucherInfo.CRUTRNumber)}}function y(t,e){if(1&t&&(s.Yb(0,"tr",7),s.Yb(1,"td",8),s.Sc(2,I,5,2,"p",20),s.Xb(),s.Yb(3,"td",9),s.Sc(4,g,5,2,"p",20),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(2),s.tc("ngIf",null!=(null==n.VoucherInfo?null:n.VoucherInfo.CRDocumentNumber)&&null!=(null==n.VoucherInfo?null:n.VoucherInfo.CRDocumentNumber)),s.Fb(2),s.tc("ngIf",null!=(null==n.VoucherInfo?null:n.VoucherInfo.CRUTRNumber)&&null!=(null==n.VoucherInfo?null:n.VoucherInfo.CRUTRNumber))}}function X(t,e){if(1&t&&(s.Yb(0,"p"),s.Yb(1,"b"),s.Uc(2,"Purpose: "),s.Xb(),s.Yb(3,"span"),s.Uc(4),s.Xb(),s.Xb()),2&t){var n=s.mc(2);s.Fb(4),s.Vc(n.VoucherInfo.CreditReason)}}function D(t,e){if(1&t&&(s.Yb(0,"tr",7),s.Yb(1,"td",8),s.Sc(2,X,5,1,"p",20),s.Xb(),s.Tb(3,"td",9),s.Xb()),2&t){var n=s.mc();s.Fb(2),s.tc("ngIf",null!=(null==n.VoucherInfo?null:n.VoucherInfo.CreditReason)&&null!=(null==n.VoucherInfo?null:n.VoucherInfo.CreditReason))}}function Y(t,e){if(1&t&&(s.Yb(0,"td",34),s.Uc(1),s.nc(2,"number"),s.Xb()),2&t){var n=s.mc().$implicit;s.Fb(1),s.Wc(" ",s.pc(2,1,n.MRP,"1.1-2"),"")}}function C(t,e){1&t&&s.Tb(0,"td",34)}function N(t,e){if(1&t&&(s.Yb(0,"td",34),s.Uc(1),s.Xb()),2&t){var n=s.mc().$implicit;s.Fb(1),s.Wc(" ",n.Qty,"")}}function R(t,e){1&t&&s.Tb(0,"td",34)}function U(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td",30),s.Uc(2),s.Xb(),s.Yb(3,"td",31),s.Uc(4),s.Xb(),s.Sc(5,Y,3,4,"td",32),s.Sc(6,C,1,0,"td",32),s.Sc(7,N,2,1,"td",32),s.Sc(8,R,1,0,"td",32),s.Yb(9,"td",33),s.Uc(10),s.nc(11,"number"),s.Xb(),s.Xb()),2&t){var n=e.$implicit,i=s.mc(2);s.Fb(2),s.Wc(" ",n.RoomCount>0&&1==i.IsRoomDesc?"Treatment ("+n.Description+")":n.Description,""),s.Fb(2),s.Wc(" ",n.HSNCODE,""),s.Fb(1),s.tc("ngIf","CreditNote"!=i.InvType),s.Fb(1),s.tc("ngIf","CreditNote"==i.InvType),s.Fb(1),s.tc("ngIf","CreditNote"!=i.InvType),s.Fb(1),s.tc("ngIf","CreditNote"==i.InvType),s.Fb(2),s.Wc(" ",s.pc(11,7,n.PriceWithGST,"1.1-2"),"")}}function A(t,e){if(1&t&&(s.Yb(0,"b"),s.Uc(1),s.nc(2,"number"),s.Xb()),2&t){var n=s.mc(3);s.Fb(1),s.Wc("(",s.pc(2,1,n.BillWiseDiscountPer,"1.1-2"),"%)")}}function k(t,e){if(1&t&&(s.Yb(0,"td",25),s.Yb(1,"b"),s.Uc(2,"Total Discount"),s.Xb(),s.Sc(3,A,3,4,"b",20),s.Yb(4,"b"),s.Uc(5,":"),s.Xb(),s.Uc(6),s.nc(7,"number"),s.Xb()),2&t){var n=s.mc(2);s.Fb(3),s.tc("ngIf",n.BillWiseDiscountPer>0),s.Fb(3),s.Wc(" \u20b9 ",s.pc(7,2,n.TotalDiscAmount,"1.1-2"),"")}}function F(t,e){1&t&&s.Tb(0,"td",25)}function P(t,e){if(1&t&&(s.Yb(0,"td",25),s.Yb(1,"b"),s.Uc(2,"Net Payable: "),s.Xb(),s.Uc(3),s.nc(4,"number"),s.Xb()),2&t){var n=s.mc(2);s.Fb(3),s.Wc(" \u20b9 ",s.pc(4,1,n.TotalNetAmount,"1.1-2"),"")}}function M(t,e){1&t&&s.Tb(0,"td",25)}function x(t,e){if(1&t&&(s.Yb(0,"td",35),s.Yb(1,"b"),s.Uc(2),s.Xb(),s.Uc(3),s.nc(4,"number"),s.Xb()),2&t){var n=s.mc(2);s.Fb(2),s.Wc("","RefundPayment"==n.InvType?"Refunded":"Received"," Amount: "),s.Fb(1),s.Wc(" \u20b9 ",s.pc(4,2,n.VoucherInfo.NetProfit,"1.1-2"),"")}}function w(t,e){1&t&&s.Tb(0,"td",35)}function B(t,e){if(1&t&&(s.Yb(0,"td",35),s.Yb(1,"b"),s.Uc(2,"Wallet Used Amount: "),s.Xb(),s.Uc(3),s.nc(4,"number"),s.Xb()),2&t){var n=s.mc(2);s.Fb(3),s.Wc(" \u20b9 ",s.pc(4,1,n.VoucherInfo.CreditTranAmount,"1.1-2"),"")}}function O(t,e){1&t&&s.Tb(0,"td",35)}function V(t,e){if(1&t&&(s.Yb(0,"table",12),s.Yb(1,"thead",13),s.Yb(2,"tr",14),s.Yb(3,"th",15),s.Uc(4,"Item"),s.Xb(),s.Yb(5,"th",16),s.Uc(6,"HSN/SAC"),s.Xb(),s.Yb(7,"th",16),s.Uc(8,"Price"),s.Xb(),s.Yb(9,"th",16),s.Uc(10,"Qty"),s.Xb(),s.Yb(11,"th",23),s.Uc(12,"Total"),s.Xb(),s.Xb(),s.Xb(),s.Yb(13,"tbody",13),s.Sc(14,U,12,10,"tr",18),s.Yb(15,"tr"),s.Yb(16,"td",24),s.Yb(17,"b"),s.Uc(18),s.nc(19,"amountToWord"),s.Xb(),s.Xb(),s.Yb(20,"td",25),s.Yb(21,"b"),s.Uc(22,"Grand Total: "),s.Xb(),s.Uc(23),s.nc(24,"number"),s.Xb(),s.Xb(),s.Yb(25,"tr"),s.Sc(26,k,8,5,"td",26),s.Sc(27,F,1,0,"td",26),s.Xb(),s.Yb(28,"tr"),s.Sc(29,P,5,4,"td",26),s.Sc(30,M,1,0,"td",26),s.Xb(),s.Yb(31,"tr"),s.Yb(32,"td",27),s.Yb(33,"b"),s.Uc(34,"Payment Mode: "),s.Xb(),s.Uc(35),s.Xb(),s.Sc(36,x,5,5,"td",28),s.Sc(37,w,1,0,"td",28),s.Xb(),s.Yb(38,"tr"),s.Tb(39,"td",27),s.Sc(40,B,5,4,"td",28),s.Sc(41,O,1,0,"td",28),s.Xb(),s.Yb(42,"tr"),s.Yb(43,"td",29),s.Tb(44,"hr"),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(14),s.tc("ngForOf",n.printBillItem),s.Fb(4),s.Wc("Amount in words: Rupees ",s.oc(19,12,n.VoucherInfo.NetProfit)," Only"),s.Fb(5),s.Wc(" \u20b9 ",s.pc(24,14,n.TotalGrandTotalAmount,"1.1-2"),""),s.Fb(3),s.tc("ngIf","CreditNote"!=n.InvType),s.Fb(1),s.tc("ngIf","CreditNote"==n.InvType),s.Fb(2),s.tc("ngIf","CreditNote"!=n.InvType),s.Fb(1),s.tc("ngIf","CreditNote"==n.InvType),s.Fb(5),s.Vc(n.VoucherInfo.PayMode),s.Fb(1),s.tc("ngIf","CreditNote"!=n.InvType),s.Fb(1),s.tc("ngIf","CreditNote"==n.InvType),s.Fb(3),s.tc("ngIf","CreditNote"!=n.InvType&&n.VoucherInfo.CreditTranAmount>0),s.Fb(1),s.tc("ngIf","CreditNote"==n.InvType||0===n.VoucherInfo.CreditTranAmount)}}function L(t,e){1&t&&(s.Yb(0,"th",16),s.Uc(1,"Cheque Date"),s.Xb())}function _(t,e){if(1&t&&(s.Yb(0,"td",34),s.Uc(1),s.nc(2,"date"),s.Xb()),2&t){var n=s.mc().$implicit,i=s.mc();s.Fb(1),s.Wc(" ",s.pc(2,1,n.IssueDate,i.customDateFormat.DEF_DATE),"")}}function W(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td",30),s.Uc(2),s.Xb(),s.Yb(3,"td",34),s.Uc(4),s.nc(5,"date"),s.Xb(),s.Sc(6,_,3,4,"td",32),s.Yb(7,"td",34),s.Uc(8),s.Xb(),s.Yb(9,"td",34),s.Uc(10),s.nc(11,"number"),s.Xb(),s.Xb()),2&t){var n=e.$implicit,i=s.mc();s.Fb(2),s.Wc(" ",n.TransactionId,""),s.Fb(2),s.Wc(" ",s.pc(5,5,n.ReceivedDate,i.customDateFormat.DEF_DATE),""),s.Fb(2),s.tc("ngIf",i.IsPayModeChequeExist),s.Fb(2),s.Wc(" ",n.TrnMode,""),s.Fb(2),s.Wc(" \u20b9",s.pc(11,8,n.Amount,"1.1-2"),"")}}function E(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td",36),s.Yb(2,"b"),s.Uc(3,"Authorized By"),s.Xb(),s.Xb(),s.Yb(4,"td",37),s.Uc(5),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(5),s.Wc(" ",null==n.printBillItem[0]?null:n.printBillItem[0].ReferredBy,"")}}function j(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td",36),s.Yb(2,"b"),s.Uc(3,"Approved By"),s.Xb(),s.Xb(),s.Yb(4,"td",37),s.Uc(5),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(5),s.Wc(" ",null==n.printTransactionDetails[0]?null:n.printTransactionDetails[0].ApprovedBy,"")}}function G(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td",36),s.Yb(2,"b"),s.Uc(3,"Remarks"),s.Xb(),s.Xb(),s.Yb(4,"td",37),s.Uc(5),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(5),s.Wc(" ",null==n.printTransactionDetails[0]?null:n.printTransactionDetails[0].Remarks,"")}}var H=function(){var t=function(t){r(i,t);var e=c(i);function i(t,o,r){var a;return n(this,i),(a=e.call(this))._PatientServices=t,a._ConstantsService=o,a._UtilityService=r,a.IsVisitor=!1,a.Status=1,a.customDateFormat=l.h,a.VoucherInfo={},a.printBillItem=[],a.TotalGrandTotalAmount=0,a.TotalDiscAmount=0,a.TotalNetAmount=0,a.BillWiseDiscountPer=0,a.IsRoomDesc=!0,a.printTransactionDetails=[],a.IsPayModeChequeExist=!1,a.IsLetterhead="false",a.heading=null,a.invStatus=l.l,a}return o(i,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){this.LoadPaymentVoucherDetails(),this.heading="SalesReturn"==this.InvType?"Sales Return":"RefundPayment"==this.InvType?this.Status==this.invStatus.RefundforCancellationCharge?"Booking Cancellation Voucher":"Payment Refund Voucher":"CreditNote"==this.InvType?"Credit Note":"Payment Receive Voucher"}},{key:"LoadPaymentVoucherDetails",value:function(){var t=this;this.TotalGrandTotalAmount=0,this.TotalDiscAmount=0,this.TotalNetAmount=0,this.BillWiseDiscountPer=0,this.printBillItem=[],this.VoucherInfo={},this.IsPayModeChequeExist=!1,this.printTransactionDetails=[],this._UtilityService.showSpinner();var e=this._PatientServices.LoadPaymentVoucherDetails(this.SelectedSlotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision);this.IsVisitor&&(e=this._PatientServices.LoadVisitorPaymentVoucherDetails(this.SelectedSlotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision)),this.unsubscribe.add=e.subscribe(function(e){var n,i,o,r;if(t._UtilityService.hideSpinner(),1==e.actionResult.success){if((null===(n=e.actionResult.result)||void 0===n?void 0:n.length)>0){var a=JSON.parse(e.actionResult.result);t.printBillItem=a=a||[],(null===(i=t.printBillItem.filter(function(t){return"Treatment/Medicated food charges"==t.Description||"Treatment Charges"==t.DESCRIPTION}))||void 0===i?void 0:i.length)>0&&(t.IsRoomDesc=!1),t.printBillItem.map(function(e){t.TotalGrandTotalAmount=t.TotalGrandTotalAmount+t._ConstantsService.nullToZeroConverter(e.PriceWithGST),t.TotalDiscAmount=t.TotalDiscAmount+t._ConstantsService.nullToZeroConverter(e.DiscountAmount)}),t.TotalNetAmount=t.TotalGrandTotalAmount-t.TotalDiscAmount,t.BillWiseDiscountPer=t.TotalDiscAmount/t.TotalGrandTotalAmount*100}if((null===(o=e.actionResult.result2)||void 0===o?void 0:o.length)>0){var c=JSON.parse(e.actionResult.result2);t.VoucherInfo=c=c||[]}if((null===(r=e.actionResult.result3)||void 0===r?void 0:r.length)>0){var l=JSON.parse(e.actionResult.result3);t.printTransactionDetails=l=l||[],t.IsPayModeChequeExist=t.printTransactionDetails.some(function(t){return"Cheque"==t.TrnMode}),console.log(t.printTransactionDetails)}}},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"onselectedLetterhead",value:function(t){this.IsLetterhead=t}}]),i}(a.a);return t.\u0275fac=function(e){return new(e||t)(s.Sb(b.a),s.Sb(l.f),s.Sb(d.a))},t.\u0275cmp=s.Mb({type:t,selectors:[["app-print-payment-voucher"]],inputs:{IsVisitor:"IsVisitor",SelectedSlotBookingId:"SelectedSlotBookingId",SelectedVCHRNO:"SelectedVCHRNO",SelectedPhiscalID:"SelectedPhiscalID",SelectedDivision:"SelectedDivision",InvType:"InvType",Status:"Status"},features:[s.Cb,s.Db],decls:54,vars:26,consts:[[3,"IsLetterhead","IsNgxPrint","onselectedLetterhead"],["id","print-section",1,"row"],[1,"col-md-12"],[3,"IsPeriod","IsVisitor","slotBookingId","heading","IsGST","IsLetterhead"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","font-size","15px"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box"],["colspan","3"],[2,"background-color","#d3d3d3"],[2,"padding","5px"],[2,"text-align","right","padding","5px"],["style","background-color: #d3d3d3;",4,"ngIf"],["style","width: 100%; margin: 0 auto; box-sizing: border-box; border: 1px solid #d3d3d3; margin-top: 10px;","cellpadding","0","cellspacing","3",4,"ngIf"],["cellpadding","0","cellspacing","3",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","10px"],["align","Center"],[2,"background","#d3d3d3"],["align","left",2,"padding","6px","text-align","left"],["align","Center",2,"padding","6px"],["style","padding: 6px;","align","Center",4,"ngIf"],[4,"ngFor","ngForOf"],["align","left"],[4,"ngIf"],["align","right",2,"padding","20px 4px","border-top","1px solid #f1f1f1"],[1,"mt-3"],[2,"padding","6px","text-align","right"],["colspan","4","rowspan","3",2,"text-align","left","word-wrap","break-word","width","70%","padding-left","5px"],["colspan","1","align","right",2,"padding","2px"],["colspan","1","align","right","style","padding: 2px;",4,"ngIf"],["colspan","2","align","left",2,"padding","2px 5px"],["colspan","3","align","right","style","padding: 2px;",4,"ngIf"],["colspan","5"],["align","center",2,"text-align","left","padding","6px 5px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","center",2,"text-align","center","padding","6px 5px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","center","style","text-align: center;padding: 6px  0px; border-left: 1px solid #d3d3d3; border-bottom: 1px solid #d3d3d3;",4,"ngIf"],["align","right",2,"text-align","right","padding","6px 0px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["align","center",2,"text-align","center","padding","6px  0px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["colspan","3","align","right",2,"padding","2px"],[2,"width","200px","padding","6px","text-align","left","border","1px solid #d3d3d3"],[2,"padding","6px","text-align","left","border","1px solid #d3d3d3"]],template:function(t,e){1&t&&(s.Yb(0,"app-print-access-header",0),s.ic("onselectedLetterhead",function(t){return e.onselectedLetterhead(t)}),s.Xb(),s.Yb(1,"div",1),s.Yb(2,"div",2),s.Tb(3,"app-print-header",3),s.Yb(4,"table",4),s.Yb(5,"tbody"),s.Yb(6,"tr"),s.Yb(7,"table",5),s.Yb(8,"tbody"),s.Yb(9,"tr"),s.Yb(10,"td",6),s.Tb(11,"hr"),s.Xb(),s.Xb(),s.Yb(12,"tr",7),s.Yb(13,"td",8),s.Yb(14,"b"),s.Uc(15),s.Xb(),s.Yb(16,"span"),s.Uc(17),s.Xb(),s.Xb(),s.Yb(18,"td",9),s.Yb(19,"b"),s.Uc(20,"Generation Date: "),s.Xb(),s.Yb(21,"span"),s.Uc(22),s.nc(23,"date"),s.Xb(),s.Xb(),s.Xb(),s.Sc(24,f,12,6,"tr",10),s.Sc(25,S,5,2,"tr",10),s.Sc(26,y,5,2,"tr",10),s.Sc(27,D,4,1,"tr",10),s.Xb(),s.Xb(),s.Sc(28,V,45,17,"table",11),s.Yb(29,"table",12),s.Yb(30,"thead",13),s.Yb(31,"tr",14),s.Yb(32,"th",15),s.Uc(33,"Transaction Id"),s.Xb(),s.Yb(34,"th",16),s.Uc(35,"Received Date"),s.Xb(),s.Sc(36,L,2,0,"th",17),s.Yb(37,"th",16),s.Uc(38,"Payment Mode"),s.Xb(),s.Yb(39,"th",16),s.Uc(40,"Amount"),s.Xb(),s.Xb(),s.Xb(),s.Yb(41,"tbody",13),s.Sc(42,W,12,11,"tr",18),s.Xb(),s.Xb(),s.Yb(43,"table",12),s.Yb(44,"tbody",19),s.Sc(45,E,6,1,"tr",20),s.Sc(46,j,6,1,"tr",20),s.Sc(47,G,6,1,"tr",20),s.Xb(),s.Xb(),s.Yb(48,"table",12),s.Yb(49,"tr"),s.Yb(50,"td",21),s.Uc(51,"Authorized Signature"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(52,"div",22),s.Yb(53,"app-print-access-header",0),s.ic("onselectedLetterhead",function(t){return e.onselectedLetterhead(t)}),s.Xb(),s.Xb()),2&t&&(s.tc("IsLetterhead",e.IsLetterhead)("IsNgxPrint",!0),s.Fb(3),s.tc("IsPeriod",!1)("IsVisitor",e.IsVisitor)("slotBookingId",e.SelectedSlotBookingId)("heading",e.heading)("IsGST",!0)("IsLetterhead",e.IsLetterhead),s.Fb(12),s.Wc("","CreditNote"==e.InvType?"Credit Note Number":"Voucher Number",": "),s.Fb(2),s.Vc(e.VoucherInfo.InvoiceNumber),s.Fb(5),s.Vc(s.pc(23,23,e.VoucherInfo.GenertaedOn,e.customDateFormat.DEF_DATE)),s.Fb(2),s.tc("ngIf",0==(null==e.printBillItem?null:e.printBillItem.length)),s.Fb(1),s.tc("ngIf",null!=(null==e.VoucherInfo?null:e.VoucherInfo.RefTaxInvNumber)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.RefTaxInvNumber)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.RefTaxInvoiceDate)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.RefTaxInvoiceDate)),s.Fb(1),s.tc("ngIf",null!=(null==e.VoucherInfo?null:e.VoucherInfo.CRDocumentNumber)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.CRDocumentNumber)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.CRUTRNumber)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.CRUTRNumber)),s.Fb(1),s.tc("ngIf",null!=(null==e.VoucherInfo?null:e.VoucherInfo.CreditReason)||null!=(null==e.VoucherInfo?null:e.VoucherInfo.CreditReason)),s.Fb(1),s.tc("ngIf",(null==e.printBillItem?null:e.printBillItem.length)>0),s.Fb(8),s.tc("ngIf",e.IsPayModeChequeExist),s.Fb(6),s.tc("ngForOf",e.printTransactionDetails),s.Fb(3),s.tc("ngIf",""!=(null==e.printBillItem[0]?null:e.printBillItem[0].ReferredBy)&&null!=(null==e.printBillItem[0]?null:e.printBillItem[0].ReferredBy)&&null!=(null==e.printBillItem[0]?null:e.printBillItem[0].ReferredBy)),s.Fb(1),s.tc("ngIf",""!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].ApprovedBy)&&null!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].ApprovedBy)&&null!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].ApprovedBy)),s.Fb(1),s.tc("ngIf",""!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].Remarks)&&null!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].Remarks)&&null!=(null==e.printTransactionDetails[0]?null:e.printTransactionDetails[0].Remarks)),s.Fb(6),s.tc("IsLetterhead",e.IsLetterhead)("IsNgxPrint",!0))},directives:[u.a,h.a,m.p,m.o],pipes:[m.f,m.g,p.a],styles:[""]}),t}()},QbTu:function(t,e,i){"use strict";i.d(e,"a",function(){return p});var o,r,a=i("ofXK"),c=i("tyNb"),l=i("jhiP"),s=i("fXoL"),b=[{path:"",component:l.a}],d=((o=function t(){n(this,t)}).\u0275fac=function(t){return new(t||o)},o.\u0275mod=s.Qb({type:o}),o.\u0275inj=s.Pb({imports:[[c.l.forChild(b)],c.l]}),o),u=i("m1XX"),h=i("9XlL"),m=i("ycwT"),p=((r=function t(){n(this,t)}).\u0275fac=function(t){return new(t||r)},r.\u0275mod=s.Qb({type:r}),r.\u0275inj=s.Pb({imports:[[a.c,d,u.b,h.a,m.a]]}),r)},Qcri:function(t,e,i){"use strict";i.d(e,"a",function(){return p});var o,r,a=i("ofXK"),c=i("tyNb"),l=i("9b74"),s=i("fXoL"),b=[{path:"",component:l.a}],d=((o=function t(){n(this,t)}).\u0275fac=function(t){return new(t||o)},o.\u0275mod=s.Qb({type:o}),o.\u0275inj=s.Pb({imports:[[c.l.forChild(b)],c.l]}),o),u=i("rEr+"),h=i("jIHw"),m=i("7kUa"),p=((r=function t(){n(this,t)}).\u0275fac=function(t){return new(t||r)},r.\u0275mod=s.Qb({type:r}),r.\u0275inj=s.Pb({imports:[[a.c,d,u.f,h.c,m.b]]}),r)},Yh3i:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var r=i("fXoL"),a=function(){var t=function(){function t(){n(this,t),this.a=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],this.b=["","","Twenty","Thirty","Fourty","Fifty","Sixty","Seventy","Eighty","Ninety"]}return o(t,[{key:"transform",value:function(t,e){if(t){var n=Number(t);if(n){if((n=n.toString()).length>9)return"We are not the Iron Bank, you can lower down the stakes :)";var i=("000000000"+n).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(!i)return"";var o="";return o+=0!==Number(i[1])?(this.a[Number(i[1])]||this.b[i[1][0]]+" "+this.a[i[1][1]])+"Crore ":"",o+=0!==Number(i[2])?(this.a[Number(i[2])]||this.b[i[2][0]]+" "+this.a[i[2][1]])+"Lakh ":"",o+=0!==Number(i[3])?(this.a[Number(i[3])]||this.b[i[3][0]]+" "+this.a[i[3][1]])+"Thousand ":"",o+=0!==Number(i[4])?(this.a[Number(i[4])]||this.b[i[4][0]]+" "+this.a[i[4][1]])+"Hundred ":"",o+=0!==Number(i[5])?(""!==o?"and ":"")+(this.a[Number(i[5])]||this.b[i[5][0]]+" "+this.a[i[5][1]])+"Rupees":""}return""}return""}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Rb({name:"amountToWord",type:t,pure:!0}),t}()},aeiD:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var i=[{TenderName:"Online (RazorPay)",ACID:"ATONLN",disabled:!1},{TenderName:"Online (WorldLine)",ACID:"ATWLONLN",disabled:!1},{TenderName:"Bank Deposit",ACID:"BT01001",disabled:!1},{TenderName:"Cash",ACID:"AT01002",disabled:!1},{TenderName:"Card",ACID:"AT999999",disabled:!1},{TenderName:"Credit",ACID:"LB1199",disabled:!1},{TenderName:"Cheque",ACID:"DI01001",disabled:!1}],o=[{DoctorName:"Doctor-A",TokenList:[{TokenNumber:"1"},{TokenNumber:"2"},{TokenNumber:"3"},{TokenNumber:"4"},{TokenNumber:"5"},{TokenNumber:"6"}]},{DoctorName:"Doctor-B",TokenList:[{TokenNumber:"7"},{TokenNumber:"8"},{TokenNumber:"9"},{TokenNumber:"10"},{TokenNumber:"11"},{TokenNumber:"12"}]},{DoctorName:"Doctor-C",TokenList:[{TokenNumber:"13"},{TokenNumber:"14"},{TokenNumber:"15"},{TokenNumber:"16"},{TokenNumber:"17"},{TokenNumber:"18"}]},{DoctorName:"Doctor-D",TokenList:[{TokenNumber:"19"},{TokenNumber:"20"},{TokenNumber:"21"},{TokenNumber:"22"},{TokenNumber:"23"},{TokenNumber:"24"}]},{DoctorName:"Doctor-E",TokenList:[{TokenNumber:"25"},{TokenNumber:"26"},{TokenNumber:"27"},{TokenNumber:"28"},{TokenNumber:"29"},{TokenNumber:"30"}]},{DoctorName:"Doctor-F",TokenList:[{TokenNumber:"31"},{TokenNumber:"32"},{TokenNumber:"33"},{TokenNumber:"34"},{TokenNumber:"35"},{TokenNumber:"36"}]},{DoctorName:"Doctor-G",TokenList:[{TokenNumber:"37"},{TokenNumber:"38"},{TokenNumber:"39"},{TokenNumber:"40"},{TokenNumber:"41"},{TokenNumber:"42"}]},{DoctorName:"Doctor-H",TokenList:[{TokenNumber:"43"},{TokenNumber:"44"},{TokenNumber:"45"},{TokenNumber:"46"},{TokenNumber:"47"},{TokenNumber:"48"}]},{DoctorName:"Doctor-I",TokenList:[{TokenNumber:"49"},{TokenNumber:"50"},{TokenNumber:"51"},{TokenNumber:"52"},{TokenNumber:"53"},{TokenNumber:"54"}]},{DoctorName:"Doctor-J",TokenList:[{TokenNumber:"55"},{TokenNumber:"56"},{TokenNumber:"57"},{TokenNumber:"58"},{TokenNumber:"59"},{TokenNumber:"60"}]},{DoctorName:"Doctor-K",TokenList:[{TokenNumber:"61"},{TokenNumber:"62"},{TokenNumber:"63"},{TokenNumber:"64"},{TokenNumber:"65"},{TokenNumber:"66"}]},{DoctorName:"Doctor-L",TokenList:[{TokenNumber:"67"},{TokenNumber:"68"},{TokenNumber:"69"},{TokenNumber:"70"},{TokenNumber:"71"},{TokenNumber:"72"}]}]},btFH:function(t,e,i){"use strict";i.d(e,"a",function(){return ft});var a=i("CwUn"),l=i("Nach"),s=i("fXoL"),b=i("tyNb"),d=i("G+wY"),u=i("NLkC"),h=i("rEr+"),m=i("7zfz"),p=i("/RsI"),f=i("ofXK"),T=i("7kUa"),v=i("KkSF"),S=i("jhiP"),I=i("9b74"),g=i("aeiD"),y=i("lVkt"),X=i("3Pt+"),D=i("Ks7X"),Y=i("eO1q"),C=function(){return{width:"100%"}},N=function(){return{standalone:!0}};function R(t,e){if(1&t){var n=s.Zb();s.Yb(0,"div",12),s.Yb(1,"h6",13),s.Yb(2,"strong"),s.Uc(3,"Cash Details"),s.Xb(),s.Xb(),s.Yb(4,"div",14),s.Yb(5,"div",15),s.Yb(6,"label"),s.Yb(7,"strong"),s.Uc(8," Amount "),s.Yb(9,"span",16),s.Uc(10,"*"),s.Xb(),s.Xb(),s.Xb(),s.Yb(11,"p-inputNumber",17),s.ic("ngModelChange",function(t){return s.Lc(n),s.mc().TenderObj.CASH=t}),s.Xb(),s.Xb(),s.Yb(12,"div",15),s.Yb(13,"label"),s.Yb(14,"strong"),s.Uc(15,"Received Date"),s.Xb(),s.Yb(16,"span",16),s.Uc(17,"*"),s.Xb(),s.Xb(),s.Yb(18,"p-calendar",18,19),s.ic("ngModelChange",function(t){return s.Lc(n),s.mc().TenderObj.CashRecdDate=t}),s.Xb(),s.Xb(),s.Xb(),s.Tb(20,"hr"),s.Xb()}if(2&t){var i=s.mc();s.Fb(11),s.Pc(s.yc(15,C)),s.tc("ngModel",i.TenderObj.CASH)("min",0)("max",i.NetPaybleTotal),s.Fb(7),s.wc("yearRange","",i.customDateFormat.MinYear,":",i.MaxYear,""),s.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",i.todayDate)("ngModel",i.TenderObj.CashRecdDate)("ngModelOptions",s.yc(16,N))("showIcon",!0)("dateFormat",i.customDateFormat.CalendarFormat)("readonlyInput",!1)}}function U(t,e){if(1&t){var n=s.Zb();s.Yb(0,"a",27),s.ic("click",function(){return s.Lc(n),s.mc(3).AddCardPaymentDetails()}),s.Tb(1,"i",28),s.Xb()}}function A(t,e){if(1&t){var n=s.Zb();s.Yb(0,"a",27),s.ic("click",function(){s.Lc(n);var t=s.mc().index,e=s.mc(2);return e.RemoveCardPaymentDetails(e.lstCardPaymentTransactionDetails[t].Sequence)}),s.Tb(1,"i",29),s.Xb()}}function k(t,e){if(1&t){var n=s.Zb();s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Yb(4,"input",23),s.ic("ngModelChange",function(t){return e.$implicit.CardNumber=t}),s.Xb(),s.Xb(),s.Yb(5,"td"),s.Yb(6,"input",23),s.ic("ngModelChange",function(t){return e.$implicit.CardHolderName=t}),s.Xb(),s.Xb(),s.Yb(7,"td"),s.Yb(8,"input",23),s.ic("ngModelChange",function(t){return e.$implicit.TransactionId=t}),s.Xb(),s.Xb(),s.Yb(9,"td"),s.Yb(10,"p-calendar",18,24),s.ic("ngModelChange",function(t){return e.$implicit.RecdDate=t}),s.Xb(),s.Xb(),s.Yb(12,"td"),s.Yb(13,"p-inputNumber",25),s.ic("onInput",function(t){s.Lc(n);var i=e.$implicit;return s.mc(2).CalculateTotalCardPayment(t,i.Sequence)})("onBlur",function(){return s.Lc(n),s.mc(2).CalculateTotalCardPaymentrev()})("ngModelChange",function(t){return e.$implicit.Amount=t}),s.Xb(),s.Xb(),s.Yb(14,"td"),s.Sc(15,U,2,0,"a",26),s.Sc(16,A,2,0,"a",26),s.Xb(),s.Xb()}if(2&t){var i=e.$implicit,o=e.index,r=s.mc(2);s.Fb(2),s.Vc(o+1),s.Fb(2),s.Pc(s.yc(31,C)),s.vc("name","txtTransactionCardNumber_",o,""),s.tc("ngModel",i.CardNumber),s.Fb(2),s.Pc(s.yc(32,C)),s.vc("name","txtTransactionCardHolderName_",o,""),s.tc("ngModel",i.CardHolderName),s.Fb(2),s.Pc(s.yc(33,C)),s.vc("name","txtTransactionIdCardPayment_",o,""),s.tc("ngModel",i.TransactionId),s.Fb(2),s.wc("yearRange","",r.customDateFormat.MinYear,":",r.MaxYear,""),s.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",r.todayDate)("ngModel",i.RecdDate)("ngModelOptions",s.yc(34,N))("showIcon",!0)("dateFormat",r.customDateFormat.CalendarFormat)("readonlyInput",!1),s.Fb(3),s.Pc(s.yc(35,C)),s.vc("name","txtBankTFAmountTran_",o,""),s.tc("ngModel",i.Amount)("min",0)("max",r.NetPaybleTotal),s.Fb(2),s.tc("ngIf",(null==r.lstCardPaymentTransactionDetails?null:r.lstCardPaymentTransactionDetails.length)<10),s.Fb(1),s.tc("ngIf",1!==r.lstCardPaymentTransactionDetails[o].Sequence)}}function F(t,e){if(1&t&&(s.Yb(0,"div",20),s.Yb(1,"h3"),s.Uc(2,"Card Details"),s.Xb(),s.Yb(3,"div",14),s.Yb(4,"table",21),s.Yb(5,"thead"),s.Yb(6,"tr"),s.Yb(7,"th"),s.Uc(8,"S.No"),s.Xb(),s.Yb(9,"th"),s.Uc(10,"Card Number"),s.Xb(),s.Yb(11,"th"),s.Uc(12,"Card Holder Name"),s.Xb(),s.Yb(13,"th"),s.Uc(14,"Transaction Id "),s.Yb(15,"span",16),s.Uc(16,"*"),s.Xb(),s.Xb(),s.Yb(17,"th"),s.Uc(18,"Payment Rec. Date "),s.Yb(19,"span",16),s.Uc(20,"*"),s.Xb(),s.Xb(),s.Yb(21,"th"),s.Uc(22,"Amount "),s.Yb(23,"span",16),s.Uc(24,"*"),s.Xb(),s.Xb(),s.Yb(25,"th"),s.Uc(26,"Action"),s.Xb(),s.Xb(),s.Xb(),s.Yb(27,"tbody"),s.Sc(28,k,17,36,"tr",22),s.Xb(),s.Xb(),s.Xb(),s.Tb(29,"hr"),s.Xb()),2&t){var n=s.mc();s.Fb(28),s.tc("ngForOf",n.lstCardPaymentTransactionDetails)}}function P(t,e){if(1&t){var n=s.Zb();s.Yb(0,"a",27),s.ic("click",function(){return s.Lc(n),s.mc(3).AddBankTransactionDetails()}),s.Tb(1,"i",28),s.Xb()}}function M(t,e){if(1&t){var n=s.Zb();s.Yb(0,"a",27),s.ic("click",function(){s.Lc(n);var t=s.mc().index,e=s.mc(2);return e.RemoveBankTransactionDetails(e.lstBankDepositTransactionDetails[t].Sequence)}),s.Tb(1,"i",29),s.Xb()}}function x(t,e){if(1&t){var n=s.Zb();s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Yb(4,"input",23),s.ic("ngModelChange",function(t){return e.$implicit.BankName=t}),s.Xb(),s.Xb(),s.Yb(5,"td"),s.Yb(6,"input",23),s.ic("ngModelChange",function(t){return e.$implicit.TransactionId=t}),s.Xb(),s.Xb(),s.Yb(7,"td"),s.Yb(8,"p-calendar",18,24),s.ic("ngModelChange",function(t){return e.$implicit.RecdDate=t}),s.Xb(),s.Xb(),s.Yb(10,"td"),s.Yb(11,"p-inputNumber",25),s.ic("onInput",function(t){s.Lc(n);var i=e.$implicit;return s.mc(2).CalculateTotalBankTransaction(t,i.Sequence)})("onBlur",function(){return s.Lc(n),s.mc(2).CalculateTotalBankTransactionrev()})("ngModelChange",function(t){return e.$implicit.Amount=t}),s.Xb(),s.Xb(),s.Yb(12,"td"),s.Sc(13,P,2,0,"a",26),s.Sc(14,M,2,0,"a",26),s.Xb(),s.Xb()}if(2&t){var i=e.$implicit,o=e.index,r=s.mc(2);s.Fb(2),s.Vc(o+1),s.Fb(2),s.Pc(s.yc(27,C)),s.vc("name","txtTransactionBankDepoName_",o,""),s.tc("ngModel",i.BankName),s.Fb(2),s.Pc(s.yc(28,C)),s.vc("name","txtTransactionIdBankDepo_",o,""),s.tc("ngModel",i.TransactionId),s.Fb(2),s.wc("yearRange","",r.customDateFormat.MinYear,":",r.MaxYear,""),s.tc("yearNavigator",!0)("monthNavigator",!0)("maxDate",r.todayDate)("ngModel",i.RecdDate)("ngModelOptions",s.yc(29,N))("showIcon",!0)("dateFormat",r.customDateFormat.CalendarFormat)("readonlyInput",!1),s.Fb(3),s.Pc(s.yc(30,C)),s.vc("name","txtBankTFAmountTran_",o,""),s.tc("ngModel",i.Amount)("min",0)("max",r.NetPaybleTotal),s.Fb(2),s.tc("ngIf",(null==r.lstBankDepositTransactionDetails?null:r.lstBankDepositTransactionDetails.length)<10),s.Fb(1),s.tc("ngIf",1!==r.lstBankDepositTransactionDetails[o].Sequence)}}function w(t,e){if(1&t){var n=s.Zb();s.Yb(0,"div",30),s.Yb(1,"h3"),s.Uc(2,"Bank Deposit Details"),s.Xb(),s.Tb(3,"hr"),s.Yb(4,"div",14),s.Yb(5,"table",21),s.Yb(6,"thead"),s.Yb(7,"tr"),s.Yb(8,"th"),s.Uc(9,"S.No"),s.Xb(),s.Yb(10,"th"),s.Uc(11,"Bank Name "),s.Yb(12,"span",16),s.Uc(13,"*"),s.Xb(),s.Xb(),s.Yb(14,"th"),s.Uc(15,"Transaction Id "),s.Yb(16,"span",16),s.Uc(17,"*"),s.Xb(),s.Xb(),s.Yb(18,"th"),s.Uc(19,"Received Date "),s.Yb(20,"span",16),s.Uc(21,"*"),s.Xb(),s.Xb(),s.Yb(22,"th"),s.Uc(23,"Amount "),s.Yb(24,"span",16),s.Uc(25,"*"),s.Xb(),s.Xb(),s.Yb(26,"th"),s.Uc(27,"Action"),s.Xb(),s.Xb(),s.Xb(),s.Yb(28,"tbody"),s.Sc(29,x,15,31,"tr",22),s.Xb(),s.Xb(),s.Xb(),s.Tb(30,"hr"),s.Yb(31,"div",14),s.Yb(32,"div",15),s.Uc(33,"Amount"),s.Xb(),s.Yb(34,"div",31),s.Yb(35,"p-inputNumber",32),s.ic("ngModelChange",function(t){return s.Lc(n),s.mc().TenderObj.BANKTFAMOUNT=t}),s.Xb(),s.Xb(),s.Xb(),s.Tb(36,"hr"),s.Xb()}if(2&t){var i=s.mc();s.Fb(29),s.tc("ngForOf",i.lstBankDepositTransactionDetails),s.Fb(6),s.Pc(s.yc(6,C)),s.tc("ngModel",i.TenderObj.BANKTFAMOUNT)("min",0)("max",i.NetPaybleTotal)}}function B(t,e){if(1&t){var n=s.Zb();s.Yb(0,"div",3),s.Yb(1,"div",15),s.Uc(2,"Remarks"),s.Xb(),s.Yb(3,"div",31),s.Yb(4,"input",33),s.ic("ngModelChange",function(t){return s.Lc(n),s.mc().TenderObj.REMARKS=t}),s.Xb(),s.Xb(),s.Xb()}if(2&t){var i=s.mc();s.Fb(4),s.Pc(s.yc(3,C)),s.tc("ngModel",i.TenderObj.REMARKS)}}var O,V=((O=function(t){r(i,t);var e=c(i);function i(t,o,r){var a;return n(this,i),(a=e.call(this))._UtilityService=t,a._PatientServices=o,a.cdRef=r,a.slotBookingId=null,a.SelectedVCHRNO=null,a.SelectedPhiscalID=null,a.SelectedDivision=null,a.NetAmount=0,a.GetSuccessStatusEmit=new s.o,a.customDateFormat=l.h,a.IsRefundVoucher=!1,a.DepositSlipLink=null,a.lstTransaction=[],a.lstPayMode=[],a.SelectPaymodeArray=[],a.NetPaybleTotal=0,a.TenderModel={},a.TenderObj={},a.lstBankDepositTransactionDetails=[],a.BankDepTrnCounter=1,a.CardTrnCounter=1,a.todayDate=new Date,a.MaxCreditLimit=0,a.BankDepositSlip1Att=null,a.lsttrnAmount=[],a.PaymentTransactionDetails=[],a.lstReciveVoucher=[],a.lstCardPaymentTransactionDetails=[],a.MaxYear=(new Date).getFullYear()+2,a.lstPayMode=g.a,a.lstPayMode=a.lstPayMode.filter(function(t){return"ATONLN"!==t.ACID}),a}return o(i,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){this.LoadTransactionDetails()}},{key:"LoadTransactionDetails",value:function(){var t=this;this.lsttrnAmount=[],this.NetPaybleTotal=this.NetAmount,this.IsRefundVoucher=!1,this.lstTransaction=[],this.DepositSlipLink=null,null!=this.slotBookingId&&null!=this.slotBookingId&&""!=this.slotBookingId&&null!=this.SelectedVCHRNO&&null!=this.SelectedVCHRNO&&""!=this.SelectedVCHRNO&&null!=this.SelectedPhiscalID&&null!=this.SelectedPhiscalID&&""!=this.SelectedPhiscalID&&null!=this.SelectedDivision&&null!=this.SelectedDivision&&""!=this.SelectedDivision?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetTransactionDetailsByVCHRNumber(this.slotBookingId,this.SelectedVCHRNO,this.SelectedPhiscalID,this.SelectedDivision).subscribe({next:function(e){if(t._UtilityService.hideSpinner(),1==e.actionResult.success&&null!=e.actionResult.result){var n=JSON.parse(e.actionResult.result);t.lstTransaction=n=n||[];var i=JSON.parse(e.actionResult.result5);t.lsttrnAmount=i=i||[];var o=[];t.lsttrnAmount.map(function(e){var n,i,r,a,c;o.push(null===(n=t.lstPayMode.find(function(t){return t.TenderName==e.TrnMode}))||void 0===n?void 0:n.ACID),"Cash"==e.TrnMode?(t.TenderObj.CASH=e.Amount,t.TenderObj.CashRecdDate=new Date(null===(i=t.lstTransaction.find(function(t){return"Cash"==t.TrnMode}))||void 0===i?void 0:i.ReceivedDate),t.TenderObj.REMARKS=null===(r=t.lstTransaction.find(function(t){return"Cash"==t.TrnMode}))||void 0===r?void 0:r.Remarks):"Card"==e.TrnMode?(t.lstCardPaymentTransactionDetails=[],t.lstTransaction.filter(function(t){return"Card"==t.TrnMode}).map(function(e){var n={};n.CardNumber=e.CardNo,n.CardHolderName=e.CardHolderName,n.TransactionId=e.TransactionId,n.RecdDate=new Date(e.ReceivedDate),n.Amount=e.Amount,t.lstCardPaymentTransactionDetails.push(n)}),t.TenderObj.REMARKS=null===(a=t.lstTransaction.filter(function(t){return"Card"==t.TrnMode})[0])||void 0===a?void 0:a.Remarks,t.CalculateTotalCardPaymentrev()):"Bank Deposit"==e.TrnMode&&(t.lstBankDepositTransactionDetails=[],t.lstTransaction.filter(function(t){return"Bank Deposit"==t.TrnMode||"Bank Transfer"==t.TrnMode}).map(function(e){var n={};n.BankName=e.BankName,n.TransactionId=e.TransactionId,n.RecdDate=new Date(e.ReceivedDate),n.Amount=e.Amount,t.lstBankDepositTransactionDetails.push(n)}),t.TenderObj.REMARKS=null===(c=t.lstTransaction.filter(function(t){return"Bank Deposit"==t.TrnMode||"Bank Transfer"==t.TrnMode})[0])||void 0===c?void 0:c.Remarks,t.CalculateTotalBankTransactionrev())}),t.selectedPaymodeCodes=o,t.ShowSelectedItem()}},error:function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)}})):this._UtilityService.showWarningAlert("No record found"),this.cdRef.detectChanges()}},{key:"ShowSelectedItem",value:function(){var t;(null===(t=this.selectedPaymodeCodes)||void 0===t?void 0:t.length)>0?(this.selectedPaymodeCodes.indexOf("ATONLN")>-1&&(this.selectedPaymodeCodes=this.selectedPaymodeCodes.filter(function(t){return"ATONLN"==t})),this.SelectPaymodeArray=this.selectedPaymodeCodes.toString().split(",")):this.SelectPaymodeArray=[]}},{key:"RemoveBankTransactionDetails",value:function(t){this.lstBankDepositTransactionDetails=this.lstBankDepositTransactionDetails.filter(function(e){return e.Sequence!==t}),this.CalculateTotalBankTransactionrev(),this.cdRef.detectChanges()}},{key:"CalculateTotalBankTransactionrev",value:function(){var t=0;this.lstBankDepositTransactionDetails.map(function(e){t+=e.Amount}),this.TenderObj.BANKTFAMOUNT=t,this.cdRef.detectChanges()}},{key:"AddBankTransactionDetails",value:function(){this.BankDepTrnCounter++,this.lstBankDepositTransactionDetails.push({Sequence:this.BankDepTrnCounter,BankName:"",TransactionId:"",RecdDate:null,Amount:0}),this.cdRef.detectChanges()}},{key:"onFileSelectBankDepositSlip",value:function(t,e){var n;if((null===(n=t.target.files)||void 0===n?void 0:n.length)>0){var i=t.target.files[0];[".jpg",".png",".jpeg",".pdf"].includes("."+i.type.split("/")[1])?i.size>5242880?($("#"+e).val(""),"AttBankslip1"==e&&(this.fileInputLabelAttBankslip1="",this.BankDepositSlip1Att=""),this._UtilityService.showWarningAlert("Maximum 5 MB file can be Uploaded")):"AttBankslip1"==e&&(this.fileInputLabelAttBankslip1=i.name,this.fileUploadAttBankslip1.get("AttBankslip1").setValue(i)):($("#"+e).val(""),"AttBankslip1"==e&&(this.fileInputLabelAttBankslip1="",this.BankDepositSlip1Att=""),this._UtilityService.showWarningAlert("Only jpg, png and pdf Allowed!")),this.cdRef.detectChanges()}}},{key:"CalculateTotalBankTransaction",value:function(t,e){if(t.value>0){null!=this.TenderObj.BANKTFAMOUNT&&null!=this.TenderObj.BANKTFAMOUNT||(this.TenderObj.BANKTFAMOUNT=0);var n=0;(null==(i=this.lstBankDepositTransactionDetails.filter(function(t){return t.Sequence!=e}))?void 0:i.length)>0&&i.map(function(t){n+=t.Amount}),this.TenderObj.BANKTFAMOUNT=n+t.value,this.cdRef.detectChanges()}else{var i;null!=this.TenderObj.BANKTFAMOUNT&&null!=this.TenderObj.BANKTFAMOUNT||(this.TenderObj.BANKTFAMOUNT=0),n=0,(null==(i=this.lstBankDepositTransactionDetails.filter(function(t){return t.Sequence!=e}))?void 0:i.length)>0&&i.map(function(t){n+=t.Amount}),this.TenderObj.BANKTFAMOUNT=n,this.cdRef.detectChanges()}}},{key:"SaveCreditNoteOther",value:function(){var t,e,n,i,o,r,a,c=this;this.lstReciveVoucher=[],this.PaymentTransactionDetails=[];var l=0;if(null!=this.TenderObj.TrustId||null!=this.TenderObj.TrustId){if(null==this.TenderObj.TMemberTypeId||null==this.TenderObj.TMemberTypeId)return void this._UtilityService.showWarningAlert("Please select member type");if(null==this.TenderObj.MemberShipNumber||null==this.TenderObj.MemberShipNumber||""==this.TenderObj.MemberShipNumber)return void this._UtilityService.showWarningAlert("Please enter membership number")}if(null!=this.TenderObj.TMemberTypeId||null!=this.TenderObj.TMemberTypeId){if(null==this.TenderObj.TrustId||null==this.TenderObj.TrustId)return void this._UtilityService.showWarningAlert("Please select trust type");if(null==this.TenderObj.MemberShipNumber||null==this.TenderObj.MemberShipNumber||""==this.TenderObj.MemberShipNumber)return void this._UtilityService.showWarningAlert("Please enter membership number")}if(this.TenderObj.MemberShipNumber){if(null==this.TenderObj.TrustId||null==this.TenderObj.TrustId)return void this._UtilityService.showWarningAlert("Please select trust type");if(null==this.TenderObj.TMemberTypeId||null==this.TenderObj.TMemberTypeId)return void this._UtilityService.showWarningAlert("Please select member type")}if(this.SelectPaymodeArray.includes("AT01002")){if(null==this.TenderObj.CASH||null==this.TenderObj.CASH||this.TenderObj.CASH<=0)return void this._UtilityService.showWarningAlert("Please enter Cash Tender Amount");if(null==this.TenderObj.CashRecdDate||null==this.TenderObj.CashRecdDate)return void this._UtilityService.showWarningAlert("Please enter Cash Tender Amount Received Date");if(this.TenderObj.CASH>0&&this.TenderObj.CASH!=(null===(t=this.lsttrnAmount.find(function(t){return"Cash"==t.TrnMode}))||void 0===t?void 0:t.Amount))return void this._UtilityService.showWarningAlert("You Cannot Modify total Cash Amount");this.PaymentTransactionDetails.push({TrnMode:"Cash",Remarks:this.TenderObj.REMARKS,ReceivedDate:this.TenderObj.CashRecdDate,Amount:this.TenderObj.CASH,TrustId:this.TenderObj.TrustId,TMemberTypeId:this.TenderObj.TMemberTypeId,MemberShipNumber:this.TenderObj.MemberShipNumber}),l+=this.TenderObj.CASH}if(this.SelectPaymodeArray.includes("AT999999")){for(var s=!0,b=0;b<this.lstCardPaymentTransactionDetails.length;b++)(null==this.lstCardPaymentTransactionDetails[b].TransactionId||null==this.lstCardPaymentTransactionDetails[b].TransactionId||""==this.lstCardPaymentTransactionDetails[b].TransactionId||null==this.lstCardPaymentTransactionDetails[b].RecdDate||null==this.lstCardPaymentTransactionDetails[b].RecdDate||""==this.lstCardPaymentTransactionDetails[b].RecdDate||null==(null===(e=this.lstCardPaymentTransactionDetails[b])||void 0===e?void 0:e.Amount)||null==(null===(n=this.lstCardPaymentTransactionDetails[b])||void 0===n?void 0:n.Amount)||(null===(i=this.lstCardPaymentTransactionDetails[b])||void 0===i?void 0:i.Amount)<=0)&&1==s&&(s=!1);if(0==s)return void this._UtilityService.showWarningAlert("Please enter Transaction Details Properly");if(null==this.TenderObj.CARDAMT||null==this.TenderObj.CARDAMT||this.TenderObj.CARDAMT<=0)return void this._UtilityService.showWarningAlert("Please enter Card tender Amount");var d=this.lsttrnAmount.filter(function(t){return"Card"==t.TrnMode}),u=0;if(d.map(function(t){u+=t.Amount}),this.TenderObj.CARDAMT>0&&this.TenderObj.CARDAMT!=u)return void this._UtilityService.showWarningAlert("You Cannot Modify total Card Amount");var h="",m="",p="";this.lstCardPaymentTransactionDetails.map(function(t){c.PaymentTransactionDetails.push({TrnMode:"Card",Remarks:c.TenderObj.REMARKS,CardNo:t.CardNumber,CardHolderName:t.CardHolderName,TransactionId:t.TransactionId,ReceivedDate:t.RecdDate,Amount:t.Amount,TrustId:c.TenderObj.TrustId,TMemberTypeId:c.TenderObj.TMemberTypeId,MemberShipNumber:c.TenderObj.MemberShipNumber}),h=h+t.TransactionId+",",p=p+t.CardHolderName+",",m=m+t.CardNumber+","}),l+=this.TenderObj.CARDAMT}if(this.SelectPaymodeArray.includes("BT01001")){for(s=!0,b=0;b<this.lstBankDepositTransactionDetails.length;b++)(null==this.lstBankDepositTransactionDetails[b].BankName||null==this.lstBankDepositTransactionDetails[b].BankName||""==this.lstBankDepositTransactionDetails[b].BankName||null==this.lstBankDepositTransactionDetails[b].TransactionId||null==this.lstBankDepositTransactionDetails[b].TransactionId||""==this.lstBankDepositTransactionDetails[b].TransactionId||null==this.lstBankDepositTransactionDetails[b].RecdDate||null==this.lstBankDepositTransactionDetails[b].RecdDate||""==this.lstBankDepositTransactionDetails[b].RecdDate||null==(null===(o=this.lstBankDepositTransactionDetails[b])||void 0===o?void 0:o.Amount)||null==(null===(r=this.lstBankDepositTransactionDetails[b])||void 0===r?void 0:r.Amount)||(null===(a=this.lstBankDepositTransactionDetails[b])||void 0===a?void 0:a.Amount)<=0)&&1==s&&(s=!1);if(0==s)return void this._UtilityService.showWarningAlert("Please enter Transaction Details Properly");if(null==this.TenderObj.BANKTFAMOUNT||null==this.TenderObj.BANKTFAMOUNT||this.TenderObj.BANKTFAMOUNT<=0)return void this._UtilityService.showWarningAlert("Please enter Bank Deposit Amount");var f=this.lsttrnAmount.filter(function(t){return"Bank Transfer"==t.TrnMode||"Bank Deposit"==t.TrnMode}),T=0;if(f.map(function(t){T+=t.Amount}),this.TenderObj.BANKTFAMOUNT>0&&this.TenderObj.BANKTFAMOUNT!=T)return void this._UtilityService.showWarningAlert("You Cannot Modify total Bank Deposit Amount");h="";var v="";this.lstBankDepositTransactionDetails.map(function(t){c.PaymentTransactionDetails.push({TrnMode:"Bank Transfer",Remarks:c.TenderObj.REMARKS,BankName:t.BankName,TransactionId:t.TransactionId,ReceivedDate:t.RecdDate,Amount:t.Amount,TrustId:c.TenderObj.TrustId,TMemberTypeId:c.TenderObj.TMemberTypeId,MemberShipNumber:c.TenderObj.MemberShipNumber}),h=h+t.TransactionId+",",v=v+t.BankName+","}),l+=this.TenderObj.BANKTFAMOUNT}if(Math.round(l)<Math.round(this.NetPaybleTotal)||Math.round(l)>Math.round(this.NetPaybleTotal))this._UtilityService.showWarningAlert("Input Amount not match with Total Amount");else{var S={};S.CreditNoteAmount=this.NetPaybleTotal,S.SlotBookingId=this.slotBookingId,S.PaymentTransactionDetails=this.PaymentTransactionDetails,S.UpdatedBy=localStorage.getItem("userId"),S.VCHRNO=this.SelectedVCHRNO,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.UpdateTransactionDetailsByVoucher(S).subscribe(function(t){c._UtilityService.hideSpinner(),1==t.actionResult.success?(c.GetSuccessStatusEmit.emit(!0),c._UtilityService.showSuccessAlert(t.actionResult.errMsg)):c._UtilityService.showErrorAlert(t.actionResult.errMsg)},function(t){c._UtilityService.hideSpinner()})}}},{key:"CalculateTotalCardPayment",value:function(t,e){if(t.value>0){null!=this.TenderObj.CARDAMT&&null!=this.TenderObj.CARDAMT||(this.TenderObj.CARDAMT=0);var n=0;(null==(i=this.lstCardPaymentTransactionDetails.filter(function(t){return t.Sequence!=e}))?void 0:i.length)>0&&i.map(function(t){n+=t.Amount}),this.TenderObj.CARDAMT=n+t.value,this.cdRef.detectChanges()}else{var i;null!=this.TenderObj.CARDAMT&&null!=this.TenderObj.CARDAMT||(this.TenderObj.CARDAMT=0),n=0,(null==(i=this.lstCardPaymentTransactionDetails.filter(function(t){return t.Sequence!=e}))?void 0:i.length)>0&&i.map(function(t){n+=t.Amount}),this.TenderObj.CARDAMT=n,this.cdRef.detectChanges()}}},{key:"CalculateTotalCardPaymentrev",value:function(){var t=0;this.lstCardPaymentTransactionDetails.map(function(e){t+=e.Amount}),this.TenderObj.CARDAMT=t,this.cdRef.detectChanges()}},{key:"AddCardPaymentDetails",value:function(){this.CardTrnCounter++,this.lstCardPaymentTransactionDetails.push({Sequence:this.CardTrnCounter,CardNumber:"",CardHolderName:"",TransactionId:"",RecdDate:null,Amount:0}),this.cdRef.detectChanges()}},{key:"RemoveCardPaymentDetails",value:function(t){this.lstCardPaymentTransactionDetails=this.lstCardPaymentTransactionDetails.filter(function(e){return e.Sequence!==t}),this.CalculateTotalCardPaymentrev(),this.cdRef.detectChanges()}}]),i}(a.a)).\u0275fac=function(t){return new(t||O)(s.Sb(u.a),s.Sb(d.a),s.Sb(s.h))},O.\u0275cmp=s.Mb({type:O,selectors:[["app-individual-edit-transaction-details"]],inputs:{slotBookingId:"slotBookingId",SelectedVCHRNO:"SelectedVCHRNO",SelectedPhiscalID:"SelectedPhiscalID",SelectedDivision:"SelectedDivision",NetAmount:"NetAmount"},outputs:{GetSuccessStatusEmit:"GetSuccessStatusEmit"},features:[s.Cb,s.Db],decls:20,vars:14,consts:[[1,"row"],[1,"col-md-12"],["optionLabel","TenderName","optionValue","ACID","placeholder","Please select payment option","appendTo","body",3,"disabled","options","ngModel","onChange","ngModelChange"],[1,"row","mt-3"],[1,"col-md-12","text-right","bold"],["id","dvCashTender",4,"ngIf"],["id","dvCardTender",4,"ngIf"],["id","dvBankTfTender",4,"ngIf"],["id","dvRemarks"],["class","row mt-3",4,"ngIf"],[1,"col-md-12","text-right"],["type","button",1,"btn","btn-new-primary",3,"click"],["id","dvCashTender"],[1,"mt-2","mb-2"],[1,"row","mb-3"],[1,"col-md-3"],[1,"required",2,"color","red"],["name","txtCashAmount","mode","decimal",3,"ngModel","min","max","ngModelChange"],["appendTo","body","inputId","icon",3,"yearNavigator","monthNavigator","yearRange","maxDate","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange"],["CashRecdDate",""],["id","dvCardTender"],[1,"table","table-striped","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"],["type","text","pInputText","",3,"name","ngModel","ngModelChange"],["BankDepRecdDate",""],["mode","decimal",3,"name","ngModel","min","max","onInput","onBlur","ngModelChange"],["class","add-btn mr-2","href","javascript: void(0);",3,"click",4,"ngIf"],["href","javascript: void(0);",1,"add-btn","mr-2",3,"click"],[1,"fa","fa-plus"],[1,"fa","fa-minus"],["id","dvBankTfTender"],[1,"col-md-9"],["name","txtBankTFAmount","disabled","","mode","decimal",3,"ngModel","min","max","ngModelChange"],["type","text","name","txtRemarks","pInputText","",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"p-multiSelect",2),s.ic("onChange",function(){return e.ShowSelectedItem()})("ngModelChange",function(t){return e.selectedPaymodeCodes=t}),s.Xb(),s.Xb(),s.Xb(),s.Yb(3,"div",0),s.Yb(4,"div",1),s.Yb(5,"div",3),s.Yb(6,"div",4),s.Uc(7),s.nc(8,"number"),s.Xb(),s.Xb(),s.Sc(9,R,21,17,"div",5),s.Sc(10,F,30,1,"div",6),s.Sc(11,w,37,7,"div",7),s.Yb(12,"div",8),s.Sc(13,B,5,4,"div",9),s.Xb(),s.Tb(14,"hr"),s.Yb(15,"div"),s.Yb(16,"div",0),s.Yb(17,"div",10),s.Yb(18,"button",11),s.ic("click",function(){return e.SaveCreditNoteOther()}),s.Uc(19,"Submit"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t&&(s.Fb(2),s.Pc(s.yc(13,C)),s.tc("disabled",!0)("options",e.lstPayMode)("ngModel",e.selectedPaymodeCodes),s.Fb(5),s.Wc(" Total Amount: ",s.pc(8,10,e.NetPaybleTotal,"1.0-0")," "),s.Fb(2),s.tc("ngIf",e.SelectPaymodeArray.includes("AT01002")),s.Fb(1),s.tc("ngIf",e.SelectPaymodeArray.includes("AT999999")),s.Fb(1),s.tc("ngIf",e.SelectPaymodeArray.includes("BT01001")),s.Fb(2),s.tc("ngIf",(null==e.SelectPaymodeArray?null:e.SelectPaymodeArray.length)>0&&!e.SelectPaymodeArray.includes("ATONLN")))},directives:[y.a,X.o,X.r,f.p,D.a,Y.a,f.o,X.b,T.a],pipes:[f.g],styles:[""]}),O),L=i("Ji6n"),_=i("ykst"),W=i("e+Tu");function E(t,e){if(1&t){var n=s.Zb();s.Yb(0,"div",19),s.Tb(1,"span",20),s.Yb(2,"span",21),s.Yb(3,"span",22),s.Tb(4,"i",23),s.Yb(5,"input",24),s.ic("input",function(t){return s.Lc(n),s.mc(),s.Ic(3).filterGlobal(t.target.value,"contains")}),s.Xb(),s.Xb(),s.Xb(),s.Xb()}}function j(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2," No records found "),s.Xb(),s.Xb()),2&t){var n=e.$implicit;s.Fb(1),s.Gb("colspan",null==n?null:n.length)}}function G(t,e){1&t&&(s.Yb(0,"tr"),s.Yb(1,"th"),s.Uc(2,"S.No"),s.Xb(),s.Yb(3,"th"),s.Uc(4,"Voucher Number"),s.Xb(),s.Yb(5,"th"),s.Uc(6,"Physical Year"),s.Xb(),s.Yb(7,"th"),s.Uc(8,"Generated On"),s.Xb(),s.Yb(9,"th"),s.Uc(10,"Pay Mode"),s.Xb(),s.Yb(11,"th"),s.Uc(12,"Action"),s.Xb(),s.Xb())}function H(t,e){if(1&t){var n=s.Zb();s.Yb(0,"i",31),s.ic("click",function(){s.Lc(n);var t=s.mc().$implicit;return s.mc().PrintInvoice(t.InvoiceNumber,t.PhiscalId,t.Division,t.InvType,t.Status)}),s.Xb()}}function Q(t,e){if(1&t){var n=s.Zb();s.Yb(0,"i",32),s.ic("click",function(){s.Lc(n);var t=s.mc().$implicit;return s.mc().ShowTransactionDetails(t.InvoiceNumber,t.PhiscalId,t.Division)}),s.Xb()}}function Z(t,e){if(1&t){var n=s.Zb();s.Yb(0,"i",33),s.ic("click",function(){s.Lc(n);var t=s.mc().$implicit;return s.mc().EditTransaction(t.InvoiceNumber,t.PhiscalId,t.Division,t.InvType,t.NetProfit)}),s.Xb()}}function K(t,e){if(1&t){var n=s.Zb();s.Yb(0,"i",34),s.ic("click",function(){s.Lc(n);var t=s.mc().$implicit;return s.mc().ShowSplitVoucher(t.InvoiceNumber,t.SlotBookingId)}),s.Xb()}}function z(t,e){if(1&t){var n=s.Zb();s.Yb(0,"i",35),s.ic("click",function(){s.Lc(n);var t=s.mc().$implicit;return s.mc().ShowSplitedVoucherList(t.InvoiceNumber,t.SlotBookingId)}),s.Xb()}}function q(t,e){if(1&t){var n=s.Zb();s.Yb(0,"i",36),s.ic("click",function(){s.Lc(n);var t=s.mc().$implicit;return s.mc().ShowSalesReturnModel(t.InvoiceNumber,t.SlotBookingId)}),s.Xb()}}function J(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Uc(4),s.Xb(),s.Yb(5,"td"),s.Uc(6),s.Xb(),s.Yb(7,"td"),s.Uc(8),s.nc(9,"date"),s.Xb(),s.Yb(10,"td"),s.Uc(11),s.nc(12,"titlecase"),s.Xb(),s.Yb(13,"td"),s.Sc(14,H,1,0,"i",25),s.Sc(15,Q,1,0,"i",26),s.Sc(16,Z,1,0,"i",27),s.Sc(17,K,1,0,"i",28),s.Sc(18,z,1,0,"i",29),s.Sc(19,q,1,0,"i",30),s.Xb(),s.Xb()),2&t){var n=e.$implicit,i=e.rowIndex,o=s.mc();s.Fb(2),s.Vc(i+1),s.Fb(2),s.Vc(n.InvoiceNumber),s.Fb(2),s.Vc(n.PhiscalId),s.Fb(2),s.Vc(s.pc(9,11,n.GenertaedOn,o.customDateFormat.DEF_DATE)),s.Fb(3),s.Vc(s.oc(12,14,n.PayMode)),s.Fb(3),s.tc("ngIf","Split"!=n.InvType&&(null==o.lstIAccessStr?null:o.lstIAccessStr.includes(o.ActionList.Print.toString()))),s.Fb(1),s.tc("ngIf","Split"!=n.InvType),s.Fb(1),s.tc("ngIf","Split"!=n.InvType&&!o.IsVisitor&&(null==o.lstIAccessStr?null:o.lstIAccessStr.includes(o.ActionList.ReadWrite.toString()))&&"PaymentReceive"==n.InvType&&"Online"!==n.PayMode),s.Fb(1),s.tc("ngIf",1!=n.IsSplited&&"Yes"==o.lsBillSplit&&"CInv"==n.InvType&&1==o.IsGrouped&&"IPD"==o.BookingType),s.Fb(1),s.tc("ngIf","Split"==n.InvType&&1==o.IsGrouped&&"IPD"==o.BookingType),s.Fb(1),s.tc("ngIf",o.IsSalesReturn&&"CInv"==n.InvType&&1==n.Status&&(null==o.lstIAccessStr?null:o.lstIAccessStr.includes(o.ActionList.Print.toString())))}}function tt(t,e){if(1&t&&(s.Yb(0,"h3"),s.Uc(1),s.Xb()),2&t){var n=s.mc();s.Fb(1),s.Wc("","SalesReturn"==n.SelectedInvType?"Sales Return":"PaymentReceive"==n.SelectedInvType?"Payment Receive":"CreditNote"==n.SelectedInvType?"Payment Credit":"Payment Refund"," Details")}}function et(t,e){if(1&t&&(s.Yb(0,"div"),s.Tb(1,"app-print-payment-voucher",37),s.Xb()),2&t){var n=s.mc();s.Fb(1),s.tc("IsVisitor",n.IsVisitor)("SelectedSlotBookingId",n.slotBookingId)("SelectedVCHRNO",n.InvoiceNumberSelected)("SelectedPhiscalID",n.PhiscalIdSelected)("SelectedDivision",n.DivisionSelected)("InvType",n.SelectedInvType)("Status",n.StatusSelected)}}function nt(t,e){if(1&t&&(s.Yb(0,"div"),s.Tb(1,"app-print-profile",38),s.Xb()),2&t){var n=s.mc();s.Fb(1),s.tc("IsVisitor",n.IsVisitor)("SlotBookingIdSelected",n.slotBookingId)("InvoiceNumberSelected",n.InvoiceNumberSelected)("PhiscalIdSelected",n.PhiscalIdSelected)("DivisionSelected",n.DivisionSelected)}}function it(t,e){if(1&t&&(s.Yb(0,"div"),s.Tb(1,"app-individual-transaction-list",39),s.Xb()),2&t){var n=s.mc();s.Fb(1),s.tc("IsVisitor",n.IsVisitor)("slotBookingId",n.slotBookingId)("SelectedVCHRNO",n.InvoiceNumberSelected)("SelectedPhiscalID",n.PhiscalIdSelected)("SelectedDivision",n.DivisionSelected)}}function ot(t,e){if(1&t){var n=s.Zb();s.Yb(0,"div"),s.Yb(1,"app-individual-edit-transaction-details",40),s.ic("GetSuccessStatusEmit",function(t){return s.Lc(n),s.mc().GetSuccessStatusEmit(t)}),s.Xb(),s.Xb()}if(2&t){var i=s.mc();s.Fb(1),s.tc("slotBookingId",i.slotBookingId)("SelectedVCHRNO",i.InvoiceNumberSelected)("SelectedPhiscalID",i.PhiscalIdSelected)("SelectedDivision",i.DivisionSelected)("NetAmount",i.NetAmount)}}function rt(t,e){if(1&t){var n=s.Zb();s.Yb(0,"div",19),s.Tb(1,"span",20),s.Yb(2,"span",21),s.Yb(3,"span",22),s.Tb(4,"i",23),s.Yb(5,"input",24),s.ic("input",function(t){return s.Lc(n),s.mc(),s.Ic(21).filterGlobal(t.target.value,"contains")}),s.Xb(),s.Xb(),s.Xb(),s.Xb()}}function at(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2," No records found "),s.Xb(),s.Xb()),2&t){var n=e.$implicit;s.Fb(1),s.Gb("colspan",null==n?null:n.length)}}function ct(t,e){1&t&&(s.Yb(0,"tr"),s.Yb(1,"th"),s.Uc(2,"S.No"),s.Xb(),s.Yb(3,"th"),s.Uc(4,"Name"),s.Xb(),s.Yb(5,"th"),s.Uc(6,"Action"),s.Xb(),s.Xb())}function lt(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td"),s.Uc(2),s.Xb(),s.Yb(3,"td"),s.Uc(4),s.Xb(),s.Yb(5,"td",41),s.Yb(6,"p-checkbox",42),s.ic("ngModelChange",function(t){return e.$implicit.Checked=t}),s.Xb(),s.Xb(),s.Xb()),2&t){var n=e.$implicit,i=e.rowIndex;s.Fb(2),s.Vc(i+1),s.Fb(2),s.Vc(n.FullName),s.Fb(2),s.vc("name","chkGrp_",i,""),s.vc("id","chkGrp_",i,""),s.tc("ngModel",n.Checked)("binary",!0)("disabled",1==n.Disabled)}}function st(t,e){if(1&t){var n=s.Zb();s.Yb(0,"div",14),s.Tb(1,"div",43),s.Yb(2,"div",44),s.Yb(3,"button",45),s.ic("click",function(){return s.Lc(n),s.mc().SubmitSplitBill()}),s.Uc(4,"Submit"),s.Xb(),s.Xb(),s.Xb()}}function bt(t,e){if(1&t&&(s.Yb(0,"div"),s.Tb(1,"app-split-print-voucher",46),s.Xb()),2&t){var n=s.mc();s.Fb(1),s.tc("SlotBookingIdSelected",n.SlotBookingIdSelected)("VCHRNO",n.VCHRNO)}}function dt(t,e){if(1&t){var n=s.Zb();s.Yb(0,"div"),s.Yb(1,"app-sales-return",47),s.ic("EmitSuccessSalesReturn",function(t){return s.Lc(n),s.mc().EmitSuccessSalesReturn(t)}),s.Xb(),s.Xb()}if(2&t){var i=s.mc();s.Fb(1),s.tc("SlotBookingIdSelected",i.SlotBookingIdSelected)("VCHRNO",i.VCHRNO)}}var ut,ht=function(){return["InvoiceNumber","PhiscalId"]},mt=function(){return{width:"100vw"}},pt=function(){return{width:"90vw"}},ft=((ut=function(t){r(i,t);var e=c(i);function i(t,o,r,a){var c,s;return n(this,i),(c=e.call(this)).router=t,c._ConstantsService=o,c._PatientServices=r,c._UtilityService=a,c.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,c.slotBookingId=null,c.IsVisitor=!1,c.IsGrouped=!1,c.BookingType="IPD",c.showIndividualInvoiceList=!0,c.customDateFormat=l.h,c.userTypes=l.s,c.InvoiceNumberSelected=null,c.PhiscalIdSelected=null,c.DivisionSelected=null,c.SelectedInvType=null,c.lstInvoice=[],c.ShowPrintPaymentVoucherModel=!1,c.ShowPrintProfileModel=!1,c.ShowTransactionDetailsModel=!1,c.ActionList=l.a,c.lstIAccess=[],c.lstIAccessStr=[],c.ShowEditTransactionDetailsModel=!1,c.NetAmount=0,c.StatusSelected=0,c.lstGroupMember=[],c.ShowGroupMemberDetailsModel=!1,c.ShowSplitedPrintModel=!1,c.SlotBookingIdSelected=null,c.VCHRNO=null,c.ShowDialogSalesReturnModel=!1,c.IsSalesReturn=!1,c.IsSalesReturn=1==(null===(s=c.lsobjClinicMaster)||void 0===s?void 0:s.IsSalesReturn),c.getPageLevelAccess(),c}return o(i,[{key:"getPageLevelAccess",value:function(){var t,e,n=this,i=this.getUrlWithoutParams();"/common-dashboard"==i&&l.s.CallCenter===localStorage.getItem("userTypeId")?i="/patient/health-seekeer-registration":"/common-dashboard"==i&&l.s.Finance===localStorage.getItem("userTypeId")?i="/report/patient-billing-report":"/common-dashboard"==i&&l.s.Billing===localStorage.getItem("userTypeId")&&(i="/payment/extra-item-entry");var o=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==o?void 0:o.find(function(t){return t.MenuItemURL===i}))&&(this.lstIAccess=null===(t=o.find(function(t){return t.MenuItemURL===i}))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(function(t){n.lstIAccessStr.push(t.ActionId.toString())}))}},{key:"getUrlWithoutParams",value:function(){var t=this.router.parseUrl(this.router.url);return t.queryParams={},t.fragment=null,t.toString()}},{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){this.ShowInvoiceList()}},{key:"ShowInvoiceList",value:function(){var t=this;null!=this.slotBookingId&&null!=this.slotBookingId&&""!=this.slotBookingId?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetInvoiceListBySlotBookingId(this.slotBookingId,this.IsVisitor).subscribe({next:function(e){if(t._UtilityService.hideSpinner(),1==e.actionResult.success){var n=JSON.parse(e.actionResult.result);t.lstInvoice=n=n||[],t.lsBillSplit=e.actionResult.stringVal}else t.lstInvoice=[]},error:function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)}})):this._UtilityService.showWarningAlert("No record found")}},{key:"EditTransaction",value:function(t,e,n,i,o){this.InvoiceNumberSelected=t,this.PhiscalIdSelected=e,this.DivisionSelected=n,this.SelectedInvType=i,this.NetAmount=o,"PaymentReceive"==i||"RefundPayment"==i||"CreditNote"==i?this.ShowEditTransactionDetailsModel=!0:this._UtilityService.showWarningAlert("Tax Invoice Transaction cannot be editable")}},{key:"PrintInvoice",value:function(t,e,n,i,o){this.InvoiceNumberSelected=t,this.PhiscalIdSelected=e,this.DivisionSelected=n,this.SelectedInvType=i,this.StatusSelected=o,"PaymentReceive"==i||"RefundPayment"==i||"CreditNote"==i||"SalesReturn"==i?this.ShowPrintPaymentVoucherModel=!0:this.ShowPrintProfileModel=!0}},{key:"ShowTransactionDetails",value:function(t,e,n){this.InvoiceNumberSelected=t,this.PhiscalIdSelected=e,this.DivisionSelected=n,this.ShowTransactionDetailsModel=!0}},{key:"GetSuccessStatusEmit",value:function(t){1==t&&(this.ShowEditTransactionDetailsModel=!1)}},{key:"ShowSplitVoucher",value:function(t,e){var n=this;this.InvoiceNumberSelected=t,this.lstGroupMember=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetGroupMemberDetails(e).subscribe({next:function(t){if(n._UtilityService.hideSpinner(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);n.lstGroupMember=e=e||[],n.ShowGroupMemberDetailsModel=!0}else n.lstGroupMember=[]},error:function(t){n._UtilityService.hideSpinner(),n._UtilityService.showErrorAlert(t.message)}})}},{key:"SubmitSplitBill",value:function(){var t,e=this;if((null===(t=this.lstGroupMember.filter(function(t){return 1==t.Checked}))||void 0===t?void 0:t.length)<2)this._UtilityService.showWarningAlert("Please Select Atleast 2 Group Member to Split Bill");else{var n={};n.lstSplit=this.lstGroupMember.filter(function(t){return 1==t.Checked}),n.VCHRNO=this.InvoiceNumberSelected,this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.SplitBillonGroupMember(n).subscribe({next:function(t){e._UtilityService.hideSpinner(),1==t.actionResult.success?(e._UtilityService.showSuccessAlert(t.actionResult.errMsg),e.ShowInvoiceList(),e.ShowGroupMemberDetailsModel=!1):e._UtilityService.showWarningAlert(t.actionResult.errMsg)},error:function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)}})}}},{key:"ShowSplitedVoucherList",value:function(t,e){this.SlotBookingIdSelected=e,this.VCHRNO=t,this.ShowSplitedPrintModel=!0}},{key:"ShowSalesReturnModel",value:function(t,e){this.SlotBookingIdSelected=e,this.VCHRNO=t,this.ShowDialogSalesReturnModel=!0}},{key:"EmitSuccessSalesReturn",value:function(t){1==t&&(this.ShowDialogSalesReturnModel=!1,this.ShowInvoiceList())}}]),i}(a.a)).\u0275fac=function(t){return new(t||ut)(s.Sb(b.i),s.Sb(l.f),s.Sb(d.a),s.Sb(u.a))},ut.\u0275cmp=s.Mb({type:ut,selectors:[["app-individual-invoice-list"]],inputs:{slotBookingId:"slotBookingId",IsVisitor:"IsVisitor",IsGrouped:"IsGrouped",BookingType:"BookingType",showIndividualInvoiceList:"showIndividualInvoiceList"},features:[s.Cb,s.Db],decls:31,vars:53,consts:[[1,"row","mb-4"],[1,"col-md-12"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","250px",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["appendTo","body",3,"modal","visible","resizable","maximizable","visibleChange"],[4,"ngIf"],["header","Print Voucher","appendTo","body",3,"modal","visible","maximizable","visibleChange"],["header","Transaction Details","appendTo","body",3,"modal","visible","visibleChange"],["header","Edit Transaction Details","appendTo","body",3,"modal","visible","visibleChange"],["header","Group Member Details","appendTo","body",3,"modal","visible","visibleChange"],[1,"row"],["dt3",""],["pTemplate","footer"],["header","Print Splited Voucher","appendTo","body",3,"modal","visible","maximizable","visibleChange"],["header","Sales Return","appendTo","body",3,"modal","visible","maximizable","visibleChange"],[1,"p-d-flex"],[1,"p-ml-left"],[1,"p-ml-auto"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["title","Print Voucher","class","fa fa-print mr-2",3,"click",4,"ngIf"],["title","Transaction Details","class","fa fa-list-alt mr-2",3,"click",4,"ngIf"],["title","Edit Transaction","class","fas fa-fw fa-pencil-alt",3,"click",4,"ngIf"],["title","Split Voucher","class","fas fa-people-arrows mr-2",3,"click",4,"ngIf"],["title","Print Splited Voucher","class","fa fa-money-bill mr-2",3,"click",4,"ngIf"],["title","Sales Return","class","fas fa-undo mr-2",3,"click",4,"ngIf"],["title","Print Voucher",1,"fa","fa-print","mr-2",3,"click"],["title","Transaction Details",1,"fa","fa-list-alt","mr-2",3,"click"],["title","Edit Transaction",1,"fas","fa-fw","fa-pencil-alt",3,"click"],["title","Split Voucher",1,"fas","fa-people-arrows","mr-2",3,"click"],["title","Print Splited Voucher",1,"fa","fa-money-bill","mr-2",3,"click"],["title","Sales Return",1,"fas","fa-undo","mr-2",3,"click"],[3,"IsVisitor","SelectedSlotBookingId","SelectedVCHRNO","SelectedPhiscalID","SelectedDivision","InvType","Status"],[3,"IsVisitor","SlotBookingIdSelected","InvoiceNumberSelected","PhiscalIdSelected","DivisionSelected"],[3,"IsVisitor","slotBookingId","SelectedVCHRNO","SelectedPhiscalID","SelectedDivision"],[3,"slotBookingId","SelectedVCHRNO","SelectedPhiscalID","SelectedDivision","NetAmount","GetSuccessStatusEmit"],[1,"field-checkbox"],[3,"ngModel","name","id","binary","disabled","ngModelChange"],[1,"col-md-9"],[1,"col-md-3"],["type","button",1,"btn","btn-new-primary","mr-2",3,"click"],[3,"SlotBookingIdSelected","VCHRNO"],[3,"SlotBookingIdSelected","VCHRNO","EmitSuccessSalesReturn"]],template:function(t,e){1&t&&(s.Yb(0,"div",0),s.Yb(1,"div",1),s.Yb(2,"p-table",2,3),s.Sc(4,E,6,0,"ng-template",4),s.Sc(5,j,3,1,"ng-template",5),s.Sc(6,G,13,0,"ng-template",6),s.Sc(7,J,20,16,"ng-template",7),s.Xb(),s.Xb(),s.Xb(),s.Yb(8,"p-dialog",8),s.ic("visibleChange",function(t){return e.ShowPrintPaymentVoucherModel=t}),s.Sc(9,tt,2,1,"ng-template",6),s.Sc(10,et,2,7,"div",9),s.Xb(),s.Yb(11,"p-dialog",10),s.ic("visibleChange",function(t){return e.ShowPrintProfileModel=t}),s.Sc(12,nt,2,5,"div",9),s.Xb(),s.Yb(13,"p-dialog",11),s.ic("visibleChange",function(t){return e.ShowTransactionDetailsModel=t}),s.Sc(14,it,2,5,"div",9),s.Xb(),s.Yb(15,"p-dialog",12),s.ic("visibleChange",function(t){return e.ShowEditTransactionDetailsModel=t}),s.Sc(16,ot,2,5,"div",9),s.Xb(),s.Yb(17,"p-dialog",13),s.ic("visibleChange",function(t){return e.ShowGroupMemberDetailsModel=t}),s.Yb(18,"div",14),s.Yb(19,"div",1),s.Yb(20,"p-table",2,15),s.Sc(22,rt,6,0,"ng-template",4),s.Sc(23,at,3,1,"ng-template",5),s.Sc(24,ct,7,0,"ng-template",6),s.Sc(25,lt,7,7,"ng-template",7),s.Sc(26,st,5,0,"ng-template",16),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(27,"p-dialog",17),s.ic("visibleChange",function(t){return e.ShowSplitedPrintModel=t}),s.Sc(28,bt,2,2,"div",9),s.Xb(),s.Yb(29,"p-dialog",18),s.ic("visibleChange",function(t){return e.ShowDialogSalesReturnModel=t}),s.Sc(30,dt,2,2,"div",9),s.Xb()),2&t&&(s.Fb(2),s.tc("value",e.lstInvoice)("rowHover",!0)("globalFilterFields",s.yc(45,ht))("scrollable",!0),s.Fb(6),s.tc("modal",!0)("visible",e.ShowPrintPaymentVoucherModel)("resizable",!0)("maximizable",!0),s.Fb(2),s.tc("ngIf",e.ShowPrintPaymentVoucherModel),s.Fb(1),s.Pc(s.yc(46,mt)),s.tc("modal",!0)("visible",e.ShowPrintProfileModel)("maximizable",!0),s.Fb(1),s.tc("ngIf",e.ShowPrintProfileModel),s.Fb(1),s.Pc(s.yc(47,pt)),s.tc("modal",!0)("visible",e.ShowTransactionDetailsModel),s.Fb(1),s.tc("ngIf",e.ShowTransactionDetailsModel),s.Fb(1),s.Pc(s.yc(48,pt)),s.tc("modal",!0)("visible",e.ShowEditTransactionDetailsModel),s.Fb(1),s.tc("ngIf",e.ShowEditTransactionDetailsModel),s.Fb(1),s.Pc(s.yc(49,pt)),s.tc("modal",!0)("visible",e.ShowGroupMemberDetailsModel),s.Fb(3),s.tc("value",e.lstGroupMember)("rowHover",!0)("globalFilterFields",s.yc(50,ht))("scrollable",!0),s.Fb(7),s.Pc(s.yc(51,mt)),s.tc("modal",!0)("visible",e.ShowSplitedPrintModel)("maximizable",!0),s.Fb(1),s.tc("ngIf",e.ShowSplitedPrintModel),s.Fb(1),s.Pc(s.yc(52,mt)),s.tc("modal",!0)("visible",e.ShowDialogSalesReturnModel)("maximizable",!0),s.Fb(1),s.tc("ngIf",e.ShowDialogSalesReturnModel))},directives:[h.c,m.i,p.a,f.p,T.a,v.a,S.a,I.a,V,L.a,X.o,X.r,_.a,W.a],pipes:[f.f,f.y],styles:[""]}),ut)},"e+Tu":function(t,e,i){"use strict";i.d(e,"a",function(){return S});var a=i("fXoL"),l=i("CwUn"),s=i("NLkC"),b=i("G+wY"),d=i("Nach"),u=i("3Pt+"),h=i("ofXK"),m=i("Ks7X"),p=i("jIHw"),f=function(){return{width:"100%"}};function T(t,e){if(1&t){var n=a.Zb();a.Yb(0,"tr"),a.Yb(1,"td"),a.Yb(2,"input",8),a.ic("ngModelChange",function(t){return e.$implicit.IsChecked=t}),a.Xb(),a.Xb(),a.Yb(3,"td"),a.Uc(4),a.Xb(),a.Yb(5,"td"),a.Uc(6),a.Xb(),a.Yb(7,"td"),a.Uc(8),a.Xb(),a.Yb(9,"td"),a.Uc(10),a.Xb(),a.Yb(11,"td"),a.Uc(12),a.Xb(),a.Yb(13,"td"),a.Uc(14),a.Xb(),a.Yb(15,"td"),a.Yb(16,"p-inputNumber",9),a.ic("ngModelChange",function(t){return e.$implicit.ReQty=t})("onInput",function(t){a.Lc(n);var i=e.index;return a.mc().CalculateItemTotal(t,i)})("onBlur",function(){a.Lc(n);var t=e.index;return a.mc().CalculateItemTotalNew(t)}),a.Xb(),a.Xb(),a.Yb(17,"td"),a.Uc(18),a.nc(19,"number"),a.Xb(),a.Yb(20,"td"),a.Uc(21),a.nc(22,"number"),a.Xb(),a.Yb(23,"td"),a.Uc(24),a.nc(25,"number"),a.Xb(),a.Yb(26,"td"),a.Uc(27),a.nc(28,"number"),a.Xb(),a.Yb(29,"td"),a.Uc(30),a.nc(31,"number"),a.Xb(),a.Xb()}if(2&t){var i=e.$implicit,o=e.index;a.Fb(2),a.tc("disabled",0==i.AvQty)("ngModel",i.IsChecked),a.Fb(2),a.Wc(" ",i.MCODE," "),a.Fb(2),a.Wc(" ",i.Description," "),a.Fb(2),a.Vc(i.MRP),a.Fb(2),a.Vc(i.SPRICE),a.Fb(2),a.Vc(i.SoldQty),a.Fb(2),a.Vc(i.AvQty),a.Fb(2),a.Pc(a.yc(36,f)),a.vc("name","txtItemWiseQty_",o+1,""),a.tc("disabled",1!=i.IsChecked)("ngModel",i.ReQty)("min",0)("max",i.AvQty)("maxlength",10),a.Fb(2),a.Vc(a.pc(19,21,i.GST,"1.1-2")),a.Fb(3),a.Wc(" ",a.pc(22,24,i.Taxable,"1.1-2")," "),a.Fb(3),a.Wc(" ",a.pc(25,27,i.DiscPer,"1.1-2")," "),a.Fb(3),a.Wc(" ",a.pc(28,30,i.DiscAmnt,"1.1-2")," "),a.Fb(3),a.Wc(" ",a.pc(31,33,i.NetPayble,"1.1-2")," ")}}function v(t,e){if(1&t){var n=a.Zb();a.Yb(0,"p-button",10),a.ic("onClick",function(t){a.Lc(n);var e=a.mc();return t.stopPropagation(),e.SaveSalesReturn()}),a.Uc(1," Save "),a.Xb()}}var S=function(){var t=function(t){r(i,t);var e=c(i);function i(t,o,r,c){var l;return n(this,i),(l=e.call(this))._UtilityService=t,l.cdRef=o,l._PatientServices=r,l._ConstantServices=c,l.SlotBookingIdSelected=null,l.VCHRNO=null,l.EmitSuccessSalesReturn=new a.o,l.lstItemDetails=[],l.selectAllItem=!1,l.ItemTotalDiscount=0,l.ItemTotalTaxable=0,l.ItemTotalGST=0,l.TotalDiscount=0,l.TotalGST=0,l.TotalTaxable=0,l.ItemCheckedTotal=0,l.TotalSoldQty=0,l.TotalAvQty=0,l.TotalReQty=0,l.TotalNetPayble=0,l}return o(i,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){this.LoadAvailableItem()}},{key:"LoadAvailableItem",value:function(){var t=this;this.lstItemDetails=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetTIProdItemDueForSRE(this.SlotBookingIdSelected,this.VCHRNO).subscribe(function(e){if(t._UtilityService.hideSpinner(),1==e.actionResult.success){var n=JSON.parse(e.actionResult.result);t.lstItemDetails=n=n||[],t.cdRef.detectChanges()}else t.lstItemDetails=[],t.cdRef.detectChanges()},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)}),this.cdRef.detectChanges()}},{key:"getSelectAllItem",value:function(){var t;if(1==this.selectAllItem)for(var e=0;e<(null===(t=this.lstItemDetails)||void 0===t?void 0:t.length);e++)this.lstItemDetails[e].IsChecked=!0;else for(e=0;e<this.lstItemDetails.length;e++)this.lstItemDetails[e].IsChecked=!1;this.cdRef.detectChanges()}},{key:"CalculateItemTotal",value:function(t,e){if(this._ConstantServices.nullToZeroConverter(t.value)>0){var n,i,o=this._ConstantServices.nullToZeroConverter(t.value),r=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].SPRICE),a=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].DiscPer);n=a>0?r*o*a/100:0,i=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].GSTRATE)>0?(r*o-n)*this._ConstantServices.nullToZeroConverter(this.lstItemDetails[e].GSTRATE)/100:0,this.lstItemDetails[e].ReQty=o,this.lstItemDetails[e].GST=i,this.lstItemDetails[e].DiscAmnt=n,this.lstItemDetails[e].PriceWithGST=r*o-n+i,this.lstItemDetails[e].NetPayble=r*o-n+i,this.lstItemDetails[e].Taxable=r*o-n}else this.lstItemDetails[e].GST=0,this.lstItemDetails[e].DiscAmnt=0,this.lstItemDetails[e].PriceWithGST=0,this.lstItemDetails[e].NetPayble=0,this.lstItemDetails[e].Taxable=0;this.CalculateTotalItemPrice(),this.cdRef.detectChanges()}},{key:"CalculateItemTotalNew",value:function(t){var e=this.lstItemDetails[t];if(this._ConstantServices.nullToZeroConverter(e.ReQty)>0){var n,i,o=this._ConstantServices.nullToZeroConverter(e.ReQty),r=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].SPRICE),a=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].DiscPer);n=a>0?r*o*a/100:0,i=this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].GSTRATE)>0?(r*o-n)*this._ConstantServices.nullToZeroConverter(this.lstItemDetails[t].GSTRATE)/100:0,this.lstItemDetails[t].ReQty=o,this.lstItemDetails[t].GST=i,this.lstItemDetails[t].DiscAmnt=n,this.lstItemDetails[t].PriceWithGST=r*o-n+i,this.lstItemDetails[t].NetPayble=r*o-n+i}else this.lstItemDetails[t].GST=0,this.lstItemDetails[t].DiscAmnt=0,this.lstItemDetails[t].PriceWithGST=0,this.lstItemDetails[t].NetPayble=0;this.CalculateTotalItemPrice(),this.cdRef.detectChanges()}},{key:"CalculateTotalItemPrice",value:function(){var t=this;if(this.ItemTotalDiscount=0,this.ItemTotalTaxable=0,this.ItemTotalGST=0,this.TotalDiscount=0,this.TotalGST=0,this.TotalTaxable=0,this.TotalSoldQty=0,this.TotalAvQty=0,this.TotalReQty=0,this.TotalNetPayble=0,null!=this.lstItemDetails.filter(function(t){return 1==t.IsChecked&&t.ReQty>0})){var e=this.lstItemDetails.filter(function(t){return 1==t.IsChecked&&t.ReQty>0}),n=0;e.length>0&&(n=e.map(function(t){return t.PriceWithGST}).reduce(function(t,e){return t+e},0)),this.ItemCheckedTotal=n,e.map(function(e){t.ItemTotalDiscount=t.ItemTotalDiscount+t._ConstantServices.nullToZeroConverter(e.DiscAmnt),t.ItemTotalTaxable=t.ItemTotalTaxable+t._ConstantServices.nullToZeroConverter(e.Taxable),t.ItemTotalGST=t.ItemTotalGST+t._ConstantServices.nullToZeroConverter(e.GST),t.TotalSoldQty=t.TotalSoldQty+t._ConstantServices.nullToZeroConverter(e.SoldQty),t.TotalAvQty=t.TotalAvQty+t._ConstantServices.nullToZeroConverter(e.AvQty),t.TotalReQty=t.TotalReQty+t._ConstantServices.nullToZeroConverter(e.ReQty),t.TotalNetPayble=t.TotalNetPayble+t._ConstantServices.nullToZeroConverter(e.NetPayble)}),this.cdRef.detectChanges()}}},{key:"SaveSalesReturn",value:function(){var t,e=this;if(0!=(null===(t=this.lstItemDetails.filter(function(t){return 1==t.IsChecked&&t.ReQty>0}))||void 0===t?void 0:t.length))if(this.TotalNetPayble<=0)this._UtilityService.showWarningAlert("Return Amount less");else{var n={};n.lstReturnDTO=this.lstItemDetails.filter(function(t){return 1==t.IsChecked&&t.ReQty>0}),n.ModifiedBy=localStorage.getItem("userId"),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.SaveSalesReturn(n).subscribe(function(t){e._UtilityService.hideSpinner(),1==t.actionResult.success?(e.EmitSuccessSalesReturn.emit(!0),e._UtilityService.showSuccessAlert(t.actionResult.errMsg)):e._UtilityService.showWarningAlert(t.actionResult.errMsg)},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}else this._UtilityService.showWarningAlert("Please Check Any Item to return")}}]),i}(l.a);return t.\u0275fac=function(e){return new(e||t)(a.Sb(s.a),a.Sb(a.h),a.Sb(b.a),a.Sb(d.f))},t.\u0275cmp=a.Mb({type:t,selectors:[["app-sales-return"]],inputs:{SlotBookingIdSelected:"SlotBookingIdSelected",VCHRNO:"VCHRNO"},outputs:{EmitSuccessSalesReturn:"EmitSuccessSalesReturn"},features:[a.Cb,a.Db],decls:67,vars:31,consts:[[1,"row"],[1,"col-md-12"],[1,"table","table-striped","table-bordered",2,"width","100%"],["type","checkbox",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"col-md-10"],[1,"col-md-2",2,"text-align","right"],["type","button","class","print-prew",3,"onClick",4,"ngIf"],["type","checkbox","name","chkExtraItem",3,"disabled","ngModel","ngModelChange"],["mode","decimal",3,"disabled","name","ngModel","min","max","maxlength","ngModelChange","onInput","onBlur"],["type","button",1,"print-prew",3,"onClick"]],template:function(t,e){1&t&&(a.Yb(0,"div",0),a.Yb(1,"div",1),a.Yb(2,"table",2),a.Yb(3,"thead"),a.Yb(4,"tr"),a.Yb(5,"th"),a.Yb(6,"input",3),a.ic("ngModelChange",function(t){return e.selectAllItem=t})("change",function(){return e.getSelectAllItem()}),a.Xb(),a.Xb(),a.Yb(7,"th"),a.Uc(8,"Item Code"),a.Xb(),a.Yb(9,"th"),a.Uc(10,"Item Details"),a.Xb(),a.Yb(11,"th"),a.Uc(12,"Rate"),a.Xb(),a.Yb(13,"th"),a.Uc(14,"Selling Price"),a.Xb(),a.Yb(15,"th"),a.Uc(16,"Sold Qty"),a.Xb(),a.Yb(17,"th"),a.Uc(18,"Available Qty"),a.Xb(),a.Yb(19,"th"),a.Uc(20,"Return Qty"),a.Xb(),a.Yb(21,"th"),a.Uc(22,"GST"),a.Xb(),a.Yb(23,"th"),a.Uc(24,"Taxable"),a.Xb(),a.Yb(25,"th"),a.Uc(26,"Discount %"),a.Xb(),a.Yb(27,"th"),a.Uc(28,"Discount Amount"),a.Xb(),a.Yb(29,"th"),a.Uc(30,"Net Amount"),a.Xb(),a.Xb(),a.Xb(),a.Yb(31,"tbody"),a.Sc(32,T,32,37,"tr",4),a.Yb(33,"tr"),a.Tb(34,"td"),a.Tb(35,"td"),a.Yb(36,"td"),a.Yb(37,"b"),a.Uc(38,"Total"),a.Xb(),a.Xb(),a.Tb(39,"td"),a.Tb(40,"td"),a.Yb(41,"td"),a.Uc(42),a.nc(43,"number"),a.Xb(),a.Yb(44,"td"),a.Uc(45),a.nc(46,"number"),a.Xb(),a.Yb(47,"td"),a.Uc(48),a.nc(49,"number"),a.Xb(),a.Yb(50,"td"),a.Uc(51),a.nc(52,"number"),a.Xb(),a.Yb(53,"td"),a.Uc(54),a.nc(55,"number"),a.Xb(),a.Tb(56,"td"),a.Yb(57,"td"),a.Uc(58),a.nc(59,"number"),a.Xb(),a.Yb(60,"td"),a.Uc(61),a.nc(62,"number"),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(63,"div",0),a.Tb(64,"div",5),a.Yb(65,"div",6),a.Sc(66,v,2,0,"p-button",7),a.Xb(),a.Xb()),2&t&&(a.Fb(6),a.tc("ngModel",e.selectAllItem),a.Fb(26),a.tc("ngForOf",e.lstItemDetails),a.Fb(10),a.Vc(a.pc(43,10,e.TotalSoldQty,"1.1-2")),a.Fb(3),a.Vc(a.pc(46,13,e.TotalAvQty,"1.1-2")),a.Fb(3),a.Vc(a.pc(49,16,e.TotalReQty,"1.1-2")),a.Fb(3),a.Vc(a.pc(52,19,e.ItemTotalGST,"1.1-2")),a.Fb(3),a.Vc(a.pc(55,22,e.ItemTotalTaxable,"1.1-2")),a.Fb(4),a.Vc(a.pc(59,25,e.ItemTotalDiscount,"1.1-2")),a.Fb(3),a.Vc(a.pc(62,28,e.TotalNetPayble,"1.1-2")),a.Fb(5),a.tc("ngIf",e.TotalNetPayble>0))},directives:[u.a,u.o,u.r,h.o,h.p,m.a,u.j,p.a],pipes:[h.g],styles:[""]}),t}()},jhiP:function(t,e,i){"use strict";i.d(e,"a",function(){return w});var a=i("Nach"),l=i("CwUn"),s=i("fXoL"),b=i("dcBc"),d=i("G+wY"),u=i("NLkC"),h=i("Q8Cd"),m=i("sCq/"),p=i("ofXK");function f(t,e){1&t&&(s.Yb(0,"th",11),s.Uc(1,"Dis %"),s.Xb())}function T(t,e){1&t&&(s.Yb(0,"th",11),s.Uc(1," Dis Amount"),s.Xb())}function v(t,e){if(1&t&&(s.Yb(0,"td",28),s.Uc(1),s.nc(2,"number"),s.Xb()),2&t){var n=s.mc().$implicit;s.Fb(1),s.Wc(" ",s.pc(2,1,n.INDDISCOUNTRATE,"1.1-2"),"")}}function S(t,e){if(1&t&&(s.Yb(0,"td",28),s.Uc(1),s.nc(2,"number"),s.Xb()),2&t){var n=s.mc().$implicit;s.Fb(1),s.Wc(" ",s.pc(2,1,n.INDDISCOUNT,"1.1-2")," ")}}function I(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td",28),s.Uc(2),s.Xb(),s.Yb(3,"td",28),s.Uc(4),s.Xb(),s.Yb(5,"td",28),s.Uc(6),s.Xb(),s.Yb(7,"td",28),s.Uc(8),s.Xb(),s.Yb(9,"td",28),s.Uc(10),s.nc(11,"number"),s.Xb(),s.Sc(12,v,3,4,"td",29),s.Sc(13,S,3,4,"td",29),s.Yb(14,"td",28),s.Uc(15),s.nc(16,"number"),s.Xb(),s.Xb()),2&t){var n=e.$implicit,i=e.index,o=s.mc();s.Fb(2),s.Wc(" ",i+1,""),s.Fb(2),s.Wc(" ",n.SELECTEDITEM.HSNCODE,""),s.Fb(2),s.Wc(" ",null==n.FGENERIC||null==n.FGENERIC||"0 x 0"==n.FGENERIC||0==o.IsRoomDesc?n.DESCRIPTION:"Treatment ("+n.DESCRIPTION+")",""),s.Fb(2),s.Wc(" ",n.AltQty,""),s.Fb(2),s.Wc(" ",s.pc(11,8,n.MRP,"1.1-2"),""),s.Fb(2),s.tc("ngIf",o.ItemWiseTotalDisAmount>0),s.Fb(1),s.tc("ngIf",o.ItemWiseTotalDisAmount>0),s.Fb(2),s.Wc(" ",s.pc(16,11,n.MRP*n.AltQty-n.INDDISCOUNT,"1.1-2"),"")}}function g(t,e){1&t&&s.Tb(0,"td",30)}function y(t,e){1&t&&s.Tb(0,"td",30)}function X(t,e){1&t&&s.Tb(0,"td",30)}function D(t,e){if(1&t&&(s.Yb(0,"tr"),s.Sc(1,X,1,0,"td",17),s.Yb(2,"td",21),s.Yb(3,"b"),s.Uc(4),s.nc(5,"number"),s.Xb(),s.Xb(),s.Yb(6,"td"),s.Uc(7),s.nc(8,"number"),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(1),s.tc("ngIf",n.ItemWiseTotalDisAmount>0&&n.TotalFlatDiscount>0),s.Fb(3),s.Wc("Bill Wise Dis Amount (",s.pc(5,3,n.BillWiseDiscountPer,"1.2-2")," %):"),s.Fb(3),s.Vc(s.pc(8,6,n.TotalFlatDiscount,"1.1-2"))}}function Y(t,e){1&t&&s.Tb(0,"td",30)}function C(t,e){1&t&&(s.Yb(0,"th",34),s.Uc(1,"Transaction By"),s.Xb())}function N(t,e){if(1&t&&(s.Yb(0,"td",39),s.Uc(1),s.Xb()),2&t){var n=s.mc().$implicit;s.Fb(1),s.Wc(" ",n.DepositPatient," ")}}function R(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td",39),s.Uc(2),s.nc(3,"titlecase"),s.Xb(),s.Yb(4,"td",39),s.Uc(5),s.nc(6,"titlecase"),s.Xb(),s.Sc(7,N,2,1,"td",40),s.Yb(8,"td",39),s.Uc(9),s.Xb(),s.Yb(10,"td",39),s.Uc(11),s.nc(12,"date"),s.Xb(),s.Yb(13,"td",39),s.Uc(14),s.nc(15,"date"),s.Xb(),s.Yb(16,"td",39),s.Uc(17),s.nc(18,"number"),s.Xb(),s.Xb()),2&t){var n=e.$implicit,i=s.mc(3);s.Fb(2),s.Xc(" ",s.oc(3,9,n.TrnMode)," ","Bank Transfer"==n.TrnMode&&null!=n.BankName?" - "+n.BankName:""," "),s.Fb(3),s.Xc(" ",s.oc(6,11,n.InvType)," ",null==n.RequestTypeStatus||""==n.RequestTypeStatus?"":n.RequestTypeStatus," "),s.Fb(2),s.tc("ngIf",1==i.lsobjClinicMaster.IsShowTranPatient),s.Fb(2),s.Wc(" ",n.TransactionId," "),s.Fb(2),s.Wc(" ",s.pc(12,13,n.TrnDate,i.customDateFormat.DEF_DATE)," "),s.Fb(3),s.Wc(" ",s.pc(15,16,n.CreatedOn,i.customDateFormat.DEF_DATE)," "),s.Fb(3),s.Wc(" ",s.pc(18,19,"Refund"==n.InvType?-n.Amount:n.Amount,"1.1-2")," ")}}function U(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"th",41),s.Uc(2," Total Refund"),s.Xb(),s.Yb(3,"th",38),s.Uc(4),s.nc(5,"number"),s.Xb(),s.Xb()),2&t){var n=s.mc(3);s.Fb(1),s.tc("colSpan",1==n.lsobjClinicMaster.IsShowTranPatient?6:5),s.Fb(3),s.Wc(" ",s.pc(5,2,n.TotalRefund,"1.1-2"),"")}}function A(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"th",41),s.Uc(2," Total Balance"),s.Xb(),s.Yb(3,"th",38),s.Uc(4),s.nc(5,"number"),s.Xb(),s.Xb()),2&t){var n=s.mc(3);s.Fb(1),s.tc("colSpan",1==n.lsobjClinicMaster.IsShowTranPatient?6:5),s.Fb(3),s.Wc(" ",s.pc(5,2,n.TotalReceive-(null==n.TrnMain[0]?null:n.TrnMain[0].NETAMNT)-n.TotalRefund>0?-(n.TotalReceive-(null==n.TrnMain[0]?null:n.TrnMain[0].NETAMNT)-n.TotalRefund):n.TotalReceive-(null==n.TrnMain[0]?null:n.TrnMain[0].NETAMNT)-n.TotalRefund,"1.1-2")," ")}}function k(t,e){if(1&t&&(s.Yb(0,"table",32),s.Yb(1,"thead",10),s.Yb(2,"tr",33),s.Yb(3,"th",34),s.Uc(4,"Payment Mode"),s.Xb(),s.Yb(5,"th",34),s.Uc(6,"Type"),s.Xb(),s.Sc(7,C,2,0,"th",35),s.Yb(8,"th",34),s.Uc(9,"TransactionId"),s.Xb(),s.Yb(10,"th",34),s.Uc(11,"Transaction Date"),s.Xb(),s.Yb(12,"th",34),s.Uc(13,"Receipt Date"),s.Xb(),s.Yb(14,"th",34),s.Uc(15,"Amount"),s.Xb(),s.Xb(),s.Xb(),s.Yb(16,"tbody",10),s.Sc(17,R,19,22,"tr",14),s.Yb(18,"tr"),s.Yb(19,"th",36),s.Uc(20,"\xa0"),s.Xb(),s.Xb(),s.Yb(21,"tr"),s.Yb(22,"th",37),s.Uc(23," Total Receive"),s.Xb(),s.Yb(24,"th",38),s.Uc(25),s.nc(26,"number"),s.Xb(),s.Xb(),s.Sc(27,U,6,5,"tr",20),s.Sc(28,A,6,5,"tr",20),s.Xb(),s.Xb()),2&t){var n=s.mc(2);s.Fb(7),s.tc("ngIf",1==n.lsobjClinicMaster.IsShowTranPatient),s.Fb(10),s.tc("ngForOf",n.TenderInfo),s.Fb(2),s.tc("colSpan",1==n.lsobjClinicMaster.IsShowTranPatient?7:6),s.Fb(3),s.tc("colSpan",1==n.lsobjClinicMaster.IsShowTranPatient?6:5),s.Fb(3),s.Wc(" ",s.pc(26,7,n.TotalReceive,"1.1-2"),""),s.Fb(2),s.tc("ngIf",n.TotalRefund>0),s.Fb(1),s.tc("ngIf",n.TenderInfo.length>0&&n.lsobjClinicMaster.IsTIBriefSummary)}}function F(t,e){if(1&t&&(s.Yb(0,"tr"),s.Yb(1,"td",31),s.Sc(2,k,29,10,"table",23),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(2),s.tc("ngIf",n.TenderInfo.length>0)}}function P(t,e){1&t&&(s.Yb(0,"table",5),s.Yb(1,"tbody"),s.Yb(2,"tr"),s.Yb(3,"td",34),s.Yb(4,"strong"),s.Uc(5,"Brief Summary"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb())}function M(t,e){if(1&t&&(s.Yb(0,"table",32),s.Yb(1,"thead",10),s.Yb(2,"tr",33),s.Yb(3,"th",34),s.Uc(4,"Added Rs"),s.Xb(),s.Yb(5,"th",34),s.Uc(6,"Concession Rs"),s.Xb(),s.Yb(7,"th",34),s.Uc(8,"Total Due Rs"),s.Xb(),s.Yb(9,"th",34),s.Uc(10,"Deposited Rs"),s.Xb(),s.Yb(11,"th",34),s.Uc(12,"Refund Rs"),s.Xb(),s.Yb(13,"th",34),s.Uc(14,"Balance Rs"),s.Xb(),s.Xb(),s.Xb(),s.Yb(15,"tbody",10),s.Yb(16,"tr"),s.Yb(17,"td",39),s.Uc(18),s.nc(19,"number"),s.Xb(),s.Yb(20,"td",39),s.Uc(21),s.nc(22,"number"),s.Xb(),s.Yb(23,"td",39),s.Uc(24),s.nc(25,"number"),s.Xb(),s.Yb(26,"td",39),s.Uc(27),s.nc(28,"number"),s.Xb(),s.Yb(29,"td",39),s.Uc(30),s.nc(31,"number"),s.Xb(),s.Yb(32,"td",39),s.Uc(33),s.nc(34,"number"),s.Xb(),s.Xb(),s.Xb(),s.Xb()),2&t){var n=s.mc();s.Fb(18),s.Wc(" ",s.pc(19,6,(null==n.TrnMain[0]?null:n.TrnMain[0].NETAMNT)+n.TotalDiscount,"1.1-2")," "),s.Fb(3),s.Wc(" ",s.pc(22,9,n.TotalDiscount,"1.1-2")," "),s.Fb(3),s.Wc(" ",s.pc(25,12,null==n.TrnMain[0]?null:n.TrnMain[0].NETAMNT,"1.1-2")," "),s.Fb(3),s.Wc(" ",s.pc(28,15,n.TotalReceive,"1.1-2")," "),s.Fb(3),s.Wc(" ",s.pc(31,18,n.TotalRefund,"1.1-2")," "),s.Fb(3),s.Wc(" ",s.pc(34,21,n.TotalReceive-(null==n.TrnMain[0]?null:n.TrnMain[0].NETAMNT)-n.TotalRefund>0?-(n.TotalReceive-(null==n.TrnMain[0]?null:n.TrnMain[0].NETAMNT)-n.TotalRefund):n.TotalReceive-(null==n.TrnMain[0]?null:n.TrnMain[0].NETAMNT)-n.TotalRefund,"1.1-2")," ")}}function x(t,e){1&t&&(s.Yb(0,"table",5),s.Yb(1,"tbody"),s.Yb(2,"tr"),s.Yb(3,"td",42),s.Yb(4,"strong"),s.Uc(5,"Bill Is Fully Settled"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb())}var w=function(){var t=function(t){r(i,t);var e=c(i);function i(t,o,r,c){var l;return n(this,i),(l=e.call(this)).cdRef=t,l._MasterServices=o,l._PatientServices=r,l._UtilityService=c,l.lsobjClinicMaster=JSON.parse(localStorage.getItem("objClinicMaster"))||null,l.IsVisitor=!1,l.customDateFormat=a.h,l.TrnMain=[],l.ProdList=[],l.ShowBatchExpiry=!1,l.lstItem=[],l.TotalAmount=0,l.ItemWiseTotalDisAmount=0,l.BillWiseDiscountPer=0,l.TenderInfo=[],l.TotalFlatDiscount=0,l.TotalDiscount=0,l.RoomNumber=0,l.LstRoomCountByMCode=[],l.IsRoomDesc=!0,l.TotalReceive=0,l.TotalRefund=0,l.IsLetterhead="false",l}return o(i,[{key:"ngOnChanges",value:function(t){this.IsVisitor?this.LoadVisitorInvoiceData():this.LoadInvoiceData()}},{key:"ngOnInit",value:function(){}},{key:"LoadVisitorInvoiceData",value:function(){var t=this;this.TotalReceive=0,this.TotalRefund=0,this.TenderInfo=[],this.TrnMain=[],this.ProdList=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.LoadVisitorInvoiceData(this.SlotBookingIdSelected,this.InvoiceNumberSelected,this.PhiscalIdSelected,this.DivisionSelected).subscribe(function(e){var n,i,o;if(t._UtilityService.hideSpinner(),1==e.actionResult.success){var r=e.actionResult.result;if(t.TrnMain=r=r||[],t.ProdList=t.TrnMain[0].ProdList,(null===(n=t.ProdList.filter(function(t){return"Treatment/Medicated food charges"==t.DESCRIPTION||"Treatment Charges"==t.DESCRIPTION}))||void 0===n?void 0:n.length)>0&&(t.IsRoomDesc=!1),t.TotalAmount=0,t.ProdList.map(function(e){t.TotalAmount=t.TotalAmount+(e.MRP*e.AltQty-e.INDDISCOUNT),t.ItemWiseTotalDisAmount=t.ItemWiseTotalDisAmount+e.INDDISCOUNT,t.TotalFlatDiscount=t.TotalFlatDiscount+e.FLATDISCOUNT}),t.BillWiseDiscountPer=100*t.TotalFlatDiscount/t.TotalAmount,null!=e.actionResult.result2&&null!=e.actionResult.result2&&(null===(i=e.actionResult.result2)||void 0===i?void 0:i.length)>0){var a=JSON.parse(e.actionResult.result2);t.TenderInfo=a=a||[],(null===(o=t.TenderInfo)||void 0===o?void 0:o.length)>0&&(t.TenderInfo.map(function(e){"Receive"==e.InvType&&(t.TotalReceive=t.TotalReceive+parseFloat(e.Amount)),"Refund"==e.InvType&&(t.TotalRefund=t.TotalRefund+parseFloat(e.Amount))}),t.cdRef.detectChanges())}}t.cdRef.detectChanges()},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"LoadInvoiceData",value:function(){var t=this;this.TotalReceive=0,this.TotalRefund=0,this.TenderInfo=[],this.TrnMain=[],this.ProdList=[],this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.LoadInvoiceData(this.SlotBookingIdSelected,this.InvoiceNumberSelected,this.PhiscalIdSelected,this.DivisionSelected).subscribe(function(e){var n,i,o;if(t._UtilityService.hideSpinner(),1==e.actionResult.success){t.LoadRoomCount();var r=e.actionResult.result;if(t.TrnMain=r=r||[],t.ProdList=t.TrnMain[0].ProdList,(null===(n=t.ProdList.filter(function(t){return"Treatment/Medicated food charges"==t.DESCRIPTION||"Treatment Charges"==t.DESCRIPTION}))||void 0===n?void 0:n.length)>0&&(t.IsRoomDesc=!1),t.TotalAmount=0,t.ProdList.map(function(e){t.TotalAmount=t.TotalAmount+(e.MRP*e.AltQty-e.INDDISCOUNT),t.ItemWiseTotalDisAmount=t.ItemWiseTotalDisAmount+e.INDDISCOUNT,t.TotalFlatDiscount=t.TotalFlatDiscount+e.FLATDISCOUNT}),t.BillWiseDiscountPer=100*t.TotalFlatDiscount/t.TotalAmount,t.TotalDiscount=t.ItemWiseTotalDisAmount+t.TotalFlatDiscount,null!=e.actionResult.result2&&null!=e.actionResult.result2&&(null===(i=e.actionResult.result2)||void 0===i?void 0:i.length)>0){var a=JSON.parse(e.actionResult.result2);t.TenderInfo=a=a||[],(null===(o=t.TenderInfo)||void 0===o?void 0:o.length)>0&&(t.TenderInfo.map(function(e){"Receive"==e.InvType&&(t.TotalReceive=t.TotalReceive+parseFloat(e.Amount)),"Refund"==e.InvType&&(t.TotalRefund=t.TotalRefund+parseFloat(e.Amount))}),t.cdRef.detectChanges())}}t.cdRef.detectChanges()},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"LoadRoomCount",value:function(){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetBookingQuantityVoucherDetailsById(this.SlotBookingIdSelected,this.InvoiceNumberSelected).subscribe(function(e){if(t._UtilityService.hideSpinner(),1==e.actionResult.success){var n=JSON.parse(e.actionResult.result);t.LstRoomCountByMCode=n=n||[],t.LstRoomCountByMCode.map(function(e){var n=t.ProdList.findIndex(function(t){return t.MCODE===e.MCODE});n>=0&&(t.ProdList[n].FGENERIC=e.NightCount.toString()+" x "+e.RoomCount.toString())})}},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"ShowHideBatchExpiry",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>0&&(e.map(function(e){var n={};n.MCODE=e.MCODE,t.lstItem.push(n)}),this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.CheckItemIsRoom(this.lstItem).subscribe(function(e){t._UtilityService.hideSpinner(),t.ShowBatchExpiry=1!=e.actionResult.success},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)}))}},{key:"onselectedLetterhead",value:function(t){this.IsLetterhead=t}}]),i}(l.a);return t.\u0275fac=function(e){return new(e||t)(s.Sb(s.h),s.Sb(b.a),s.Sb(d.a),s.Sb(u.a))},t.\u0275cmp=s.Mb({type:t,selectors:[["app-print-profile"]],inputs:{IsVisitor:"IsVisitor",SlotBookingIdSelected:"SlotBookingIdSelected",InvoiceNumberSelected:"InvoiceNumberSelected",PhiscalIdSelected:"PhiscalIdSelected",DivisionSelected:"DivisionSelected"},features:[s.Cb,s.Db],decls:98,vars:42,consts:[[3,"IsLetterhead","IsNgxPrint","onselectedLetterhead"],["id","print-section",1,"row"],[1,"col-md-12"],[3,"IsVisitor","slotBookingId","IsGroup","IsGST","IsLetterhead"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","font-size","15px"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box"],[2,"background-color","#d3d3d3"],[2,"padding","5px"],[2,"text-align","right","padding","5px"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","10px","overflow-x","scroll"],["align","Center"],[2,"padding","6px","border-left","1px solid #d3d3d3"],["style","padding: 6px;border-left: 1px solid #d3d3d3;",4,"ngIf"],[2,"padding","6px","border-left","1px solid #d3d3d3","border-right","1px solid #d3d3d3"],[4,"ngFor","ngForOf"],["colspan","3","align","right",2,"padding","2px"],[2,"padding","2px"],["colspan","2",4,"ngIf"],["align","right",2,"padding","2px"],["colspan","4","align","left",2,"padding","2px"],[4,"ngIf"],["colspan","5","align","right",2,"padding","2px"],["style","width: 100%; margin: 0 auto; box-sizing: border-box;","cellpadding","0","cellspacing","0",4,"ngIf"],["style","width: 100%; margin: 0 auto; box-sizing: border-box; border: 1px solid #d3d3d3; margin-top: 5px;","cellpadding","0","cellspacing","0",4,"ngIf"],[2,"width","100%","line-height","80px"],[2,"width","60%"],[2,"width","40%"],[1,"mt-3"],[2,"padding","6px 0","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3"],["style","padding: 6px 0; border-left: 1px solid #d3d3d3; border-bottom: 1px solid #d3d3d3;border-top: 1px solid #d3d3d3;",4,"ngIf"],["colspan","2"],["colspan","8"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","5px"],[2,"background","#d3d3d3"],[2,"padding","6px"],["style","padding: 6px;",4,"ngIf"],[3,"colSpan"],[2,"padding","6px 10px","border-left","1px solid #d5d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3","text-align","right",3,"colSpan"],[2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3"],[2,"padding","6px 0","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["style","padding: 6px 0; border-left: 1px solid #d3d3d3; border-bottom: 1px solid #d3d3d3;",4,"ngIf"],[2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3","text-align","right",3,"colSpan"],["align","Center",2,"padding","6px"]],template:function(t,e){1&t&&(s.Yb(0,"app-print-access-header",0),s.ic("onselectedLetterhead",function(t){return e.onselectedLetterhead(t)}),s.Xb(),s.Yb(1,"div",1),s.Yb(2,"div",2),s.Tb(3,"app-print-header",3),s.Yb(4,"table",4),s.Yb(5,"tbody"),s.Yb(6,"tr"),s.Yb(7,"table",5),s.Yb(8,"tbody"),s.Yb(9,"tr",6),s.Yb(10,"td",7),s.Yb(11,"strong"),s.Uc(12," Bill of Supply No: "),s.Yb(13,"span"),s.Uc(14),s.Xb(),s.Xb(),s.Xb(),s.Yb(15,"td",8),s.Yb(16,"b"),s.Uc(17,"Bill of Supply Date: "),s.Xb(),s.Yb(18,"span"),s.Uc(19),s.nc(20,"date"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(21,"table",9),s.Yb(22,"thead",10),s.Yb(23,"tr",6),s.Yb(24,"th",11),s.Uc(25,"S.No"),s.Xb(),s.Yb(26,"th",11),s.Uc(27,"HSN/SAC"),s.Xb(),s.Yb(28,"th",11),s.Uc(29,"Description"),s.Xb(),s.Yb(30,"th",11),s.Uc(31,"QTY"),s.Xb(),s.Yb(32,"th",11),s.Uc(33,"MRP"),s.Xb(),s.Sc(34,f,2,0,"th",12),s.Sc(35,T,2,0,"th",12),s.Yb(36,"th",13),s.Uc(37," Amount"),s.Xb(),s.Xb(),s.Xb(),s.Yb(38,"tbody",10),s.Sc(39,I,17,14,"tr",14),s.Yb(40,"tr"),s.Yb(41,"td",15),s.Yb(42,"b"),s.Uc(43,"No of item:"),s.Xb(),s.Xb(),s.Yb(44,"td",16),s.Uc(45),s.nc(46,"number"),s.Xb(),s.Sc(47,g,1,0,"td",17),s.Yb(48,"td",18),s.Yb(49,"b"),s.Uc(50,"Total Amount:"),s.Xb(),s.Xb(),s.Yb(51,"td"),s.Uc(52),s.nc(53,"number"),s.Xb(),s.Xb(),s.Yb(54,"tr"),s.Yb(55,"td",19),s.Yb(56,"b"),s.Uc(57,"Amount in words:"),s.Xb(),s.Uc(58),s.Xb(),s.Sc(59,y,1,0,"td",17),s.Yb(60,"td",18),s.Yb(61,"b"),s.Uc(62,"Round Off:"),s.Xb(),s.Xb(),s.Yb(63,"td"),s.Uc(64),s.nc(65,"number"),s.Xb(),s.Xb(),s.Sc(66,D,9,9,"tr",20),s.Tb(67,"tr"),s.Yb(68,"tr"),s.Sc(69,Y,1,0,"td",17),s.Yb(70,"td",21),s.Yb(71,"b"),s.Uc(72,"Total:"),s.Xb(),s.Xb(),s.Yb(73,"td"),s.Uc(74),s.nc(75,"number"),s.Xb(),s.Xb(),s.Sc(76,F,3,1,"tr",20),s.Xb(),s.Xb(),s.Sc(77,P,6,0,"table",22),s.Sc(78,M,35,24,"table",23),s.Sc(79,x,6,0,"table",22),s.Yb(80,"table",5),s.Yb(81,"tbody"),s.Yb(82,"tr",24),s.Yb(83,"td",25),s.Yb(84,"b"),s.Uc(85,"Health Seeker's Signature: ................................"),s.Xb(),s.Xb(),s.Yb(86,"td",26),s.Yb(87,"b"),s.Uc(88,"Authorised Signatory: ................................"),s.Xb(),s.Xb(),s.Xb(),s.Yb(89,"tr"),s.Yb(90,"td",25),s.Yb(91,"b"),s.Uc(92,"Prepared By: .........................................................."),s.Xb(),s.Xb(),s.Yb(93,"td",26),s.Yb(94,"b"),s.Uc(95,"Checked By: ...................................................."),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(96,"div",27),s.Yb(97,"app-print-access-header",0),s.ic("onselectedLetterhead",function(t){return e.onselectedLetterhead(t)}),s.Xb(),s.Xb()),2&t&&(s.tc("IsLetterhead",e.IsLetterhead)("IsNgxPrint",!0),s.Fb(3),s.tc("IsVisitor",e.IsVisitor)("slotBookingId",e.SlotBookingIdSelected)("IsGroup",!0)("IsGST",!0)("IsLetterhead",e.IsLetterhead),s.Fb(11),s.Vc(null==e.TrnMain[0]?null:e.TrnMain[0].VCHRNO),s.Fb(5),s.Vc(s.pc(20,27,null==e.TrnMain[0]?null:e.TrnMain[0].TRNDATE,e.customDateFormat.DEF_DATE)),s.Fb(15),s.tc("ngIf",e.ItemWiseTotalDisAmount>0),s.Fb(1),s.tc("ngIf",e.ItemWiseTotalDisAmount>0),s.Fb(4),s.tc("ngForOf",e.ProdList),s.Fb(6),s.Vc(s.pc(46,30,null==e.TrnMain[0]?null:e.TrnMain[0].TotalQuantity,"1.0-0")),s.Fb(2),s.tc("ngIf",e.ItemWiseTotalDisAmount>0),s.Fb(5),s.Wc("",s.pc(53,33,e.TotalAmount,"1.1-2")," "),s.Fb(6),s.Wc(" ",null==e.TrnMain[0]?null:e.TrnMain[0].NETAMOUNTINWORD,""),s.Fb(1),s.tc("ngIf",e.ItemWiseTotalDisAmount>0),s.Fb(5),s.Vc(s.pc(65,36,null==e.TrnMain[0]?null:e.TrnMain[0].RoundOffAmount,"1.1-2")),s.Fb(2),s.tc("ngIf",e.TotalFlatDiscount>0),s.Fb(3),s.tc("ngIf",e.ItemWiseTotalDisAmount>0),s.Fb(5),s.Wc("",s.pc(75,39,null==e.TrnMain[0]?null:e.TrnMain[0].NETAMNT,"1.1-2")," "),s.Fb(2),s.tc("ngIf",e.TenderInfo.length>0),s.Fb(1),s.tc("ngIf",e.TenderInfo.length>0&&e.lsobjClinicMaster.IsTIBriefSummary),s.Fb(1),s.tc("ngIf",e.TenderInfo.length>0&&e.lsobjClinicMaster.IsTIBriefSummary),s.Fb(1),s.tc("ngIf",e.TenderInfo.length>0&&e.lsobjClinicMaster.IsTIBriefSummary),s.Fb(18),s.tc("IsLetterhead",e.IsLetterhead)("IsNgxPrint",!0))},directives:[h.a,m.a,p.p,p.o],pipes:[p.f,p.g,p.y],styles:[""]}),t}()},kcK2:function(t,e,i){"use strict";i.d(e,"a",function(){return Q});var o,r,a,c,l,s,b,d,u=i("ofXK"),h=i("tyNb"),m=i("btFH"),p=i("fXoL"),f=[{path:"",component:m.a}],T=((o=function t(){n(this,t)}).\u0275fac=function(t){return new(t||o)},o.\u0275mod=p.Qb({type:o}),o.\u0275inj=p.Pb({imports:[[h.l.forChild(f)],h.l]}),o),v=i("rEr+"),S=i("jIHw"),I=i("7kUa"),g=i("/RsI"),y=i("ELi9"),X=i("QbTu"),D=i("Qcri"),Y=[],C=((r=function t(){n(this,t)}).\u0275fac=function(t){return new(t||r)},r.\u0275mod=p.Qb({type:r}),r.\u0275inj=p.Pb({imports:[[h.l.forChild(Y)],h.l]}),r),N=i("Ks7X"),R=i("eO1q"),U=i("lVkt"),A=i("3Pt+"),k=((a=function t(){n(this,t)}).\u0275fac=function(t){return new(t||a)},a.\u0275mod=p.Qb({type:a}),a.\u0275inj=p.Pb({imports:[[u.c,C,A.i,v.f,S.c,I.b,g.b,N.b,R.b,U.b]]}),a),F=i("Ji6n"),P=[{path:"",component:i("ykst").a}],M=((c=function t(){n(this,t)}).\u0275fac=function(t){return new(t||c)},c.\u0275mod=p.Qb({type:c}),c.\u0275inj=p.Pb({imports:[[h.l.forChild(P)],h.l]}),c),x=i("m1XX"),w=i("9XlL"),B=i("ycwT"),O=i("QoE7"),V=((l=function t(){n(this,t)}).\u0275fac=function(t){return new(t||l)},l.\u0275mod=p.Qb({type:l}),l.\u0275inj=p.Pb({imports:[[u.c,M,x.b,w.a,B.a,O.a]]}),l),L=[{path:"",component:i("e+Tu").a}],_=((s=function t(){n(this,t)}).\u0275fac=function(t){return new(t||s)},s.\u0275mod=p.Qb({type:s}),s.\u0275inj=p.Pb({imports:[[h.l.forChild(L)],h.l]}),s),W=i("Q4Mo"),E=i("arFO"),j=i("Nf9I"),G=i("LuMj"),H=((d=function t(){n(this,t)}).\u0275fac=function(t){return new(t||d)},d.\u0275mod=p.Qb({type:d}),d.\u0275inj=p.Pb({imports:[[u.c,_,A.i,A.v,v.f,S.c,W.b,E.b,I.b,R.b,j.b,N.b,G.b]]}),d),Q=((b=function t(){n(this,t)}).\u0275fac=function(t){return new(t||b)},b.\u0275mod=p.Qb({type:b}),b.\u0275inj=p.Pb({imports:[[u.c,T,A.i,v.f,S.c,I.b,g.b,y.a,X.a,D.a,k,F.b,V,H]]}),b)},ykst:function(e,i,a){"use strict";a.d(i,"a",function(){return g});var l=a("CwUn"),s=a("Nach"),b=a("fXoL"),d=a("NLkC"),u=a("G+wY"),h=a("ofXK"),m=a("sCq/"),p=a("Q8Cd");function f(t,e){if(1&t){var n=b.Zb();b.Yb(0,"div"),b.Yb(1,"app-print-access-header",27),b.ic("onselectedLetterhead",function(t){return b.Lc(n),b.mc().onselectedLetterhead(t)}),b.Xb(),b.Xb()}if(2&t){var i=b.mc();b.Fb(1),b.tc("IsLetterhead",i.IsLetterhead)("IsNgxPrint",!0)}}function T(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",18),b.Uc(2),b.nc(3,"date"),b.Xb(),b.Yb(4,"td",18),b.Uc(5),b.Xb(),b.Yb(6,"td",18),b.Uc(7),b.Xb(),b.Yb(8,"td",18),b.Uc(9),b.nc(10,"number"),b.Xb(),b.Yb(11,"td",18),b.Uc(12),b.Xb(),b.Yb(13,"td",18),b.Uc(14),b.nc(15,"number"),b.Xb(),b.Yb(16,"td",18),b.Uc(17),b.nc(18,"number"),b.Xb(),b.Yb(19,"td",18),b.Uc(20),b.nc(21,"number"),b.Xb(),b.Xb()),2&t){var n=e.$implicit,i=b.mc();b.Fb(2),b.Wc(" ",b.pc(3,8,n.PurchaseDate,i.customDateFormat.DEF_DATE)," "),b.Fb(3),b.Wc(" ",n.MRNo," "),b.Fb(2),b.Wc(" ",n.Description,""),b.Fb(2),b.Wc(" ",b.pc(10,11,n.MRP,"1.1-2"),""),b.Fb(3),b.Wc(" ",n.Qty,""),b.Fb(2),b.Wc(" ",b.pc(15,14,n.PriceWithGST,"1.1-2"),""),b.Fb(3),b.Wc(" ",b.pc(18,17,n.DiscountAmount,"1.1-2")," "),b.Fb(3),b.Wc(" ",b.pc(21,20,n.NetPayble,"1.1-2")," ")}}function v(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",18),b.Uc(2),b.nc(3,"titlecase"),b.Xb(),b.Yb(4,"td",18),b.Uc(5),b.nc(6,"date"),b.Xb(),b.Yb(7,"td",18),b.Uc(8),b.nc(9,"titlecase"),b.Xb(),b.Yb(10,"td",18),b.Uc(11),b.nc(12,"titlecase"),b.Xb(),b.Yb(13,"td",18),b.Uc(14),b.nc(15,"number"),b.Xb(),b.Xb()),2&t){var n=e.$implicit,i=b.mc(2);b.Fb(2),b.Wc(" ",b.oc(3,5,n.TrnMode)," "),b.Fb(3),b.Wc(" ",b.pc(6,7,n.TrnDate,i.customDateFormat.DEF_DATE)," "),b.Fb(3),b.Wc(" ",b.oc(9,10,n.InvType)," "),b.Fb(3),b.Wc(" ",b.oc(12,12,n.TransactionId)," "),b.Fb(3),b.Wc(" ",b.pc(15,14,n.Amount,"1.1-2")," ")}}function S(t,e){if(1&t&&(b.Yb(0,"table",11),b.Yb(1,"thead",12),b.Yb(2,"tr",13),b.Yb(3,"th",14),b.Uc(4,"Payment Mode"),b.Xb(),b.Yb(5,"th",14),b.Uc(6,"Date"),b.Xb(),b.Yb(7,"th",14),b.Uc(8,"Type"),b.Xb(),b.Yb(9,"th",14),b.Uc(10,"TransactionId"),b.Xb(),b.Yb(11,"th",14),b.Uc(12,"Amount"),b.Xb(),b.Xb(),b.Xb(),b.Yb(13,"tbody",12),b.Sc(14,v,16,17,"tr",16),b.Yb(15,"tr"),b.Yb(16,"th",28),b.Uc(17," Total Receive"),b.Xb(),b.Yb(18,"th",29),b.Uc(19),b.nc(20,"number"),b.Xb(),b.Xb(),b.Yb(21,"tr"),b.Yb(22,"th",28),b.Uc(23," Total Refund"),b.Xb(),b.Yb(24,"th",29),b.Uc(25),b.nc(26,"number"),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var n=b.mc();b.Fb(14),b.tc("ngForOf",n.TenderInfo),b.Fb(5),b.Wc(" ",b.pc(20,3,n.TotalReceive,"1.1-2"),""),b.Fb(6),b.Wc(" ",b.pc(26,6,n.TotalRefund,"1.1-2"),"")}}function I(t,e){if(1&t){var n=b.Zb();b.Yb(0,"div",30),b.Yb(1,"app-print-access-header",27),b.ic("onselectedLetterhead",function(t){return b.Lc(n),b.mc().onselectedLetterhead(t)}),b.Xb(),b.Xb()}if(2&t){var i=b.mc();b.Fb(1),b.tc("IsLetterhead",i.IsLetterhead)("IsNgxPrint",!0)}}var g=function(){var e=function(e){r(a,e);var i=c(a);function a(t,e){var o;return n(this,a),(o=i.call(this))._UtilityService=t,o._PatientServices=e,o.SlotBookingIdSelected=null,o.VCHRNO=null,o.IsLetterhead="false",o.RecordInput=0,o.ProdList=[],o.TenderInfo=[],o.lstTenderDetails=[],o.TotalReceive=0,o.TotalRefund=0,o.NetPayble=0,o.TotalQuantity=0,o.TotalAmount=0,o.ItemWiseTotalDisAmount=0,o.BillWiseDiscountPer=0,o.customDateFormat=s.h,o}return o(a,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){this.LoadSplitProdDetails()}},{key:"onselectedLetterhead",value:function(t){this.IsLetterhead=t}},{key:"LoadSplitProdDetails",value:function(){var e=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetSplitedVoucherList(this.SlotBookingIdSelected,this.VCHRNO).subscribe({next:function(n){var i,o;if(e._UtilityService.hideSpinner(),1==n.actionResult.success){var r=JSON.parse(n.actionResult.result);if(e.ProdList=r=r||[],e.ProdList.map(function(t){e.TotalQuantity=e.TotalQuantity+t.Qty,e.TotalAmount=e.TotalAmount+t.PriceWithGST,e.ItemWiseTotalDisAmount=e.ItemWiseTotalDisAmount+t.DiscountAmount,e.NetPayble=e.NetPayble+t.NetPayble}),e.NetPayble=Math.round(e.NetPayble),null!=n.actionResult.result2&&null!=n.actionResult.result2&&(null===(i=n.actionResult.result2)||void 0===i?void 0:i.length)>0){var a=JSON.parse(n.actionResult.result2);if(e.TenderInfo=a=a||[],(null===(o=e.TenderInfo)||void 0===o?void 0:o.length)>0){var c,l=e.NetPayble,s=e.TenderInfo.map(function(t){return t.Amount}).reduce(function(t,e){return t+e}),b=l-s,d=t(e.TenderInfo);try{for(d.s();!(c=d.n()).done;){var u=c.value;u.Amount+=u.Amount/s*b}}catch(h){d.e(h)}finally{d.f()}e.TenderInfo.map(function(t){"Receive"==t.InvType&&(e.TotalReceive=e.TotalReceive+parseFloat(t.Amount)),"Refund"==t.InvType&&(e.TotalRefund=e.TotalRefund+parseFloat(t.Amount))})}}}else e.ProdList=[],e._UtilityService.showWarningAlert(n.actionResult.errMsg)},error:function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)}})}}]),a}(l.a);return e.\u0275fac=function(t){return new(t||e)(b.Sb(d.a),b.Sb(u.a))},e.\u0275cmp=b.Mb({type:e,selectors:[["app-split-print-voucher"]],inputs:{SlotBookingIdSelected:"SlotBookingIdSelected",VCHRNO:"VCHRNO"},features:[b.Cb,b.Db],decls:125,vars:52,consts:[[1,"container"],[4,"ngIf"],["id","print-section",1,"row"],[1,"col-md-12"],[3,"slotBookingId","IsGST","IsLetterhead"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","font-size","15px"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box"],[2,"background-color","#d3d3d3"],[2,"padding","5px"],[2,"text-align","right","padding","5px"],[1,"mt-2"],["cellpadding","0","cellspacing","0",2,"width","100%","margin","0 auto","box-sizing","border-box","border","1px solid #d3d3d3","margin-top","10px"],["align","Center"],[2,"background","#d3d3d3"],[2,"padding","6px"],[2,"padding","6px","text-align","right"],[4,"ngFor","ngForOf"],["colspan","4","align","right",2,"padding","2px"],[2,"padding","6px 0","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3"],["style","width: 100%; margin: 0 auto; box-sizing: border-box; border: 1px solid #d3d3d3; margin-top: 10px;","cellpadding","0","cellspacing","0",4,"ngIf"],[1,"mt-5","text-center"],[2,"font-size","larger"],[1,"w-100","mt-10"],["width","50%",1,"text-left"],["width","50%",1,"text-right"],[1,"w-100","mt-15"],["class","mt-3",4,"ngIf"],[3,"IsLetterhead","IsNgxPrint","onselectedLetterhead"],["colspan","4",2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3","text-align","right"],[2,"padding","6px 10px","border-left","1px solid #d3d3d3","border-bottom","1px solid #d3d3d3","border-top","1px solid #d3d3d3"],[1,"mt-3"]],template:function(t,e){1&t&&(b.Yb(0,"article"),b.Yb(1,"div",0),b.Sc(2,f,2,2,"div",1),b.Yb(3,"div",2),b.Yb(4,"div",3),b.Tb(5,"app-print-header",4),b.Yb(6,"table",5),b.Yb(7,"tbody"),b.Yb(8,"tr"),b.Yb(9,"table",6),b.Yb(10,"tbody"),b.Yb(11,"tr",7),b.Yb(12,"td",8),b.Yb(13,"strong"),b.Uc(14," Bill No: "),b.Yb(15,"span"),b.Uc(16),b.Xb(),b.Xb(),b.Xb(),b.Yb(17,"td",9),b.Yb(18,"b"),b.Uc(19,"Bill Date: "),b.Xb(),b.Yb(20,"span"),b.Uc(21),b.nc(22,"date"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(23,"p",10),b.Yb(24,"strong"),b.Uc(25,"Detail of Charges"),b.Xb(),b.Xb(),b.Yb(26,"table",11),b.Yb(27,"thead",12),b.Yb(28,"tr",13),b.Yb(29,"th",14),b.Uc(30,"Date"),b.Xb(),b.Yb(31,"th",14),b.Uc(32,"MR No"),b.Xb(),b.Yb(33,"th",14),b.Uc(34,"Descriptions"),b.Xb(),b.Yb(35,"th",14),b.Uc(36,"Charges Rs"),b.Xb(),b.Yb(37,"th",14),b.Uc(38,"Qty"),b.Xb(),b.Yb(39,"th",14),b.Uc(40,"Amount Rs"),b.Xb(),b.Yb(41,"th",14),b.Uc(42,"Concession Rs"),b.Xb(),b.Yb(43,"th",15),b.Uc(44,"Total Amount Rs"),b.Xb(),b.Xb(),b.Xb(),b.Yb(45,"tbody",12),b.Sc(46,T,22,23,"tr",16),b.Yb(47,"tr"),b.Yb(48,"td",17),b.Yb(49,"b"),b.Uc(50,"No of item:"),b.Xb(),b.Xb(),b.Yb(51,"th",18),b.Uc(52),b.nc(53,"number"),b.Xb(),b.Yb(54,"th",18),b.Uc(55),b.nc(56,"number"),b.Xb(),b.Yb(57,"th",18),b.Uc(58),b.nc(59,"number"),b.Xb(),b.Yb(60,"th",18),b.Uc(61),b.nc(62,"number"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(63,"p",10),b.Yb(64,"strong"),b.Uc(65,"Detail of Receipts"),b.Xb(),b.Xb(),b.Sc(66,S,27,9,"table",19),b.Yb(67,"p",10),b.Yb(68,"strong"),b.Uc(69,"Brief Summary:"),b.Xb(),b.Xb(),b.Yb(70,"table",11),b.Yb(71,"thead",12),b.Yb(72,"tr",13),b.Yb(73,"th",14),b.Uc(74,"Charges Rs"),b.Xb(),b.Yb(75,"th",14),b.Uc(76,"Concession Rs"),b.Xb(),b.Yb(77,"th",14),b.Uc(78,"Total Due Rs"),b.Xb(),b.Yb(79,"th",14),b.Uc(80,"Deposited Rs"),b.Xb(),b.Yb(81,"th",14),b.Uc(82,"Refund Rs"),b.Xb(),b.Yb(83,"th",14),b.Uc(84,"Balance Rs"),b.Xb(),b.Xb(),b.Xb(),b.Yb(85,"tbody",12),b.Yb(86,"tr"),b.Yb(87,"td",18),b.Uc(88),b.nc(89,"number"),b.Xb(),b.Yb(90,"td",18),b.Uc(91),b.nc(92,"number"),b.Xb(),b.Yb(93,"td",18),b.Uc(94),b.nc(95,"number"),b.Xb(),b.Yb(96,"td",18),b.Uc(97),b.nc(98,"number"),b.Xb(),b.Yb(99,"td",18),b.Uc(100),b.nc(101,"number"),b.Xb(),b.Yb(102,"td",18),b.Uc(103),b.nc(104,"number"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(105,"p",20),b.Yb(106,"strong",21),b.Uc(107,"Bill is Fully Settled"),b.Xb(),b.Xb(),b.Yb(108,"table",22),b.Yb(109,"tr"),b.Yb(110,"td",23),b.Yb(111,"span"),b.Uc(112,"Health Seeker's Signature: ..........................."),b.Xb(),b.Xb(),b.Yb(113,"td",24),b.Yb(114,"span"),b.Uc(115,"Authorised Signatory: ..........................."),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(116,"table",25),b.Yb(117,"tr"),b.Yb(118,"td",23),b.Yb(119,"span"),b.Uc(120,"Prepared By: ..................................."),b.Xb(),b.Xb(),b.Yb(121,"td",24),b.Yb(122,"span"),b.Uc(123,"Checked By: ......................................."),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Sc(124,I,2,2,"div",26),b.Xb(),b.Xb()),2&t&&(b.Fb(2),b.tc("ngIf",0==e.RecordInput),b.Fb(3),b.tc("slotBookingId",e.SlotBookingIdSelected)("IsGST",!0)("IsLetterhead",e.IsLetterhead),b.Fb(11),b.Vc(null==e.ProdList[0]?null:e.ProdList[0].SONumber),b.Fb(5),b.Vc(b.pc(22,19,null==e.ProdList[0]?null:e.ProdList[0].BillDate,e.customDateFormat.DEF_DATE)),b.Fb(25),b.tc("ngForOf",e.ProdList),b.Fb(6),b.Vc(b.pc(53,22,e.TotalQuantity,"1.0-0")),b.Fb(3),b.Vc(b.pc(56,25,e.TotalAmount,"1.1-2")),b.Fb(3),b.Wc("",b.pc(59,28,e.ItemWiseTotalDisAmount,"1.1-2")," "),b.Fb(3),b.Vc(b.pc(62,31,e.NetPayble,"1.1-2")),b.Fb(5),b.tc("ngIf",e.TenderInfo.length>0),b.Fb(22),b.Wc(" \u20b9",b.pc(89,34,e.TotalAmount,"1.1-2")," "),b.Fb(3),b.Wc(" \u20b9",b.pc(92,37,e.ItemWiseTotalDisAmount,"1.1-2")," "),b.Fb(3),b.Wc(" \u20b9",b.pc(95,40,e.NetPayble,"1.1-2")," "),b.Fb(3),b.Wc(" \u20b9",b.pc(98,43,e.NetPayble,"1.1-2")," "),b.Fb(3),b.Wc(" \u20b9",b.pc(101,46,0,"1.1-2")," "),b.Fb(3),b.Wc(" \u20b9",b.pc(104,49,0,"1.1-2")," "),b.Fb(21),b.tc("ngIf",0==e.RecordInput))},directives:[h.p,m.a,h.o,p.a],pipes:[h.f,h.g,h.y],styles:[""]}),e}()}}])}();