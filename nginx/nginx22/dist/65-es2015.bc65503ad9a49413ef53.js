(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{wdPO:function(o,r,e){"use strict";e.r(r),e.d(r,"ChangePasswordModule",function(){return Y});var s=e("ofXK"),n=e("tyNb"),t=e("3Pt+"),i=e("CwUn"),d=e("fXoL"),c=e("fHQ/"),a=e("eRWq"),l=e("Nach"),w=e("+BVi"),b=e("NLkC");function f(o,r){1&o&&(d.Yb(0,"div"),d.Uc(1," Current Password should contain 7 characters"),d.Xb())}function p(o,r){if(1&o&&(d.Yb(0,"div",20),d.Sc(1,f,2,0,"div",21),d.Xb()),2&o){const o=d.mc();d.Fb(1),d.tc("ngIf",o.profileForm.controls.oldPassword.errors&&(o.profileForm.controls.oldPassword.hasError("minlength")||o.profileForm.controls.oldPassword.errors.required))}}function h(o,r){1&o&&(d.Yb(0,"div"),d.Uc(1," New Password should contain 7 characters"),d.Xb())}function m(o,r){1&o&&(d.Yb(0,"div"),d.Uc(1,"Minimum seven characters, at least one uppercase letter, one lowercase letter, one number and one special character"),d.Xb())}function u(o,r){if(1&o&&(d.Yb(0,"div",20),d.Sc(1,h,2,0,"div",21),d.Sc(2,m,2,0,"div",21),d.Xb()),2&o){const o=d.mc();d.Fb(1),d.tc("ngIf",o.profileForm.controls.newPassword.errors&&(o.profileForm.controls.newPassword.hasError("minlength")||o.profileForm.controls.newPassword.errors.required)),d.Fb(1),d.tc("ngIf",o.profileForm.controls.newPassword.errors.pattern)}}function g(o,r){1&o&&(d.Yb(0,"div"),d.Uc(1," Confirm Password is required."),d.Xb())}function P(o,r){1&o&&(d.Yb(0,"div"),d.Uc(1," Password & Confirm Password does not match."),d.Xb())}function v(o,r){if(1&o&&(d.Yb(0,"div",20),d.Sc(1,g,2,0,"div",21),d.Sc(2,P,2,0,"div",21),d.Xb()),2&o){const o=d.mc();d.Fb(1),d.tc("ngIf",o.profileForm.controls.confirmPassword.errors&&o.profileForm.controls.confirmPassword.errors.required),d.Fb(1),d.tc("ngIf",o.profileForm.controls.confirmPassword.errors.pattern)}}const S=[{path:"",component:(()=>{class o extends i.a{constructor(o,r,e,s,n,i){super(),this._EncryptDecryptService=o,this._RegistrationServices=r,this._ConstantServices=e,this.auth=s,this.cdRef=n,this._UtilityService=i,this.showOldPwd=!1,this.showNewPwd=!1,this.showConfirmPwd=!1,this.SuperAdminConfig={},this.profileForm=new t.g({oldPassword:new t.e("",[t.y.required]),newPassword:new t.e("",[t.y.required]),confirmPassword:new t.e("",[t.y.required])})}ngOnInit(){this._ConstantServices.ActiveMenuName="Change Password"}changePwd(){var o;null!=localStorage.getItem("SuperAdminConfig")&&(this.SuperAdminConfig=JSON.parse(localStorage.getItem("SuperAdminConfig"))),console.log("SuperAdminConfig",this.SuperAdminConfig),1==(null===(o=this.SuperAdminConfig)||void 0===o?void 0:o.IsPasswordEncrypted)&&(this.oldPassword=this._EncryptDecryptService.encryptUsingAES256(this.oldPassword),this.newPassword=this._EncryptDecryptService.encryptUsingAES256(this.newPassword)),this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.ChangePassword(this.oldPassword,this.newPassword).subscribe(o=>{this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),this._UtilityService.showSuccessAlert(o.actionResult.errMsg),this.ResetModel(),1==o.actionResult.success&&this.auth.logout()},o=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(o.message)})}ResetModel(){this.profileForm.reset({oldPassword:"",newPassword:"",confirmPassword:""})}}return o.\u0275fac=function(r){return new(r||o)(d.Sb(c.a),d.Sb(a.a),d.Sb(l.f),d.Sb(w.a),d.Sb(d.h),d.Sb(b.a))},o.\u0275cmp=d.Mb({type:o,selectors:[["app-change-password"]],features:[d.Cb],decls:45,vars:15,consts:[[1,"row","mb-8"],[1,"col"],[1,"card","mt25"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-2"],[1,"required"],[1,"col-md-4"],[1,"form-group"],[1,"pwd"],["type","password","formControlName","oldPassword","minlength","7","maxlength","20","autocomplete","off",1,"form-control",3,"ngModel","type","ngModelChange"],[1,"password-hide"],[1,"fa",3,"ngClass","click"],["class","alert alert-danger",4,"ngIf"],["type","password","formControlName","newPassword","minlength","7","maxlength","20","autocomplete","off",1,"form-control",3,"ngModel","type","ngModelChange"],["type","password","formControlName","confirmPassword","maxlength","20","autocomplete","off",1,"form-control",3,"ngModel","pattern","type","ngModelChange"],[1,"row","justify-content-center"],[1,"col-md-6"],["type","submit",1,"btn","btn-new-primary","mr-2",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(o,r){1&o&&(d.Yb(0,"div",0),d.Yb(1,"div",1),d.Yb(2,"div",2),d.Yb(3,"div",3),d.Yb(4,"form",4),d.ic("ngSubmit",function(){return r.changePwd()}),d.Yb(5,"div",5),d.Yb(6,"div",6),d.Uc(7,"Current Password "),d.Yb(8,"span",7),d.Uc(9,"*"),d.Xb(),d.Xb(),d.Yb(10,"div",8),d.Yb(11,"div",9),d.Yb(12,"div",10),d.Yb(13,"input",11),d.ic("ngModelChange",function(o){return r.oldPassword=o}),d.Xb(),d.Yb(14,"div",12),d.Yb(15,"i",13),d.ic("click",function(){return r.showOldPwd=!r.showOldPwd}),d.Xb(),d.Xb(),d.Xb(),d.Sc(16,p,2,1,"div",14),d.Xb(),d.Xb(),d.Xb(),d.Yb(17,"div",5),d.Yb(18,"div",6),d.Uc(19,"New Password "),d.Yb(20,"span",7),d.Uc(21,"*"),d.Xb(),d.Xb(),d.Yb(22,"div",8),d.Yb(23,"div",9),d.Yb(24,"div",10),d.Yb(25,"input",15),d.ic("ngModelChange",function(o){return r.newPassword=o}),d.Xb(),d.Yb(26,"div",12),d.Yb(27,"i",13),d.ic("click",function(){return r.showNewPwd=!r.showNewPwd}),d.Xb(),d.Xb(),d.Xb(),d.Sc(28,u,3,2,"div",14),d.Xb(),d.Xb(),d.Xb(),d.Yb(29,"div",5),d.Yb(30,"div",6),d.Uc(31,"Confirm Password "),d.Yb(32,"span",7),d.Uc(33,"*"),d.Xb(),d.Xb(),d.Yb(34,"div",8),d.Yb(35,"div",9),d.Yb(36,"div",10),d.Yb(37,"input",16),d.ic("ngModelChange",function(o){return r.confirmPassword=o}),d.Xb(),d.Yb(38,"div",12),d.Yb(39,"i",13),d.ic("click",function(){return r.showConfirmPwd=!r.showConfirmPwd}),d.Xb(),d.Xb(),d.Xb(),d.Sc(40,v,3,2,"div",14),d.Xb(),d.Xb(),d.Xb(),d.Yb(41,"div",17),d.Yb(42,"div",18),d.Yb(43,"button",19),d.Uc(44,"Submit"),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb()),2&o&&(d.Fb(4),d.tc("formGroup",r.profileForm),d.Fb(9),d.tc("ngModel",r.oldPassword)("type",r.showOldPwd?"text":"password"),d.Fb(2),d.tc("ngClass",r.showOldPwd?"fa fa-eye":"fa fa-eye-slash"),d.Fb(1),d.tc("ngIf",r.profileForm.controls.oldPassword.touched&&r.profileForm.controls.oldPassword.invalid),d.Fb(9),d.tc("ngModel",r.newPassword)("type",r.showNewPwd?"text":"password"),d.Fb(2),d.tc("ngClass",r.showNewPwd?"fa fa-eye":"fa fa-eye-slash"),d.Fb(1),d.tc("ngIf",r.profileForm.controls.newPassword.touched&&r.profileForm.controls.newPassword.invalid),d.Fb(9),d.uc("pattern",r.newPassword),d.tc("ngModel",r.confirmPassword)("type",r.showConfirmPwd?"text":"password"),d.Fb(2),d.tc("ngClass",r.showConfirmPwd?"fa fa-eye":"fa fa-eye-slash"),d.Fb(1),d.tc("ngIf",r.profileForm.controls.confirmPassword.touched&&r.profileForm.controls.confirmPassword.invalid),d.Fb(3),d.tc("disabled",!r.profileForm.valid))},directives:[t.z,t.p,t.h,t.b,t.o,t.f,t.k,t.j,s.n,s.p,t.u],styles:[".pwd[_ngcontent-%COMP%]{position:relative}.password-hide[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;z-index:99}"]}),o})()}];let X=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=d.Qb({type:o}),o.\u0275inj=d.Pb({imports:[[n.l.forChild(S)],n.l]}),o})(),Y=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=d.Qb({type:o}),o.\u0275inj=d.Pb({imports:[[s.c,X,t.i,t.v]]}),o})()}}]);