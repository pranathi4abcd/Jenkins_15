!function(){function o(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function e(o,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function r(o,e){return(r=Object.setPrototypeOf||function(o,e){return o.__proto__=e,o})(o,e)}function n(o){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var r,n=i(o);if(e){var s=i(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return t(this,r)}}function t(o,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o):e}function i(o){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{wdPO:function(t,i,s){"use strict";s.r(i),s.d(i,"ChangePasswordModule",function(){return U});var c=s("ofXK"),a=s("tyNb"),d=s("3Pt+"),l=s("CwUn"),f=s("fXoL"),u=s("fHQ/"),b=s("eRWq"),w=s("Nach"),p=s("+BVi"),m=s("NLkC");function h(o,e){1&o&&(f.Yb(0,"div"),f.Uc(1," Current Password should contain 7 characters"),f.Xb())}function v(o,e){if(1&o&&(f.Yb(0,"div",20),f.Sc(1,h,2,0,"div",21),f.Xb()),2&o){var r=f.mc();f.Fb(1),f.tc("ngIf",r.profileForm.controls.oldPassword.errors&&(r.profileForm.controls.oldPassword.hasError("minlength")||r.profileForm.controls.oldPassword.errors.required))}}function g(o,e){1&o&&(f.Yb(0,"div"),f.Uc(1," New Password should contain 7 characters"),f.Xb())}function P(o,e){1&o&&(f.Yb(0,"div"),f.Uc(1,"Minimum seven characters, at least one uppercase letter, one lowercase letter, one number and one special character"),f.Xb())}function y(o,e){if(1&o&&(f.Yb(0,"div",20),f.Sc(1,g,2,0,"div",21),f.Sc(2,P,2,0,"div",21),f.Xb()),2&o){var r=f.mc();f.Fb(1),f.tc("ngIf",r.profileForm.controls.newPassword.errors&&(r.profileForm.controls.newPassword.hasError("minlength")||r.profileForm.controls.newPassword.errors.required)),f.Fb(1),f.tc("ngIf",r.profileForm.controls.newPassword.errors.pattern)}}function S(o,e){1&o&&(f.Yb(0,"div"),f.Uc(1," Confirm Password is required."),f.Xb())}function X(o,e){1&o&&(f.Yb(0,"div"),f.Uc(1," Password & Confirm Password does not match."),f.Xb())}function C(o,e){if(1&o&&(f.Yb(0,"div",20),f.Sc(1,S,2,0,"div",21),f.Sc(2,X,2,0,"div",21),f.Xb()),2&o){var r=f.mc();f.Fb(1),f.tc("ngIf",r.profileForm.controls.confirmPassword.errors&&r.profileForm.controls.confirmPassword.errors.required),f.Fb(1),f.tc("ngIf",r.profileForm.controls.confirmPassword.errors.pattern)}}var Y,F,_,M=[{path:"",component:(Y=function(t){!function(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),e&&r(o,e)}(l,t);var i,s,c,a=n(l);function l(e,r,n,t,i,s){var c;return o(this,l),(c=a.call(this))._EncryptDecryptService=e,c._RegistrationServices=r,c._ConstantServices=n,c.auth=t,c.cdRef=i,c._UtilityService=s,c.showOldPwd=!1,c.showNewPwd=!1,c.showConfirmPwd=!1,c.SuperAdminConfig={},c.profileForm=new d.g({oldPassword:new d.e("",[d.y.required]),newPassword:new d.e("",[d.y.required]),confirmPassword:new d.e("",[d.y.required])}),c}return i=l,(s=[{key:"ngOnInit",value:function(){this._ConstantServices.ActiveMenuName="Change Password"}},{key:"changePwd",value:function(){var o,e=this;null!=localStorage.getItem("SuperAdminConfig")&&(this.SuperAdminConfig=JSON.parse(localStorage.getItem("SuperAdminConfig"))),console.log("SuperAdminConfig",this.SuperAdminConfig),1==(null===(o=this.SuperAdminConfig)||void 0===o?void 0:o.IsPasswordEncrypted)&&(this.oldPassword=this._EncryptDecryptService.encryptUsingAES256(this.oldPassword),this.newPassword=this._EncryptDecryptService.encryptUsingAES256(this.newPassword)),this._UtilityService.showSpinner(),this.unsubscribe.add=this._RegistrationServices.ChangePassword(this.oldPassword,this.newPassword).subscribe(function(o){e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),e._UtilityService.showSuccessAlert(o.actionResult.errMsg),e.ResetModel(),1==o.actionResult.success&&e.auth.logout()},function(o){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(o.message)})}},{key:"ResetModel",value:function(){this.profileForm.reset({oldPassword:"",newPassword:"",confirmPassword:""})}}])&&e(i.prototype,s),c&&e(i,c),l}(l.a),Y.\u0275fac=function(o){return new(o||Y)(f.Sb(u.a),f.Sb(b.a),f.Sb(w.f),f.Sb(p.a),f.Sb(f.h),f.Sb(m.a))},Y.\u0275cmp=f.Mb({type:Y,selectors:[["app-change-password"]],features:[f.Cb],decls:45,vars:15,consts:[[1,"row","mb-8"],[1,"col"],[1,"card","mt25"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-2"],[1,"required"],[1,"col-md-4"],[1,"form-group"],[1,"pwd"],["type","password","formControlName","oldPassword","minlength","7","maxlength","20","autocomplete","off",1,"form-control",3,"ngModel","type","ngModelChange"],[1,"password-hide"],[1,"fa",3,"ngClass","click"],["class","alert alert-danger",4,"ngIf"],["type","password","formControlName","newPassword","minlength","7","maxlength","20","autocomplete","off",1,"form-control",3,"ngModel","type","ngModelChange"],["type","password","formControlName","confirmPassword","maxlength","20","autocomplete","off",1,"form-control",3,"ngModel","pattern","type","ngModelChange"],[1,"row","justify-content-center"],[1,"col-md-6"],["type","submit",1,"btn","btn-new-primary","mr-2",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(o,e){1&o&&(f.Yb(0,"div",0),f.Yb(1,"div",1),f.Yb(2,"div",2),f.Yb(3,"div",3),f.Yb(4,"form",4),f.ic("ngSubmit",function(){return e.changePwd()}),f.Yb(5,"div",5),f.Yb(6,"div",6),f.Uc(7,"Current Password "),f.Yb(8,"span",7),f.Uc(9,"*"),f.Xb(),f.Xb(),f.Yb(10,"div",8),f.Yb(11,"div",9),f.Yb(12,"div",10),f.Yb(13,"input",11),f.ic("ngModelChange",function(o){return e.oldPassword=o}),f.Xb(),f.Yb(14,"div",12),f.Yb(15,"i",13),f.ic("click",function(){return e.showOldPwd=!e.showOldPwd}),f.Xb(),f.Xb(),f.Xb(),f.Sc(16,v,2,1,"div",14),f.Xb(),f.Xb(),f.Xb(),f.Yb(17,"div",5),f.Yb(18,"div",6),f.Uc(19,"New Password "),f.Yb(20,"span",7),f.Uc(21,"*"),f.Xb(),f.Xb(),f.Yb(22,"div",8),f.Yb(23,"div",9),f.Yb(24,"div",10),f.Yb(25,"input",15),f.ic("ngModelChange",function(o){return e.newPassword=o}),f.Xb(),f.Yb(26,"div",12),f.Yb(27,"i",13),f.ic("click",function(){return e.showNewPwd=!e.showNewPwd}),f.Xb(),f.Xb(),f.Xb(),f.Sc(28,y,3,2,"div",14),f.Xb(),f.Xb(),f.Xb(),f.Yb(29,"div",5),f.Yb(30,"div",6),f.Uc(31,"Confirm Password "),f.Yb(32,"span",7),f.Uc(33,"*"),f.Xb(),f.Xb(),f.Yb(34,"div",8),f.Yb(35,"div",9),f.Yb(36,"div",10),f.Yb(37,"input",16),f.ic("ngModelChange",function(o){return e.confirmPassword=o}),f.Xb(),f.Yb(38,"div",12),f.Yb(39,"i",13),f.ic("click",function(){return e.showConfirmPwd=!e.showConfirmPwd}),f.Xb(),f.Xb(),f.Xb(),f.Sc(40,C,3,2,"div",14),f.Xb(),f.Xb(),f.Xb(),f.Yb(41,"div",17),f.Yb(42,"div",18),f.Yb(43,"button",19),f.Uc(44,"Submit"),f.Xb(),f.Xb(),f.Xb(),f.Xb(),f.Xb(),f.Xb(),f.Xb(),f.Xb()),2&o&&(f.Fb(4),f.tc("formGroup",e.profileForm),f.Fb(9),f.tc("ngModel",e.oldPassword)("type",e.showOldPwd?"text":"password"),f.Fb(2),f.tc("ngClass",e.showOldPwd?"fa fa-eye":"fa fa-eye-slash"),f.Fb(1),f.tc("ngIf",e.profileForm.controls.oldPassword.touched&&e.profileForm.controls.oldPassword.invalid),f.Fb(9),f.tc("ngModel",e.newPassword)("type",e.showNewPwd?"text":"password"),f.Fb(2),f.tc("ngClass",e.showNewPwd?"fa fa-eye":"fa fa-eye-slash"),f.Fb(1),f.tc("ngIf",e.profileForm.controls.newPassword.touched&&e.profileForm.controls.newPassword.invalid),f.Fb(9),f.uc("pattern",e.newPassword),f.tc("ngModel",e.confirmPassword)("type",e.showConfirmPwd?"text":"password"),f.Fb(2),f.tc("ngClass",e.showConfirmPwd?"fa fa-eye":"fa fa-eye-slash"),f.Fb(1),f.tc("ngIf",e.profileForm.controls.confirmPassword.touched&&e.profileForm.controls.confirmPassword.invalid),f.Fb(3),f.tc("disabled",!e.profileForm.valid))},directives:[d.z,d.p,d.h,d.b,d.o,d.f,d.k,d.j,c.n,c.p,d.u],styles:[".pwd[_ngcontent-%COMP%]{position:relative}.password-hide[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;z-index:99}"]}),Y)}],O=((_=function e(){o(this,e)}).\u0275fac=function(o){return new(o||_)},_.\u0275mod=f.Qb({type:_}),_.\u0275inj=f.Pb({imports:[[a.l.forChild(M)],a.l]}),_),U=((F=function e(){o(this,e)}).\u0275fac=function(o){return new(o||F)},F.\u0275mod=f.Qb({type:F}),F.\u0275inj=f.Pb({imports:[[c.c,O,d.i,d.v]]}),F)}}])}();