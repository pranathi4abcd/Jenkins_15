!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,o=a(e);if(t){var n=a(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return r(this,i)}}function r(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{FhBl:function(t,n,r){"use strict";r.r(n),r.d(n,"CommonDashboardModule",function(){return Ft});var a=r("ofXK"),l=r("tyNb"),s=r("Nach"),d=r("fXoL"),b=r("3Wt6"),u=r("Icee"),p=r("q2h3"),h=r("zXHC"),m=r("iVOs"),g=r("H2Dd"),f=r("CwUn"),S=r("A1d6"),I=r("NLkC"),y=r("eO1q"),v=r("3Pt+"),P=r("rEr+"),k=r("7zfz"),M=r("AAHA"),R=r("7kUa"),B=["calendar"];function C(e,t){if(1&e){var i=d.Zb();d.Yb(0,"div",2),d.Yb(1,"div",19),d.Yb(2,"label",20),d.Uc(3,"Center "),d.Yb(4,"span",6),d.Uc(5,"*"),d.Xb(),d.Xb(),d.Xb(),d.Yb(6,"div",21),d.Yb(7,"app-center-dropdown",22),d.ic("onclinicSelect",function(e){return d.Lc(i),d.mc().onclinicSelect(e)}),d.Xb(),d.Xb(),d.Xb()}2&e&&(d.Fb(7),d.tc("isCenterLabel",!1)("mode","get"))}function U(e,t){if(1&e){var i=d.Zb();d.Yb(0,"div",23),d.Yb(1,"span",24),d.Tb(2,"i",25),d.Yb(3,"input",26),d.ic("input",function(e){return d.Lc(i),d.mc(),d.Ic(18).filterGlobal(e.target.value,"contains")}),d.Xb(),d.Xb(),d.Xb()}}function Y(e,t){if(1&e&&(d.Yb(0,"tr"),d.Yb(1,"td"),d.Uc(2," No records found "),d.Xb(),d.Xb()),2&e){var i=t.$implicit;d.Fb(1),d.Gb("colspan",null==i?null:i.length)}}function w(e,t){1&e&&(d.Yb(0,"tr"),d.Yb(1,"th"),d.Uc(2,"Patient Name"),d.Xb(),d.Yb(3,"th"),d.Uc(4,"Yoga Name"),d.Xb(),d.Yb(5,"th"),d.Uc(6,"Repeatation"),d.Xb(),d.Yb(7,"th"),d.Uc(8,"Duration"),d.Xb(),d.Yb(9,"th"),d.Uc(10,"Presc. Date"),d.Xb(),d.Yb(11,"th"),d.Uc(12,"Time Period"),d.Xb(),d.Yb(13,"th"),d.Uc(14,"Remarks"),d.Xb(),d.Xb())}function T(e,t){if(1&e&&(d.Yb(0,"tr"),d.Yb(1,"td"),d.Uc(2),d.Xb(),d.Yb(3,"td"),d.Uc(4),d.Xb(),d.Yb(5,"td"),d.Uc(6),d.Xb(),d.Yb(7,"td"),d.Uc(8),d.Xb(),d.Yb(9,"td"),d.Uc(10),d.nc(11,"date"),d.Xb(),d.Yb(12,"td"),d.Uc(13),d.nc(14,"date"),d.nc(15,"date"),d.Xb(),d.Yb(16,"td"),d.Uc(17),d.Xb(),d.Xb()),2&e){var i=t.$implicit,o=d.mc();d.Fb(2),d.Vc(i.PatientName),d.Fb(2),d.Vc(i.YogaName),d.Fb(2),d.Vc(i.Qty),d.Fb(2),d.Vc(i.Duration),d.Fb(2),d.Vc(d.pc(11,8,i.PrescriptionDate,o.customDateFormat.DEF_DATE)),d.Fb(3),d.Xc("",d.pc(14,11,i.PrescriptionFrom,"HH:mm")," - ",d.pc(15,14,i.PrescriptionUpto,"HH:mm"),""),d.Fb(4),d.Vc(i.Remarks)}}var X,F=function(){return{standalone:!0}},x=function(){return["PatientName","YogaName","Remarks"]},D=((X=function(t){o(r,t);var n=c(r);function r(t,i,o,c,a){var l;return e(this,r),(l=n.call(this)).cdRef=t,l.datepipe=i,l._ClinicServices=o,l._ConstantsService=c,l._UtilityService=a,l.UserTypeCurre=localStorage.getItem("userTypeId"),l.userTypes=s.s,l.customDateFormat=s.h,l.ClinicIdSelected=null,l.rangeDates=[],l.MaxYear=(new Date).getFullYear()+2,l._ConstantsService.ActiveMenuName="Yoga Monitoring List",l}return i(r,[{key:"ngOnInit",value:function(){var e=new Date;e.setMonth(e.getMonth()-1),this.dFrom=e,this.dTo=new Date,this.rangeDates=[this.dFrom,this.dTo],s.s.SuperAdmin!==localStorage.getItem("userTypeId")&&(this.ClinicIdSelected=localStorage.getItem("ClinicId"),this.ShowYogaList())}},{key:"onclinicSelect",value:function(e){this.ClinicIdSelected=e,this.ShowYogaList()}},{key:"dateRangeChange",value:function(){this.rangeDates[0]&&this.rangeDates[1]&&(void 0!==this.calendar&&(this.calendar.overlayVisible=!1),this.ShowYogaList())}},{key:"ShowYogaList",value:function(){var e=this;this.dFrom=this.rangeDates[0],this.dTo=this.rangeDates[1],""!=this.ClinicIdSelected&&null!=this.ClinicIdSelected&&null!=this.ClinicIdSelected?""!=this.dFrom&&null!=this.dFrom&&null!=this.dFrom?""!=this.dTo&&null!=this.dTo&&null!=this.dTo?(this._UtilityService.showSpinner(),this.unsubscribe.add=this._ClinicServices.GetYogaScheduleForPatient(this.ClinicIdSelected,this.datepipe.transform(this.dFrom,"MM-dd-yyyy"),this.datepipe.transform(this.dTo,"MM-dd-yyyy")).subscribe(function(t){if(e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstYogaClinicSchedulePrescription=i=i||[],e.cdRef.detectChanges()}else e.lstYogaClinicSchedulePrescription=[],e.cdRef.detectChanges()},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})):this._UtilityService.showWarningAlert("Please select To date"):this._UtilityService.showWarningAlert("Please select From date"):this._UtilityService.showWarningAlert("Please select center")}}]),r}(f.a)).\u0275fac=function(e){return new(e||X)(d.Sb(d.h),d.Sb(a.f),d.Sb(S.a),d.Sb(s.f),d.Sb(I.a))},X.\u0275cmp=d.Mb({type:X,selectors:[["app-yoga-dashboard"]],viewQuery:function(e,t){var i;1&e&&d.cd(B,1),2&e&&d.Hc(i=d.jc())&&(t.calendar=i.first)},features:[d.Cb],decls:23,vars:16,consts:[[1,"card","mb-4"],[1,"card-body"],[1,"row","mb-2"],["class","row mb-2",4,"ngIf"],[1,"col-auto","mt-2","bold"],["for",""],[1,"required"],[1,"col-md-3"],["selectionMode","range","inputId","icon","name","rangeDates",3,"yearNavigator","monthNavigator","yearRange","ngModel","ngModelOptions","showIcon","dateFormat","readonlyInput","ngModelChange","onSelect"],["calendar",""],["type","button",1,"btn","btn-new-primary",3,"click"],[1,"row","mb-6"],[1,"col-md-12"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","calc(100vh - 250px)",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],[1,"col","col-md-1","pr-0"],["for","",1,"pt-2"],[1,"col","col-md-3"],[3,"isCenterLabel","mode","onclinicSelect"],[1,"p-d-flex"],[1,"p-input-icon-left","p-ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"]],template:function(e,t){1&e&&(d.Yb(0,"div",0),d.Yb(1,"div",1),d.Yb(2,"div",2),d.Sc(3,C,8,2,"div",3),d.Yb(4,"div",4),d.Yb(5,"label",5),d.Uc(6,"From / To"),d.Yb(7,"span",6),d.Uc(8,"*"),d.Xb(),d.Xb(),d.Xb(),d.Yb(9,"div",7),d.Yb(10,"p-calendar",8,9),d.ic("ngModelChange",function(e){return t.rangeDates=e})("onSelect",function(){return t.dateRangeChange()}),d.Xb(),d.Xb(),d.Yb(12,"div",7),d.Yb(13,"button",10),d.ic("click",function(){return t.ShowYogaList()}),d.Uc(14,"Search"),d.Xb(),d.Xb(),d.Xb(),d.Yb(15,"div",11),d.Yb(16,"div",12),d.Yb(17,"p-table",13,14),d.Sc(19,U,4,0,"ng-template",15),d.Sc(20,Y,3,1,"ng-template",16),d.Sc(21,w,15,0,"ng-template",17),d.Sc(22,T,18,17,"ng-template",18),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb()),2&e&&(d.Fb(3),d.tc("ngIf",t.UserTypeCurre===t.userTypes.SuperAdmin),d.Fb(7),d.wc("yearRange","",t.customDateFormat.MinYear,":",t.MaxYear,""),d.tc("yearNavigator",!0)("monthNavigator",!0)("ngModel",t.rangeDates)("ngModelOptions",d.yc(14,F))("showIcon",!0)("dateFormat",t.customDateFormat.CalendarFormat)("readonlyInput",!0),d.Fb(7),d.tc("value",t.lstYogaClinicSchedulePrescription)("rowHover",!0)("globalFilterFields",d.yc(15,x))("scrollable",!0))},directives:[a.p,y.a,v.o,v.r,P.c,k.i,M.a,R.a],pipes:[a.f],styles:[""]}),X),O=r("mrSG"),E=r("G+wY"),N=r("dPl2"),A=r("/RsI"),L=r("5QKP"),G=r("yd5W"),_=r("Rtg/"),W=r("MHjV"),z=r("xjJ3"),V=r("9oqr"),H=r("Ty8P"),j=r("LuMj");function Q(e,t){1&e&&(d.Yb(0,"div",9),d.Uc(1,"Blood Group:"),d.Xb())}function Z(e,t){if(1&e&&(d.Yb(0,"div",10),d.Uc(1),d.Xb()),2&e){var i=d.mc();d.Fb(1),d.Wc(" ",i.objPatient.BllodGroup,"")}}function q(e,t){if(1&e){var i=d.Zb();d.Yb(0,"div",37),d.Yb(1,"span",38),d.Tb(2,"i",39),d.Yb(3,"input",40),d.ic("input",function(e){return d.Lc(i),d.mc(),d.Ic(44).filterGlobal(e.target.value,"contains")}),d.Xb(),d.Xb(),d.Xb()}}function J(e,t){1&e&&(d.Yb(0,"tr"),d.Yb(1,"td"),d.Uc(2," No records found "),d.Xb(),d.Xb()),2&e&&(d.Fb(1),d.Gb("colspan",9))}function $(e,t){1&e&&(d.Yb(0,"colgroup"),d.Tb(1,"col",41),d.Tb(2,"col",42),d.Tb(3,"col",43),d.Tb(4,"col",43),d.Tb(5,"col",44),d.Tb(6,"col",45),d.Tb(7,"col",46),d.Tb(8,"col",47),d.Tb(9,"col",48),d.Xb())}function K(e,t){1&e&&(d.Yb(0,"tr"),d.Yb(1,"th"),d.Uc(2,"S.No"),d.Xb(),d.Yb(3,"th"),d.Uc(4,"Booking No"),d.Xb(),d.Yb(5,"th"),d.Uc(6,"Adm. Date"),d.Xb(),d.Yb(7,"th"),d.Uc(8,"Dis. Date"),d.Xb(),d.Yb(9,"th"),d.Uc(10,"Center"),d.Xb(),d.Yb(11,"th"),d.Uc(12,"Doctor Name"),d.Xb(),d.Yb(13,"th"),d.Uc(14,"Status"),d.Xb(),d.Yb(15,"th"),d.Uc(16,"Token"),d.Xb(),d.Yb(17,"th"),d.Uc(18,"Action"),d.Xb(),d.Xb())}function ee(e,t){if(1&e&&(d.Yb(0,"tr"),d.Yb(1,"td",58),d.Yb(2,"span"),d.Uc(3),d.Xb(),d.Xb(),d.Xb()),2&e){var i=d.mc().$implicit;d.Fb(3),d.Vc(i.GroupNumber)}}function te(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",59),d.ic("click",function(){d.Lc(i);var e=d.mc().$implicit;return d.mc().ShowBookingModel(e.SlotBookingId,e.UserId,e.ClinicId,e.IsGrouped,e.GroupCount,e.BookingType)}),d.Tb(1,"i",60),d.Uc(2,"Book Room"),d.Xb()}}function ie(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",61),d.ic("click",function(){d.Lc(i);var e=d.mc().$implicit;return d.mc().OPDBookingPayment(e.SlotBookingId,e.BookingType)}),d.Tb(1,"i",62),d.Uc(2,"Pay Now"),d.Xb()}}function oe(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",61),d.ic("click",function(){d.Lc(i);var e=d.mc().$implicit;return d.mc().ShowExtraItemPaymentModel(e.SlotBookingId,e.UserId,e.ClinicId)}),d.Tb(1,"i",62),d.Uc(2,"Pay Extras"),d.Xb()}}function ne(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",63),d.ic("click",function(){d.Lc(i);var e=d.mc().$implicit;return d.mc().DownloadVoucher(e.SlotBookingId)}),d.Tb(1,"i",64),d.Uc(2,"Voucher"),d.Xb()}}function ce(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",65),d.ic("click",function(){d.Lc(i);var e=d.mc().$implicit;return d.mc().GetSlotRemarks(e.SlotBookingId)}),d.Tb(1,"i",66),d.Uc(2,"Remarks"),d.Xb()}}function re(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",67),d.ic("click",function(){d.Lc(i);var e=d.mc().$implicit;return d.mc().UploadFile(e.SlotBookingId,e.ClinicId)}),d.Tb(1,"i",68),d.Xb()}}function ae(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",69),d.ic("click",function(){d.Lc(i);var e=d.mc().$implicit;return d.mc().DownloadFile(e.SlotBookingId)}),d.Tb(1,"i",70),d.Xb()}}function le(e,t){if(1&e&&(d.Sc(0,ee,4,1,"tr",27),d.Yb(1,"tr"),d.Yb(2,"td"),d.Uc(3),d.Xb(),d.Yb(4,"td"),d.Uc(5),d.Xb(),d.Yb(6,"td"),d.Uc(7),d.nc(8,"date"),d.nc(9,"date"),d.Xb(),d.Yb(10,"td"),d.Uc(11),d.nc(12,"date"),d.nc(13,"date"),d.Xb(),d.Yb(14,"td"),d.Uc(15),d.Xb(),d.Yb(16,"td"),d.Uc(17),d.Xb(),d.Yb(18,"td"),d.Yb(19,"span"),d.Uc(20),d.Xb(),d.Xb(),d.Yb(21,"td",49),d.Uc(22),d.Xb(),d.Yb(23,"td",50),d.Sc(24,te,3,0,"button",51),d.Sc(25,ie,3,0,"button",52),d.Sc(26,oe,3,0,"button",53),d.Sc(27,ne,3,0,"button",54),d.Sc(28,ce,3,0,"button",55),d.Sc(29,re,2,0,"button",56),d.Sc(30,ae,2,0,"button",57),d.Xb(),d.Xb()),2&e){var i=t.$implicit,o=t.rowIndex,n=d.mc();d.tc("ngIf",n.rowGroupMetadata[i.GroupNumber].index==o),d.Fb(3),d.Vc(o+1),d.Fb(2),d.Vc(i.BookingNumber),d.Fb(2),d.Vc("0001"==d.pc(8,19,i.PeriodFrom,"yyyy")?"":d.pc(9,22,i.PeriodFrom,n.customDateFormat.DEF_DATE)),d.Fb(4),d.Vc("0001"==d.pc(12,25,i.PeriodUpto,"yyyy")?"":d.pc(13,28,i.PeriodUpto,n.customDateFormat.DEF_DATE)),d.Fb(4),d.Vc(i.ClinicName),d.Fb(2),d.Vc(i.DoctorName),d.Fb(2),d.Hb(i.BookingStatus),d.Fb(1),d.Vc(i.BookingStatus),d.Fb(2),d.Vc(i.TokenNumber),d.Fb(2),d.tc("ngIf","IPD"===i.BookingType&&1==i.IsEnabledPatientBooking&&(0==i.IsGrouped||1==i.IsGrouped&&1==i.IsGrouphead&&1==i.OtherGroupstatus)&&i.BookingStatus===n.bookingStatus[n.bookingStatus.Approved]),d.Fb(1),d.tc("ngIf","OPD"===i.BookingType&&1==i.IsEnabledPatientBooking&&i.BookingStatus===n.bookingStatus[n.bookingStatus.Booked]&&i.IsValidDate),d.Fb(1),d.tc("ngIf","IPD"===i.BookingType&&1==i.IsEnabledPatientBooking&&i.BookingStatus===n.bookingStatus[n.bookingStatus.Admitted]&&i.IsUnBillItem),d.Fb(1),d.tc("ngIf",i.IsBillItem&&"IPD"===i.BookingType&&(i.BookingStatus===n.bookingStatus[n.bookingStatus.Confirmed]||i.BookingStatus===n.bookingStatus[n.bookingStatus.Admitted]||i.BookingStatus===n.bookingStatus[n.bookingStatus.Discharged])),d.Fb(1),d.tc("ngIf",i.IsRemarks),d.Fb(1),d.tc("ngIf","IPD"===i.BookingType&&i.BookingStatus===n.bookingStatus[n.bookingStatus.Pending]),d.Fb(1),d.tc("ngIf","IPD"===i.BookingType)}}function se(e,t){if(1&e){var i=d.Zb();d.Yb(0,"div",37),d.Yb(1,"span",38),d.Tb(2,"i",39),d.Yb(3,"input",40),d.ic("input",function(e){return d.Lc(i),d.mc(),d.Ic(52).filterGlobal(e.target.value,"contains")}),d.Xb(),d.Xb(),d.Xb()}}function de(e,t){1&e&&(d.Yb(0,"tr"),d.Yb(1,"td"),d.Uc(2," No records found "),d.Xb(),d.Xb()),2&e&&(d.Fb(1),d.Gb("colspan",8))}function be(e,t){1&e&&(d.Yb(0,"colgroup"),d.Tb(1,"col",47),d.Tb(2,"col",45),d.Tb(3,"col",71),d.Tb(4,"col",72),d.Tb(5,"col",72),d.Tb(6,"col",44),d.Tb(7,"col",46),d.Tb(8,"col",47),d.Xb())}function ue(e,t){1&e&&(d.Yb(0,"tr"),d.Yb(1,"th"),d.Uc(2,"S.No"),d.Xb(),d.Yb(3,"th"),d.Uc(4,"Booking No"),d.Xb(),d.Yb(5,"th"),d.Uc(6,"Prescription Date"),d.Xb(),d.Yb(7,"th"),d.Uc(8,"Adm. Date"),d.Xb(),d.Yb(9,"th"),d.Uc(10,"Dis. Date"),d.Xb(),d.Yb(11,"th"),d.Uc(12,"Booking Type"),d.Xb(),d.Yb(13,"th"),d.Uc(14,"Center"),d.Xb(),d.Yb(15,"th"),d.Uc(16,"Action"),d.Xb(),d.Xb())}function pe(e,t){if(1&e){var i=d.Zb();d.Yb(0,"i",75),d.ic("click",function(){d.Lc(i);var e=d.mc().$implicit;return d.mc().PrintPrescription(e.UserId,e.SlotBookingId,"IDS")}),d.Xb()}}function he(e,t){if(1&e){var i=d.Zb();d.Yb(0,"tr"),d.Yb(1,"td"),d.Uc(2),d.Xb(),d.Yb(3,"td"),d.Uc(4),d.Xb(),d.Yb(5,"td"),d.Uc(6),d.nc(7,"date"),d.Xb(),d.Yb(8,"td"),d.Uc(9),d.nc(10,"date"),d.nc(11,"date"),d.Xb(),d.Yb(12,"td"),d.Uc(13),d.nc(14,"date"),d.nc(15,"date"),d.Xb(),d.Yb(16,"td"),d.Uc(17),d.Xb(),d.Yb(18,"td"),d.Uc(19),d.Xb(),d.Yb(20,"td"),d.Yb(21,"i",73),d.ic("click",function(){d.Lc(i);var e=t.$implicit;return d.mc().PrintPrescription(e.UserId,e.SlotBookingId,e.BookingType)}),d.Xb(),d.Sc(22,pe,1,0,"i",74),d.Xb(),d.Xb()}if(2&e){var o=t.$implicit,n=t.rowIndex,c=d.mc();d.Fb(2),d.Vc(n+1),d.Fb(2),d.Vc(o.BookingNumber),d.Fb(2),d.Vc(d.pc(7,8,o.CreatedOn,c.customDateFormat.DEF_DATE)),d.Fb(3),d.Vc("0001"==d.pc(10,11,o.PeriodFrom,"yyyy")?"":d.pc(11,14,o.PeriodFrom,c.customDateFormat.DEF_DATE)),d.Fb(4),d.Vc("0001"==d.pc(14,17,o.PeriodUpto,"yyyy")?"":d.pc(15,20,o.PeriodUpto,c.customDateFormat.DEF_DATE)),d.Fb(4),d.Vc(o.BookingType),d.Fb(2),d.Vc(o.ClinicName),d.Fb(3),d.tc("ngIf","IPD"==o.BookingType)}}function me(e,t){if(1&e){var i=d.Zb();d.Yb(0,"div",37),d.Yb(1,"span",38),d.Tb(2,"i",39),d.Yb(3,"input",40),d.ic("input",function(e){return d.Lc(i),d.mc(),d.Ic(52).filterGlobal(e.target.value,"contains")}),d.Xb(),d.Xb(),d.Xb()}}function ge(e,t){1&e&&(d.Yb(0,"tr"),d.Yb(1,"td"),d.Uc(2," No records found "),d.Xb(),d.Xb()),2&e&&(d.Fb(1),d.Gb("colspan",8))}function fe(e,t){1&e&&(d.Yb(0,"colgroup"),d.Tb(1,"col",47),d.Tb(2,"col",45),d.Tb(3,"col",47),d.Xb())}function Se(e,t){1&e&&(d.Yb(0,"tr"),d.Yb(1,"th"),d.Uc(2,"S.No"),d.Xb(),d.Yb(3,"th"),d.Uc(4,"Clinic Name"),d.Xb(),d.Yb(5,"th"),d.Uc(6,"Balance"),d.Xb(),d.Xb())}function Ie(e,t){if(1&e&&(d.Yb(0,"Label"),d.Uc(1),d.Xb()),2&e){var i=d.mc().$implicit;d.Fb(1),d.Wc("(",i.BalanceType,")")}}function ye(e,t){if(1&e&&(d.Yb(0,"tr"),d.Yb(1,"td"),d.Uc(2),d.Xb(),d.Yb(3,"td"),d.Uc(4),d.Xb(),d.Yb(5,"td"),d.Uc(6),d.nc(7,"number"),d.Sc(8,Ie,2,1,"Label",27),d.Xb(),d.Xb()),2&e){var i=t.$implicit,o=t.rowIndex;d.Fb(2),d.Vc(o+1),d.Fb(2),d.Vc(i.ClinicName),d.Fb(2),d.Wc("",d.pc(7,4,i.Balance,"1.1-2")," "),d.Fb(2),d.tc("ngIf",i.BalanceType)}}function ve(e,t){if(1&e){var i=d.Zb();d.Yb(0,"div"),d.Yb(1,"app-room-book-public",76),d.ic("roomBookClick",function(e){return d.Lc(i),d.mc().roomBookClick(e)})("EmitSelectedPackage",function(e){return d.Lc(i),d.mc().EmitSelectedPackage(e)}),d.Xb(),d.Xb()}if(2&e){var o=d.mc();d.Fb(1),d.tc("ClinicId",o.ClinicIdSelected)("SlotId",o.SlotBookingIdSelectedId)("BookingSource",o.BookingSource)("GroupCount",o.GroupCount)("IsGrouped",o.IsGrouped)}}function Pe(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",78),d.ic("click",function(){return d.Lc(i),d.mc(2).awaitBookRoomm()}),d.Uc(1,"Book Room"),d.Xb()}}function ke(e,t){if(1&e&&d.Sc(0,Pe,2,0,"button",77),2&e){var i=d.mc();d.tc("ngIf",i.CanBook)}}function Me(e,t){if(1&e){var i=d.Zb();d.Yb(0,"div"),d.Yb(1,"app-package-group-mapping",79),d.ic("PackgeMappingEmit",function(e){return d.Lc(i),d.mc().EmitSelectedMapping(e)}),d.Xb(),d.Xb()}if(2&e){var o=d.mc();d.Fb(1),d.tc("Packages",o.Package)("SlotBookingId",o.SlotBookingIdSelectedId)}}function Re(e,t){if(1&e){var i=d.Zb();d.Yb(0,"tr"),d.Yb(1,"td"),d.Yb(2,"input",83),d.ic("change",function(){return d.Lc(i),d.mc(2).CalculateTotalItemPrice()})("ngModelChange",function(e){return t.$implicit.IsChecked=e}),d.Xb(),d.Xb(),d.Yb(3,"td"),d.Uc(4),d.Xb(),d.Yb(5,"td"),d.Uc(6),d.Xb(),d.Yb(7,"td"),d.Uc(8),d.Xb(),d.Yb(9,"td"),d.Uc(10),d.Xb(),d.Yb(11,"td"),d.Uc(12),d.Xb(),d.Yb(13,"td"),d.Uc(14),d.Xb(),d.Yb(15,"td"),d.Uc(16),d.Xb(),d.Yb(17,"td"),d.Uc(18),d.Xb(),d.Xb()}if(2&e){var o=t.$implicit;d.Fb(2),d.tc("ngModel",o.IsChecked),d.Fb(2),d.Wc(" ",o.MCODE," "),d.Fb(2),d.Wc(" ",o.Description," "),d.Fb(2),d.Vc(o.MRP),d.Fb(2),d.Wc(" ",o.Qty," "),d.Fb(2),d.Vc(o.GST),d.Fb(2),d.Vc(o.DiscountAmount),d.Fb(2),d.Wc(" ",o.PriceWithGST," "),d.Fb(2),d.Wc(" ",o.UNIT," ")}}function Be(e,t){if(1&e&&(d.Yb(0,"div"),d.Yb(1,"div",4),d.Yb(2,"div",80),d.Yb(3,"table",81),d.Yb(4,"thead"),d.Yb(5,"tr"),d.Tb(6,"th"),d.Yb(7,"th"),d.Uc(8,"MCODE"),d.Xb(),d.Yb(9,"th"),d.Uc(10,"Item Details"),d.Xb(),d.Yb(11,"th"),d.Uc(12,"Rate"),d.Xb(),d.Yb(13,"th"),d.Uc(14,"Quantity"),d.Xb(),d.Yb(15,"th"),d.Uc(16,"GST"),d.Xb(),d.Yb(17,"th"),d.Uc(18,"Discount Amount"),d.Xb(),d.Yb(19,"th"),d.Uc(20,"Net Amount"),d.Xb(),d.Yb(21,"th"),d.Uc(22,"UOM"),d.Xb(),d.Xb(),d.Xb(),d.Yb(23,"tbody"),d.Sc(24,Re,19,9,"tr",82),d.Yb(25,"tr"),d.Tb(26,"td"),d.Tb(27,"td"),d.Yb(28,"td"),d.Yb(29,"b"),d.Uc(30,"Total"),d.Xb(),d.Xb(),d.Yb(31,"td"),d.Uc(32),d.Xb(),d.Tb(33,"td"),d.Tb(34,"td"),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb()),2&e){var i=d.mc();d.Fb(24),d.tc("ngForOf",i.AllItemPriceRes),d.Fb(8),d.Wc(" ",i.ItemCheckedTotal," ")}}function Ce(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",78),d.ic("click",function(){return d.Lc(i),d.mc().PayExtraItem()}),d.Uc(1,"Pay Extra Item"),d.Xb()}}function Ue(e,t){if(1&e){var i=d.Zb();d.Yb(0,"div"),d.Yb(1,"div",4),d.Yb(2,"div",80),d.Yb(3,"app-razorpay",84),d.ic("GetPaymentStatusEmit",function(e){return d.Lc(i),d.mc().GetPaymentStatusEmit(e)}),d.Xb(),d.Xb(),d.Xb(),d.Xb()}if(2&e){var o=d.mc();d.Fb(3),d.tc("OrderRes",o.OrderRes)("ItemPriceRes",o.ItemPriceRes)("PackageMapping",o.PackageMapping)("SlotBookingIdSelected",o.SlotBookingIdSelectedId)("IsSelectedItem",o.IsSelectedItem)("UserRes",o.UserRes)("BillWiseDiscountPer",o.BillWiseDiscountPer)("ReferredBy",o.ReferredBy)("PayRequestFrom",o.PayRequestFrom)}}function Ye(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",86),d.ic("click",function(){d.Lc(i);var e=d.mc(2);return e.ChangeRoom(e.SlotBookingIdSelectedId)}),d.Uc(1,"Change Room"),d.Xb()}}function we(e,t){if(1&e&&d.Sc(0,Ye,2,0,"button",85),2&e){var i=d.mc();d.tc("ngIf",i.IsIPD)}}function Te(e,t){if(1&e){var i=d.Zb();d.Yb(0,"div"),d.Yb(1,"div",4),d.Yb(2,"div",80),d.Yb(3,"app-worldline",87),d.ic("GetPaymentStatusEmit",function(e){return d.Lc(i),d.mc().GetWLPaymentStatusEmit(e)}),d.Xb(),d.Xb(),d.Xb(),d.Xb()}if(2&e){var o=d.mc();d.Fb(3),d.tc("WLOrderRes",o.OrderRes)("ItemPriceRes",o.ItemPriceRes)("PackageMapping",o.PackageMapping)("SlotBookingIdSelected",o.SlotBookingIdSelectedId)("IsSelectedItem",o.IsSelectedItem)("UserRes",o.UserRes)("BillWiseDiscountPer",o.BillWiseDiscountPer)("ReferredBy",o.ReferredBy)("PayRequestFrom",o.PayRequestFrom)}}function Xe(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",86),d.ic("click",function(){d.Lc(i);var e=d.mc(2);return e.ChangeRoom(e.SlotBookingIdSelectedId)}),d.Uc(1,"Change Room"),d.Xb()}}function Fe(e,t){if(1&e&&d.Sc(0,Xe,2,0,"button",85),2&e){var i=d.mc();d.tc("ngIf",i.IsIPD)}}function xe(e,t){if(1&e&&(d.Yb(0,"div"),d.Tb(1,"app-individual-change-status-remarks",88),d.Xb()),2&e){var i=d.mc();d.Fb(1),d.tc("slotBookingId",i.SlotBookingIdSelectedId)}}function De(e,t){if(1&e&&(d.Yb(0,"h3"),d.Uc(1),d.Xb()),2&e){var i=d.mc();d.Fb(1),d.Vc(i.HeaderName)}}function Oe(e,t){if(1&e){var i=d.Zb();d.Yb(0,"div"),d.Yb(1,"app-file-upload",89),d.ic("FileSuccess",function(e){return d.Lc(i),d.mc().FileSuccessUpload(e)}),d.Xb(),d.Xb()}if(2&e){var o=d.mc();d.Fb(1),d.tc("FormType",o.FormType)("SlotBookingId",o.SlotBookingIdSelectedId)("clinicId",o.ClinicIdSelected)("UploadMode","PendingToUnderReview")}}function Ee(e,t){if(1&e&&(d.Yb(0,"h3"),d.Uc(1),d.Xb()),2&e){var i=d.mc();d.Fb(1),d.Vc(i.HeaderName)}}function Ne(e,t){if(1&e&&(d.Yb(0,"div"),d.Tb(1,"app-file-download",90),d.Xb()),2&e){var i=d.mc();d.Fb(1),d.tc("FormType",i.FormType)("SlotBookingId",i.SlotBookingIdSelectedId)}}function Ae(e,t){if(1&e){var i=d.Zb();d.Yb(0,"div"),d.Yb(1,"div",91),d.Yb(2,"div",92),d.Yb(3,"p-radioButton",93),d.ic("ngModelChange",function(e){return d.Lc(i),d.mc().selectPaymentMode=e}),d.Xb(),d.Yb(4,"label",94),d.Uc(5,"RazorPay"),d.Xb(),d.Yb(6,"p-radioButton",95),d.ic("ngModelChange",function(e){return d.Lc(i),d.mc().selectPaymentMode=e}),d.Xb(),d.Yb(7,"label",94),d.Uc(8,"WorldLine"),d.Xb(),d.Xb(),d.Xb(),d.Xb()}if(2&e){var o=d.mc();d.Fb(3),d.tc("ngModel",o.selectPaymentMode),d.Fb(3),d.tc("ngModel",o.selectPaymentMode)}}function Le(e,t){if(1&e){var i=d.Zb();d.Yb(0,"button",78),d.ic("click",function(){return d.Lc(i),d.mc().BookSlot()}),d.Uc(1,"Next"),d.Xb()}}var Ge,_e=function(){return["GroupNumber","BookingNumber","BookingType","ClinicName","DoctorName","BookingStatus"]},We=function(){return["BookingNumber","BookingType","ClinicName"]},ze=function(){return[]},Ve=function(){return{width:"90vw"}},He=function(){return{width:"50vw"}},je=function(){return{width:"70vw"}},Qe=((Ge=function(t){o(r,t);var n=c(r);function r(t,i,o,c,a){var l;return e(this,r),(l=n.call(this)).cdRef=t,l._ConstantServices=i,l._PatientServices=o,l.datepipe=c,l._UtilityService=a,l.CurrDate=new Date,l.IsIPD=!1,l.CanBook=!1,l.userTypeId=null,l.userTypes=s.s,l.customDateFormat=s.h,l.defaultItemMCODE=s.i,l.ProfileImage=null,l.IsSelectedItem=!1,l.ItemCheckedTotal=0,l.ExtraItemList=[],l.slotBookingMaster={},l.bookingMainModel={},l.SlotBookingIdSelectedId=null,l.UserIdSelectedId=null,l.GroupCount=1,l.IsGrouped=!1,l.roomBookIngMaster=[],l.ClinicIdSelected=null,l.UserMaster={},l.RoomBookMaster={},l.LstPatientPrescriptionMain=[],l.objPatient={},l.abcFlag=!1,l.OrderRes={},l.UserRes={},l.AllItemPriceRes=[],l.ItemPriceRes=[],l.PayRequestFrom="Patient",l.DivisionSelected=null,l.BookingSource="Patient",l.BillWiseDiscountPer=0,l.ReferredBy="",l.bookingStatus=s.d,l.lstCustomerBalance=[],l.ShowRoomBookingModel=!1,l.ShowRemarksModel=!1,l.ShowExtraItemModel=!1,l.ShowRazorPayModel=!1,l.ShowWLPayModel=!1,l.Package={},l.ShowPackageModel=!1,l.PackageMapping=[],l.ShowAttachedFormModel=!1,l.ShowDownloadFormModel=!1,l.FormType=0,l.HeaderName=null,l.lstOnlinePayModAccess=[],l.selectPaymentMode="ATONLN",l.ShowPaymentModeModel=!1,l.IsPaymentMode=!1,l.bookingType=null,l.ClinicNameContact=null,l}return i(r,[{key:"ngOnInit",value:function(){this.userTypeId=localStorage.getItem("userTypeId"),this._ConstantServices.ActiveMenuName="Patient Details",this.userTypeId==this.userTypes.Patient&&(this.GetUserMasterById(localStorage.getItem("userId")),this.GetPatientTimeSlotsById(localStorage.getItem("userId")),this.GetPrescriptionListByUserId(localStorage.getItem("userId")),this.LoadCustomerBalanceDomainWise())}},{key:"GetUserMasterById",value:function(e){var t=this;this.unsubscribe.add=this._PatientServices.PaitentRegistrtionDetailsByUserId(e).subscribe(function(e){if(1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);t.objPatient=i=i||[],null!=t.objPatient.ProfileImage&&null!=t.objPatient.ProfileImage&&""!=t.objPatient.ProfileImage&&(t.ProfileImage=t._ConstantServices.BaseURIFileServer+"ProfileImage/"+t.objPatient.ProfileImage),t.cdRef.detectChanges(),t.abcFlag=!0}else t.objPatient={};t.cdRef.detectChanges()})}},{key:"GetPatientTimeSlotsById",value:function(e){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetPatientTimeSlotsById(e).subscribe(function(e){if(t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);t.LstRoomBookMaster=i=i||[],t.updateRowGroupMetaData()}else t.LstRoomBookMaster=[],t.rowGroupMetadata={};t.cdRef.detectChanges()},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"updateRowGroupMetaData",value:function(){if(this.rowGroupMetadata={},this.LstRoomBookMaster)for(var e=0;e<this.LstRoomBookMaster.length;e++){var t=this.LstRoomBookMaster[e].GroupNumber;0==e?this.rowGroupMetadata[t]={index:0,size:1}:t===this.LstRoomBookMaster[e-1].GroupNumber?this.rowGroupMetadata[t].size++:this.rowGroupMetadata[t]={index:e,size:1}}this.cdRef.detectChanges()}},{key:"GetPrescriptionListByUserId",value:function(e){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetPrescriptionListByUserId(e).subscribe(function(e){if(t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success){var i=JSON.parse(e.actionResult.result);t.LstPatientPrescriptionMain=i=i||[]}else t.LstPatientPrescriptionMain=[];t.cdRef.detectChanges()})}},{key:"LoadCustomerBalanceDomainWise",value:function(){var e=this;this.lstCustomerBalance=[],this.cdRef.detectChanges(),this._UtilityService.showSpinner(),this.unsubscribe.add=this._PatientServices.GetCustomerBalanecDomainWise(localStorage.getItem("userId")).subscribe(function(t){if(e._UtilityService.hideSpinner(),e.cdRef.detectChanges(),1==t.actionResult.success){var i=JSON.parse(t.actionResult.result);e.lstCustomerBalance=i=i||[]}else e.lstCustomerBalance=[];e.cdRef.detectChanges()},function(t){e._UtilityService.hideSpinner(),e._UtilityService.showErrorAlert(t.message)})}},{key:"GetPaymentStatusEmit",value:function(e){e.includes("~")&&"Success"===e.split("~")[0]&&(this.ShowRazorPayModel=!1,this.ShowPaymentModeModel=!1,this.GetPatientTimeSlotsById(localStorage.getItem("userId")))}},{key:"GetWLPaymentStatusEmit",value:function(e){e.includes("~")&&"Success"===e.split("~")[0]&&(this.ShowWLPayModel=!1,this.ShowPaymentModeModel=!1,this.GetPatientTimeSlotsById(localStorage.getItem("userId")))}},{key:"roomBookClick",value:function(e){if(null==e)this.roomBookIngMaster=[];else if(0==e.Status||0==e.RequiredRooms||null==e.RequiredRooms)this.roomBookIngMaster=this.roomBookIngMaster.filter(function(t){return t.Index!==e.Index});else if(e.RequiredRooms>0&&(0==e.RequiredExtraBed||null==e.RequiredExtraBed)){this.upsert(this.roomBookIngMaster,e);var t=this.roomBookIngMaster.findIndex(function(t){return t.Index==e.Index});null!=t&&null!=t&&(this.roomBookIngMaster[t].RequiredExtraBed=0)}else e.RequiredRooms>0&&this.upsert(this.roomBookIngMaster,e)}},{key:"upsert",value:function(e,t){var i=e.findIndex(function(e){return e.Index===t.Index});i>-1?e[i]=t:e.push(t)}},{key:"ShowExtraItemPaymentModel",value:function(e,t,i){var o=this;this.ExtraItemList=[],this.ItemCheckedTotal=0,this._UtilityService.showSpinner(),this._PatientServices.GetUnbilledItemBySlot(e).subscribe(function(n){if(o._UtilityService.hideSpinner(),o.cdRef.detectChanges(),1==n.actionResult.success){var c=JSON.parse(n.actionResult.result);o.ExtraItemList=c=c||[];for(var r=[],a=0;a<o.ExtraItemList.length;a++)r.push({BillItemId:o.ExtraItemList[a].BillItemId,MCODE:o.ExtraItemList[a].MCODE,Quantity:o.ExtraItemList[a].Qty,UNIT:o.ExtraItemList[a].UOMS});o._UtilityService.showSpinner(),o._PatientServices.GetItemPriceWithGSTCommon(r,e).subscribe(function(n){if(o._UtilityService.hideSpinner(),o.cdRef.detectChanges(),1==n.actionResult.success){o.AllItemPriceRes=[],o.ItemPriceRes=[];var c=JSON.parse(n.actionResult.result);o.AllItemPriceRes=c=c||[];var r=JSON.parse(n.actionResult.result2);r=r||[],o.ClinicIdSelected=i,o.SlotBookingIdSelectedId=e,o.UserIdSelectedId=t,o.ShowExtraItemModel=!0}else o._UtilityService.showWarningAlert(n.actionResult.errMsg)},function(e){o._UtilityService.hideSpinner(),o._UtilityService.showErrorAlert(e.message)})}else o.ExtraItemList=[],o._UtilityService.showWarningAlert(n.actionResult.errMsg)},function(e){o._UtilityService.hideSpinner(),o._UtilityService.showErrorAlert(e.message)})}},{key:"PayExtraItem",value:function(){null!=this.AllItemPriceRes.filter(function(e){return 1==e.IsChecked})?(this.ItemPriceRes=this.AllItemPriceRes.filter(function(e){return 1==e.IsChecked}),this.PayExtraItemNew(this.ItemPriceRes,this.UserIdSelectedId,this.SlotBookingIdSelectedId)):this._UtilityService.showWarningAlert("Please select Item for Bill")}},{key:"CalculateTotalItemPrice",value:function(){if(null!=this.AllItemPriceRes.filter(function(e){return 1==e.IsChecked})){var e=this.AllItemPriceRes.filter(function(e){return 1==e.IsChecked}),t=0;e.length>0&&e.map(function(e){t+=e.PriceWithGST}),this.ItemCheckedTotal=t,this.cdRef.detectChanges()}}},{key:"ShowBookingModel",value:function(e,t,i){var o,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5?arguments[5]:void 0;this.bookingType=r,this.ClinicIdSelected=i,this.SlotBookingIdSelectedId=e,this.UserIdSelectedId=t,this.IsGrouped=!1,this.GroupCount=1,this.IsGrouped=n,this.GroupCount=c,this.CanBook=!0;var a=this.LstRoomBookMaster.find(function(t){return t.SlotBookingId==e});this.lstOnlinePayModAccess=(null==a?void 0:a.lstOnlinePaymentModes)||[],0!=(null===(o=this.lstOnlinePayModAccess)||void 0===o?void 0:o.length)?this.ShowRoomBookingModel=!0:this._UtilityService.showWarningAlert("Online room booking is not available. Please contact with "+(null==a?void 0:a.ClinicName)+" "+(null==a?void 0:a.ClinicContactNo))}},{key:"awaitBookRoomm",value:function(){var e,t,i=this;this.PackageMapping=[],(null===(e=this.Package)||void 0===e?void 0:e.length)>0&&this.IsGrouped?this.ShowPackageModel=!0:(null===(t=this.Package)||void 0===t?void 0:t.length)>0&&!this.IsGrouped?(this.Package.forEach(function(e){var t={};t.MemberSlotId=i.SlotBookingIdSelectedId,t.MCODE=e.pckg.MCODE,i.PackageMapping.push(t)}),this.BookRoom()):this.BookRoom()}},{key:"EmitSelectedMapping",value:function(e){this._UtilityService.showSuccessAlert("Assigned Package Successfully."),this.PackageMapping=e,this.ShowPackageModel=!1,this.BookRoom()}},{key:"BookRoom",value:function(){var e,t,i;return Object(O.a)(this,void 0,void 0,regeneratorRuntime.mark(function o(){var n,c,r,a,l,d=this;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return this.IsIPD=!1,n=1,c=0,this.LstRoomBookMaster.find(function(e){return e.SlotBookingId==d.SlotBookingIdSelectedId}),o.next=5,this._PatientServices.GetTotalGroupMemberBySlotId(this.SlotBookingIdSelectedId).toPromise();case 5:1==(r=o.sent).actionResult.success&&(n=r.actionResult.stringVal),this.roomBookIngMaster.map(function(e){c=c+(e.RequiredRooms*e.DefaultBed||0)+(e.RequiredExtraBed||0)}),null!=this.roomBookIngMaster&&null!=this.roomBookIngMaster&&0!=(null===(e=this.roomBookIngMaster)||void 0===e?void 0:e.length)?(null===(t=this.roomBookIngMaster)||void 0===t?void 0:t.length)>1?this._UtilityService.showWarningAlert("Please select room only one category for booking"):this.roomBookIngMaster[0].DaysCount<7?this._UtilityService.showWarningAlert("IPD Should be minimum 7 Days"):c<n?this._UtilityService.showWarningAlert("Selected bed ("+c+") count is less than applied occupancy ("+n+")."):0==this.IsPaymentMode&&this.AvailablePaymentMode()?this.ShowPaymentModel():(this.slotBookingMaster.SlotBookingId=this.SlotBookingIdSelectedId,this.slotBookingMaster.SlotBookedBy=this.UserIdSelectedId,this.slotBookingMaster.PeriodFrom=new Date(Date.parse(this.datepipe.transform(this.roomBookIngMaster[0].RoomBookFromDate,"yyyy-MM-dd"))),this.slotBookingMaster.PeriodUpto=new Date(Date.parse(this.datepipe.transform(this.roomBookIngMaster[0].RoomBookToDate,"yyyy-MM-dd"))),this.bookingMainModel.ClinicId=this.ClinicIdSelected,this.bookingMainModel.RoomBooking=this.roomBookIngMaster,(a=[]).push(this.slotBookingMaster),this.bookingMainModel.SlotBooking=a,this.bookingMainModel.PayMode="Online","ATONLN"==this.selectPaymentMode?this.bookingMainModel.PayMode="Online":"ATWLONLN"==this.selectPaymentMode&&(this.bookingMainModel.PayMode="WLOnline"),l=0,null!=this.Package&&(null===(i=this.Package)||void 0===i?void 0:i.length)>0&&this.Package.map(function(e){l=d._ConstantServices.nullToZeroConverter(l)+d._ConstantServices.nullToZeroConverter(e.pckg.SellingPrice*e.pckg.Qty)}),this.bookingMainModel.PackageAmnt=l,this._UtilityService.showSpinner(),this._PatientServices.SaveRoomBookingDetails(this.bookingMainModel).subscribe(function(e){var t,i;if(d._UtilityService.hideSpinner(),d.cdRef.detectChanges(),1==e.actionResult.success){d.IsPaymentMode=!1,d.ShowPaymentModeModel=!1,d.ShowRoomBookingModel=!1;var o=JSON.parse(e.actionResult.result);if(o=o||[],d.ItemPriceRes=JSON.parse(JSON.stringify(o)),(null===(t=d.ItemPriceRes)||void 0===t?void 0:t.length)>0){var c=0;o.forEach(function(e){0==c&&0!=e.IPDRegPriceWithGST&&null!=e.IPDRegPriceWithGST&&null!=e.IPDRegPriceWithGST&&d.ItemPriceRes.push({BillItemId:"",MCODE:s.i.IPDRegistrationCharge,Description:"Registration Charges",Qty:n,UNIT:"PCS",MRP:e.IPDRegPriceWithGST,GST:0,PriceWithGST:e.IPDRegPriceWithGST*n,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:e.IPDRegPriceWithGST*n}),0!=e.RoomOtherCharges&&null!=e.RoomOtherCharges&&null!=e.RoomOtherCharges&&(d.ItemPriceRes.splice(c+=1,0,{BillItemId:"",MCODE:s.i.TreatmentOtherCharge,Description:"Treatment, Therapies & Medicated Food Charges~"+e.MCODE,Qty:e.Qty,UNIT:"PCS",MRP:e.RoomOtherCharges,GST:e.GST,PriceWithGST:e.RoomOtherCharges*e.Qty,DiscountAmount:e.DiscountAmount,IsChecked:!0,DiscountPer:0,NETAMOUNT:e.RoomOtherCharges*e.Qty}),d.ItemPriceRes[c-1].MRP=d.ItemPriceRes[c-1].MRP-d.ItemPriceRes[c-1].RoomOtherCharges,d.ItemPriceRes[c-1].PriceWithGST=d.ItemPriceRes[c-1].MRP*d.ItemPriceRes[c-1].Qty,d.ItemPriceRes[c-1].NETAMOUNT=d.ItemPriceRes[c-1].MRP*d.ItemPriceRes[c-1].Qty);var t=d.roomBookIngMaster.find(function(t){return t.MCODE==e.MCODE});null!=t&&null!=t&&0!=(null==t?void 0:t.RequiredExtraBed)&&null!=(null==t?void 0:t.RequiredExtraBed)&&null!=(null==t?void 0:t.RequiredExtraBed)&&(d.ItemPriceRes.splice(c+=1,0,{BillItemId:"",MCODE:t.ExbedMCODE,Description:"Extra Bed Charges~"+e.MCODE,Qty:t.DaysCount*t.RequiredExtraBed,UNIT:"PCS",MRP:t.ExbedPriceWithGST-t.RoomOtherChargesExb,GST:0,PriceWithGST:(t.ExbedPriceWithGST-t.RoomOtherChargesExb)*t.DaysCount*t.RequiredExtraBed,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:(t.ExbedPriceWithGST-t.RoomOtherChargesExb)*t.DaysCount*t.RequiredExtraBed}),0!=(null==t?void 0:t.RoomOtherChargesExb)&&null!=(null==t?void 0:t.RoomOtherChargesExb)&&null!=(null==t?void 0:t.RoomOtherChargesExb)&&d.ItemPriceRes.splice(c+=1,0,{BillItemId:"",MCODE:s.i.TreatmentOtherCharge,Description:"Treatment, Therapies & Medicated Food Charges~"+e.MCODE+","+t.ExbedMCODE,Qty:t.DaysCount*t.RequiredExtraBed,UNIT:"PCS",MRP:t.RoomOtherChargesExb,GST:0,PriceWithGST:t.RoomOtherChargesExb*t.DaysCount*t.RequiredExtraBed,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:t.RoomOtherChargesExb*t.DaysCount*t.RequiredExtraBed})),c+=1})}null!=d.Package&&(null===(i=d.Package)||void 0===i?void 0:i.length)>0&&d.Package.map(function(e){d.ItemPriceRes.push({BillItemId:"",MCODE:e.pckg.MCODE,Description:e.pckg.PackageName,Qty:e.pckg.Qty,UNIT:"PCS",MRP:e.pckg.SellingPrice,GST:0,PriceWithGST:e.pckg.Qty*e.pckg.SellingPrice,DiscountAmount:0,IsChecked:!0,DiscountPer:0,NETAMOUNT:e.pckg.SellingPrice})});var r=JSON.parse(e.actionResult.result2);d.OrderRes=r=r||[],d.IsIPD=!0;var a=JSON.parse(e.actionResult.result3);d.UserRes=a=a||[],"ATONLN"==d.selectPaymentMode?d.HitforPayment():"ATWLONLN"==d.selectPaymentMode&&d.HitforWLPayment()}else d.ShowRoomBookingModel=!1,d.GetPatientTimeSlotsById(localStorage.getItem("userId")),d._UtilityService.showWarningAlert(e.actionResult.errMsg)})):this._UtilityService.showWarningAlert("Please Select Any Room for Booking");case 8:case"end":return o.stop()}},o,this)}))}},{key:"ShowPaymentModel",value:function(){this.ShowPaymentModeModel=!0}},{key:"BookSlot",value:function(){this.IsPaymentMode=!0,"OPD"==this.bookingType?this.OPDBookingPayment(this.SlotBookingIdSelectedId,this.bookingType):"IPD"==this.bookingType&&this.BookRoom()}},{key:"AvailablePaymentMode",value:function(){var e,t;return 1==(null===(e=this.lstOnlinePayModAccess)||void 0===e?void 0:e.length)?(this.selectPaymentMode=this.lstOnlinePayModAccess[0],!1):(null===(t=this.lstOnlinePayModAccess)||void 0===t?void 0:t.length)>1||void 0}},{key:"OPDBookingPayment",value:function(e,t){var i,o=this,n=this.LstRoomBookMaster.find(function(t){return t.SlotBookingId==e});if(this.lstOnlinePayModAccess=n.lstOnlinePaymentModes||[],0!=(null===(i=this.lstOnlinePayModAccess)||void 0===i?void 0:i.length))if(this.bookingType=t,this.SlotBookingIdSelectedId=e,0==this.IsPaymentMode&&this.AvailablePaymentMode())this.ShowPaymentModel();else{var c="Other";"ATONLN"==this.selectPaymentMode?c="Online":"ATWLONLN"==this.selectPaymentMode&&(c="WLOnline"),this._UtilityService.showSpinner(),this._PatientServices.OPDBookingPayment(this.SlotBookingIdSelectedId,c).subscribe(function(e){if(o._UtilityService.hideSpinner(),o.cdRef.detectChanges(),o.IsPaymentMode=!1,1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);o.ItemPriceRes=t=t||[];var i=JSON.parse(e.actionResult.result2);o.OrderRes=i=i||[];var n=JSON.parse(e.actionResult.result3);o.UserRes=n=n||[],"ATONLN"==o.selectPaymentMode?o.HitforPayment():"ATWLONLN"==o.selectPaymentMode&&o.HitforWLPayment(),o.ClinicNameContact=e.actionResult.stringVal}else o._UtilityService.showWarningAlert(e.actionResult.errMsg)},function(e){o._UtilityService.hideSpinner(),o._UtilityService.showErrorAlert(e.message)})}else this._UtilityService.showWarningAlert("Online room booking is not available. Please contact with "+(null==n?void 0:n.ClinicName)+" "+(null==n?void 0:n.ClinicContactNo))}},{key:"ChangeRoom",value:function(e){this.ShowRazorPayModel=!1,this.ShowWLPayModel=!1,this.ShowBookingModel(e,localStorage.getItem("userId"),this.ClinicIdSelected,this.IsGrouped,this.GroupCount,this.bookingType)}},{key:"PayExtraItemNew",value:function(e,t,i){var o=this;this._UtilityService.showSpinner(),this._PatientServices.AddRazorOrderDetailsWellnessSelectedItem(i,this.ItemCheckedTotal.toString()).subscribe(function(e){if(o._UtilityService.hideSpinner(),o.cdRef.detectChanges(),1==e.actionResult.success){var t=JSON.parse(e.actionResult.result);o.OrderRes=t=t||[];var n=JSON.parse(e.actionResult.result2);o.UserRes=n=n||[],o.IsSelectedItem=!0,o.SlotBookingIdSelectedId=i,o.ShowExtraItemModel=!1,o.HitforPayment()}},function(e){o._UtilityService.hideSpinner(),o._UtilityService.showErrorAlert(e.message)})}},{key:"HitforPayment",value:function(){this.Package={},this.ShowRazorPayModel=!0}},{key:"HitforWLPayment",value:function(){this.Package={},this.ShowWLPayModel=!0}},{key:"GetSlotRemarks",value:function(e){this.SlotBookingIdSelectedId=e,this.ShowRemarksModel=!0}},{key:"PrintPrescription",value:function(e,t,i){"IPD"==i?window.open("#/print/ipd-print-prescription?UserId="+e+"&SlotBookingId="+t+"&tag="+i):window.open("#/print/patient-print-prescription?UserId="+e+"&SlotBookingId="+t+"&tag="+i)}},{key:"DownloadVoucher",value:function(e){this._UtilityService.showSpinner(),this._PatientServices.DownloadBookingVoucher(e),this._UtilityService.hideSpinner()}},{key:"EmitSelectedPackage",value:function(e){this.Package=e.Package,this.cdRef.detectChanges(),console.log("Package Details ",this.Package)}},{key:"UploadFile",value:function(e,t){this.SlotBookingIdSelectedId=e,this.ClinicIdSelected=t,this.FormType=s.k.MedicalReport,this.HeaderName="Upload Medical Report",this.ShowAttachedFormModel=!0}},{key:"FileSuccessUpload",value:function(e){this.SlotBookingIdSelectedId=null,this.ClinicIdSelected=null,this.ShowAttachedFormModel=!1,this.FormType=0,this.HeaderName=null,this._UtilityService.showSuccessAlert(e),this.GetPrescriptionListByUserId(localStorage.getItem("userId"))}},{key:"DownloadFile",value:function(e){this.SlotBookingIdSelectedId=e,this.FormType=s.k.MedicalReport,this.HeaderName="Download Medical Report",this.ShowDownloadFormModel=!0}},{key:"closeDialog",value:function(){this.SlotBookingIdSelectedId=null,this.FormType=0,this.HeaderName=null}}]),r}(f.a)).\u0275fac=function(e){return new(e||Ge)(d.Sb(d.h),d.Sb(s.f),d.Sb(E.a),d.Sb(a.f),d.Sb(I.a))},Ge.\u0275cmp=d.Mb({type:Ge,selectors:[["app-patient-dashboard"]],features:[d.Cb],decls:91,vars:91,consts:[[1,"row","mb-3","mt25"],[1,"col"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-2","col-12","symbol","symbol-60","symbol-xxl-100","align-self-start","align-self-xxl-center","profileImgCon"],[1,"symbol-label","img-fluid","p-pic"],[1,"col","col-md-10","col-12","patient-det"],[1,"row","mb-4"],[1,"col-md-2","col-sm-2","col-6","bold"],[1,"col-md-4","col-sm-4","col-6"],["class","col-md-2 col-sm-2 col-6 bold",4,"ngIf"],["class","col-md-4 col-sm-4 col-6",4,"ngIf"],["header","Booking Details"],["dataKey","GroupNumber","scrollHeight","250px","responsiveLayout","scroll",1,"ColumnFilterTable",3,"value","rowHover","globalFilterFields","scrollable"],["dt1",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["header","Prescription List"],["styleClass","p-datatable-striped","scrollHeight","calc(100vh - 360px)","responsiveLayout","scroll",3,"value","rowHover","globalFilterFields","scrollable"],["dt2",""],["header","Clinic Wise Balance"],["dt5",""],["header","Room Booking",3,"modal","visible","visibleChange"],[4,"ngIf"],["pTemplate","footer"],["header","Assign Package",3,"modal","visible","visibleChange"],["header","Pay for Extra Item",3,"modal","visible","visibleChange"],["header","Initiate Payment RazorPay",3,"modal","visible","visibleChange"],["header","Initiate Payment WorldLine",3,"modal","visible","visibleChange"],["header","Remarks",3,"modal","visible","visibleChange"],["id","ShowAttachedFormModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","onHide","visibleChange"],["id","ShowDownloadFormModel",3,"visible","modal","maximizable","closeOnEscape","closable","draggable","resizable","onHide","visibleChange"],["header","Select Payment Mode",3,"modal","visible","visibleChange"],[1,"p-d-flex"],[1,"p-input-icon-left","p-ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],[2,"width","40px"],[2,"width","120px"],[2,"width","80px"],[2,"width","150px"],[2,"width","130px"],[2,"width","90px"],[2,"width","60px"],[2,"width","300px"],[2,"font-size","10px"],[2,"text-align","left"],["type","button","class","btn mr4","style","width:95px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #2DB163 ; color: #fff;",3,"click",4,"ngIf"],["type","button","class","btn mr4","style","width:85px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #24D2B5; color: #fff;",3,"click",4,"ngIf"],["type","button","class","btn mr4","style","width: 85px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #24D2B5; color: #fff;",3,"click",4,"ngIf"],["type","button","class","btn mr4","style","width: 95px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #FF9041; color: #fff;",3,"click",4,"ngIf"],["type","button","class","btn","style","width: 75px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #49bde8; color: #fff;",3,"click",4,"ngIf"],["type","button","title","Upload Medical Report","class","btn ml-2","style","width: 40px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #2DB163; color: #fff;",3,"click",4,"ngIf"],["type","button","title","Download Medical Report","class","btn ml-2","style","width: 40px; padding: 3px 6px;font-size: 12px; border-radius: 20px; background: #2DB163; color: #fff;",3,"click",4,"ngIf"],["colspan","9",2,"background-color","#ebedf3","font-weight","bold"],["type","button",1,"btn","mr4",2,"width","95px","padding","3px 6px","font-size","12px","border-radius","20px","background","#2DB163","color","#fff",3,"click"],[1,"pi","pi-book",2,"font-size","11px","color","#fff","padding-right","3px"],["type","button",1,"btn","mr4",2,"width","85px","padding","3px 6px","font-size","12px","border-radius","20px","background","#24D2B5","color","#fff",3,"click"],[1,"pi","pi-credit-card",2,"font-size","12px","color","#fff","padding-right","3px"],["type","button",1,"btn","mr4",2,"width","95px","padding","3px 6px","font-size","12px","border-radius","20px","background","#FF9041","color","#fff",3,"click"],[1,"pi","pi-book",2,"font-size","12px","color","#fff","padding-right","3px"],["type","button",1,"btn",2,"width","75px","padding","3px 6px","font-size","12px","border-radius","20px","background","#49bde8","color","#fff",3,"click"],[1,"pi","pi-comment",2,"font-size","12px","color","#fff","padding-right","3px"],["type","button","title","Upload Medical Report",1,"btn","ml-2",2,"width","40px","padding","3px 6px","font-size","12px","border-radius","20px","background","#2DB163","color","#fff",3,"click"],[1,"pi","pi-upload",2,"font-size","12px","color","#fff","padding-right","3px"],["type","button","title","Download Medical Report",1,"btn","ml-2",2,"width","40px","padding","3px 6px","font-size","12px","border-radius","20px","background","#2DB163","color","#fff",3,"click"],[1,"pi","pi-download",2,"font-size","12px","color","#fff","padding-right","3px"],[2,"width","115px"],[2,"width","95px"],["title","Print Prescription",1,"fa","fa-print","mr-2",2,"font-size","1.5rem !important",3,"click"],["title","Print Discharge Summary","class","pi pi-print","style","font-size:1.5rem !important",3,"click",4,"ngIf"],["title","Print Discharge Summary",1,"pi","pi-print",2,"font-size","1.5rem !important",3,"click"],[3,"ClinicId","SlotId","BookingSource","GroupCount","IsGrouped","roomBookClick","EmitSelectedPackage"],["type","button","class","btn btn-new-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-new-primary",3,"click"],[3,"Packages","SlotBookingId","PackgeMappingEmit"],[1,"col-md-12"],[1,"table","table-striped","table-bordered",2,"width","100%"],[4,"ngFor","ngForOf"],["type","checkbox","name","chkExtraItem",3,"ngModel","change","ngModelChange"],[3,"OrderRes","ItemPriceRes","PackageMapping","SlotBookingIdSelected","IsSelectedItem","UserRes","BillWiseDiscountPer","ReferredBy","PayRequestFrom","GetPaymentStatusEmit"],["type","button","class","btn btn-new-secondary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-new-secondary",3,"click"],[3,"WLOrderRes","ItemPriceRes","PackageMapping","SlotBookingIdSelected","IsSelectedItem","UserRes","BillWiseDiscountPer","ReferredBy","PayRequestFrom","GetPaymentStatusEmit"],[3,"slotBookingId"],[3,"FormType","SlotBookingId","clinicId","UploadMode","FileSuccess"],[3,"FormType","SlotBookingId"],[1,"flex","flex-wrap","gap-3",2,"text-align","center"],[1,"field-radiobutton"],["name","rdmode","value","ATONLN",3,"ngModel","ngModelChange"],[1,"pl-2","mr-2","radiolabel"],["name","rdmode","value","ATWLONLN",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(d.Yb(0,"div",0),d.Yb(1,"div",1),d.Yb(2,"div",2),d.Yb(3,"div",3),d.Yb(4,"div",4),d.Yb(5,"div",5),d.Tb(6,"div",6),d.Xb(),d.Yb(7,"div",7),d.Yb(8,"div",8),d.Yb(9,"div",9),d.Uc(10,"Name:"),d.Xb(),d.Yb(11,"div",10),d.Uc(12),d.Xb(),d.Yb(13,"div",9),d.Uc(14,"DOB:"),d.Xb(),d.Yb(15,"div",10),d.Uc(16),d.nc(17,"date"),d.Xb(),d.Xb(),d.Yb(18,"div",8),d.Yb(19,"div",9),d.Uc(20,"MR Number:"),d.Xb(),d.Yb(21,"div",10),d.Uc(22),d.Xb(),d.Yb(23,"div",9),d.Uc(24,"Gender:"),d.Xb(),d.Yb(25,"div",10),d.Uc(26),d.Xb(),d.Xb(),d.Yb(27,"div",8),d.Yb(28,"div",9),d.Uc(29,"Contact Number:"),d.Xb(),d.Yb(30,"div",10),d.Uc(31),d.Xb(),d.Sc(32,Q,2,0,"div",11),d.Sc(33,Z,2,1,"div",12),d.Xb(),d.Yb(34,"div",8),d.Yb(35,"div",9),d.Uc(36,"Address:"),d.Xb(),d.Yb(37,"div",10),d.Uc(38),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(39,"div",4),d.Yb(40,"div",1),d.Yb(41,"p-tabView"),d.Yb(42,"p-tabPanel",13),d.Yb(43,"p-table",14,15),d.Sc(45,q,4,0,"ng-template",16),d.Sc(46,J,3,1,"ng-template",17),d.Sc(47,$,10,0,"ng-template",18),d.Sc(48,K,19,0,"ng-template",19),d.Sc(49,le,31,31,"ng-template",20),d.Xb(),d.Xb(),d.Yb(50,"p-tabPanel",21),d.Yb(51,"p-table",22,23),d.Sc(53,se,4,0,"ng-template",16),d.Sc(54,de,3,1,"ng-template",17),d.Sc(55,be,9,0,"ng-template",18),d.Sc(56,ue,17,0,"ng-template",19),d.Sc(57,he,23,23,"ng-template",20),d.Xb(),d.Xb(),d.Yb(58,"p-tabPanel",24),d.Yb(59,"p-table",22,25),d.Sc(61,me,4,0,"ng-template",16),d.Sc(62,ge,3,1,"ng-template",17),d.Sc(63,fe,4,0,"ng-template",18),d.Sc(64,Se,7,0,"ng-template",19),d.Sc(65,ye,9,7,"ng-template",20),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Yb(66,"p-dialog",26),d.ic("visibleChange",function(e){return t.ShowRoomBookingModel=e}),d.Sc(67,ve,2,5,"div",27),d.Sc(68,ke,1,1,"ng-template",28),d.Xb(),d.Yb(69,"p-dialog",29),d.ic("visibleChange",function(e){return t.ShowPackageModel=e}),d.Sc(70,Me,2,2,"div",27),d.Xb(),d.Yb(71,"p-dialog",30),d.ic("visibleChange",function(e){return t.ShowExtraItemModel=e}),d.Sc(72,Be,35,2,"div",27),d.Sc(73,Ce,2,0,"ng-template",28),d.Xb(),d.Yb(74,"p-dialog",31),d.ic("visibleChange",function(e){return t.ShowRazorPayModel=e}),d.Sc(75,Ue,4,9,"div",27),d.Sc(76,we,1,1,"ng-template",28),d.Xb(),d.Yb(77,"p-dialog",32),d.ic("visibleChange",function(e){return t.ShowWLPayModel=e}),d.Sc(78,Te,4,9,"div",27),d.Sc(79,Fe,1,1,"ng-template",28),d.Xb(),d.Yb(80,"p-dialog",33),d.ic("visibleChange",function(e){return t.ShowRemarksModel=e}),d.Sc(81,xe,2,1,"div",27),d.Xb(),d.Yb(82,"p-dialog",34),d.ic("onHide",function(){return t.closeDialog()})("visibleChange",function(e){return t.ShowAttachedFormModel=e}),d.Sc(83,De,2,1,"ng-template",19),d.Sc(84,Oe,2,4,"div",27),d.Xb(),d.Yb(85,"p-dialog",35),d.ic("onHide",function(){return t.closeDialog()})("visibleChange",function(e){return t.ShowDownloadFormModel=e}),d.Sc(86,Ee,2,1,"ng-template",19),d.Sc(87,Ne,2,2,"div",27),d.Xb(),d.Yb(88,"p-dialog",36),d.ic("visibleChange",function(e){return t.ShowPaymentModeModel=e}),d.Sc(89,Ae,9,2,"div",27),d.Sc(90,Le,2,0,"ng-template",28),d.Xb()),2&e&&(d.Fb(6),d.Qc("background: url(",t.ProfileImage,");"),d.Fb(6),d.Xc("",t.objPatient.FirstName," ",t.objPatient.LastName,""),d.Fb(4),d.Wc(" ",d.pc(17,77,t.objPatient.DateOfBirth,t.customDateFormat.DEF_DATE),""),d.Fb(6),d.Vc(t.objPatient.MRNo),d.Fb(4),d.Vc(t.objPatient.Gender),d.Fb(5),d.Vc(t.objPatient.ContactNumber),d.Fb(1),d.tc("ngIf",t.objPatient.BllodGroup),d.Fb(1),d.tc("ngIf",t.objPatient.BllodGroup),d.Fb(5),d.Wc("",t.objPatient.Address," "),d.Fb(5),d.tc("value",t.LstRoomBookMaster)("rowHover",!0)("globalFilterFields",d.yc(80,_e))("scrollable",!0),d.Fb(8),d.tc("value",t.LstPatientPrescriptionMain)("rowHover",!0)("globalFilterFields",d.yc(81,We))("scrollable",!0),d.Fb(8),d.tc("value",t.lstCustomerBalance)("rowHover",!0)("globalFilterFields",d.yc(82,ze))("scrollable",!0),d.Fb(7),d.Pc(d.yc(83,Ve)),d.tc("modal",!0)("visible",t.ShowRoomBookingModel),d.Fb(1),d.tc("ngIf",t.ShowRoomBookingModel),d.Fb(2),d.Pc(d.yc(84,He)),d.tc("modal",!0)("visible",t.ShowPackageModel),d.Fb(1),d.tc("ngIf",t.ShowPackageModel),d.Fb(1),d.Pc(d.yc(85,Ve)),d.tc("modal",!0)("visible",t.ShowExtraItemModel),d.Fb(1),d.tc("ngIf",t.ShowExtraItemModel),d.Fb(2),d.Pc(d.yc(86,Ve)),d.tc("modal",!0)("visible",t.ShowRazorPayModel),d.Fb(1),d.tc("ngIf",t.ShowRazorPayModel),d.Fb(2),d.Pc(d.yc(87,Ve)),d.tc("modal",!0)("visible",t.ShowWLPayModel),d.Fb(1),d.tc("ngIf",t.ShowWLPayModel),d.Fb(2),d.Pc(d.yc(88,Ve)),d.tc("modal",!0)("visible",t.ShowRemarksModel),d.Fb(1),d.tc("ngIf",t.ShowRemarksModel),d.Fb(1),d.Pc(d.yc(89,je)),d.tc("visible",t.ShowAttachedFormModel)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!0)("draggable",!1)("resizable",!0),d.Fb(2),d.tc("ngIf",t.ShowAttachedFormModel),d.Fb(1),d.Pc(d.yc(90,je)),d.tc("visible",t.ShowDownloadFormModel)("modal",!0)("maximizable",!0)("closeOnEscape",!1)("closable",!0)("draggable",!1)("resizable",!0),d.Fb(2),d.tc("ngIf",t.ShowDownloadFormModel),d.Fb(1),d.tc("modal",!0)("visible",t.ShowPaymentModeModel),d.Fb(1),d.tc("ngIf",t.ShowPaymentModeModel))},directives:[a.p,N.b,N.a,P.c,k.i,A.a,R.a,L.a,G.a,a.o,v.a,v.o,v.r,_.a,W.a,z.a,V.a,H.a,j.a],pipes:[a.f,a.g],styles:[".healthCareTeam[_ngcontent-%COMP%]{border:1px solid #dea422;border-radius:10px;background:#fbedcd}.healthCareTeam[_ngcontent-%COMP%]   .profileImgCon[_ngcontent-%COMP%]{border:1px solid #dea422;border-radius:5px;width:70px;height:79px;justify-content:center}.healthcareProfileImg[_ngcontent-%COMP%], .healthCareTeam[_ngcontent-%COMP%]   .profileImgCon[_ngcontent-%COMP%]{display:flex;align-items:center}.healthcareProfileImg[_ngcontent-%COMP%]   .profileImgCon[_ngcontent-%COMP%]{margin-right:15px;background:#fff}.healthcareProfileImg[_ngcontent-%COMP%]   .profileImgCon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:5px}.healthcareProfileImg[_ngcontent-%COMP%]   .profileImgCon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;color:#dea422}"]}),Ge);function Ze(e,t){1&e&&d.Tb(0,"app-admin-dashboard")}function qe(e,t){1&e&&d.Tb(0,"app-doctor-dashboard")}function Je(e,t){1&e&&d.Tb(0,"app-extra-item-consumption")}function $e(e,t){1&e&&d.Tb(0,"app-therapy-dashboard")}function Ke(e,t){1&e&&d.Tb(0,"app-diet-prescription-report")}function et(e,t){1&e&&d.Tb(0,"app-yoga-dashboard")}function tt(e,t){1&e&&d.Tb(0,"app-patient-dashboard")}var it,ot,nt,ct,rt,at,lt,st=[{path:"",component:(it=function(){function t(i,o,n){e(this,t),this.router=i,this._AuthServices=o,this.cdRef=n,this.userTypeId=null,this.userTypes=s.s,this.ActionList=s.a,this.lstIAccess=[],this.lstIAccessStr=[],this.MenuAccess=[]}return i(t,[{key:"ngOnInit",value:function(){this._AuthServices.CheckSession(),this.userTypeId=localStorage.getItem("userTypeId"),this.cdRef.detectChanges()}},{key:"ngAfterViewChecked",value:function(){var e;0==(null===(e=this.MenuAccess)||void 0===e?void 0:e.length)&&this.getPageLevelAccess()}},{key:"getPageLevelAccess",value:function(){var e,t,i,o,n,c;if(this.MenuAccess=JSON.parse(localStorage.getItem("UerRoleAccess"))||[],(null===(e=this.MenuAccess)||void 0===e?void 0:e.length)>0)if(this.userTypeId===this.userTypes.SuperAdmin){var r=null===(t=this.MenuAccess)||void 0===t?void 0:t.find(function(e){return""!==e.MenuItemURL&&null!=e.MenuItemURL});console.log("MenuAccess2",null===(i=this.MenuAccess)||void 0===i?void 0:i.find(function(e){return""!==e.MenuItemURL&&null!=e.MenuItemURL})),(null===(o=this.MenuAccess)||void 0===o?void 0:o.find(function(e){return"/dashboard"===e.MenuItemURL}))?this.router.navigateByUrl("/dashboard"):null!=r&&this.router.navigateByUrl(r.MenuItemURL)}else this.userTypeId===this.userTypes.CallCenter&&(r=null===(n=this.MenuAccess)||void 0===n?void 0:n.find(function(e){return""!==e.MenuItemURL&&null!=e.MenuItemURL}),(null===(c=this.MenuAccess)||void 0===c?void 0:c.find(function(e){return"/patient/health-seekeer-registration"===e.MenuItemURL}))?this.router.navigateByUrl("/patient/health-seekeer-registration"):null!=r&&this.router.navigateByUrl(r.MenuItemURL))}}]),t}(),it.\u0275fac=function(e){return new(e||it)(d.Sb(l.i),d.Sb(b.a),d.Sb(d.h))},it.\u0275cmp=d.Mb({type:it,selectors:[["app-common-dashboard"]],decls:7,vars:7,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(d.Sc(0,Ze,1,0,"app-admin-dashboard",0),d.Sc(1,qe,1,0,"app-doctor-dashboard",0),d.Sc(2,Je,1,0,"app-extra-item-consumption",0),d.Sc(3,$e,1,0,"app-therapy-dashboard",0),d.Sc(4,Ke,1,0,"app-diet-prescription-report",0),d.Sc(5,et,1,0,"app-yoga-dashboard",0),d.Sc(6,tt,1,0,"app-patient-dashboard",0)),2&e&&(d.tc("ngIf",t.userTypeId===t.userTypes.Admin),d.Fb(1),d.tc("ngIf",t.userTypeId==t.userTypes.Doctor),d.Fb(1),d.tc("ngIf",t.userTypeId==t.userTypes.Billing),d.Fb(1),d.tc("ngIf",t.userTypeId==t.userTypes.Therapist),d.Fb(1),d.tc("ngIf",t.userTypeId==t.userTypes.Cafeteria),d.Fb(1),d.tc("ngIf",t.userTypeId==t.userTypes.Meditation),d.Fb(1),d.tc("ngIf",t.userTypeId==t.userTypes.Patient))},directives:[a.p,u.a,p.a,h.a,m.a,g.a,D,Qe],styles:[""]}),it)}],dt=((ot=function t(){e(this,t)}).\u0275fac=function(e){return new(e||ot)},ot.\u0275mod=d.Qb({type:ot}),ot.\u0275inj=d.Pb({imports:[[l.l.forChild(st)],l.l]}),ot),bt=r("Qf39"),ut=r("IRX0"),pt=r("QQvb"),ht=[{path:"",component:D}],mt=((nt=function t(){e(this,t)}).\u0275fac=function(e){return new(e||nt)},nt.\u0275mod=d.Qb({type:nt}),nt.\u0275inj=d.Pb({imports:[[l.l.forChild(ht)],l.l]}),nt),gt=r("jIHw"),ft=r("arFO"),St=r("T2Aj"),It=((ct=function t(){e(this,t)}).\u0275fac=function(e){return new(e||ct)},ct.\u0275mod=d.Qb({type:ct}),ct.\u0275inj=d.Pb({imports:[[a.c,mt,v.i,P.f,gt.c,ft.b,R.b,y.b,St.a]]}),ct),yt=[{path:"",component:Qe}],vt=((rt=function t(){e(this,t)}).\u0275fac=function(e){return new(e||rt)},rt.\u0275mod=d.Qb({type:rt}),rt.\u0275inj=d.Pb({imports:[[l.l.forChild(yt)],l.l]}),rt),Pt=r("fCr0"),kt=r("JpZ1"),Mt=r("4Tty"),Rt=r("OUA+"),Bt=r("V/Gj"),Ct=r("Jg0Z"),Ut=((at=function t(){e(this,t)}).\u0275fac=function(e){return new(e||at)},at.\u0275mod=d.Qb({type:at}),at.\u0275inj=d.Pb({imports:[[a.c,vt,v.i,P.f,gt.c,ft.b,R.b,y.b,A.b,N.c,Pt.CommonModuleModule,kt.a,Mt.a,Rt.a,Bt.a,Ct.a,j.b]]}),at),Yt=r("c5et"),wt=r("hQ1B"),Tt=r("Let+"),Xt=r("so6c"),Ft=((lt=function t(){e(this,t)}).\u0275fac=function(e){return new(e||lt)},lt.\u0275mod=d.Qb({type:lt}),lt.\u0275inj=d.Pb({imports:[[a.c,dt,bt.AdminDashboardModule,ut.DoctorDashboardModule,pt.TherapyDashboardModule,It,Ut,Yt.HealthSeekeerRegistrationModule,wt.ExtraItemConsumptionModule,Tt.PatientBillingReportModule,Xt.DietPrescriptionReportModule]]}),lt)}}])}();