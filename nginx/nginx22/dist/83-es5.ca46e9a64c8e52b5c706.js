!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{"pvl+":function(c,r,o){"use strict";o.r(r),o.d(r,"EmailTemplateModule",function(){return E});var a=o("ofXK"),s=o("tyNb"),l=o("Nach"),u=o("+z1p"),b=o("CwUn"),d=o("fXoL"),f=o("dcBc"),p=o("NLkC"),m=o("rEr+"),v=o("7zfz"),g=o("7kUa"),h=o("3Pt+"),y=o("zioG"),S=o("arFO"),X=["myForm"];function Y(t,e){if(1&t){var n=d.Zb();d.Yb(0,"div",11),d.Yb(1,"span",12),d.Tb(2,"i",13),d.Yb(3,"input",14),d.ic("input",function(t){return d.Lc(n),d.mc(),d.Ic(5).filterGlobal(t.target.value,"contains")}),d.Xb(),d.Xb(),d.Xb()}}function M(t,e){1&t&&(d.Yb(0,"tr"),d.Yb(1,"td"),d.Uc(2," No records found "),d.Xb(),d.Xb()),2&t&&(d.Fb(1),d.Gb("colspan",4))}function w(t,e){1&t&&(d.Yb(0,"tr"),d.Yb(1,"th"),d.Uc(2,"Type"),d.Xb(),d.Yb(3,"th"),d.Uc(4,"Subject"),d.Xb(),d.Yb(5,"th"),d.Uc(6,"Status"),d.Xb(),d.Yb(7,"th"),d.Uc(8,"Action"),d.Xb(),d.Xb())}function j(t,e){if(1&t){var n=d.Zb();d.Yb(0,"tr"),d.Yb(1,"td"),d.Uc(2),d.Xb(),d.Yb(3,"td"),d.Uc(4),d.Xb(),d.Yb(5,"td"),d.Uc(6),d.Xb(),d.Yb(7,"td"),d.Yb(8,"a",15),d.ic("click",function(){d.Lc(n);var t=e.$implicit;return d.mc(2).LoadEmailTemplateByType(t.DId)}),d.Tb(9,"img",16),d.Xb(),d.Xb(),d.Xb()}if(2&t){var i=e.$implicit;d.Fb(2),d.Vc(i.DraftingType),d.Fb(2),d.Vc(i.DraftingSubject),d.Fb(2),d.Vc(1==i.Status?"Active":"Inactive")}}var U=function(){return["DraftingType","DraftingSubject"]};function A(t,e){if(1&t&&(d.Yb(0,"div",1),d.Yb(1,"div",2),d.Yb(2,"div",3),d.Yb(3,"div",4),d.Yb(4,"p-table",5,6),d.Sc(6,Y,4,0,"ng-template",7),d.Sc(7,M,3,1,"ng-template",8),d.Sc(8,w,9,0,"ng-template",9),d.Sc(9,j,10,3,"ng-template",10),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb()),2&t){var n=d.mc();d.Fb(4),d.tc("value",n.lstMaster)("rowHover",!0)("globalFilterFields",d.yc(4,U))("scrollable",!0)}}function I(t,e){if(1&t){var n=d.Zb();d.Yb(0,"button",31),d.ic("click",function(){return d.Lc(n),d.mc(2).Save()}),d.Uc(1,"Submit"),d.Xb()}if(2&t){d.mc();var i=d.Ic(5);d.tc("disabled",!i.form.valid)}}var T=function(){return{width:"100%"}};function C(t,e){if(1&t){var n=d.Zb();d.Yb(0,"div",1),d.Yb(1,"div",17),d.Yb(2,"div",3),d.Yb(3,"div",4),d.Yb(4,"form",null,18),d.Yb(6,"div",19),d.Yb(7,"div",20),d.Yb(8,"div",21),d.Yb(9,"label"),d.Uc(10,"Type"),d.Xb(),d.Yb(11,"span",22),d.Uc(12,"*"),d.Xb(),d.Yb(13,"input",23),d.ic("ngModelChange",function(t){return d.Lc(n),d.mc().objMaster.DraftingType=t}),d.Xb(),d.Xb(),d.Xb(),d.Yb(14,"div",24),d.Yb(15,"div",21),d.Yb(16,"label"),d.Uc(17,"Subject"),d.Xb(),d.Yb(18,"span",22),d.Uc(19,"*"),d.Xb(),d.Yb(20,"input",25),d.ic("ngModelChange",function(t){return d.Lc(n),d.mc().objMaster.DraftingSubject=t}),d.Xb(),d.Xb(),d.Xb(),d.Yb(21,"div",2),d.Yb(22,"div",21),d.Yb(23,"label"),d.Uc(24,"Details"),d.Xb(),d.Yb(25,"span",22),d.Uc(26,"*"),d.Xb(),d.Yb(27,"ckeditor",26),d.ic("ngModelChange",function(t){return d.Lc(n),d.mc().objMaster.DraftingDetails=t}),d.Xb(),d.Xb(),d.Xb(),d.Yb(28,"div",20),d.Yb(29,"label"),d.Uc(30,"Status"),d.Xb(),d.Yb(31,"span",22),d.Uc(32,"*"),d.Xb(),d.Yb(33,"p-dropdown",27),d.ic("ngModelChange",function(t){return d.Lc(n),d.mc().objMaster.Status=t}),d.Xb(),d.Xb(),d.Xb(),d.Yb(34,"div",28),d.Sc(35,I,2,1,"button",29),d.Yb(36,"button",30),d.ic("click",function(){return d.Lc(n),d.mc().CloseModal()}),d.Uc(37,"Close"),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb(),d.Xb()}if(2&t){var i=d.mc();d.Fb(13),d.tc("ngModel",i.objMaster.DraftingType),d.Fb(7),d.tc("ngModel",i.objMaster.DraftingSubject),d.Fb(7),d.tc("editor",i.Editor)("config",i.config)("ngModel",i.objMaster.DraftingDetails),d.Fb(6),d.Pc(d.yc(11,T)),d.tc("options",i.stlststatus)("ngModel",i.objMaster.Status)("filter",!0),d.Fb(2),d.tc("ngIf",null==i.lstIAccessStr?null:i.lstIAccessStr.includes(i.ActionList.ReadWrite.toString()))}}var D,R,F,L=[{path:"",component:(D=function(c){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(b,c);var r,o,a,s=i(b);function b(e,n,i,c,r){var o;return t(this,b),(o=s.call(this)).router=e,o._MasterServices=n,o._ConstantServices=i,o.cdRef=c,o._UtilityService=r,o.Editor=u,o.mode=null,o.objMaster={},o.stlststatus=[],o.ActionList=l.a,o.lstIAccess=[],o.lstIAccessStr=[],o.stlststatus=[{name:"Active",code:1},{name:"Inactive",code:0}],o.getPageLevelAccess(),o}return r=b,(o=[{key:"getPageLevelAccess",value:function(){var t,e,n=this,i=this.router.url,c=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==c?void 0:c.find(function(t){return t.MenuItemURL===i}))&&(this.lstIAccess=null===(t=c.find(function(t){return t.MenuItemURL===i}))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(function(t){n.lstIAccessStr.push(t.ActionId.toString())}))}},{key:"ngOnInit",value:function(){this._ConstantServices.ActiveMenuName="Email Template",this.GetAllEmailDrafting(),this.config={toolbar:{items:["bold","italic","|","undo","redo","|","numberedList","bulletedList"],shouldNotGroupWhenFull:!0}}}},{key:"GetAllEmailDrafting",value:function(){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetAllEmailDrafting().subscribe(function(e){if(t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),1==e.actionResult.success){var n=JSON.parse(e.actionResult.result);t.lstMaster=n=n||[],t.cdRef.detectChanges()}else t.lstMaster=[],t.cdRef.detectChanges()})}},{key:"AddNewEmailDrafting",value:function(){this.ResetModel(),this.mode="Add",this.cdRef.detectChanges(),this.myForm.resetForm()}},{key:"LoadEmailTemplateByType",value:function(t){var e=this;this.unsubscribe.add=this._MasterServices.GetEmailTemplateByType(t).subscribe(function(t){if(1==t.actionResult.success){var n=JSON.parse(t.actionResult.result);e.objMaster=n=n||[],e.mode="update",e.cdRef.detectChanges()}})}},{key:"Save",value:function(){var t=this;this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.SaveUpdateEmailDrafting(this.objMaster).subscribe(function(e){t._UtilityService.hideSpinner(),t.cdRef.detectChanges(),t._UtilityService.showSuccessAlert(e.actionResult.errMsg),1==e.actionResult.success&&(t.GetAllEmailDrafting(),t.mode=null)},function(e){t._UtilityService.hideSpinner(),t._UtilityService.showErrorAlert(e.message)})}},{key:"ResetModel",value:function(){this.objMaster={},this.objMaster.Status=1}},{key:"CloseModal",value:function(){this.mode=null}}])&&e(r.prototype,o),a&&e(r,a),b}(b.a),D.\u0275fac=function(t){return new(t||D)(d.Sb(s.i),d.Sb(f.a),d.Sb(l.f),d.Sb(d.h),d.Sb(p.a))},D.\u0275cmp=d.Mb({type:D,selectors:[["app-email-template"]],viewQuery:function(t,e){var n;1&t&&d.cd(X,1),2&t&&d.Hc(n=d.jc())&&(e.myForm=n.first)},features:[d.Cb],decls:2,vars:2,consts:[["class","row mt25",4,"ngIf"],[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],["styleClass","p-datatable-striped","scrollHeight","calc(100vh - 165px)","responsiveLayout","scroll",3,"value","rowHover","globalFilterFields","scrollable"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],[1,"p-input-icon-left","p-ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["matTooltip","View/Edit",3,"click"],["src","./assets/custom-icons/view.svg",1,"custom-ico","mr4",2,"width","24px !important"],[1,"col"],["myForm","ngForm"],[1,"row"],[1,"col-md-4"],[1,"form-group"],[1,"required"],["type","text","required","","name","txtDraftingType",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-8"],["type","text","required","","name","txtDraftingSubject",1,"form-control",3,"ngModel","ngModelChange"],["name","TEDDraftingDetails",3,"editor","config","ngModel","ngModelChange"],["required","true","name","ddlStatus","optionLabel","name","optionValue","code","placeholder","-Select-",3,"options","ngModel","filter","ngModelChange"],[1,"row","justify-content-center"],["type","button","class","btn btn-new-primary mr-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn-new-secondary",3,"click"],["type","button",1,"btn","btn-new-primary","mr-2",3,"disabled","click"]],template:function(t,e){1&t&&(d.Sc(0,A,10,5,"div",0),d.Sc(1,C,38,12,"div",0)),2&t&&(d.tc("ngIf",null==e.mode),d.Fb(1),d.tc("ngIf",null!=e.mode))},directives:[a.p,m.c,v.i,g.a,h.z,h.p,h.q,h.b,h.w,h.o,h.r,y.a,S.a],styles:[""]}),D)}],_=((R=function e(){t(this,e)}).\u0275fac=function(t){return new(t||R)},R.\u0275mod=d.Qb({type:R}),R.\u0275inj=d.Pb({imports:[[s.l.forChild(L)],s.l]}),R),k=o("jIHw"),E=((F=function e(){t(this,e)}).\u0275fac=function(t){return new(t||F)},F.\u0275mod=d.Qb({type:F}),F.\u0275inj=d.Pb({imports:[[a.c,_,h.i,m.f,k.c,S.b,g.b,y.b]]}),F)}}])}();