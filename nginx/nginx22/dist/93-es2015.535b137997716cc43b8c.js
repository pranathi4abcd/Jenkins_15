(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{"7FZk":function(t,e,s){"use strict";s.r(e),s.d(e,"PhysioTreatmentMasterModule",function(){return N});var i=s("ofXK"),n=s("tyNb"),c=s("Nach"),r=s("CwUn"),o=s("fXoL"),a=s("dcBc"),l=s("NLkC"),b=s("rEr+"),d=s("7zfz"),u=s("7kUa"),h=s("jIHw"),p=s("3Pt+"),m=s("arFO");const f=["myForm"],g=["dt"],M=["filtr"];function S(t,e){if(1&t){const t=o.Zb();o.Yb(0,"button",20),o.ic("click",function(){return o.Lc(t),o.mc(3).AddNew()}),o.Xb()}}function y(t,e){if(1&t){const t=o.Zb();o.Yb(0,"button",21),o.ic("click",function(){return o.Lc(t),o.mc(3).exportToItemExcel()}),o.Xb()}}function v(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div",11),o.Sc(1,S,1,0,"button",12),o.Yb(2,"span",13),o.Uc(3),o.Xb(),o.Yb(4,"span",14),o.Sc(5,y,1,0,"button",15),o.Yb(6,"span",16),o.Tb(7,"i",17),o.Yb(8,"input",18,19),o.ic("input",function(e){return o.Lc(t),o.mc(),o.Ic(5).filterGlobal(e.target.value,"contains")}),o.Xb(),o.Xb(),o.Xb(),o.Xb()}if(2&t){const t=o.mc(2);o.Fb(1),o.tc("ngIf",null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.ReadWrite.toString())),o.Fb(2),o.Wc(" ",(null==t.lstMaster?null:t.lstMaster.length)>0?"Total Records: "+t.filteredValuesLength:""," "),o.Fb(2),o.tc("ngIf",null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.Download.toString()))}}function X(t,e){if(1&t&&(o.Yb(0,"tr"),o.Yb(1,"td"),o.Uc(2," No records found "),o.Xb(),o.Xb()),2&t){const t=e.$implicit;o.Fb(1),o.Gb("colspan",null==t?null:t.length)}}function Y(t,e){1&t&&(o.Yb(0,"tr"),o.Yb(1,"th"),o.Uc(2,"Treatment Head Name"),o.Xb(),o.Yb(3,"th"),o.Uc(4,"Treatment Name"),o.Xb(),o.Yb(5,"th"),o.Uc(6,"Type"),o.Xb(),o.Yb(7,"th"),o.Uc(8,"Sequence"),o.Xb(),o.Yb(9,"th"),o.Uc(10,"Status"),o.Xb(),o.Yb(11,"th"),o.Uc(12,"Action"),o.Xb(),o.Xb())}function T(t,e){if(1&t){const t=o.Zb();o.Yb(0,"tr"),o.Yb(1,"td"),o.Uc(2),o.Xb(),o.Yb(3,"td"),o.Uc(4),o.Xb(),o.Yb(5,"td"),o.Uc(6),o.Xb(),o.Yb(7,"td"),o.Uc(8),o.Xb(),o.Yb(9,"td"),o.Uc(10),o.Xb(),o.Yb(11,"td"),o.Yb(12,"a",22),o.ic("click",function(){o.Lc(t);const s=e.$implicit;return o.mc(2).GetPhysioTreatmentMasterById(s.PhysioTreatmentMasterId)}),o.Tb(13,"img",23),o.Xb(),o.Xb(),o.Xb()}if(2&t){const t=e.$implicit;o.Fb(2),o.Vc(t.TreatmentHeadName),o.Fb(2),o.Vc(t.TreatmentName),o.Fb(2),o.Vc(t.Type),o.Fb(2),o.Vc(t.Sequence),o.Fb(2),o.Vc(t.Status)}}const I=function(){return["TreatmentHeadName","TreatmentName","Type","Sequence","Status"]};function w(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div",1),o.Yb(1,"div",2),o.Yb(2,"div",3),o.Yb(3,"div",4),o.Yb(4,"p-table",5,6),o.ic("onFilter",function(e){o.Lc(t);const s=o.Ic(5);return o.mc().onFilter(e,s)}),o.Sc(6,v,10,3,"ng-template",7),o.Sc(7,X,3,1,"ng-template",8),o.Sc(8,Y,13,0,"ng-template",9),o.Sc(9,T,14,5,"ng-template",10),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb()}if(2&t){const t=o.mc();o.Fb(4),o.tc("value",t.lstMaster)("rowHover",!0)("globalFilterFields",o.yc(4,I))("scrollable",!0)}}function U(t,e){if(1&t){const t=o.Zb();o.Yb(0,"button",38),o.ic("click",function(){return o.Lc(t),o.mc(2).Save()}),o.Uc(1,"Submit"),o.Xb()}if(2&t){o.mc();const t=o.Ic(5);o.tc("disabled",!t.form.valid)}}const A=function(){return{width:"100%"}};function F(t,e){if(1&t){const t=o.Zb();o.Yb(0,"div",1),o.Yb(1,"div",24),o.Yb(2,"div",3),o.Yb(3,"div",4),o.Yb(4,"form",null,25),o.Yb(6,"div",26),o.Yb(7,"div",27),o.Yb(8,"div",28),o.Yb(9,"label"),o.Uc(10,"Treatment Head"),o.Xb(),o.Yb(11,"p-dropdown",29),o.ic("ngModelChange",function(e){return o.Lc(t),o.mc().objMaster.PhysioTreatmentHeadMasterId=e}),o.Xb(),o.Xb(),o.Xb(),o.Yb(12,"div",27),o.Yb(13,"div",28),o.Yb(14,"label"),o.Uc(15,"Treatment Name"),o.Xb(),o.Yb(16,"span",30),o.Uc(17,"*"),o.Xb(),o.Yb(18,"input",31),o.ic("ngModelChange",function(e){return o.Lc(t),o.mc().objMaster.TreatmentName=e}),o.Xb(),o.Xb(),o.Xb(),o.Yb(19,"div",27),o.Yb(20,"label"),o.Uc(21,"Type"),o.Xb(),o.Yb(22,"p-dropdown",32),o.ic("ngModelChange",function(e){return o.Lc(t),o.mc().objMaster.Type=e}),o.Xb(),o.Xb(),o.Yb(23,"div",27),o.Yb(24,"div",28),o.Yb(25,"label"),o.Uc(26,"Sequence"),o.Xb(),o.Yb(27,"span",30),o.Uc(28,"*"),o.Xb(),o.Yb(29,"input",33),o.ic("ngModelChange",function(e){return o.Lc(t),o.mc().objMaster.Sequence=e}),o.Xb(),o.Xb(),o.Xb(),o.Yb(30,"div",27),o.Yb(31,"label"),o.Uc(32,"Status"),o.Xb(),o.Yb(33,"span",30),o.Uc(34,"*"),o.Xb(),o.Yb(35,"p-dropdown",34),o.ic("ngModelChange",function(e){return o.Lc(t),o.mc().objMaster.Status=e}),o.Xb(),o.Xb(),o.Xb(),o.Yb(36,"div",35),o.Sc(37,U,2,1,"button",36),o.Yb(38,"button",37),o.ic("click",function(){return o.Lc(t),o.mc().CloseModal()}),o.Uc(39,"Close"),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb(),o.Xb()}if(2&t){const t=o.mc();o.Fb(11),o.Pc(o.yc(19,A)),o.tc("options",t.lstHeadMaster)("ngModel",t.objMaster.PhysioTreatmentHeadMasterId)("filter",!0),o.Fb(7),o.tc("ngModel",t.objMaster.TreatmentName),o.Fb(4),o.Pc(o.yc(20,A)),o.tc("showClear",!0)("options",t.stlsttype)("ngModel",t.objMaster.Type)("filter",!0),o.Fb(7),o.tc("ngModel",t.objMaster.Sequence),o.Fb(6),o.Pc(o.yc(21,A)),o.tc("options",t.stlststatus)("ngModel",t.objMaster.Status)("filter",!0),o.Fb(2),o.tc("ngIf",null==t.lstIAccessStr?null:t.lstIAccessStr.includes(t.ActionList.ReadWrite.toString()))}}const C=[{path:"",component:(()=>{class t extends r.a{constructor(t,e,s,i,n){super(),this.router=t,this._MasterServices=e,this._ConstantServices=s,this.cdRef=i,this._UtilityService=n,this.UserTypeCurre=localStorage.getItem("userTypeId"),this.userTypes=c.s,this.filteredValuesLength=0,this.mode=null,this.objMaster={},this.lstHeadMaster=[],this.lstMaster=[],this.stlststatus=[],this.stlsttype=[],this.ActionList=c.a,this.lstIAccess=[],this.lstIAccessStr=[],this._ConstantServices.ActiveMenuName="Physio Treatment Master",this.stlsttype=[{name:"TextBox",code:"TextBox"}],this.stlststatus=[{name:"Active",code:1},{name:"Inactive",code:0}],this.getPageLevelAccess()}getPageLevelAccess(){var t,e,s=this.router.url,i=JSON.parse(localStorage.getItem("UerRoleAccess"))||[];(null==i?void 0:i.find(t=>t.MenuItemURL===s))&&(this.lstIAccess=null===(t=i.find(t=>t.MenuItemURL===s))||void 0===t?void 0:t.ActionIAccess,(null===(e=this.lstIAccess)||void 0===e?void 0:e.length)>0&&this.lstIAccess.map(t=>{this.lstIAccessStr.push(t.ActionId.toString())}))}ngOnInit(){this.GetPhysioTreatmentMaster(),this.GetPhysioTreatmentHeadMaster()}GetPhysioTreatmentHeadMaster(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetPhysioTreatmentHeadMaster(!0).subscribe(t=>{if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.lstHeadMaster=e=e||[],this.cdRef.detectChanges()}else this.lstHeadMaster=[]})}GetPhysioTreatmentMaster(){this._UtilityService.showSpinner(),this.unsubscribe.add=this._MasterServices.GetPhysioTreatmentMaster(!1).subscribe(t=>{var e;if(this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),1==t.actionResult.success){var s=JSON.parse(t.actionResult.result);this.lstMaster=s=s||[],void 0!==this.filtr&&(this.filtr.nativeElement.value="",this.dataTable.reset(),this.filteredValuesLength=null===(e=this.lstMaster)||void 0===e?void 0:e.length),this.cdRef.detectChanges()}else this.lstMaster=null})}GetPhysioTreatmentMasterById(t){this.unsubscribe.add=this._MasterServices.GetPhysioTreatmentMasterById(t).subscribe(t=>{if(1==t.actionResult.success){var e=JSON.parse(t.actionResult.result);this.objMaster=e=e||[],this.mode="update",this.cdRef.detectChanges()}})}Save(){this._UtilityService.showSpinner(),this.objMaster.CreatedBy=localStorage.getItem("userId"),this.objMaster.ModifiedBy=localStorage.getItem("userId"),this.unsubscribe.add=this._MasterServices.AddUpdatePhysioTreatmentMaster(this.objMaster).subscribe(t=>{this._UtilityService.hideSpinner(),this.cdRef.detectChanges(),this._UtilityService.showSuccessAlert(t.actionResult.errMsg),1==t.actionResult.success&&(this.GetPhysioTreatmentMaster(),this.mode=null)},t=>{this._UtilityService.hideSpinner(),this._UtilityService.showErrorAlert(t.message)})}AddNew(){this.ResetModel(),this.mode="Add",this.cdRef.detectChanges(),this.myForm.resetForm()}ResetModel(){this.objMaster={},this.objMaster.Status=1}CloseModal(){this.mode=null}onFilter(t,e){this.filteredValuesLength=t.filteredValue.length}exportToItemExcel(){this._MasterServices.downloadReport({reportname:"physiotherapytreatment",filename:"physiotherapytreatment"})}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(n.i),o.Sb(a.a),o.Sb(c.f),o.Sb(o.h),o.Sb(l.a))},t.\u0275cmp=o.Mb({type:t,selectors:[["app-physio-treatment-master"]],viewQuery:function(t,e){if(1&t&&(o.cd(f,1),o.cd(g,1),o.cd(M,1)),2&t){let t;o.Hc(t=o.jc())&&(e.myForm=t.first),o.Hc(t=o.jc())&&(e.dataTable=t.first),o.Hc(t=o.jc())&&(e.filtr=t.first)}},features:[o.Cb],decls:2,vars:2,consts:[["class","row mt25",4,"ngIf"],[1,"row","mt25"],[1,"col-md-12"],[1,"card"],[1,"card-body"],["responsiveLayout","scroll","styleClass","p-datatable-striped","scrollHeight","calc(100vh - 165px)",3,"value","rowHover","globalFilterFields","scrollable","onFilter"],["dt",""],["pTemplate","caption"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["pButton","","title","New","label","Add New","class","p-button-outlined mr-2","icon","pi pi-plus",3,"click",4,"ngIf"],[1,"p-ml-left","pt-3"],[1,"p-ml-auto"],["pButton","","title","Export Data","label"," ","class","p-button-outlined mr-2","icon","pi pi-download",3,"click",4,"ngIf"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",3,"input"],["filtr",""],["pButton","","title","New","label","Add New","icon","pi pi-plus",1,"p-button-outlined","mr-2",3,"click"],["pButton","","title","Export Data","label"," ","icon","pi pi-download",1,"p-button-outlined","mr-2",3,"click"],["title","View/Edit",3,"click"],["src","./assets/custom-icons/view.svg",1,"custom-ico","mr4",2,"width","24px !important"],[1,"col"],["myForm","ngForm"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["name","ddlHead","optionLabel","TreatmentHeadName","optionValue","PhysioTreatmentHeadMasterId","placeholder","-Select-",3,"options","ngModel","filter","ngModelChange"],[1,"required"],["type","text","required","","name","txtTreatmentName",1,"form-control",3,"ngModel","ngModelChange"],["name","ddlType","optionLabel","name","optionValue","code","placeholder","-Select-",3,"showClear","options","ngModel","filter","ngModelChange"],["type","number","required","","name","txtSequence","min","0",1,"form-control",3,"ngModel","ngModelChange"],["required","true","name","ddlStatus","optionLabel","name","optionValue","code","placeholder","-Select-",3,"options","ngModel","filter","ngModelChange"],[1,"row","justify-content-center"],["type","button","class","btn btn-new-primary mr-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn-new-secondary",3,"click"],["type","button",1,"btn","btn-new-primary","mr-2",3,"disabled","click"]],template:function(t,e){1&t&&(o.Sc(0,w,10,5,"div",0),o.Sc(1,F,40,22,"div",0)),2&t&&(o.tc("ngIf",null==e.mode),o.Fb(1),o.tc("ngIf",null!=e.mode))},directives:[i.p,b.c,d.i,u.a,h.b,p.z,p.p,p.q,m.a,p.o,p.r,p.b,p.w,p.t],styles:[""]}),t})()}];let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Qb({type:t}),t.\u0275inj=o.Pb({imports:[[n.l.forChild(C)],n.l]}),t})(),N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Qb({type:t}),t.\u0275inj=o.Pb({imports:[[i.c,L,p.i,b.f,h.c,m.b,u.b]]}),t})()}}]);